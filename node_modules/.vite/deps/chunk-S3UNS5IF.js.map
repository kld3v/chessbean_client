{
  "version": 3,
  "sources": ["../../maath/dist/isNativeReflectConstruct-5594d075.esm.js", "../../maath/dist/matrix-baa530bf.esm.js", "../../maath/dist/triangle-b62b9067.esm.js", "../../maath/dist/misc-7d870b3c.esm.js", "../../maath/dist/easing-3be59c6d.esm.js", "../../maath/dist/objectSpread2-284232a6.esm.js", "../../maath/dist/vector2-d2bf51f1.esm.js", "../../maath/dist/vector3-0a088b7f.esm.js", "../../maath/dist/buffer-d2a4726c.esm.js", "../../maath/dist/classCallCheck-9098b006.esm.js", "../../maath/dist/index-43782085.esm.js", "../../maath/dist/geometry-982366ff.esm.js", "../../maath/dist/three-eb2ad8c0.esm.js", "../../three-stdlib/misc/WebGL.js", "../../three-stdlib/math/ConvexHull.js", "../../three-stdlib/misc/ConvexObjectBreaker.js", "../../three-stdlib/misc/Gyroscope.js", "../../three-stdlib/renderers/CSS2DRenderer.js", "../../three-stdlib/renderers/CSS3DRenderer.js", "../../three-stdlib/modifiers/CurveModifier.js", "../../three-stdlib/utils/BufferGeometryUtils.js", "../../three-stdlib/modifiers/SimplifyModifier.js", "../../three-stdlib/exporters/GLTFExporter.js", "../../three-stdlib/exporters/DRACOExporter.js", "../../three-stdlib/animation/CCDIKSolver.js", "../../three-stdlib/animation/MMDPhysics.js", "../../three-stdlib/animation/MMDAnimationHelper.js", "../../three-stdlib/objects/Reflector.js", "../../three-stdlib/objects/Refractor.js", "../../three-stdlib/objects/ShadowMesh.js", "../../three-stdlib/objects/Lensflare.js", "../../three-stdlib/objects/MarchingCubes.js", "../../three-stdlib/math/SimplexNoise.js", "../../three-stdlib/geometries/LightningStrike.js", "../../three-stdlib/objects/ReflectorForSSRPass.js", "../../three-stdlib/objects/Sky.js", "../../three-stdlib/objects/Water2.js", "../../three-stdlib/objects/GroundProjectedEnv.js", "../../three-stdlib/utils/RoughnessMipmapper.js", "../../three-stdlib/utils/SkeletonUtils.js", "../../three-stdlib/shaders/UnpackDepthRGBAShader.js", "../../three-stdlib/shaders/BokehShader2.js", "../../three-stdlib/math/MeshSurfaceSampler.js", "../../three-stdlib/math/OBB.js", "../../three-stdlib/math/Capsule.js", "../../three-stdlib/math/ImprovedNoise.js", "../../three-stdlib/math/Octree.js", "../../three-stdlib/controls/experimental/CameraControls.js", "../../three-stdlib/controls/FirstPersonControls.js", "../../three-stdlib/controls/TransformControls.js", "../../three-stdlib/controls/PointerLockControls.js", "../../three-stdlib/controls/DeviceOrientationControls.js", "../../three-stdlib/controls/TrackballControls.js", "../../three-stdlib/controls/OrbitControls.js", "../../three-stdlib/controls/ArcballControls.js", "../../three-stdlib/controls/FlyControls.js", "../../three-stdlib/postprocessing/Pass.js", "../../three-stdlib/postprocessing/ShaderPass.js", "../../three-stdlib/shaders/HalftoneShader.js", "../../three-stdlib/shaders/SMAAShader.js", "../../three-stdlib/shaders/FilmShader.js", "../../three-stdlib/shaders/CopyShader.js", "../../three-stdlib/shaders/SSAOShader.js", "../../three-stdlib/postprocessing/SSAOPass.js", "../../three-stdlib/shaders/BokehShader.js", "../../three-stdlib/shaders/LuminosityShader.js", "../../three-stdlib/shaders/ToneMapShader.js", "../../three-stdlib/shaders/LuminosityHighPassShader.js", "../../three-stdlib/postprocessing/UnrealBloomPass.js", "../../three-stdlib/shaders/SAOShader.js", "../../three-stdlib/shaders/DepthLimitedBlurShader.js", "../../three-stdlib/postprocessing/SAOPass.js", "../../three-stdlib/shaders/AfterimageShader.js", "../../three-stdlib/postprocessing/MaskPass.js", "../../three-stdlib/postprocessing/EffectComposer.js", "../../three-stdlib/shaders/DotScreenShader.js", "../../three-stdlib/shaders/SSRShader.js", "../../three-stdlib/postprocessing/SSRPass.js", "../../three-stdlib/postprocessing/RenderPass.js", "../../three-stdlib/shaders/ConvolutionShader.js", "../../three-stdlib/loaders/GLTFLoader.js", "../../three-stdlib/webxr/OculusHandPointerModel.js", "../../three-stdlib/webxr/VRButton.js", "../../three-stdlib/libs/MotionControllers.js", "../../three-stdlib/webxr/XRHandPrimitiveModel.js", "../../three-stdlib/geometries/RoundedBoxGeometry.js", "../../three-stdlib/geometries/DecalGeometry.js", "../../three-stdlib/geometries/TextGeometry.js", "../../three-stdlib/csm/CSMFrustum.js", "../../three-stdlib/csm/CSM.js", "../../three-stdlib/shaders/ACESFilmicToneMappingShader.js", "../../three-stdlib/shaders/BasicShader.js", "../../three-stdlib/shaders/BleachBypassShader.js", "../../three-stdlib/shaders/BlendShader.js", "../../three-stdlib/shaders/BrightnessContrastShader.js", "../../three-stdlib/shaders/ColorCorrectionShader.js", "../../three-stdlib/shaders/ColorifyShader.js", "../../three-stdlib/shaders/DOFMipMapShader.js", "../../three-stdlib/shaders/FXAAShader.js", "../../three-stdlib/shaders/FocusShader.js", "../../three-stdlib/shaders/FreiChenShader.js", "../../three-stdlib/shaders/FresnelShader.js", "../../three-stdlib/shaders/GammaCorrectionShader.js", "../../three-stdlib/shaders/GodRaysShader.js", "../../three-stdlib/shaders/HorizontalBlurShader.js", "../../three-stdlib/shaders/HorizontalTiltShiftShader.js", "../../three-stdlib/shaders/HueSaturationShader.js", "../../three-stdlib/shaders/KaleidoShader.js", "../../three-stdlib/shaders/MirrorShader.js", "../../three-stdlib/shaders/NormalMapShader.js", "../../three-stdlib/shaders/ParallaxShader.js", "../../three-stdlib/shaders/PixelShader.js", "../../three-stdlib/shaders/RGBShiftShader.js", "../../three-stdlib/shaders/SepiaShader.js", "../../three-stdlib/shaders/SobelOperatorShader.js", "../../three-stdlib/shaders/TechnicolorShader.js", "../../three-stdlib/shaders/ToonShader.js", "../../three-stdlib/shaders/TriangleBlurShader.js", "../../three-stdlib/shaders/VerticalBlurShader.js", "../../three-stdlib/shaders/VerticalTiltShiftShader.js", "../../three-stdlib/shaders/VignetteShader.js", "../../three-stdlib/shaders/VolumeShader.js", "../../three-stdlib/shaders/WaterRefractionShader.js", "../../three-stdlib/interactive/InteractiveGroup.js", "../../three-stdlib/interactive/SelectionBox.js", "../../three-stdlib/effects/AsciiEffect.js", "../../three-stdlib/curves/NURBSUtils.js", "../../three-stdlib/curves/NURBSCurve.js", "../../three-stdlib/loaders/FBXLoader.js", "../../three-stdlib/loaders/FontLoader.js", "../../three-stdlib/_polyfill/Data3DTexture.js", "../../three-stdlib/loaders/XLoader.js", "../../three-stdlib/utils/WorkerPool.js", "../../three-stdlib/_polyfill/CompressedArrayTexture.js", "../../three-stdlib/loaders/KTX2Loader.js", "../../three-stdlib/loaders/RGBELoader.js", "../../three-stdlib/loaders/EXRLoader.js", "../../three-stdlib/loaders/BasisTextureLoader.js", "../../three-stdlib/loaders/LDrawLoader.js", "../../three-stdlib/loaders/SVGLoader.js", "../../three-stdlib/loaders/OBJLoader.js", "../../three-stdlib/loaders/KTXLoader.js", "../../three-stdlib/loaders/DRACOLoader.js", "../../three-stdlib/lines/LineSegmentsGeometry.js", "../../three-stdlib/lines/LineGeometry.js", "../../three-stdlib/lines/LineMaterial.js", "../../three-stdlib/lines/Wireframe.js", "../../three-stdlib/lines/LineSegments2.js", "../../three-stdlib/lines/Line2.js", "../../three-stdlib/helpers/VertexTangentsHelper.js", "../../three-stdlib/helpers/VertexNormalsHelper.js", "../../three-stdlib/deprecated/Geometry.js", "../../three-stdlib/libs/MeshoptDecoder.js"],
  "sourcesContent": ["function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport { _setPrototypeOf as _, _isNativeReflectConstruct as a };\n", "import { Matrix3 } from 'three';\n\n/**\n *\n * @param terms\n *\n * | a b |\n * | c d |\n *\n * @returns {number} determinant\n */\n\nfunction determinant2() {\n  for (var _len = arguments.length, terms = new Array(_len), _key = 0; _key < _len; _key++) {\n    terms[_key] = arguments[_key];\n  }\n\n  var a = terms[0],\n      b = terms[1],\n      c = terms[2],\n      d = terms[3];\n  return a * d - b * c;\n}\n/**\n *\n * @param terms\n *\n * | a b c |\n * | d e f |\n * | g h i |\n *\n * @returns {number} determinant\n */\n\nfunction determinant3() {\n  for (var _len2 = arguments.length, terms = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    terms[_key2] = arguments[_key2];\n  }\n\n  var a = terms[0],\n      b = terms[1],\n      c = terms[2],\n      d = terms[3],\n      e = terms[4],\n      f = terms[5],\n      g = terms[6],\n      h = terms[7],\n      i = terms[8];\n  return a * e * i + b * f * g + c * d * h - c * e * g - b * d * i - a * f * h;\n}\n/**\n *\n * @param terms\n *\n * | a b c g |\n * | h i j k |\n * | l m n o |\n *\n * @returns {number} determinant\n */\n\nfunction determinant4() {\n  for (var _len3 = arguments.length, terms = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    terms[_key3] = arguments[_key3];\n  }\n\n  terms[0];\n      terms[1];\n      terms[2];\n      terms[3];\n      terms[4];\n      terms[5];\n      terms[6];\n      terms[7];\n      terms[8];\n      terms[9];\n      terms[10];\n      terms[11];\n      terms[12];\n      terms[13];\n      terms[14]; // TODO\n}\n/**\n *\n * Get the determinant of matrix m without row r and col c\n *\n * @param {matrix} m Starter matrix\n * @param r row to remove\n * @param c col to remove\n *\n *     | a b c |\n * m = | d e f |\n *     | g h i |\n *\n * getMinor(m, 1, 1) would result in this determinant\n *\n * | a c |\n * | g i |\n *\n * @returns {number} determinant\n */\n\nfunction getMinor(matrix, r, c) {\n  var _matrixTranspose = matrix.clone().transpose();\n\n  var x = [];\n  var l = _matrixTranspose.elements.length;\n  var n = Math.sqrt(l);\n\n  for (var i = 0; i < l; i++) {\n    var element = _matrixTranspose.elements[i];\n    var row = Math.floor(i / n);\n    var col = i % n;\n\n    if (row !== r - 1 && col !== c - 1) {\n      x.push(element);\n    }\n  }\n\n  return determinant3.apply(void 0, x);\n}\n/**\n *\n */\n\nfunction matrixSum3(m1, m2) {\n  var sum = [];\n  var m1Array = m1.toArray();\n  var m2Array = m2.toArray();\n\n  for (var i = 0; i < m1Array.length; i++) {\n    sum[i] = m1Array[i] + m2Array[i];\n  }\n\n  return new Matrix3().fromArray(sum);\n}\n\nvar matrix = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  determinant2: determinant2,\n  determinant3: determinant3,\n  determinant4: determinant4,\n  getMinor: getMinor,\n  matrixSum3: matrixSum3\n});\n\nexport { matrixSum3 as a, determinant2 as b, determinant4 as c, determinant3 as d, getMinor as g, matrix as m };\n", "import { a as _isNativeReflectConstruct, _ as _setPrototypeOf } from './isNativeReflectConstruct-5594d075.esm.js';\nimport { Vector2, Matrix4 } from 'three';\nimport { d as determinant3, g as getMinor } from './matrix-baa530bf.esm.js';\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\n/**\n *\n * @param point\n *\n * @param triangle\n *\n * @returns {boolean} true if the point is in the triangle\n *\n * TODO: Find explainer\n */\nfunction isPointInTriangle(point, triangle) {\n  var _triangle$ = _slicedToArray(triangle[0], 2),\n      ax = _triangle$[0],\n      ay = _triangle$[1];\n\n  var _triangle$2 = _slicedToArray(triangle[1], 2),\n      bx = _triangle$2[0],\n      by = _triangle$2[1];\n\n  var _triangle$3 = _slicedToArray(triangle[2], 2),\n      cx = _triangle$3[0],\n      cy = _triangle$3[1];\n\n  var _point = _slicedToArray(point, 2),\n      px = _point[0],\n      py = _point[1]; // TODO Sub with static calc\n\n\n  var matrix = new Matrix4(); // prettier-ignore\n\n  matrix.set(ax, ay, ax * ax + ay * ay, 1, bx, by, bx * bx + by * by, 1, cx, cy, cx * cx + cy * cy, 1, px, py, px * px + py * py, 1);\n  return matrix.determinant() <= 0;\n}\nfunction triangleDeterminant(triangle) {\n  var _triangle$4 = _slicedToArray(triangle[0], 2),\n      x1 = _triangle$4[0],\n      y1 = _triangle$4[1];\n\n  var _triangle$5 = _slicedToArray(triangle[1], 2),\n      x2 = _triangle$5[0],\n      y2 = _triangle$5[1];\n\n  var _triangle$6 = _slicedToArray(triangle[2], 2),\n      x3 = _triangle$6[0],\n      y3 = _triangle$6[1]; // prettier-ignore\n\n\n  return determinant3(x1, y1, 1, x2, y2, 1, x3, y3, 1);\n}\n/**\n * Uses triangle area determinant to check if 3 points are collinear.\n * If they are, they can't make a triangle, so the determinant will be 0!\n *\n *      0     1     2\n * â”€â”€â”€â”€â”€â– â”€â”€â”€â”€â”€â– â”€â”€â”€â”€â”€â– \n *\n *\n * Fun fact, you can use this same determinant to check the order of the points in the triangle\n *\n * NOTE: Should this use a buffer instead? NOTE: Should this use a buffer instead? [x0, y0, x1, y1, x2, y2]?\n *\n */\n\nfunction arePointsCollinear(points) {\n  return triangleDeterminant(points) === 0;\n} // TODO This is the same principle as the prev function, find a way to make it have sense\n\nfunction isTriangleClockwise(triangle) {\n  return triangleDeterminant(triangle) < 0;\n}\n/**\n \nThe circumcircle is a circle touching all the vertices of a triangle or polygon.\n\n             â”Œâ”€â”€â”€â”             \n             â”‚ B â”‚             \n             â””â”€â”€â”€â”˜             \n           .â”€â”€â”€â—â”€â”€â”€.           \n        ,â”€'   â•± â•²   'â”€.        \n      ,'     â•±   â•²     `.      \n     â•±      â•±     â•²      â•²     \n    ;      â•±       â•²      :    \n    â”‚     â•±         â•²     â”‚    \n    â”‚    â•±           â•²    â”‚    \n    :   â•±             â•²   ;    \n     â•² â•±               â•² â•±     \nâ”Œâ”€â”€â”€â” â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â— â”Œâ”€â”€â”€â”\nâ”‚ A â”‚  `.             ,'  â”‚ C â”‚\nâ””â”€â”€â”€â”˜    'â”€.       ,â”€'    â””â”€â”€â”€â”˜\n            `â”€â”€â”€â”€â”€'                         \n */\n\n/**\n *\n * @param triangle\n *\n * @returns {number} circumcircle\n */\n// https://math.stackexchange.com/a/1460096\n\nfunction getCircumcircle(triangle) {\n  // TS-TODO the next few lines are ignored because the types aren't current to the change in vectors (that can now be iterated)\n  // @ts-ignore\n  var _triangle$7 = _slicedToArray(triangle[0], 2),\n      ax = _triangle$7[0],\n      ay = _triangle$7[1]; // @ts-ignore\n\n\n  var _triangle$8 = _slicedToArray(triangle[1], 2),\n      bx = _triangle$8[0],\n      by = _triangle$8[1]; // @ts-ignore\n\n\n  var _triangle$9 = _slicedToArray(triangle[2], 2),\n      cx = _triangle$9[0],\n      cy = _triangle$9[1];\n\n  if (arePointsCollinear(triangle)) return null; // points are collinear\n\n  var m = new Matrix4(); // prettier-ignore\n\n  m.set(1, 1, 1, 1, ax * ax + ay * ay, ax, ay, 1, bx * bx + by * by, bx, by, 1, cx * cx + cy * cy, cx, cy, 1);\n  var m11 = getMinor(m, 1, 1);\n  var m13 = getMinor(m, 1, 3);\n  var m12 = getMinor(m, 1, 2);\n  var m14 = getMinor(m, 1, 4);\n  var x0 = 0.5 * (m12 / m11);\n  var y0 = 0.5 * (m13 / m11);\n  var r2 = x0 * x0 + y0 * y0 + m14 / m11;\n  return {\n    x: Math.abs(x0) === 0 ? 0 : x0,\n    y: Math.abs(y0) === 0 ? 0 : -y0,\n    r: Math.sqrt(r2)\n  };\n} // https://stackoverflow.com/questions/39984709/how-can-i-check-wether-a-point-is-inside-the-circumcircle-of-3-points\n\nfunction isPointInCircumcircle(point, triangle) {\n  var _ref = Array.isArray(triangle[0]) ? triangle[0] : triangle[0].toArray(),\n      _ref2 = _slicedToArray(_ref, 2),\n      ax = _ref2[0],\n      ay = _ref2[1];\n\n  var _ref3 = Array.isArray(triangle[1]) ? triangle[1] : triangle[1].toArray(),\n      _ref4 = _slicedToArray(_ref3, 2),\n      bx = _ref4[0],\n      by = _ref4[1];\n\n  var _ref5 = Array.isArray(triangle[2]) ? triangle[2] : triangle[2].toArray(),\n      _ref6 = _slicedToArray(_ref5, 2),\n      cx = _ref6[0],\n      cy = _ref6[1];\n\n  var _point2 = _slicedToArray(point, 2),\n      px = _point2[0],\n      py = _point2[1];\n\n  if (arePointsCollinear(triangle)) throw new Error(\"Collinear points don't form a triangle\");\n  /**\n          | ax-px, ay-py, (ax-px)Â² + (ay-py)Â² |\n    det = | bx-px, by-py, (bx-px)Â² + (by-py)Â² |\n          | cx-px, cy-py, (cx-px)Â² + (cy-py)Â² |\n  */\n\n  var x1mpx = ax - px;\n  var aympy = ay - py;\n  var bxmpx = bx - px;\n  var bympy = by - py;\n  var cxmpx = cx - px;\n  var cympy = cy - py; // prettier-ignore\n\n  var d = determinant3(x1mpx, aympy, x1mpx * x1mpx + aympy * aympy, bxmpx, bympy, bxmpx * bxmpx + bympy * bympy, cxmpx, cympy, cxmpx * cxmpx + cympy * cympy); // if d is 0, the point is on C\n\n  if (d === 0) {\n    return true;\n  }\n\n  return !isTriangleClockwise(triangle) ? d > 0 : d < 0;\n} // From https://algorithmtutor.com/Computational-Geometry/Determining-if-two-consecutive-segments-turn-left-or-right/\n\nvar mv1 = new Vector2();\nvar mv2 = new Vector2();\n/**\n \n     â•±      â•²     \n    â•±        â•²    \n   â–•          â–   \n                  \n right      left  \n\n * NOTE: Should this use a buffer instead? [x0, y0, x1, y1]?\n */\n\nfunction doThreePointsMakeARight(points) {\n  var _points$map = points.map(function (p) {\n    if (Array.isArray(p)) {\n      return _construct(Vector2, _toConsumableArray(p));\n    }\n\n    return p;\n  }),\n      _points$map2 = _slicedToArray(_points$map, 3),\n      p1 = _points$map2[0],\n      p2 = _points$map2[1],\n      p3 = _points$map2[2];\n\n  if (arePointsCollinear(points)) return false; // @ts-ignore\n\n  var p2p1 = mv1.subVectors(p2, p1); // @ts-ignore\n\n  var p3p1 = mv2.subVectors(p3, p1);\n  var cross = p3p1.cross(p2p1);\n  return cross > 0;\n}\n\nvar triangle = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  isPointInTriangle: isPointInTriangle,\n  triangleDeterminant: triangleDeterminant,\n  arePointsCollinear: arePointsCollinear,\n  isTriangleClockwise: isTriangleClockwise,\n  getCircumcircle: getCircumcircle,\n  isPointInCircumcircle: isPointInCircumcircle,\n  doThreePointsMakeARight: doThreePointsMakeARight\n});\n\nexport { _slicedToArray as _, _toConsumableArray as a, triangleDeterminant as b, arePointsCollinear as c, doThreePointsMakeARight as d, isTriangleClockwise as e, isPointInCircumcircle as f, getCircumcircle as g, isPointInTriangle as i, triangle as t };\n", "import { d as doThreePointsMakeARight, a as _toConsumableArray, _ as _slicedToArray } from './triangle-b62b9067.esm.js';\nimport { Vector3, Matrix3 } from 'three';\nimport { a as matrixSum3 } from './matrix-baa530bf.esm.js';\n\n/**\n * Clamps a value between a range.\n */\nfunction clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n} // Loops the value t, so that it is never larger than length and never smaller than 0.\n\nfunction repeat(t, length) {\n  return clamp(t - Math.floor(t / length) * length, 0, length);\n} // Calculates the shortest difference between two given angles.\n\n\nfunction deltaAngle(current, target) {\n  var delta = repeat(target - current, Math.PI * 2);\n  if (delta > Math.PI) delta -= Math.PI * 2;\n  return delta;\n}\n/**\n * Converts degrees to radians.\n */\n\nfunction degToRad(degrees) {\n  return degrees / 180 * Math.PI;\n}\n/**\n * Converts radians to degrees.\n */\n\nfunction radToDeg(radians) {\n  return radians * 180 / Math.PI;\n} // adapted from https://gist.github.com/stephanbogner/a5f50548a06bec723dcb0991dcbb0856 by https://twitter.com/st_phan\n\nfunction fibonacciOnSphere(buffer, _ref) {\n  var _ref$radius = _ref.radius,\n      radius = _ref$radius === void 0 ? 1 : _ref$radius;\n  var samples = buffer.length / 3;\n  var offset = 2 / samples;\n  var increment = Math.PI * (3 - 2.2360679775);\n\n  for (var i = 0; i < buffer.length; i += 3) {\n    var y = i * offset - 1 + offset / 2;\n    var distance = Math.sqrt(1 - Math.pow(y, 2));\n    var phi = i % samples * increment;\n    var x = Math.cos(phi) * distance;\n    var z = Math.sin(phi) * distance;\n    buffer[i] = x * radius;\n    buffer[i + 1] = y * radius;\n    buffer[i + 2] = z * radius;\n  }\n} // @ts-ignore\n\nfunction vectorEquals(a, b) {\n  var eps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Number.EPSILON;\n  return Math.abs(a.x - b.x) < eps && Math.abs(a.y - b.y) < eps && Math.abs(a.z - b.z) < eps;\n}\n/**\n * Sorts vectors in lexicographic order, works with both v2 and v3\n *\n *  Use as:\n *  const sorted = arrayOfVectors.sort(lexicographicOrder)\n */\n// https://en.wikipedia.org/wiki/Lexicographic_order\n\nfunction lexicographic(a, b) {\n  if (a.x === b.x) {\n    // do a check to see if points is 3D,\n    // in which case add y eq check and sort by z\n    if (typeof a.z !== \"undefined\") {\n      if (a.y === b.y) {\n        return a.z - b.z;\n      }\n    }\n\n    return a.y - b.y;\n  }\n\n  return a.x - b.x;\n}\n/**\n * Convex Hull\n *\n * Returns an array of 2D Vectors representing the convex hull of a set of 2D Vectors\n */\n\n/**\n * Calculate the convex hull of a set of points\n */\n\nfunction convexHull(_points) {\n  var points = _points.sort(lexicographic); // put p1 and p2 in a list lUpper with p1 as the first point\n\n\n  var lUpper = [points[0], points[1]]; // for i <- 3 to n\n\n  for (var i = 2; i < points.length; i++) {\n    lUpper.push(points[i]); // while lUpper contains more than 2 points and the last three points in lUpper do not make a right turn\n\n    while (lUpper.length > 2 && doThreePointsMakeARight(_toConsumableArray(lUpper.slice(-3)))) {\n      // delete the middle of the last three points from lUpper\n      lUpper.splice(lUpper.length - 2, 1);\n    }\n  } // put pn and pn-1 in a list lLower with pn as the first point\n\n\n  var lLower = [points[points.length - 1], points[points.length - 2]]; // for (i <- n - 2 downto 1)\n\n  for (var _i = points.length - 3; _i >= 0; _i--) {\n    // append pi to lLower\n    lLower.push(points[_i]); // while lLower contains more than 2 points and the last three points in lLower do not make a right turn\n\n    while (lLower.length > 2 && doThreePointsMakeARight(_toConsumableArray(lLower.slice(-3)))) {\n      // delete the middle of the last three points from lLower\n      lLower.splice(lLower.length - 2, 1);\n    }\n  } // remove the first and last point from lLower to avoid duplication of the points where the upper and lower hull meet\n\n\n  lLower.splice(0, 1);\n  lLower.splice(lLower.length - 1, 1); // prettier-ignore\n\n  var c = [].concat(lUpper, lLower);\n  return c;\n}\nfunction remap(x, _ref2, _ref3) {\n  var _ref4 = _slicedToArray(_ref2, 2),\n      low1 = _ref4[0],\n      high1 = _ref4[1];\n\n  var _ref5 = _slicedToArray(_ref3, 2),\n      low2 = _ref5[0],\n      high2 = _ref5[1];\n\n  return low2 + (x - low1) * (high2 - low2) / (high1 - low1);\n}\n/**\n *\n * https://www.desmos.com/calculator/vsnmlaljdu\n *\n * Ease-in-out, goes to -Infinite before 0 and Infinite after 1\n *\n * @param t\n * @returns\n */\n\nfunction fade(t) {\n  return t * t * t * (t * (t * 6 - 15) + 10);\n}\n/**\n *\n * Returns the result of linearly interpolating between input A and input B by input T.\n *\n * @param v0\n * @param v1\n * @param t\n * @returns\n */\n\nfunction lerp(v0, v1, t) {\n  return v0 * (1 - t) + v1 * t;\n}\n/**\n *\n * Returns the linear parameter that produces the interpolant specified by input T within the range of input A to input B.\n *\n * @param v0\n * @param v1\n * @param t\n * @returns\n */\n\nfunction inverseLerp(v0, v1, t) {\n  return (t - v0) / (v1 - v0);\n}\n/**\n *\n */\n\nfunction normalize(x, y, z) {\n  var m = Math.sqrt(x * x + y * y + z * z);\n  return [x / m, y / m, z / m];\n}\n/**\n *\n */\n\nfunction pointOnCubeToPointOnSphere(x, y, z) {\n  var x2 = x * x;\n  var y2 = y * y;\n  var z2 = z * z;\n  var nx = x * Math.sqrt(1 - (y2 + z2) / 2 + y2 * z2 / 3);\n  var ny = y * Math.sqrt(1 - (z2 + x2) / 2 + z2 * x2 / 3);\n  var nz = z * Math.sqrt(1 - (x2 + y2) / 2 + x2 * y2 / 3);\n  return [nx, ny, nz];\n} // https://math.stackexchange.com/questions/180418/calculate-rotation-matrix-to-align-vector-a-to-vector-b-in-3d\n\n/**\n * Give two unit vectors a and b, returns the transformation matrix that rotates a onto b.\n *\n * */\n\nfunction rotateVectorOnVector(a, b) {\n  var v = new Vector3().crossVectors(a, b);\n  var c = a.dot(b);\n  var i = new Matrix3().identity(); //  skew-symmetric cross-product matrix of ð‘£ https://en.wikipedia.org/wiki/Skew-symmetric_matrix\n  // prettier-ignore\n\n  var vx = new Matrix3().set(0, -v.z, v.y, v.z, 0, -v.x, -v.y, v.x, 0);\n  var vxsquared = new Matrix3().multiplyMatrices(vx, vx).multiplyScalar(1 / (1 + c));\n\n  var _final = matrixSum3(matrixSum3(i, vx), vxsquared);\n\n  return _final;\n} // calculate latitude and longitude (in radians) from point on unit sphere\n\nfunction pointToCoordinate(x, y, z) {\n  var lat = Math.asin(y);\n  var lon = Math.atan2(x, -z);\n  return [lat, lon];\n} // calculate point on unit sphere given latitude and logitude in radians\n\nfunction coordinateToPoint(lat, lon) {\n  var y = Math.sin(lat);\n  var r = Math.cos(lat);\n  var x = Math.sin(lon) * r;\n  var z = -Math.cos(lon) * r;\n  return [x, y, z];\n}\n/**\n * Given a plane and a segment, return the intersection point if it exists or null it doesn't.\n */\n\nfunction planeSegmentIntersection(plane, segment) {\n  var _segment = _slicedToArray(segment, 2),\n      a = _segment[0],\n      b = _segment[1];\n\n  var matrix = rotateVectorOnVector(plane.normal, new Vector3(0, 1, 0));\n  var t = inverseLerp(a.clone().applyMatrix3(matrix).y, b.clone().applyMatrix3(matrix).y, 0);\n  return new Vector3().lerpVectors(a, b, t);\n}\n/**\n * Given a plane and a point, return the distance.\n */\n\nfunction pointToPlaneDistance(p, plane) {\n  var d = plane.normal.dot(p); // TODO\n\n  return d;\n}\nfunction getIndexFrom3D(coords, sides) {\n  var _coords = _slicedToArray(coords, 3),\n      ix = _coords[0],\n      iy = _coords[1],\n      iz = _coords[2];\n\n  var _sides = _slicedToArray(sides, 2),\n      rx = _sides[0],\n      ry = _sides[1];\n\n  return iz * rx * ry + iy * rx + ix;\n}\nfunction get3DFromIndex(index, size) {\n  var _size = _slicedToArray(size, 2),\n      rx = _size[0],\n      ry = _size[1];\n\n  var a = rx * ry;\n  var z = index / a;\n  var b = index - a * z;\n  var y = b / rx;\n  var x = b % rx;\n  return [x, y, z];\n}\nfunction getIndexFrom2D(coords, size) {\n  return coords[0] + size[0] * coords[1];\n}\nfunction get2DFromIndex(index, columns) {\n  var x = index % columns;\n  var y = Math.floor(index / columns);\n  return [x, y];\n}\n\nvar misc = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  clamp: clamp,\n  deltaAngle: deltaAngle,\n  degToRad: degToRad,\n  radToDeg: radToDeg,\n  fibonacciOnSphere: fibonacciOnSphere,\n  vectorEquals: vectorEquals,\n  lexicographic: lexicographic,\n  convexHull: convexHull,\n  remap: remap,\n  fade: fade,\n  lerp: lerp,\n  inverseLerp: inverseLerp,\n  normalize: normalize,\n  pointOnCubeToPointOnSphere: pointOnCubeToPointOnSphere,\n  rotateVectorOnVector: rotateVectorOnVector,\n  pointToCoordinate: pointToCoordinate,\n  coordinateToPoint: coordinateToPoint,\n  planeSegmentIntersection: planeSegmentIntersection,\n  pointToPlaneDistance: pointToPlaneDistance,\n  getIndexFrom3D: getIndexFrom3D,\n  get3DFromIndex: get3DFromIndex,\n  getIndexFrom2D: getIndexFrom2D,\n  get2DFromIndex: get2DFromIndex\n});\n\nexport { degToRad as a, fibonacciOnSphere as b, clamp as c, deltaAngle as d, lexicographic as e, fade as f, convexHull as g, remap as h, inverseLerp as i, rotateVectorOnVector as j, pointToCoordinate as k, lerp as l, misc as m, normalize as n, coordinateToPoint as o, pointOnCubeToPointOnSphere as p, planeSegmentIntersection as q, radToDeg as r, pointToPlaneDistance as s, getIndexFrom3D as t, get3DFromIndex as u, vectorEquals as v, getIndexFrom2D as w, get2DFromIndex as x };\n", "import { a as _toConsumableArray } from './triangle-b62b9067.esm.js';\nimport { Color, Vector3, Quaternion, Vector2, Vector4, Euler, Spherical, Matrix4 } from 'three';\nimport { d as deltaAngle } from './misc-7d870b3c.esm.js';\n\n/**\n * Rounded square wave easing\n */\n\nvar rsqw = function rsqw(t) {\n  var delta = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.01;\n  var a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var f = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1 / (2 * Math.PI);\n  return a / Math.atan(1 / delta) * Math.atan(Math.sin(2 * Math.PI * t * f) / delta);\n};\n/**\n * Exponential easing\n */\n\nvar exp = function exp(t) {\n  return 1 / (1 + t + 0.48 * t * t + 0.235 * t * t * t);\n};\n/**\n * Damp, based on Game Programming Gems 4 Chapter 1.10\n *   Return value indicates whether the animation is still running.\n */\n\nfunction damp(\n/** The object */\ncurrent,\n/** The key to animate */\nprop,\n/** To goal value */\ntarget) {\n  var smoothTime = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.25;\n  var delta = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0.01;\n  var maxSpeed = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : Infinity;\n  var easing = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : exp;\n  var eps = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 0.001;\n  var vel = \"velocity_\" + prop;\n  if (current.__damp === undefined) current.__damp = {};\n  if (current.__damp[vel] === undefined) current.__damp[vel] = 0;\n\n  if (Math.abs(current[prop] - target) <= eps) {\n    current[prop] = target;\n    return false;\n  }\n\n  smoothTime = Math.max(0.0001, smoothTime);\n  var omega = 2 / smoothTime;\n  var t = easing(omega * delta);\n  var change = current[prop] - target;\n  var originalTo = target; // Clamp maximum maxSpeed\n\n  var maxChange = maxSpeed * smoothTime;\n  change = Math.min(Math.max(change, -maxChange), maxChange);\n  target = current[prop] - change;\n  var temp = (current.__damp[vel] + omega * change) * delta;\n  current.__damp[vel] = (current.__damp[vel] - omega * temp) * t;\n  var output = target + (change + temp) * t; // Prevent overshooting\n\n  if (originalTo - current[prop] > 0.0 === output > originalTo) {\n    output = originalTo;\n    current.__damp[vel] = (output - originalTo) / delta;\n  }\n\n  current[prop] = output;\n  return true;\n}\n/**\n * DampAngle, based on Game Programming Gems 4 Chapter 1.10\n */\n\nfunction dampAngle(current, prop, target, smoothTime, delta, maxSpeed, easing, eps) {\n  return damp(current, prop, current[prop] + deltaAngle(current[prop], target), smoothTime, delta, maxSpeed, easing, eps);\n}\n/**\n * Vector2D Damp\n */\n\nvar v2d = /*@__PURE__*/new Vector2();\nvar a2, b2;\nfunction damp2(current, target, smoothTime, delta, maxSpeed, easing, eps) {\n  if (typeof target === \"number\") v2d.setScalar(target);else if (Array.isArray(target)) v2d.set(target[0], target[1]);else v2d.copy(target);\n  a2 = damp(current, \"x\", v2d.x, smoothTime, delta, maxSpeed, easing, eps);\n  b2 = damp(current, \"y\", v2d.y, smoothTime, delta, maxSpeed, easing, eps);\n  return a2 || b2;\n}\n/**\n * Vector3D Damp\n */\n\nvar v3d = /*@__PURE__*/new Vector3();\nvar a3, b3, c3;\nfunction damp3(current, target, smoothTime, delta, maxSpeed, easing, eps) {\n  if (typeof target === \"number\") v3d.setScalar(target);else if (Array.isArray(target)) v3d.set(target[0], target[1], target[2]);else v3d.copy(target);\n  a3 = damp(current, \"x\", v3d.x, smoothTime, delta, maxSpeed, easing, eps);\n  b3 = damp(current, \"y\", v3d.y, smoothTime, delta, maxSpeed, easing, eps);\n  c3 = damp(current, \"z\", v3d.z, smoothTime, delta, maxSpeed, easing, eps);\n  return a3 || b3 || c3;\n}\n/**\n * Vector4D Damp\n */\n\nvar v4d = /*@__PURE__*/new Vector4();\nvar a4, b4, c4, d4;\nfunction damp4(current, target, smoothTime, delta, maxSpeed, easing, eps) {\n  if (typeof target === \"number\") v4d.setScalar(target);else if (Array.isArray(target)) v4d.set(target[0], target[1], target[2], target[3]);else v4d.copy(target);\n  a4 = damp(current, \"x\", v4d.x, smoothTime, delta, maxSpeed, easing, eps);\n  b4 = damp(current, \"y\", v4d.y, smoothTime, delta, maxSpeed, easing, eps);\n  c4 = damp(current, \"z\", v4d.z, smoothTime, delta, maxSpeed, easing, eps);\n  d4 = damp(current, \"w\", v4d.w, smoothTime, delta, maxSpeed, easing, eps);\n  return a4 || b4 || c4 || d4;\n}\n/**\n * Euler Damp\n */\n\nvar rot = /*@__PURE__*/new Euler();\nvar aE, bE, cE;\nfunction dampE(current, target, smoothTime, delta, maxSpeed, easing, eps) {\n  if (Array.isArray(target)) rot.set(target[0], target[1], target[2], target[3]);else rot.copy(target);\n  aE = dampAngle(current, \"x\", rot.x, smoothTime, delta, maxSpeed, easing, eps);\n  bE = dampAngle(current, \"y\", rot.y, smoothTime, delta, maxSpeed, easing, eps);\n  cE = dampAngle(current, \"z\", rot.z, smoothTime, delta, maxSpeed, easing, eps);\n  return aE || bE || cE;\n}\n/**\n * Color Damp\n */\n\nvar col = /*@__PURE__*/new Color();\nvar aC, bC, cC;\nfunction dampC(current, target, smoothTime, delta, maxSpeed, easing, eps) {\n  if (target instanceof Color) col.copy(target);else if (Array.isArray(target)) col.setRGB(target[0], target[1], target[2]);else col.set(target);\n  aC = damp(current, \"r\", col.r, smoothTime, delta, maxSpeed, easing, eps);\n  bC = damp(current, \"g\", col.g, smoothTime, delta, maxSpeed, easing, eps);\n  cC = damp(current, \"b\", col.b, smoothTime, delta, maxSpeed, easing, eps);\n  return aC || bC || cC;\n}\n/**\n * Quaternion Damp\n * https://gist.github.com/maxattack/4c7b4de00f5c1b95a33b\n * Copyright 2016 Max Kaufmann (max.kaufmann@gmail.com)\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nvar qt = /*@__PURE__*/new Quaternion();\nvar v4result = /*@__PURE__*/new Vector4();\nvar v4velocity = /*@__PURE__*/new Vector4();\nvar v4error = /*@__PURE__*/new Vector4();\nvar aQ, bQ, cQ, dQ;\nfunction dampQ(current, target, smoothTime, delta, maxSpeed, easing, eps) {\n  var cur = current;\n  if (Array.isArray(target)) qt.set(target[0], target[1], target[2], target[3]);else qt.copy(target);\n  var multi = current.dot(qt) > 0 ? 1 : -1;\n  qt.x *= multi;\n  qt.y *= multi;\n  qt.z *= multi;\n  qt.w *= multi;\n  aQ = damp(current, \"x\", qt.x, smoothTime, delta, maxSpeed, easing, eps);\n  bQ = damp(current, \"y\", qt.y, smoothTime, delta, maxSpeed, easing, eps);\n  cQ = damp(current, \"z\", qt.z, smoothTime, delta, maxSpeed, easing, eps);\n  dQ = damp(current, \"w\", qt.w, smoothTime, delta, maxSpeed, easing, eps); // smooth damp (nlerp approx)\n\n  v4result.set(current.x, current.y, current.z, current.w).normalize();\n  v4velocity.set(cur.__damp.velocity_x, cur.__damp.velocity_y, cur.__damp.velocity_z, cur.__damp.velocity_w); // ensure deriv is tangent\n\n  v4error.copy(v4result).multiplyScalar(v4velocity.dot(v4result) / v4result.dot(v4result));\n  cur.__damp.velocity_x -= v4error.x;\n  cur.__damp.velocity_y -= v4error.y;\n  cur.__damp.velocity_z -= v4error.z;\n  cur.__damp.velocity_w -= v4error.w;\n  current.set(v4result.x, v4result.y, v4result.z, v4result.w);\n  return aQ || bQ || cQ || dQ;\n}\n/**\n * Spherical Damp\n */\n\nvar spherical = /*@__PURE__*/new Spherical();\nvar aS, bS, cS;\nfunction dampS(current, target, smoothTime, delta, maxSpeed, easing, eps) {\n  if (Array.isArray(target)) spherical.set(target[0], target[1], target[2]);else spherical.copy(target);\n  aS = damp(current, \"radius\", spherical.radius, smoothTime, delta, maxSpeed, easing, eps);\n  bS = dampAngle(current, \"phi\", spherical.phi, smoothTime, delta, maxSpeed, easing, eps);\n  cS = dampAngle(current, \"theta\", spherical.theta, smoothTime, delta, maxSpeed, easing, eps);\n  return aS || bS || cS;\n}\n/**\n * Matrix4 Damp\n */\n\nvar mat = /*@__PURE__*/new Matrix4();\nvar mPos = /*@__PURE__*/new Vector3();\nvar mRot = /*@__PURE__*/new Quaternion();\nvar mSca = /*@__PURE__*/new Vector3();\nvar aM, bM, cM;\nfunction dampM(current, target, smoothTime, delta, maxSpeed, easing, eps) {\n  var cur = current;\n\n  if (cur.__damp === undefined) {\n    cur.__damp = {\n      position: new Vector3(),\n      rotation: new Quaternion(),\n      scale: new Vector3()\n    };\n    current.decompose(cur.__damp.position, cur.__damp.rotation, cur.__damp.scale);\n  }\n\n  if (Array.isArray(target)) mat.set.apply(mat, _toConsumableArray(target));else mat.copy(target);\n  mat.decompose(mPos, mRot, mSca);\n  aM = damp3(cur.__damp.position, mPos, smoothTime, delta, maxSpeed, easing, eps);\n  bM = dampQ(cur.__damp.rotation, mRot, smoothTime, delta, maxSpeed, easing, eps);\n  cM = damp3(cur.__damp.scale, mSca, smoothTime, delta, maxSpeed, easing, eps);\n  current.compose(cur.__damp.position, cur.__damp.rotation, cur.__damp.scale);\n  return aM || bM || cM;\n}\n\nvar easing = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  rsqw: rsqw,\n  exp: exp,\n  damp: damp,\n  dampAngle: dampAngle,\n  damp2: damp2,\n  damp3: damp3,\n  damp4: damp4,\n  dampE: dampE,\n  dampC: dampC,\n  dampQ: dampQ,\n  dampS: dampS,\n  dampM: dampM\n});\n\nexport { exp as a, dampAngle as b, damp2 as c, damp as d, easing as e, damp3 as f, damp4 as g, dampE as h, dampC as i, dampQ as j, dampS as k, dampM as l, rsqw as r };\n", "function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nexport { _objectSpread2 as _, _defineProperty as a };\n", "/**\n *\n */\nfunction zero() {\n  return [0, 0];\n}\nfunction one() {\n  return [1, 1];\n}\nfunction add(a, b) {\n  return [a[0] + b[0], a[1] + b[1]];\n}\nfunction addValue(a, n) {\n  return [a[0] + n, a[1] + n];\n}\nfunction sub(a, b) {\n  return [a[0] - b[0], a[1] - b[1]];\n}\nfunction subValue(a, n) {\n  return [a[0] - n, a[1] - n];\n}\nfunction scale(a, n) {\n  return [a[0] * n, a[1] * n];\n}\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Calculate the squared length of a vector.\n * Use this when comparing two vectors instead of length, as it's more efficient (no sqrt)\n */\n\nfunction lengthSqr(a) {\n  return a[0] * a[0] + a[1] * a[1];\n}\n/**\n * Calculate the length of a vector.\n * If you only need to compare lenghts, consider using the more efficient lengthSqr\n */\n\nfunction length(a) {\n  return Math.sqrt(a[0] * a[0] + a[1] * a[1]);\n}\nfunction distance(a, b) {\n  return Math.sqrt((a[0] - b[0]) * (a[0] - b[0]) + (a[1] - b[1]) * (a[1] - b[1]));\n}\n\nvar vector2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  zero: zero,\n  one: one,\n  add: add,\n  addValue: addValue,\n  sub: sub,\n  subValue: subValue,\n  scale: scale,\n  dot: dot,\n  lengthSqr: lengthSqr,\n  length: length,\n  distance: distance\n});\n\nexport { add as a, addValue as b, subValue as c, scale as d, dot as e, length as f, distance as g, lengthSqr as l, one as o, sub as s, vector2 as v, zero as z };\n", "/**\n *\n */\nfunction zero() {\n  return [0, 0, 0];\n}\nfunction one() {\n  return [1, 1, 1];\n}\nfunction add(a, b) {\n  return [a[0] + b[0], a[1] + b[1], a[2] + b[2]];\n}\nfunction addValue(a, n) {\n  return [a[0] + n, a[1] + n, a[2] + n];\n}\nfunction sub(a, b) {\n  return [a[0] - b[0], a[1] - b[1], a[2] - b[2]];\n}\nfunction subValue(a, n) {\n  return [a[0] - n, a[1] - n, a[2] - n];\n}\nfunction scale(a, n) {\n  return [a[0] * n, a[1] * n, a[2] * n];\n}\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\nfunction cross(a, b) {\n  var x = a[1] * b[2] - a[2] * b[1];\n  var y = a[2] * b[0] - a[0] * b[2];\n  var z = a[0] * b[1] - a[1] * b[0];\n  return [x, y, z];\n}\n/**\n * Calculate the squared length of a vector.\n * Use this when comparing two vectors instead of length, as it's more efficient (no sqrt)\n */\n\nfunction lengthSqr(a) {\n  return a[0] * a[0] + a[1] * a[1] + a[2] * a[2];\n}\n/**\n * Calculate the length of a vector.\n * If you only need to compare lenghts, consider using the more efficient lengthSqr\n */\n\nfunction length(a) {\n  return Math.sqrt(a[0] * a[0] + a[1] * a[1] + a[2] * a[2]);\n}\nfunction distance(a, b) {\n  return Math.sqrt((a[0] - b[0]) * (a[0] - b[0]) + (a[1] - b[1]) * (a[1] - b[1]) + (a[2] - b[2]) * (a[2] - b[2]));\n}\n\nvar vector3 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  zero: zero,\n  one: one,\n  add: add,\n  addValue: addValue,\n  sub: sub,\n  subValue: subValue,\n  scale: scale,\n  dot: dot,\n  cross: cross,\n  lengthSqr: lengthSqr,\n  length: length,\n  distance: distance\n});\n\nexport { add as a, addValue as b, subValue as c, scale as d, dot as e, cross as f, length as g, distance as h, lengthSqr as l, one as o, sub as s, vector3 as v, zero as z };\n", "import { _ as _objectSpread2 } from './objectSpread2-284232a6.esm.js';\nimport { _ as _slicedToArray } from './triangle-b62b9067.esm.js';\nimport { Quaternion, Vector3 } from 'three';\nimport { l as lerp$1 } from './misc-7d870b3c.esm.js';\nimport { z as zero, a as add$1 } from './vector2-d2bf51f1.esm.js';\nimport { a as add } from './vector3-0a088b7f.esm.js';\n\nfunction swizzle(buffer) {\n  var stride = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n  var swizzle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"xyz\";\n  var o = {\n    x: 0,\n    y: 0,\n    z: 0\n  };\n\n  for (var _i = 0; _i < buffer.length; _i += stride) {\n    o.x = buffer[_i];\n    o.y = buffer[_i + 1];\n    o.z = buffer[_i + 2];\n\n    var _swizzle$split = swizzle.split(\"\"),\n        _swizzle$split2 = _slicedToArray(_swizzle$split, 3),\n        x = _swizzle$split2[0],\n        y = _swizzle$split2[1],\n        z = _swizzle$split2[2]; // TODO Fix this ugly type\n\n\n    buffer[_i] = o[x];\n    buffer[_i + 1] = o[y];\n\n    if (stride === 3) {\n      buffer[_i + 2] = o[z];\n    }\n  }\n\n  return buffer;\n}\n/**\n * @param buffer A stride 2 points buffer\n * @param valueGenerator A function that returns the value of the z axis at index i\n * @returns\n */\n\nfunction addAxis(buffer, size) {\n  var valueGenerator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {\n    return Math.random();\n  };\n  var newSize = size + 1;\n  var newBuffer = new Float32Array(buffer.length / size * newSize);\n\n  for (var _i2 = 0; _i2 < buffer.length; _i2 += size) {\n    var _j = _i2 / size * newSize;\n\n    newBuffer[_j] = buffer[_i2];\n    newBuffer[_j + 1] = buffer[_i2 + 1];\n\n    if (size === 2) {\n      newBuffer[_j + 2] = valueGenerator(_j);\n    }\n\n    if (size === 3) {\n      newBuffer[_j + 2] = buffer[_i2 + 2];\n      newBuffer[_j + 3] = valueGenerator(_j);\n    }\n  }\n\n  return newBuffer;\n}\n/**\n * Lerps bufferA and bufferB into final\n *\n * @param bufferA\n * @param bufferB\n * @param final\n * @param t\n */\n\nfunction lerp(bufferA, bufferB, _final, t) {\n  for (var _i3 = 0; _i3 < bufferA.length; _i3++) {\n    _final[_i3] = lerp$1(bufferA[_i3], bufferB[_i3], t);\n  }\n} // TODO add stride\n// TODO Fix types & vectors\n\n/**\n *\n * Translate all points in the passed buffer by the passed translactionVector.\n *\n * @param buffer\n * @param translationVector\n * @returns\n */\n\nfunction translate(buffer, translationVector) {\n  var stride = translationVector.length;\n\n  for (var _i4 = 0; _i4 < buffer.length; _i4 += stride) {\n    buffer[_i4] += translationVector[0];\n    buffer[_i4 + 1] += translationVector[1];\n    buffer[_i4 + 2] += translationVector[2];\n  }\n\n  return buffer;\n} // TODO add stride\n// TODO remove quaternion & vector3 dependencies\n\nfunction rotate(buffer, rotation) {\n  var defaultRotation = {\n    center: [0, 0, 0],\n    q: new Quaternion().identity()\n  };\n  var v = new Vector3();\n\n  var _defaultRotation$rota = _objectSpread2(_objectSpread2({}, defaultRotation), rotation),\n      q = _defaultRotation$rota.q,\n      center = _defaultRotation$rota.center;\n\n  for (var _i5 = 0; _i5 < buffer.length; _i5 += 3) {\n    v.set(buffer[_i5] - center[0], buffer[_i5 + 1] - center[1], buffer[_i5 + 2] - center[2]);\n    v.applyQuaternion(q);\n    buffer[_i5] = v.x + center[0];\n    buffer[_i5 + 1] = v.y + center[1];\n    buffer[_i5 + 2] = v.z + center[1];\n  }\n\n  return buffer;\n}\nfunction map(buffer, stride, callback) {\n  for (var _i6 = 0, _j2 = 0; _i6 < buffer.length; _i6 += stride, _j2++) {\n    if (stride === 3) {\n      var res = callback([buffer[_i6], buffer[_i6 + 1], buffer[_i6 + 2]], _j2);\n      buffer.set(res, _i6);\n    } else {\n      buffer.set(callback([buffer[_i6], buffer[_i6 + 1]], _j2), _i6);\n    }\n  }\n\n  return buffer;\n}\n/**\n * Reduces passed buffer\n */\n\nfunction reduce(b, stride, callback, acc) {\n  for (var _i7 = 0, _j3 = 0; _i7 < b.length; _i7 += stride, _j3++) {\n    if (stride === 2) {\n      acc = callback(acc, [b[_i7], b[_i7 + 1]], _j3);\n    } else {\n      acc = callback(acc, [b[_i7], b[_i7 + 1], b[_i7 + 2]], _j3);\n    }\n  }\n\n  return acc;\n}\nfunction expand(b, stride, opts) {\n  var defaultExpandOptions = {\n    center: [0, 0, 0]\n  };\n\n  var _defaultExpandOptions = _objectSpread2(_objectSpread2({}, defaultExpandOptions), opts),\n      center = _defaultExpandOptions.center,\n      distance = _defaultExpandOptions.distance;\n\n  for (var _i8 = 0; _i8 < b.length; _i8 += stride) {\n    /**\n     * 1. translate to origin (subtract the scaling center)\n     * 2. scale by the correct amount (multiply by a constant)\n     * 2. translate from origin (add the scaling center)\n     */\n    b[_i8] = (b[_i8] - center[0]) * (1 + distance) + center[0];\n    b[_i8 + 1] = (b[_i8 + 1] - center[1]) * (1 + distance) + center[1];\n\n    if (stride === 3) {\n      b[_i8 + 2] = (b[_i8 + 2] - center[1]) * (1 + distance) + center[2];\n    }\n  }\n\n  return b;\n}\nfunction center(myBuffer, stride) {\n  return reduce(myBuffer, stride, function (acc, point) {\n    if (stride === 3) {\n      // some type hacking is necessary to avoid type errors going from [n, n] => [n, n, n]\n      // but it's not an actual problem, as this path would always get a v3\n      acc = add(acc, point);\n    } else {\n      acc = add$1(acc, point);\n    }\n\n    return acc;\n  }, zero());\n}\nfunction sort(myBuffer, stride, callback) {\n  // 1. make an array of the correct size\n  var indices = Int16Array.from({\n    length: myBuffer.length / stride\n  }, function (_, i) {\n    return i;\n  }); // 2. sort the indices array\n\n  indices.sort(function (a, b) {\n    var pa = myBuffer.slice(a * stride, a * stride + stride);\n    var pb = myBuffer.slice(b * stride, b * stride + stride);\n    return callback(pa, pb);\n  }); // 3. make a copy of the original array to fetch indices from\n\n  var prevBuffer = myBuffer.slice(0); // 4. mutate the passed array\n\n  for (var _i9 = 0; _i9 < indices.length; _i9++) {\n    var _j4 = indices[_i9];\n    myBuffer.set(prevBuffer.slice(_j4 * stride, _j4 * stride + stride), _i9 * 3);\n  }\n\n  return myBuffer;\n}\n\nvar buffer = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  swizzle: swizzle,\n  addAxis: addAxis,\n  lerp: lerp,\n  translate: translate,\n  rotate: rotate,\n  map: map,\n  reduce: reduce,\n  expand: expand,\n  center: center,\n  sort: sort\n});\n\nexport { addAxis as a, buffer as b, reduce as c, center as d, expand as e, sort as f, lerp as l, map as m, rotate as r, swizzle as s, translate as t };\n", "function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nexport { _classCallCheck as _ };\n", "import { a as _defineProperty, _ as _objectSpread2 } from './objectSpread2-284232a6.esm.js';\nimport { _ as _classCallCheck } from './classCallCheck-9098b006.esm.js';\nimport { l as lerp, f as fade } from './misc-7d870b3c.esm.js';\n\n/*\n * A speed-improved perlin and simplex noise algorithms for 2D.\n *\n * Based on example code by Stefan Gustavson (stegu@itn.liu.se).\n * Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).\n * Better rank ordering method by Stefan Gustavson in 2012.\n * Converted to Javascript by Joseph Gentle.\n *\n * Version 2012-03-09\n *\n * This code was placed in the public domain by its original author,\n * Stefan Gustavson. You may use it as you see fit, but\n * attribution is appreciated.\n *\n */\n\nvar Grad = function Grad(x, y, z) {\n  var _this = this;\n\n  _classCallCheck(this, Grad);\n\n  _defineProperty(this, \"dot2\", function (x, y) {\n    return _this.x * x + _this.y * y;\n  });\n\n  _defineProperty(this, \"dot3\", function (x, y, z) {\n    return _this.x * x + _this.y * y + _this.z * z;\n  });\n\n  this.x = x;\n  this.y = y;\n  this.z = z;\n};\n\nvar grad3 = [new Grad(1, 1, 0), new Grad(-1, 1, 0), new Grad(1, -1, 0), new Grad(-1, -1, 0), new Grad(1, 0, 1), new Grad(-1, 0, 1), new Grad(1, 0, -1), new Grad(-1, 0, -1), new Grad(0, 1, 1), new Grad(0, -1, 1), new Grad(0, 1, -1), new Grad(0, -1, -1)];\nvar p = [151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23, 190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123, 5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232, 178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107, 49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254, 138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180]; // To remove the need for index wrapping, double the permutation table length\n\nvar perm = new Array(512);\nvar gradP = new Array(512); // This isn't a very good seeding function, but it works ok. It supports 2^16\n// different seed values. Write something better if you need more seeds.\n\nvar seed = function seed(_seed) {\n  if (_seed > 0 && _seed < 1) {\n    // Scale the seed out\n    _seed *= 65536;\n  }\n\n  _seed = Math.floor(_seed);\n\n  if (_seed < 256) {\n    _seed |= _seed << 8;\n  }\n\n  for (var i = 0; i < 256; i++) {\n    var v;\n\n    if (i & 1) {\n      v = p[i] ^ _seed & 255;\n    } else {\n      v = p[i] ^ _seed >> 8 & 255;\n    }\n\n    perm[i] = perm[i + 256] = v;\n    gradP[i] = gradP[i + 256] = grad3[v % 12];\n  }\n};\nseed(0);\n/*\n  for(var i=0; i<256; i++) {\n    perm[i] = perm[i + 256] = p[i];\n    gradP[i] = gradP[i + 256] = grad3[perm[i] % 12];\n  }*/\n// Skewing and unskewing factors for 2, 3, and 4 dimensions\n\nvar F2 = 0.5 * (Math.sqrt(3) - 1);\nvar G2 = (3 - Math.sqrt(3)) / 6;\nvar F3 = 1 / 3;\nvar G3 = 1 / 6; // 2D simplex noise\n\nvar simplex2 = function simplex2(xin, yin) {\n  var n0, n1, n2; // Noise contributions from the three corners\n  // Skew the input space to determine which simplex cell we're in\n\n  var s = (xin + yin) * F2; // Hairy factor for 2D\n\n  var i = Math.floor(xin + s);\n  var j = Math.floor(yin + s);\n  var t = (i + j) * G2;\n  var x0 = xin - i + t; // The x,y distances from the cell origin, unskewed.\n\n  var y0 = yin - j + t; // For the 2D case, the simplex shape is an equilateral triangle.\n  // Determine which simplex we are in.\n\n  var i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords\n\n  if (x0 > y0) {\n    // lower triangle, XY order: (0,0)->(1,0)->(1,1)\n    i1 = 1;\n    j1 = 0;\n  } else {\n    // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n    i1 = 0;\n    j1 = 1;\n  } // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n  // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n  // c = (3-sqrt(3))/6\n\n\n  var x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n\n  var y1 = y0 - j1 + G2;\n  var x2 = x0 - 1 + 2 * G2; // Offsets for last corner in (x,y) unskewed coords\n\n  var y2 = y0 - 1 + 2 * G2; // Work out the hashed gradient indices of the three simplex corners\n\n  i &= 255;\n  j &= 255;\n  var gi0 = gradP[i + perm[j]];\n  var gi1 = gradP[i + i1 + perm[j + j1]];\n  var gi2 = gradP[i + 1 + perm[j + 1]]; // Calculate the contribution from the three corners\n\n  var t0 = 0.5 - x0 * x0 - y0 * y0;\n\n  if (t0 < 0) {\n    n0 = 0;\n  } else {\n    t0 *= t0;\n    n0 = t0 * t0 * gi0.dot2(x0, y0); // (x,y) of grad3 used for 2D gradient\n  }\n\n  var t1 = 0.5 - x1 * x1 - y1 * y1;\n\n  if (t1 < 0) {\n    n1 = 0;\n  } else {\n    t1 *= t1;\n    n1 = t1 * t1 * gi1.dot2(x1, y1);\n  }\n\n  var t2 = 0.5 - x2 * x2 - y2 * y2;\n\n  if (t2 < 0) {\n    n2 = 0;\n  } else {\n    t2 *= t2;\n    n2 = t2 * t2 * gi2.dot2(x2, y2);\n  } // Add contributions from each corner to get the final noise value.\n  // The result is scaled to return values in the interval [-1,1].\n\n\n  return 70 * (n0 + n1 + n2);\n}; // 3D simplex noise\n\nvar simplex3 = function simplex3(xin, yin, zin) {\n  var n0, n1, n2, n3; // Noise contributions from the four corners\n  // Skew the input space to determine which simplex cell we're in\n\n  var s = (xin + yin + zin) * F3; // Hairy factor for 2D\n\n  var i = Math.floor(xin + s);\n  var j = Math.floor(yin + s);\n  var k = Math.floor(zin + s);\n  var t = (i + j + k) * G3;\n  var x0 = xin - i + t; // The x,y distances from the cell origin, unskewed.\n\n  var y0 = yin - j + t;\n  var z0 = zin - k + t; // For the 3D case, the simplex shape is a slightly irregular tetrahedron.\n  // Determine which simplex we are in.\n\n  var i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords\n\n  var i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords\n\n  if (x0 >= y0) {\n    if (y0 >= z0) {\n      i1 = 1;\n      j1 = 0;\n      k1 = 0;\n      i2 = 1;\n      j2 = 1;\n      k2 = 0;\n    } else if (x0 >= z0) {\n      i1 = 1;\n      j1 = 0;\n      k1 = 0;\n      i2 = 1;\n      j2 = 0;\n      k2 = 1;\n    } else {\n      i1 = 0;\n      j1 = 0;\n      k1 = 1;\n      i2 = 1;\n      j2 = 0;\n      k2 = 1;\n    }\n  } else {\n    if (y0 < z0) {\n      i1 = 0;\n      j1 = 0;\n      k1 = 1;\n      i2 = 0;\n      j2 = 1;\n      k2 = 1;\n    } else if (x0 < z0) {\n      i1 = 0;\n      j1 = 1;\n      k1 = 0;\n      i2 = 0;\n      j2 = 1;\n      k2 = 1;\n    } else {\n      i1 = 0;\n      j1 = 1;\n      k1 = 0;\n      i2 = 1;\n      j2 = 1;\n      k2 = 0;\n    }\n  } // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),\n  // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and\n  // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where\n  // c = 1/6.\n\n\n  var x1 = x0 - i1 + G3; // Offsets for second corner\n\n  var y1 = y0 - j1 + G3;\n  var z1 = z0 - k1 + G3;\n  var x2 = x0 - i2 + 2 * G3; // Offsets for third corner\n\n  var y2 = y0 - j2 + 2 * G3;\n  var z2 = z0 - k2 + 2 * G3;\n  var x3 = x0 - 1 + 3 * G3; // Offsets for fourth corner\n\n  var y3 = y0 - 1 + 3 * G3;\n  var z3 = z0 - 1 + 3 * G3; // Work out the hashed gradient indices of the four simplex corners\n\n  i &= 255;\n  j &= 255;\n  k &= 255;\n  var gi0 = gradP[i + perm[j + perm[k]]];\n  var gi1 = gradP[i + i1 + perm[j + j1 + perm[k + k1]]];\n  var gi2 = gradP[i + i2 + perm[j + j2 + perm[k + k2]]];\n  var gi3 = gradP[i + 1 + perm[j + 1 + perm[k + 1]]]; // Calculate the contribution from the four corners\n\n  var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;\n\n  if (t0 < 0) {\n    n0 = 0;\n  } else {\n    t0 *= t0;\n    n0 = t0 * t0 * gi0.dot3(x0, y0, z0); // (x,y) of grad3 used for 2D gradient\n  }\n\n  var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;\n\n  if (t1 < 0) {\n    n1 = 0;\n  } else {\n    t1 *= t1;\n    n1 = t1 * t1 * gi1.dot3(x1, y1, z1);\n  }\n\n  var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;\n\n  if (t2 < 0) {\n    n2 = 0;\n  } else {\n    t2 *= t2;\n    n2 = t2 * t2 * gi2.dot3(x2, y2, z2);\n  }\n\n  var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;\n\n  if (t3 < 0) {\n    n3 = 0;\n  } else {\n    t3 *= t3;\n    n3 = t3 * t3 * gi3.dot3(x3, y3, z3);\n  } // Add contributions from each corner to get the final noise value.\n  // The result is scaled to return values in the interval [-1,1].\n\n\n  return 32 * (n0 + n1 + n2 + n3);\n}; // ##### Perlin noise stuff\n// 2D Perlin Noise\n\nvar perlin2 = function perlin2(x, y) {\n  // Find unit grid cell containing point\n  var X = Math.floor(x),\n      Y = Math.floor(y); // Get relative xy coordinates of point within that cell\n\n  x = x - X;\n  y = y - Y; // Wrap the integer cells at 255 (smaller integer period can be introduced here)\n\n  X = X & 255;\n  Y = Y & 255; // Calculate noise contributions from each of the four corners\n\n  var n00 = gradP[X + perm[Y]].dot2(x, y);\n  var n01 = gradP[X + perm[Y + 1]].dot2(x, y - 1);\n  var n10 = gradP[X + 1 + perm[Y]].dot2(x - 1, y);\n  var n11 = gradP[X + 1 + perm[Y + 1]].dot2(x - 1, y - 1); // Compute the fade curve value for x\n\n  var u = fade(x); // Interpolate the four results\n\n  return lerp(lerp(n00, n10, u), lerp(n01, n11, u), fade(y));\n}; // 3D Perlin Noise\n\nvar perlin3 = function perlin3(x, y, z) {\n  // Find unit grid cell containing point\n  var X = Math.floor(x),\n      Y = Math.floor(y),\n      Z = Math.floor(z); // Get relative xyz coordinates of point within that cell\n\n  x = x - X;\n  y = y - Y;\n  z = z - Z; // Wrap the integer cells at 255 (smaller integer period can be introduced here)\n\n  X = X & 255;\n  Y = Y & 255;\n  Z = Z & 255; // Calculate noise contributions from each of the eight corners\n\n  var n000 = gradP[X + perm[Y + perm[Z]]].dot3(x, y, z);\n  var n001 = gradP[X + perm[Y + perm[Z + 1]]].dot3(x, y, z - 1);\n  var n010 = gradP[X + perm[Y + 1 + perm[Z]]].dot3(x, y - 1, z);\n  var n011 = gradP[X + perm[Y + 1 + perm[Z + 1]]].dot3(x, y - 1, z - 1);\n  var n100 = gradP[X + 1 + perm[Y + perm[Z]]].dot3(x - 1, y, z);\n  var n101 = gradP[X + 1 + perm[Y + perm[Z + 1]]].dot3(x - 1, y, z - 1);\n  var n110 = gradP[X + 1 + perm[Y + 1 + perm[Z]]].dot3(x - 1, y - 1, z);\n  var n111 = gradP[X + 1 + perm[Y + 1 + perm[Z + 1]]].dot3(x - 1, y - 1, z - 1); // Compute the fade curve value for x, y, z\n\n  var u = fade(x);\n  var v = fade(y);\n  var w = fade(z); // Interpolate\n\n  return lerp(lerp(lerp(n000, n100, u), lerp(n001, n101, u), w), lerp(lerp(n010, n110, u), lerp(n011, n111, u), w), v);\n};\n\nvar noise = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  seed: seed,\n  simplex2: simplex2,\n  simplex3: simplex3,\n  perlin2: perlin2,\n  perlin3: perlin3\n});\n\nvar TAU = Math.PI * 2; // Credits @kchapelier https://github.com/kchapelier/wavefunctioncollapse/blob/master/example/lcg.js#L22-L30\n\nfunction normalizeSeed(seed) {\n  if (typeof seed === \"number\") {\n    seed = Math.abs(seed);\n  } else if (typeof seed === \"string\") {\n    var string = seed;\n    seed = 0;\n\n    for (var i = 0; i < string.length; i++) {\n      seed = (seed + (i + 1) * (string.charCodeAt(i) % 96)) % 2147483647;\n    }\n  }\n\n  if (seed === 0) {\n    seed = 311;\n  }\n\n  return seed;\n}\n\nfunction lcgRandom(seed) {\n  var state = normalizeSeed(seed);\n  return function () {\n    var result = state * 48271 % 2147483647;\n    state = result;\n    return result / 2147483647;\n  };\n}\n\nvar Generator = function Generator(_seed) {\n  var _this = this;\n\n  _classCallCheck(this, Generator);\n\n  _defineProperty(this, \"seed\", 0);\n\n  _defineProperty(this, \"init\", function (seed) {\n    _this.seed = seed;\n    _this.value = lcgRandom(seed);\n  });\n\n  _defineProperty(this, \"value\", lcgRandom(this.seed));\n\n  this.init(_seed);\n};\nvar defaultGen = new Generator(Math.random());\n/***\n * [3D] Sphere\n */\n\nvar defaultSphere = {\n  radius: 1,\n  center: [0, 0, 0]\n}; // random on surface of sphere\n// - https://twitter.com/fermatslibrary/status/1430932503578226688\n// - https://mathworld.wolfram.com/SpherePointPicking.html\n\nfunction onSphere(buffer, sphere) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultSphere$sphere = _objectSpread2(_objectSpread2({}, defaultSphere), sphere),\n      radius = _defaultSphere$sphere.radius,\n      center = _defaultSphere$sphere.center;\n\n  for (var i = 0; i < buffer.length; i += 3) {\n    var u = rng.value();\n    var v = rng.value();\n    var theta = Math.acos(2 * v - 1);\n    var phi = TAU * u;\n    buffer[i] = Math.sin(theta) * Math.cos(phi) * radius + center[0];\n    buffer[i + 1] = Math.sin(theta) * Math.sin(phi) * radius + center[1];\n    buffer[i + 2] = Math.cos(theta) * radius + center[2];\n  }\n\n  return buffer;\n} // from \"Another Method\" https://datagenetics.com/blog/january32020/index.html\n\nfunction inSphere(buffer, sphere) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultSphere$sphere2 = _objectSpread2(_objectSpread2({}, defaultSphere), sphere),\n      radius = _defaultSphere$sphere2.radius,\n      center = _defaultSphere$sphere2.center;\n\n  for (var i = 0; i < buffer.length; i += 3) {\n    var u = Math.pow(rng.value(), 1 / 3);\n    var x = rng.value() * 2 - 1;\n    var y = rng.value() * 2 - 1;\n    var z = rng.value() * 2 - 1;\n    var mag = Math.sqrt(x * x + y * y + z * z);\n    x = u * x / mag;\n    y = u * y / mag;\n    z = u * z / mag;\n    buffer[i] = x * radius + center[0];\n    buffer[i + 1] = y * radius + center[1];\n    buffer[i + 2] = z * radius + center[2];\n  }\n\n  return buffer;\n}\n/***\n * [2D] Circle\n */\n\nvar defaultCircle = {\n  radius: 1,\n  center: [0, 0]\n}; // random circle https://stackoverflow.com/a/50746409\n\nfunction inCircle(buffer, circle) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultCircle$circle = _objectSpread2(_objectSpread2({}, defaultCircle), circle),\n      radius = _defaultCircle$circle.radius,\n      center = _defaultCircle$circle.center;\n\n  for (var i = 0; i < buffer.length; i += 2) {\n    var r = radius * Math.sqrt(rng.value());\n    var theta = rng.value() * TAU;\n    buffer[i] = Math.sin(theta) * r + center[0];\n    buffer[i + 1] = Math.cos(theta) * r + center[1];\n  }\n\n  return buffer;\n}\nfunction onCircle(buffer, circle) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultCircle$circle2 = _objectSpread2(_objectSpread2({}, defaultCircle), circle),\n      radius = _defaultCircle$circle2.radius,\n      center = _defaultCircle$circle2.center;\n\n  for (var i = 0; i < buffer.length; i += 2) {\n    var theta = rng.value() * TAU;\n    buffer[i] = Math.sin(theta) * radius + center[0];\n    buffer[i + 1] = Math.cos(theta) * radius + center[1];\n  }\n\n  return buffer;\n}\n/**\n * [2D] Plane\n */\n\nvar defaultRect = {\n  sides: 1,\n  center: [0, 0]\n};\nfunction inRect(buffer, rect) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultRect$rect = _objectSpread2(_objectSpread2({}, defaultRect), rect),\n      sides = _defaultRect$rect.sides,\n      center = _defaultRect$rect.center;\n\n  var sideX = typeof sides === \"number\" ? sides : sides[0];\n  var sideY = typeof sides === \"number\" ? sides : sides[1];\n\n  for (var i = 0; i < buffer.length; i += 2) {\n    buffer[i] = (rng.value() - 0.5) * sideX + center[0];\n    buffer[i + 1] = (rng.value() - 0.5) * sideY + center[1];\n  }\n\n  return buffer;\n}\nfunction onRect(buffer, rect) {\n  return buffer;\n}\n/***\n * [3D] Box\n */\n\nfunction inBox(buffer, box) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultBox$box = _objectSpread2(_objectSpread2({}, defaultBox), box),\n      sides = _defaultBox$box.sides,\n      center = _defaultBox$box.center;\n\n  var sideX = typeof sides === \"number\" ? sides : sides[0];\n  var sideY = typeof sides === \"number\" ? sides : sides[1];\n  var sideZ = typeof sides === \"number\" ? sides : sides[2];\n\n  for (var i = 0; i < buffer.length; i += 3) {\n    buffer[i] = (rng.value() - 0.5) * sideX + center[0];\n    buffer[i + 1] = (rng.value() - 0.5) * sideY + center[1];\n    buffer[i + 2] = (rng.value() - 0.5) * sideZ + center[2];\n  }\n\n  return buffer;\n}\nvar defaultBox = {\n  sides: 1,\n  center: [0, 0, 0]\n};\nfunction onBox(buffer, box) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultBox$box2 = _objectSpread2(_objectSpread2({}, defaultBox), box),\n      sides = _defaultBox$box2.sides,\n      center = _defaultBox$box2.center;\n\n  var sideX = typeof sides === \"number\" ? sides : sides[0];\n  var sideY = typeof sides === \"number\" ? sides : sides[1];\n  var sideZ = typeof sides === \"number\" ? sides : sides[2];\n\n  for (var i = 0; i < buffer.length; i += 3) {\n    buffer[i] = (rng.value() - 0.5) * sideX + center[0];\n    buffer[i + 1] = (rng.value() - 0.5) * sideY + center[1];\n    buffer[i + 2] = (rng.value() - 0.5) * sideZ + center[2];\n  }\n\n  return buffer;\n}\n\nvar index = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Generator: Generator,\n  onSphere: onSphere,\n  inSphere: inSphere,\n  inCircle: inCircle,\n  onCircle: onCircle,\n  inRect: inRect,\n  onRect: onRect,\n  inBox: inBox,\n  onBox: onBox,\n  noise: noise\n});\n\nexport { Generator as G, inSphere as a, inCircle as b, onCircle as c, inRect as d, onRect as e, inBox as f, onBox as g, index as i, noise as n, onSphere as o };\n", "import { _ as _classCallCheck } from './classCallCheck-9098b006.esm.js';\nimport { _ as _setPrototypeOf, a as _isNativeReflectConstruct } from './isNativeReflectConstruct-5594d075.esm.js';\nimport * as THREE from 'three';\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nvar RoundedPlaneGeometry = /*#__PURE__*/function (_THREE$BufferGeometry) {\n  _inherits(RoundedPlaneGeometry, _THREE$BufferGeometry);\n\n  var _super = _createSuper(RoundedPlaneGeometry);\n\n  function RoundedPlaneGeometry() {\n    var _this;\n\n    var width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n    var height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.2;\n    var segments = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 16;\n\n    _classCallCheck(this, RoundedPlaneGeometry);\n\n    _this = _super.call(this); // helper const's\n\n    var wi = width / 2 - radius; // inner width\n\n    var hi = height / 2 - radius; // inner height\n\n    var ul = radius / width; // u left\n\n    var ur = (width - radius) / width; // u right\n\n    var vl = radius / height; // v low\n\n    var vh = (height - radius) / height; // v high\n\n    var positions = [wi, hi, 0, -wi, hi, 0, -wi, -hi, 0, wi, -hi, 0];\n    var uvs = [ur, vh, ul, vh, ul, vl, ur, vl];\n    var n = [3 * (segments + 1) + 3, 3 * (segments + 1) + 4, segments + 4, segments + 5, 2 * (segments + 1) + 4, 2, 1, 2 * (segments + 1) + 3, 3, 4 * (segments + 1) + 3, 4, 0];\n    var indices = [n[0], n[1], n[2], n[0], n[2], n[3], n[4], n[5], n[6], n[4], n[6], n[7], n[8], n[9], n[10], n[8], n[10], n[11]];\n    var phi, cos, sin, xc, yc, uc, vc, idx;\n\n    for (var i = 0; i < 4; i++) {\n      xc = i < 1 || i > 2 ? wi : -wi;\n      yc = i < 2 ? hi : -hi;\n      uc = i < 1 || i > 2 ? ur : ul;\n      vc = i < 2 ? vh : vl;\n\n      for (var j = 0; j <= segments; j++) {\n        phi = Math.PI / 2 * (i + j / segments);\n        cos = Math.cos(phi);\n        sin = Math.sin(phi);\n        positions.push(xc + radius * cos, yc + radius * sin, 0);\n        uvs.push(uc + ul * cos, vc + vl * sin);\n\n        if (j < segments) {\n          idx = (segments + 1) * i + j + 4;\n          indices.push(i, idx, idx + 1);\n        }\n      }\n    }\n\n    _this.setIndex(new THREE.BufferAttribute(new Uint32Array(indices), 1));\n\n    _this.setAttribute(\"position\", new THREE.BufferAttribute(new Float32Array(positions), 3));\n\n    _this.setAttribute(\"uv\", new THREE.BufferAttribute(new Float32Array(uvs), 2));\n\n    return _this;\n  }\n\n  return RoundedPlaneGeometry;\n}(THREE.BufferGeometry); // Author: https://stackoverflow.com/users/268905/knee-cola\n// https://stackoverflow.com/questions/20774648/three-js-generate-uv-coordinate\n\nfunction applySphereUV(bufferGeometry) {\n  var uvs = [];\n  var vertices = [];\n\n  for (var i = 0; i < bufferGeometry.attributes.position.array.length / 3; i++) {\n    var x = bufferGeometry.attributes.position.array[i * 3 + 0];\n    var y = bufferGeometry.attributes.position.array[i * 3 + 1];\n    var z = bufferGeometry.attributes.position.array[i * 3 + 2];\n    vertices.push(new THREE.Vector3(x, y, z));\n  }\n\n  var polarVertices = vertices.map(cartesian2polar);\n\n  for (var _i = 0; _i < polarVertices.length / 3; _i++) {\n    var tri = new THREE.Triangle(vertices[_i * 3 + 0], vertices[_i * 3 + 1], vertices[_i * 3 + 2]);\n    var normal = tri.getNormal(new THREE.Vector3());\n\n    for (var f = 0; f < 3; f++) {\n      var vertex = polarVertices[_i * 3 + f];\n\n      if (vertex.theta === 0 && (vertex.phi === 0 || vertex.phi === Math.PI)) {\n        var alignedVertice = vertex.phi === 0 ? _i * 3 + 1 : _i * 3 + 0;\n        vertex = {\n          r: vertex.r,\n          phi: vertex.phi,\n          theta: polarVertices[alignedVertice].theta\n        };\n      }\n\n      if (vertex.theta === Math.PI && cartesian2polar(normal).theta < Math.PI / 2) {\n        vertex.theta = -Math.PI;\n      }\n\n      var canvasPoint = polar2canvas(vertex);\n      uvs.push(1 - canvasPoint.x, 1 - canvasPoint.y);\n    }\n  }\n\n  if (bufferGeometry.attributes.uv) delete bufferGeometry.attributes.uv;\n  bufferGeometry.setAttribute(\"uv\", new THREE.Float32BufferAttribute(uvs, 2));\n  bufferGeometry.attributes.uv.needsUpdate = true;\n  return bufferGeometry;\n}\n\nfunction cartesian2polar(position) {\n  var r = Math.sqrt(position.x * position.x + position.z * position.z + position.y * position.y);\n  return {\n    r: r,\n    phi: Math.acos(position.y / r),\n    theta: Math.atan2(position.z, position.x)\n  };\n}\n\nfunction polar2canvas(polarPoint) {\n  return {\n    y: polarPoint.phi / Math.PI,\n    x: (polarPoint.theta + Math.PI) / (2 * Math.PI)\n  };\n} // Author: Alex Khoroshylov (https://stackoverflow.com/users/8742287/alex-khoroshylov)\n// https://stackoverflow.com/questions/20774648/three-js-generate-uv-coordinate\n\n\nfunction applyBoxUV(bufferGeometry) {\n  bufferGeometry.computeBoundingBox();\n  var bboxSize = bufferGeometry.boundingBox.getSize(new THREE.Vector3());\n  var boxSize = Math.min(bboxSize.x, bboxSize.y, bboxSize.z);\n  var boxGeometry = new THREE.BoxGeometry(boxSize, boxSize, boxSize);\n  var cube = new THREE.Mesh(boxGeometry);\n  cube.rotation.set(0, 0, 0);\n  cube.updateWorldMatrix(true, false);\n  var transformMatrix = cube.matrix.clone().invert();\n  var uvBbox = new THREE.Box3(new THREE.Vector3(-boxSize / 2, -boxSize / 2, -boxSize / 2), new THREE.Vector3(boxSize / 2, boxSize / 2, boxSize / 2));\n\n  _applyBoxUV(bufferGeometry, transformMatrix, uvBbox, boxSize);\n\n  bufferGeometry.attributes.uv.needsUpdate = true;\n  return bufferGeometry;\n}\n\nfunction _applyBoxUV(geom, transformMatrix, bbox, bbox_max_size) {\n  var coords = [];\n  coords.length = 2 * geom.attributes.position.array.length / 3; //maps 3 verts of 1 face on the better side of the cube\n  //side of the cube can be XY, XZ or YZ\n\n  var makeUVs = function makeUVs(v0, v1, v2) {\n    //pre-rotate the model so that cube sides match world axis\n    v0.applyMatrix4(transformMatrix);\n    v1.applyMatrix4(transformMatrix);\n    v2.applyMatrix4(transformMatrix); //get normal of the face, to know into which cube side it maps better\n\n    var n = new THREE.Vector3();\n    n.crossVectors(v1.clone().sub(v0), v1.clone().sub(v2)).normalize();\n    n.x = Math.abs(n.x);\n    n.y = Math.abs(n.y);\n    n.z = Math.abs(n.z);\n    var uv0 = new THREE.Vector2();\n    var uv1 = new THREE.Vector2();\n    var uv2 = new THREE.Vector2(); // xz mapping\n\n    if (n.y > n.x && n.y > n.z) {\n      uv0.x = (v0.x - bbox.min.x) / bbox_max_size;\n      uv0.y = (bbox.max.z - v0.z) / bbox_max_size;\n      uv1.x = (v1.x - bbox.min.x) / bbox_max_size;\n      uv1.y = (bbox.max.z - v1.z) / bbox_max_size;\n      uv2.x = (v2.x - bbox.min.x) / bbox_max_size;\n      uv2.y = (bbox.max.z - v2.z) / bbox_max_size;\n    } else if (n.x > n.y && n.x > n.z) {\n      uv0.x = (v0.z - bbox.min.z) / bbox_max_size;\n      uv0.y = (v0.y - bbox.min.y) / bbox_max_size;\n      uv1.x = (v1.z - bbox.min.z) / bbox_max_size;\n      uv1.y = (v1.y - bbox.min.y) / bbox_max_size;\n      uv2.x = (v2.z - bbox.min.z) / bbox_max_size;\n      uv2.y = (v2.y - bbox.min.y) / bbox_max_size;\n    } else if (n.z > n.y && n.z > n.x) {\n      uv0.x = (v0.x - bbox.min.x) / bbox_max_size;\n      uv0.y = (v0.y - bbox.min.y) / bbox_max_size;\n      uv1.x = (v1.x - bbox.min.x) / bbox_max_size;\n      uv1.y = (v1.y - bbox.min.y) / bbox_max_size;\n      uv2.x = (v2.x - bbox.min.x) / bbox_max_size;\n      uv2.y = (v2.y - bbox.min.y) / bbox_max_size;\n    }\n\n    return {\n      uv0: uv0,\n      uv1: uv1,\n      uv2: uv2\n    };\n  };\n\n  if (geom.index) {\n    // is it indexed buffer geometry?\n    for (var vi = 0; vi < geom.index.array.length; vi += 3) {\n      var idx0 = geom.index.array[vi];\n      var idx1 = geom.index.array[vi + 1];\n      var idx2 = geom.index.array[vi + 2];\n      var vx0 = geom.attributes.position.array[3 * idx0];\n      var vy0 = geom.attributes.position.array[3 * idx0 + 1];\n      var vz0 = geom.attributes.position.array[3 * idx0 + 2];\n      var vx1 = geom.attributes.position.array[3 * idx1];\n      var vy1 = geom.attributes.position.array[3 * idx1 + 1];\n      var vz1 = geom.attributes.position.array[3 * idx1 + 2];\n      var vx2 = geom.attributes.position.array[3 * idx2];\n      var vy2 = geom.attributes.position.array[3 * idx2 + 1];\n      var vz2 = geom.attributes.position.array[3 * idx2 + 2];\n      var v0 = new THREE.Vector3(vx0, vy0, vz0);\n      var v1 = new THREE.Vector3(vx1, vy1, vz1);\n      var v2 = new THREE.Vector3(vx2, vy2, vz2);\n      var uvs = makeUVs(v0, v1, v2);\n      coords[2 * idx0] = uvs.uv0.x;\n      coords[2 * idx0 + 1] = uvs.uv0.y;\n      coords[2 * idx1] = uvs.uv1.x;\n      coords[2 * idx1 + 1] = uvs.uv1.y;\n      coords[2 * idx2] = uvs.uv2.x;\n      coords[2 * idx2 + 1] = uvs.uv2.y;\n    }\n  } else {\n    for (var _vi = 0; _vi < geom.attributes.position.array.length; _vi += 9) {\n      var _vx = geom.attributes.position.array[_vi];\n      var _vy = geom.attributes.position.array[_vi + 1];\n      var _vz = geom.attributes.position.array[_vi + 2];\n      var _vx2 = geom.attributes.position.array[_vi + 3];\n      var _vy2 = geom.attributes.position.array[_vi + 4];\n      var _vz2 = geom.attributes.position.array[_vi + 5];\n      var _vx3 = geom.attributes.position.array[_vi + 6];\n      var _vy3 = geom.attributes.position.array[_vi + 7];\n      var _vz3 = geom.attributes.position.array[_vi + 8];\n\n      var _v = new THREE.Vector3(_vx, _vy, _vz);\n\n      var _v2 = new THREE.Vector3(_vx2, _vy2, _vz2);\n\n      var _v3 = new THREE.Vector3(_vx3, _vy3, _vz3);\n\n      var _uvs = makeUVs(_v, _v2, _v3);\n\n      var _idx = _vi / 3;\n\n      var _idx2 = _idx + 1;\n\n      var _idx3 = _idx + 2;\n\n      coords[2 * _idx] = _uvs.uv0.x;\n      coords[2 * _idx + 1] = _uvs.uv0.y;\n      coords[2 * _idx2] = _uvs.uv1.x;\n      coords[2 * _idx2 + 1] = _uvs.uv1.y;\n      coords[2 * _idx3] = _uvs.uv2.x;\n      coords[2 * _idx3 + 1] = _uvs.uv2.y;\n    }\n  }\n\n  if (geom.attributes.uv) delete geom.attributes.uv;\n  geom.setAttribute(\"uv\", new THREE.Float32BufferAttribute(coords, 2));\n}\n\nvar geometry = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  RoundedPlaneGeometry: RoundedPlaneGeometry,\n  applySphereUV: applySphereUV,\n  applyBoxUV: applyBoxUV\n});\n\nexport { RoundedPlaneGeometry as R, applySphereUV as a, applyBoxUV as b, geometry as g };\n", "import { Vector3, Vector2 } from 'three';\n\n/**\n * Helpers for converting buffers to and from Three.js objects\n */\n\n/**\n * Convents passed buffer of passed stride to an array of vectors with the correct length.\n *\n * @param buffer\n * @param stride\n * @returns\n */\nfunction bufferToVectors(buffer) {\n  var stride = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n  var p = [];\n\n  for (var i = 0, j = 0; i < buffer.length; i += stride, j++) {\n    if (stride === 3) {\n      p[j] = new Vector3(buffer[i], buffer[i + 1], buffer[i + 2]);\n    } else {\n      p[j] = new Vector2(buffer[i], buffer[i + 1]);\n    }\n  }\n\n  return p;\n}\n/**\n * Transforms a passed Vector2 or Vector3 array to a points buffer\n *\n * @param vectorArray\n * @returns\n */\n\nfunction vectorsToBuffer(vectorArray) {\n  var l = vectorArray.length;\n  var stride = vectorArray[0].hasOwnProperty(\"z\") ? 3 : 2;\n  var buffer = new Float32Array(l * stride);\n\n  for (var i = 0; i < l; i++) {\n    var j = i * stride;\n    buffer[j] = vectorArray[i].x;\n    buffer[j + 1] = vectorArray[i].y;\n\n    if (stride === 3) {\n      buffer[j + 2] = vectorArray[i].z;\n    }\n  }\n\n  return buffer;\n}\n\nvar three = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  bufferToVectors: bufferToVectors,\n  vectorsToBuffer: vectorsToBuffer\n});\n\nexport { bufferToVectors as b, three as t, vectorsToBuffer as v };\n", "let webGLAvailable, webGL2Available;\nfunction isWebGLAvailable() {\n  var _a;\n  if (webGLAvailable !== void 0)\n    return webGLAvailable;\n  try {\n    let gl;\n    const canvas = document.createElement(\"canvas\");\n    webGLAvailable = !!(window.WebGLRenderingContext && (gl = canvas.getContext(\"webgl\")));\n    if (gl)\n      (_a = gl.getExtension(\"WEBGL_lose_context\")) == null ? void 0 : _a.loseContext();\n    return webGLAvailable;\n  } catch (e) {\n    return webGLAvailable = false;\n  }\n}\nfunction isWebGL2Available() {\n  var _a;\n  if (webGL2Available !== void 0)\n    return webGL2Available;\n  try {\n    let gl;\n    const canvas = document.createElement(\"canvas\");\n    webGL2Available = !!(window.WebGL2RenderingContext && (gl = canvas.getContext(\"webgl2\")));\n    if (gl)\n      (_a = gl.getExtension(\"WEBGL_lose_context\")) == null ? void 0 : _a.loseContext();\n    return webGL2Available;\n  } catch (e) {\n    return webGL2Available = false;\n  }\n}\nfunction getWebGLErrorMessage() {\n  return getErrorMessage(1);\n}\nfunction getWebGL2ErrorMessage() {\n  return getErrorMessage(2);\n}\nfunction getErrorMessage(version) {\n  const names = {\n    1: \"WebGL\",\n    2: \"WebGL 2\"\n  };\n  const contexts = {\n    1: window.WebGLRenderingContext,\n    2: window.WebGL2RenderingContext\n  };\n  const element = document.createElement(\"div\");\n  element.id = \"webglmessage\";\n  element.style.fontFamily = \"monospace\";\n  element.style.fontSize = \"13px\";\n  element.style.fontWeight = \"normal\";\n  element.style.textAlign = \"center\";\n  element.style.background = \"#fff\";\n  element.style.color = \"#000\";\n  element.style.padding = \"1.5em\";\n  element.style.width = \"400px\";\n  element.style.margin = \"5em auto 0\";\n  let message = 'Your $0 does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">$1</a>';\n  if (contexts[version]) {\n    message = message.replace(\"$0\", \"graphics card\");\n  } else {\n    message = message.replace(\"$0\", \"browser\");\n  }\n  message = message.replace(\"$1\", names[version]);\n  element.innerHTML = message;\n  return element;\n}\nexport {\n  getErrorMessage,\n  getWebGL2ErrorMessage,\n  getWebGLErrorMessage,\n  isWebGL2Available,\n  isWebGLAvailable\n};\n", "import { Vector3, Line3, Plane, Triangle } from \"three\";\nconst Visible = 0;\nconst Deleted = 1;\nconst _v1 = /* @__PURE__ */ new Vector3();\nconst _line3 = /* @__PURE__ */ new Line3();\nconst _plane = /* @__PURE__ */ new Plane();\nconst _closestPoint = /* @__PURE__ */ new Vector3();\nconst _triangle = /* @__PURE__ */ new Triangle();\nclass ConvexHull {\n  constructor() {\n    this.tolerance = -1;\n    this.faces = [];\n    this.newFaces = [];\n    this.assigned = new VertexList();\n    this.unassigned = new VertexList();\n    this.vertices = [];\n  }\n  setFromPoints(points) {\n    if (points.length >= 4) {\n      this.makeEmpty();\n      for (let i = 0, l = points.length; i < l; i++) {\n        this.vertices.push(new VertexNode(points[i]));\n      }\n      this.compute();\n    }\n    return this;\n  }\n  setFromObject(object) {\n    const points = [];\n    object.updateMatrixWorld(true);\n    object.traverse(function(node) {\n      const geometry = node.geometry;\n      if (geometry !== void 0) {\n        const attribute = geometry.attributes.position;\n        if (attribute !== void 0) {\n          for (let i = 0, l = attribute.count; i < l; i++) {\n            const point = new Vector3();\n            point.fromBufferAttribute(attribute, i).applyMatrix4(node.matrixWorld);\n            points.push(point);\n          }\n        }\n      }\n    });\n    return this.setFromPoints(points);\n  }\n  containsPoint(point) {\n    const faces = this.faces;\n    for (let i = 0, l = faces.length; i < l; i++) {\n      const face = faces[i];\n      if (face.distanceToPoint(point) > this.tolerance)\n        return false;\n    }\n    return true;\n  }\n  intersectRay(ray, target) {\n    const faces = this.faces;\n    let tNear = -Infinity;\n    let tFar = Infinity;\n    for (let i = 0, l = faces.length; i < l; i++) {\n      const face = faces[i];\n      const vN = face.distanceToPoint(ray.origin);\n      const vD = face.normal.dot(ray.direction);\n      if (vN > 0 && vD >= 0)\n        return null;\n      const t = vD !== 0 ? -vN / vD : 0;\n      if (t <= 0)\n        continue;\n      if (vD > 0) {\n        tFar = Math.min(t, tFar);\n      } else {\n        tNear = Math.max(t, tNear);\n      }\n      if (tNear > tFar) {\n        return null;\n      }\n    }\n    if (tNear !== -Infinity) {\n      ray.at(tNear, target);\n    } else {\n      ray.at(tFar, target);\n    }\n    return target;\n  }\n  intersectsRay(ray) {\n    return this.intersectRay(ray, _v1) !== null;\n  }\n  makeEmpty() {\n    this.faces = [];\n    this.vertices = [];\n    return this;\n  }\n  // Adds a vertex to the 'assigned' list of vertices and assigns it to the given face\n  addVertexToFace(vertex, face) {\n    vertex.face = face;\n    if (face.outside === null) {\n      this.assigned.append(vertex);\n    } else {\n      this.assigned.insertBefore(face.outside, vertex);\n    }\n    face.outside = vertex;\n    return this;\n  }\n  // Removes a vertex from the 'assigned' list of vertices and from the given face\n  removeVertexFromFace(vertex, face) {\n    if (vertex === face.outside) {\n      if (vertex.next !== null && vertex.next.face === face) {\n        face.outside = vertex.next;\n      } else {\n        face.outside = null;\n      }\n    }\n    this.assigned.remove(vertex);\n    return this;\n  }\n  // Removes all the visible vertices that a given face is able to see which are stored in the 'assigned' vertex list\n  removeAllVerticesFromFace(face) {\n    if (face.outside !== null) {\n      const start = face.outside;\n      let end = face.outside;\n      while (end.next !== null && end.next.face === face) {\n        end = end.next;\n      }\n      this.assigned.removeSubList(start, end);\n      start.prev = end.next = null;\n      face.outside = null;\n      return start;\n    }\n  }\n  // Removes all the visible vertices that 'face' is able to see\n  deleteFaceVertices(face, absorbingFace) {\n    const faceVertices = this.removeAllVerticesFromFace(face);\n    if (faceVertices !== void 0) {\n      if (absorbingFace === void 0) {\n        this.unassigned.appendChain(faceVertices);\n      } else {\n        let vertex = faceVertices;\n        do {\n          const nextVertex = vertex.next;\n          const distance = absorbingFace.distanceToPoint(vertex.point);\n          if (distance > this.tolerance) {\n            this.addVertexToFace(vertex, absorbingFace);\n          } else {\n            this.unassigned.append(vertex);\n          }\n          vertex = nextVertex;\n        } while (vertex !== null);\n      }\n    }\n    return this;\n  }\n  // Reassigns as many vertices as possible from the unassigned list to the new faces\n  resolveUnassignedPoints(newFaces) {\n    if (this.unassigned.isEmpty() === false) {\n      let vertex = this.unassigned.first();\n      do {\n        const nextVertex = vertex.next;\n        let maxDistance = this.tolerance;\n        let maxFace = null;\n        for (let i = 0; i < newFaces.length; i++) {\n          const face = newFaces[i];\n          if (face.mark === Visible) {\n            const distance = face.distanceToPoint(vertex.point);\n            if (distance > maxDistance) {\n              maxDistance = distance;\n              maxFace = face;\n            }\n            if (maxDistance > 1e3 * this.tolerance)\n              break;\n          }\n        }\n        if (maxFace !== null) {\n          this.addVertexToFace(vertex, maxFace);\n        }\n        vertex = nextVertex;\n      } while (vertex !== null);\n    }\n    return this;\n  }\n  // Computes the extremes of a simplex which will be the initial hull\n  computeExtremes() {\n    const min = new Vector3();\n    const max = new Vector3();\n    const minVertices = [];\n    const maxVertices = [];\n    for (let i = 0; i < 3; i++) {\n      minVertices[i] = maxVertices[i] = this.vertices[0];\n    }\n    min.copy(this.vertices[0].point);\n    max.copy(this.vertices[0].point);\n    for (let i = 0, l = this.vertices.length; i < l; i++) {\n      const vertex = this.vertices[i];\n      const point = vertex.point;\n      for (let j = 0; j < 3; j++) {\n        if (point.getComponent(j) < min.getComponent(j)) {\n          min.setComponent(j, point.getComponent(j));\n          minVertices[j] = vertex;\n        }\n      }\n      for (let j = 0; j < 3; j++) {\n        if (point.getComponent(j) > max.getComponent(j)) {\n          max.setComponent(j, point.getComponent(j));\n          maxVertices[j] = vertex;\n        }\n      }\n    }\n    this.tolerance = 3 * Number.EPSILON * (Math.max(Math.abs(min.x), Math.abs(max.x)) + Math.max(Math.abs(min.y), Math.abs(max.y)) + Math.max(Math.abs(min.z), Math.abs(max.z)));\n    return { min: minVertices, max: maxVertices };\n  }\n  // Computes the initial simplex assigning to its faces all the points\n  // that are candidates to form part of the hull\n  computeInitialHull() {\n    const vertices = this.vertices;\n    const extremes = this.computeExtremes();\n    const min = extremes.min;\n    const max = extremes.max;\n    let maxDistance = 0;\n    let index = 0;\n    for (let i = 0; i < 3; i++) {\n      const distance = max[i].point.getComponent(i) - min[i].point.getComponent(i);\n      if (distance > maxDistance) {\n        maxDistance = distance;\n        index = i;\n      }\n    }\n    const v0 = min[index];\n    const v1 = max[index];\n    let v2;\n    let v3;\n    maxDistance = 0;\n    _line3.set(v0.point, v1.point);\n    for (let i = 0, l = this.vertices.length; i < l; i++) {\n      const vertex = vertices[i];\n      if (vertex !== v0 && vertex !== v1) {\n        _line3.closestPointToPoint(vertex.point, true, _closestPoint);\n        const distance = _closestPoint.distanceToSquared(vertex.point);\n        if (distance > maxDistance) {\n          maxDistance = distance;\n          v2 = vertex;\n        }\n      }\n    }\n    maxDistance = -1;\n    _plane.setFromCoplanarPoints(v0.point, v1.point, v2.point);\n    for (let i = 0, l = this.vertices.length; i < l; i++) {\n      const vertex = vertices[i];\n      if (vertex !== v0 && vertex !== v1 && vertex !== v2) {\n        const distance = Math.abs(_plane.distanceToPoint(vertex.point));\n        if (distance > maxDistance) {\n          maxDistance = distance;\n          v3 = vertex;\n        }\n      }\n    }\n    const faces = [];\n    if (_plane.distanceToPoint(v3.point) < 0) {\n      faces.push(Face.create(v0, v1, v2), Face.create(v3, v1, v0), Face.create(v3, v2, v1), Face.create(v3, v0, v2));\n      for (let i = 0; i < 3; i++) {\n        const j = (i + 1) % 3;\n        faces[i + 1].getEdge(2).setTwin(faces[0].getEdge(j));\n        faces[i + 1].getEdge(1).setTwin(faces[j + 1].getEdge(0));\n      }\n    } else {\n      faces.push(Face.create(v0, v2, v1), Face.create(v3, v0, v1), Face.create(v3, v1, v2), Face.create(v3, v2, v0));\n      for (let i = 0; i < 3; i++) {\n        const j = (i + 1) % 3;\n        faces[i + 1].getEdge(2).setTwin(faces[0].getEdge((3 - i) % 3));\n        faces[i + 1].getEdge(0).setTwin(faces[j + 1].getEdge(1));\n      }\n    }\n    for (let i = 0; i < 4; i++) {\n      this.faces.push(faces[i]);\n    }\n    for (let i = 0, l = vertices.length; i < l; i++) {\n      const vertex = vertices[i];\n      if (vertex !== v0 && vertex !== v1 && vertex !== v2 && vertex !== v3) {\n        maxDistance = this.tolerance;\n        let maxFace = null;\n        for (let j = 0; j < 4; j++) {\n          const distance = this.faces[j].distanceToPoint(vertex.point);\n          if (distance > maxDistance) {\n            maxDistance = distance;\n            maxFace = this.faces[j];\n          }\n        }\n        if (maxFace !== null) {\n          this.addVertexToFace(vertex, maxFace);\n        }\n      }\n    }\n    return this;\n  }\n  // Removes inactive faces\n  reindexFaces() {\n    const activeFaces = [];\n    for (let i = 0; i < this.faces.length; i++) {\n      const face = this.faces[i];\n      if (face.mark === Visible) {\n        activeFaces.push(face);\n      }\n    }\n    this.faces = activeFaces;\n    return this;\n  }\n  // Finds the next vertex to create faces with the current hull\n  nextVertexToAdd() {\n    if (this.assigned.isEmpty() === false) {\n      let eyeVertex, maxDistance = 0;\n      const eyeFace = this.assigned.first().face;\n      let vertex = eyeFace.outside;\n      do {\n        const distance = eyeFace.distanceToPoint(vertex.point);\n        if (distance > maxDistance) {\n          maxDistance = distance;\n          eyeVertex = vertex;\n        }\n        vertex = vertex.next;\n      } while (vertex !== null && vertex.face === eyeFace);\n      return eyeVertex;\n    }\n  }\n  // Computes a chain of half edges in CCW order called the 'horizon'.\n  // For an edge to be part of the horizon it must join a face that can see\n  // 'eyePoint' and a face that cannot see 'eyePoint'.\n  computeHorizon(eyePoint, crossEdge, face, horizon) {\n    this.deleteFaceVertices(face);\n    face.mark = Deleted;\n    let edge;\n    if (crossEdge === null) {\n      edge = crossEdge = face.getEdge(0);\n    } else {\n      edge = crossEdge.next;\n    }\n    do {\n      const twinEdge = edge.twin;\n      const oppositeFace = twinEdge.face;\n      if (oppositeFace.mark === Visible) {\n        if (oppositeFace.distanceToPoint(eyePoint) > this.tolerance) {\n          this.computeHorizon(eyePoint, twinEdge, oppositeFace, horizon);\n        } else {\n          horizon.push(edge);\n        }\n      }\n      edge = edge.next;\n    } while (edge !== crossEdge);\n    return this;\n  }\n  // Creates a face with the vertices 'eyeVertex.point', 'horizonEdge.tail' and 'horizonEdge.head' in CCW order\n  addAdjoiningFace(eyeVertex, horizonEdge) {\n    const face = Face.create(eyeVertex, horizonEdge.tail(), horizonEdge.head());\n    this.faces.push(face);\n    face.getEdge(-1).setTwin(horizonEdge.twin);\n    return face.getEdge(0);\n  }\n  //  Adds 'horizon.length' faces to the hull, each face will be linked with the\n  //  horizon opposite face and the face on the left/right\n  addNewFaces(eyeVertex, horizon) {\n    this.newFaces = [];\n    let firstSideEdge = null;\n    let previousSideEdge = null;\n    for (let i = 0; i < horizon.length; i++) {\n      const horizonEdge = horizon[i];\n      const sideEdge = this.addAdjoiningFace(eyeVertex, horizonEdge);\n      if (firstSideEdge === null) {\n        firstSideEdge = sideEdge;\n      } else {\n        sideEdge.next.setTwin(previousSideEdge);\n      }\n      this.newFaces.push(sideEdge.face);\n      previousSideEdge = sideEdge;\n    }\n    firstSideEdge.next.setTwin(previousSideEdge);\n    return this;\n  }\n  // Adds a vertex to the hull\n  addVertexToHull(eyeVertex) {\n    const horizon = [];\n    this.unassigned.clear();\n    this.removeVertexFromFace(eyeVertex, eyeVertex.face);\n    this.computeHorizon(eyeVertex.point, null, eyeVertex.face, horizon);\n    this.addNewFaces(eyeVertex, horizon);\n    this.resolveUnassignedPoints(this.newFaces);\n    return this;\n  }\n  cleanup() {\n    this.assigned.clear();\n    this.unassigned.clear();\n    this.newFaces = [];\n    return this;\n  }\n  compute() {\n    let vertex;\n    this.computeInitialHull();\n    while ((vertex = this.nextVertexToAdd()) !== void 0) {\n      this.addVertexToHull(vertex);\n    }\n    this.reindexFaces();\n    this.cleanup();\n    return this;\n  }\n}\nclass Face {\n  constructor() {\n    this.normal = new Vector3();\n    this.midpoint = new Vector3();\n    this.area = 0;\n    this.constant = 0;\n    this.outside = null;\n    this.mark = Visible;\n    this.edge = null;\n  }\n  static create(a, b, c) {\n    const face = new Face();\n    const e0 = new HalfEdge(a, face);\n    const e1 = new HalfEdge(b, face);\n    const e2 = new HalfEdge(c, face);\n    e0.next = e2.prev = e1;\n    e1.next = e0.prev = e2;\n    e2.next = e1.prev = e0;\n    face.edge = e0;\n    return face.compute();\n  }\n  getEdge(i) {\n    let edge = this.edge;\n    while (i > 0) {\n      edge = edge.next;\n      i--;\n    }\n    while (i < 0) {\n      edge = edge.prev;\n      i++;\n    }\n    return edge;\n  }\n  compute() {\n    const a = this.edge.tail();\n    const b = this.edge.head();\n    const c = this.edge.next.head();\n    _triangle.set(a.point, b.point, c.point);\n    _triangle.getNormal(this.normal);\n    _triangle.getMidpoint(this.midpoint);\n    this.area = _triangle.getArea();\n    this.constant = this.normal.dot(this.midpoint);\n    return this;\n  }\n  distanceToPoint(point) {\n    return this.normal.dot(point) - this.constant;\n  }\n}\nclass HalfEdge {\n  constructor(vertex, face) {\n    this.vertex = vertex;\n    this.prev = null;\n    this.next = null;\n    this.twin = null;\n    this.face = face;\n  }\n  head() {\n    return this.vertex;\n  }\n  tail() {\n    return this.prev ? this.prev.vertex : null;\n  }\n  length() {\n    const head = this.head();\n    const tail = this.tail();\n    if (tail !== null) {\n      return tail.point.distanceTo(head.point);\n    }\n    return -1;\n  }\n  lengthSquared() {\n    const head = this.head();\n    const tail = this.tail();\n    if (tail !== null) {\n      return tail.point.distanceToSquared(head.point);\n    }\n    return -1;\n  }\n  setTwin(edge) {\n    this.twin = edge;\n    edge.twin = this;\n    return this;\n  }\n}\nclass VertexNode {\n  constructor(point) {\n    this.point = point;\n    this.prev = null;\n    this.next = null;\n    this.face = null;\n  }\n}\nclass VertexList {\n  constructor() {\n    this.head = null;\n    this.tail = null;\n  }\n  first() {\n    return this.head;\n  }\n  last() {\n    return this.tail;\n  }\n  clear() {\n    this.head = this.tail = null;\n    return this;\n  }\n  // Inserts a vertex before the target vertex\n  insertBefore(target, vertex) {\n    vertex.prev = target.prev;\n    vertex.next = target;\n    if (vertex.prev === null) {\n      this.head = vertex;\n    } else {\n      vertex.prev.next = vertex;\n    }\n    target.prev = vertex;\n    return this;\n  }\n  // Inserts a vertex after the target vertex\n  insertAfter(target, vertex) {\n    vertex.prev = target;\n    vertex.next = target.next;\n    if (vertex.next === null) {\n      this.tail = vertex;\n    } else {\n      vertex.next.prev = vertex;\n    }\n    target.next = vertex;\n    return this;\n  }\n  // Appends a vertex to the end of the linked list\n  append(vertex) {\n    if (this.head === null) {\n      this.head = vertex;\n    } else {\n      this.tail.next = vertex;\n    }\n    vertex.prev = this.tail;\n    vertex.next = null;\n    this.tail = vertex;\n    return this;\n  }\n  // Appends a chain of vertices where 'vertex' is the head.\n  appendChain(vertex) {\n    if (this.head === null) {\n      this.head = vertex;\n    } else {\n      this.tail.next = vertex;\n    }\n    vertex.prev = this.tail;\n    while (vertex.next !== null) {\n      vertex = vertex.next;\n    }\n    this.tail = vertex;\n    return this;\n  }\n  // Removes a vertex from the linked list\n  remove(vertex) {\n    if (vertex.prev === null) {\n      this.head = vertex.next;\n    } else {\n      vertex.prev.next = vertex.next;\n    }\n    if (vertex.next === null) {\n      this.tail = vertex.prev;\n    } else {\n      vertex.next.prev = vertex.prev;\n    }\n    return this;\n  }\n  // Removes a list of vertices whose 'head' is 'a' and whose 'tail' is b\n  removeSubList(a, b) {\n    if (a.prev === null) {\n      this.head = b.next;\n    } else {\n      a.prev.next = b.next;\n    }\n    if (b.next === null) {\n      this.tail = a.prev;\n    } else {\n      b.next.prev = a.prev;\n    }\n    return this;\n  }\n  isEmpty() {\n    return this.head === null;\n  }\n}\nexport {\n  ConvexHull,\n  Face,\n  HalfEdge,\n  VertexList,\n  VertexNode\n};\n", "import { Vector3, Line3, Plane, Mesh } from \"three\";\nimport { ConvexGeometry } from \"../geometries/ConvexGeometry.js\";\nconst _v1 = /* @__PURE__ */ new Vector3();\nclass ConvexObjectBreaker {\n  constructor(minSizeForBreak = 1.4, smallDelta = 1e-4) {\n    this.minSizeForBreak = minSizeForBreak;\n    this.smallDelta = smallDelta;\n    this.tempLine1 = new Line3();\n    this.tempPlane1 = new Plane();\n    this.tempPlane2 = new Plane();\n    this.tempPlane_Cut = new Plane();\n    this.tempCM1 = new Vector3();\n    this.tempCM2 = new Vector3();\n    this.tempVector3 = new Vector3();\n    this.tempVector3_2 = new Vector3();\n    this.tempVector3_3 = new Vector3();\n    this.tempVector3_P0 = new Vector3();\n    this.tempVector3_P1 = new Vector3();\n    this.tempVector3_P2 = new Vector3();\n    this.tempVector3_N0 = new Vector3();\n    this.tempVector3_N1 = new Vector3();\n    this.tempVector3_AB = new Vector3();\n    this.tempVector3_CB = new Vector3();\n    this.tempResultObjects = { object1: null, object2: null };\n    this.segments = [];\n    const n = 30 * 30;\n    for (let i = 0; i < n; i++)\n      this.segments[i] = false;\n  }\n  prepareBreakableObject(object, mass, velocity, angularVelocity, breakable) {\n    const userData = object.userData;\n    userData.mass = mass;\n    userData.velocity = velocity.clone();\n    userData.angularVelocity = angularVelocity.clone();\n    userData.breakable = breakable;\n  }\n  /*\n   * @param {int} maxRadialIterations Iterations for radial cuts.\n   * @param {int} maxRandomIterations Max random iterations for not-radial cuts\n   *\n   * Returns the array of pieces\n   */\n  subdivideByImpact(object, pointOfImpact, normal, maxRadialIterations, maxRandomIterations) {\n    const debris = [];\n    const tempPlane1 = this.tempPlane1;\n    const tempPlane2 = this.tempPlane2;\n    this.tempVector3.addVectors(pointOfImpact, normal);\n    tempPlane1.setFromCoplanarPoints(pointOfImpact, object.position, this.tempVector3);\n    const maxTotalIterations = maxRandomIterations + maxRadialIterations;\n    const scope = this;\n    function subdivideRadial(subObject, startAngle, endAngle, numIterations) {\n      if (Math.random() < numIterations * 0.05 || numIterations > maxTotalIterations) {\n        debris.push(subObject);\n        return;\n      }\n      let angle = Math.PI;\n      if (numIterations === 0) {\n        tempPlane2.normal.copy(tempPlane1.normal);\n        tempPlane2.constant = tempPlane1.constant;\n      } else {\n        if (numIterations <= maxRadialIterations) {\n          angle = (endAngle - startAngle) * (0.2 + 0.6 * Math.random()) + startAngle;\n          scope.tempVector3_2.copy(object.position).sub(pointOfImpact).applyAxisAngle(normal, angle).add(pointOfImpact);\n          tempPlane2.setFromCoplanarPoints(pointOfImpact, scope.tempVector3, scope.tempVector3_2);\n        } else {\n          angle = (0.5 * (numIterations & 1) + 0.2 * (2 - Math.random())) * Math.PI;\n          scope.tempVector3_2.copy(pointOfImpact).sub(subObject.position).applyAxisAngle(normal, angle).add(subObject.position);\n          scope.tempVector3_3.copy(normal).add(subObject.position);\n          tempPlane2.setFromCoplanarPoints(subObject.position, scope.tempVector3_3, scope.tempVector3_2);\n        }\n      }\n      scope.cutByPlane(subObject, tempPlane2, scope.tempResultObjects);\n      const obj1 = scope.tempResultObjects.object1;\n      const obj2 = scope.tempResultObjects.object2;\n      if (obj1) {\n        subdivideRadial(obj1, startAngle, angle, numIterations + 1);\n      }\n      if (obj2) {\n        subdivideRadial(obj2, angle, endAngle, numIterations + 1);\n      }\n    }\n    subdivideRadial(object, 0, 2 * Math.PI, 0);\n    return debris;\n  }\n  cutByPlane(object, plane, output) {\n    const geometry = object.geometry;\n    const coords = geometry.attributes.position.array;\n    const normals = geometry.attributes.normal.array;\n    const numPoints = coords.length / 3;\n    let numFaces = numPoints / 3;\n    let indices = geometry.getIndex();\n    if (indices) {\n      indices = indices.array;\n      numFaces = indices.length / 3;\n    }\n    function getVertexIndex(faceIdx, vert) {\n      const idx = faceIdx * 3 + vert;\n      return indices ? indices[idx] : idx;\n    }\n    const points1 = [];\n    const points2 = [];\n    const delta = this.smallDelta;\n    const numPointPairs = numPoints * numPoints;\n    for (let i = 0; i < numPointPairs; i++)\n      this.segments[i] = false;\n    const p0 = this.tempVector3_P0;\n    const p1 = this.tempVector3_P1;\n    const n0 = this.tempVector3_N0;\n    const n1 = this.tempVector3_N1;\n    for (let i = 0; i < numFaces - 1; i++) {\n      const a1 = getVertexIndex(i, 0);\n      const b1 = getVertexIndex(i, 1);\n      const c1 = getVertexIndex(i, 2);\n      n0.set(normals[a1], normals[a1] + 1, normals[a1] + 2);\n      for (let j = i + 1; j < numFaces; j++) {\n        const a2 = getVertexIndex(j, 0);\n        const b2 = getVertexIndex(j, 1);\n        const c2 = getVertexIndex(j, 2);\n        n1.set(normals[a2], normals[a2] + 1, normals[a2] + 2);\n        const coplanar = 1 - n0.dot(n1) < delta;\n        if (coplanar) {\n          if (a1 === a2 || a1 === b2 || a1 === c2) {\n            if (b1 === a2 || b1 === b2 || b1 === c2) {\n              this.segments[a1 * numPoints + b1] = true;\n              this.segments[b1 * numPoints + a1] = true;\n            } else {\n              this.segments[c1 * numPoints + a1] = true;\n              this.segments[a1 * numPoints + c1] = true;\n            }\n          } else if (b1 === a2 || b1 === b2 || b1 === c2) {\n            this.segments[c1 * numPoints + b1] = true;\n            this.segments[b1 * numPoints + c1] = true;\n          }\n        }\n      }\n    }\n    const localPlane = this.tempPlane_Cut;\n    object.updateMatrix();\n    ConvexObjectBreaker.transformPlaneToLocalSpace(plane, object.matrix, localPlane);\n    for (let i = 0; i < numFaces; i++) {\n      const va = getVertexIndex(i, 0);\n      const vb = getVertexIndex(i, 1);\n      const vc = getVertexIndex(i, 2);\n      for (let segment = 0; segment < 3; segment++) {\n        const i0 = segment === 0 ? va : segment === 1 ? vb : vc;\n        const i1 = segment === 0 ? vb : segment === 1 ? vc : va;\n        const segmentState = this.segments[i0 * numPoints + i1];\n        if (segmentState)\n          continue;\n        this.segments[i0 * numPoints + i1] = true;\n        this.segments[i1 * numPoints + i0] = true;\n        p0.set(coords[3 * i0], coords[3 * i0 + 1], coords[3 * i0 + 2]);\n        p1.set(coords[3 * i1], coords[3 * i1 + 1], coords[3 * i1 + 2]);\n        let mark0 = 0;\n        let d = localPlane.distanceToPoint(p0);\n        if (d > delta) {\n          mark0 = 2;\n          points2.push(p0.clone());\n        } else if (d < -delta) {\n          mark0 = 1;\n          points1.push(p0.clone());\n        } else {\n          mark0 = 3;\n          points1.push(p0.clone());\n          points2.push(p0.clone());\n        }\n        let mark1 = 0;\n        d = localPlane.distanceToPoint(p1);\n        if (d > delta) {\n          mark1 = 2;\n          points2.push(p1.clone());\n        } else if (d < -delta) {\n          mark1 = 1;\n          points1.push(p1.clone());\n        } else {\n          mark1 = 3;\n          points1.push(p1.clone());\n          points2.push(p1.clone());\n        }\n        if (mark0 === 1 && mark1 === 2 || mark0 === 2 && mark1 === 1) {\n          this.tempLine1.start.copy(p0);\n          this.tempLine1.end.copy(p1);\n          let intersection = new Vector3();\n          intersection = localPlane.intersectLine(this.tempLine1, intersection);\n          if (intersection === null) {\n            console.error(\"Internal error: segment does not intersect plane.\");\n            output.segmentedObject1 = null;\n            output.segmentedObject2 = null;\n            return 0;\n          }\n          points1.push(intersection);\n          points2.push(intersection.clone());\n        }\n      }\n    }\n    const newMass = object.userData.mass * 0.5;\n    this.tempCM1.set(0, 0, 0);\n    let radius1 = 0;\n    const numPoints1 = points1.length;\n    if (numPoints1 > 0) {\n      for (let i = 0; i < numPoints1; i++)\n        this.tempCM1.add(points1[i]);\n      this.tempCM1.divideScalar(numPoints1);\n      for (let i = 0; i < numPoints1; i++) {\n        const p = points1[i];\n        p.sub(this.tempCM1);\n        radius1 = Math.max(radius1, p.x, p.y, p.z);\n      }\n      this.tempCM1.add(object.position);\n    }\n    this.tempCM2.set(0, 0, 0);\n    let radius2 = 0;\n    const numPoints2 = points2.length;\n    if (numPoints2 > 0) {\n      for (let i = 0; i < numPoints2; i++)\n        this.tempCM2.add(points2[i]);\n      this.tempCM2.divideScalar(numPoints2);\n      for (let i = 0; i < numPoints2; i++) {\n        const p = points2[i];\n        p.sub(this.tempCM2);\n        radius2 = Math.max(radius2, p.x, p.y, p.z);\n      }\n      this.tempCM2.add(object.position);\n    }\n    let object1 = null;\n    let object2 = null;\n    let numObjects = 0;\n    if (numPoints1 > 4) {\n      object1 = new Mesh(new ConvexGeometry(points1), object.material);\n      object1.position.copy(this.tempCM1);\n      object1.quaternion.copy(object.quaternion);\n      this.prepareBreakableObject(\n        object1,\n        newMass,\n        object.userData.velocity,\n        object.userData.angularVelocity,\n        2 * radius1 > this.minSizeForBreak\n      );\n      numObjects++;\n    }\n    if (numPoints2 > 4) {\n      object2 = new Mesh(new ConvexGeometry(points2), object.material);\n      object2.position.copy(this.tempCM2);\n      object2.quaternion.copy(object.quaternion);\n      this.prepareBreakableObject(\n        object2,\n        newMass,\n        object.userData.velocity,\n        object.userData.angularVelocity,\n        2 * radius2 > this.minSizeForBreak\n      );\n      numObjects++;\n    }\n    output.object1 = object1;\n    output.object2 = object2;\n    return numObjects;\n  }\n  static transformFreeVector(v, m) {\n    const x = v.x, y = v.y, z = v.z;\n    const e = m.elements;\n    v.x = e[0] * x + e[4] * y + e[8] * z;\n    v.y = e[1] * x + e[5] * y + e[9] * z;\n    v.z = e[2] * x + e[6] * y + e[10] * z;\n    return v;\n  }\n  static transformFreeVectorInverse(v, m) {\n    const x = v.x, y = v.y, z = v.z;\n    const e = m.elements;\n    v.x = e[0] * x + e[1] * y + e[2] * z;\n    v.y = e[4] * x + e[5] * y + e[6] * z;\n    v.z = e[8] * x + e[9] * y + e[10] * z;\n    return v;\n  }\n  static transformTiedVectorInverse(v, m) {\n    const x = v.x, y = v.y, z = v.z;\n    const e = m.elements;\n    v.x = e[0] * x + e[1] * y + e[2] * z - e[12];\n    v.y = e[4] * x + e[5] * y + e[6] * z - e[13];\n    v.z = e[8] * x + e[9] * y + e[10] * z - e[14];\n    return v;\n  }\n  static transformPlaneToLocalSpace(plane, m, resultPlane) {\n    resultPlane.normal.copy(plane.normal);\n    resultPlane.constant = plane.constant;\n    const referencePoint = ConvexObjectBreaker.transformTiedVectorInverse(plane.coplanarPoint(_v1), m);\n    ConvexObjectBreaker.transformFreeVectorInverse(resultPlane.normal, m);\n    resultPlane.constant = -referencePoint.dot(resultPlane.normal);\n  }\n}\nexport {\n  ConvexObjectBreaker\n};\n", "import { Vector3, Quaternion, Object3D } from \"three\";\nconst _translationObject = /* @__PURE__ */ new Vector3();\nconst _quaternionObject = /* @__PURE__ */ new Quaternion();\nconst _scaleObject = /* @__PURE__ */ new Vector3();\nconst _translationWorld = /* @__PURE__ */ new Vector3();\nconst _quaternionWorld = /* @__PURE__ */ new Quaternion();\nconst _scaleWorld = /* @__PURE__ */ new Vector3();\nclass Gyroscope extends Object3D {\n  constructor() {\n    super();\n  }\n  updateMatrixWorld(force) {\n    this.matrixAutoUpdate && this.updateMatrix();\n    if (this.matrixWorldNeedsUpdate || force) {\n      if (this.parent !== null) {\n        this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n        this.matrixWorld.decompose(_translationWorld, _quaternionWorld, _scaleWorld);\n        this.matrix.decompose(_translationObject, _quaternionObject, _scaleObject);\n        this.matrixWorld.compose(_translationWorld, _quaternionObject, _scaleWorld);\n      } else {\n        this.matrixWorld.copy(this.matrix);\n      }\n      this.matrixWorldNeedsUpdate = false;\n      force = true;\n    }\n    for (let i = 0, l = this.children.length; i < l; i++) {\n      this.children[i].updateMatrixWorld(force);\n    }\n  }\n}\nexport {\n  Gyroscope\n};\n", "import { Object3D, Vector2, Vector3, Matrix4 } from \"three\";\nclass CSS2DObject extends Object3D {\n  constructor(element = document.createElement(\"div\")) {\n    super();\n    this.isCSS2DObject = true;\n    this.element = element;\n    this.element.style.position = \"absolute\";\n    this.element.style.userSelect = \"none\";\n    this.element.setAttribute(\"draggable\", false);\n    this.center = new Vector2(0.5, 0.5);\n    this.addEventListener(\"removed\", function() {\n      this.traverse(function(object) {\n        if (object.element instanceof Element && object.element.parentNode !== null) {\n          object.element.parentNode.removeChild(object.element);\n        }\n      });\n    });\n  }\n  copy(source, recursive) {\n    super.copy(source, recursive);\n    this.element = source.element.cloneNode(true);\n    this.center = source.center;\n    return this;\n  }\n}\nconst _vector = /* @__PURE__ */ new Vector3();\nconst _viewMatrix = /* @__PURE__ */ new Matrix4();\nconst _viewProjectionMatrix = /* @__PURE__ */ new Matrix4();\nconst _a = /* @__PURE__ */ new Vector3();\nconst _b = /* @__PURE__ */ new Vector3();\nclass CSS2DRenderer {\n  constructor(parameters = {}) {\n    const _this = this;\n    let _width, _height;\n    let _widthHalf, _heightHalf;\n    const cache = {\n      objects: /* @__PURE__ */ new WeakMap()\n    };\n    const domElement = parameters.element !== void 0 ? parameters.element : document.createElement(\"div\");\n    domElement.style.overflow = \"hidden\";\n    this.domElement = domElement;\n    this.getSize = function() {\n      return {\n        width: _width,\n        height: _height\n      };\n    };\n    this.render = function(scene, camera) {\n      if (scene.matrixWorldAutoUpdate === true)\n        scene.updateMatrixWorld();\n      if (camera.parent === null && camera.matrixWorldAutoUpdate === true)\n        camera.updateMatrixWorld();\n      _viewMatrix.copy(camera.matrixWorldInverse);\n      _viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, _viewMatrix);\n      renderObject(scene, scene, camera);\n      zOrder(scene);\n    };\n    this.setSize = function(width, height) {\n      _width = width;\n      _height = height;\n      _widthHalf = _width / 2;\n      _heightHalf = _height / 2;\n      domElement.style.width = width + \"px\";\n      domElement.style.height = height + \"px\";\n    };\n    function renderObject(object, scene, camera) {\n      if (object.isCSS2DObject) {\n        _vector.setFromMatrixPosition(object.matrixWorld);\n        _vector.applyMatrix4(_viewProjectionMatrix);\n        const visible = object.visible === true && _vector.z >= -1 && _vector.z <= 1 && object.layers.test(camera.layers) === true;\n        object.element.style.display = visible === true ? \"\" : \"none\";\n        if (visible === true) {\n          object.onBeforeRender(_this, scene, camera);\n          const element = object.element;\n          element.style.transform = \"translate(\" + -100 * object.center.x + \"%,\" + -100 * object.center.y + \"%)translate(\" + (_vector.x * _widthHalf + _widthHalf) + \"px,\" + (-_vector.y * _heightHalf + _heightHalf) + \"px)\";\n          if (element.parentNode !== domElement) {\n            domElement.appendChild(element);\n          }\n          object.onAfterRender(_this, scene, camera);\n        }\n        const objectData = {\n          distanceToCameraSquared: getDistanceToSquared(camera, object)\n        };\n        cache.objects.set(object, objectData);\n      }\n      for (let i = 0, l = object.children.length; i < l; i++) {\n        renderObject(object.children[i], scene, camera);\n      }\n    }\n    function getDistanceToSquared(object1, object2) {\n      _a.setFromMatrixPosition(object1.matrixWorld);\n      _b.setFromMatrixPosition(object2.matrixWorld);\n      return _a.distanceToSquared(_b);\n    }\n    function filterAndFlatten(scene) {\n      const result = [];\n      scene.traverse(function(object) {\n        if (object.isCSS2DObject)\n          result.push(object);\n      });\n      return result;\n    }\n    function zOrder(scene) {\n      const sorted = filterAndFlatten(scene).sort(function(a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n          return b.renderOrder - a.renderOrder;\n        }\n        const distanceA = cache.objects.get(a).distanceToCameraSquared;\n        const distanceB = cache.objects.get(b).distanceToCameraSquared;\n        return distanceA - distanceB;\n      });\n      const zMax = sorted.length;\n      for (let i = 0, l = sorted.length; i < l; i++) {\n        sorted[i].element.style.zIndex = zMax - i;\n      }\n    }\n  }\n}\nexport {\n  CSS2DObject,\n  CSS2DRenderer\n};\n", "import { Vector3, Quaternion, Object3D, Matrix4 } from \"three\";\nconst _position = /* @__PURE__ */ new Vector3();\nconst _quaternion = /* @__PURE__ */ new Quaternion();\nconst _scale = /* @__PURE__ */ new Vector3();\nclass CSS3DObject extends Object3D {\n  constructor(element = document.createElement(\"div\")) {\n    super();\n    this.isCSS3DObject = true;\n    this.element = element;\n    this.element.style.position = \"absolute\";\n    this.element.style.pointerEvents = \"auto\";\n    this.element.style.userSelect = \"none\";\n    this.element.setAttribute(\"draggable\", false);\n    this.addEventListener(\"removed\", function() {\n      this.traverse(function(object) {\n        if (object.element instanceof Element && object.element.parentNode !== null) {\n          object.element.parentNode.removeChild(object.element);\n        }\n      });\n    });\n  }\n  copy(source, recursive) {\n    super.copy(source, recursive);\n    this.element = source.element.cloneNode(true);\n    return this;\n  }\n}\nclass CSS3DSprite extends CSS3DObject {\n  constructor(element) {\n    super(element);\n    this.isCSS3DSprite = true;\n    this.rotation2D = 0;\n  }\n  copy(source, recursive) {\n    super.copy(source, recursive);\n    this.rotation2D = source.rotation2D;\n    return this;\n  }\n}\nconst _matrix = /* @__PURE__ */ new Matrix4();\nconst _matrix2 = /* @__PURE__ */ new Matrix4();\nclass CSS3DRenderer {\n  constructor(parameters = {}) {\n    const _this = this;\n    let _width, _height;\n    let _widthHalf, _heightHalf;\n    const cache = {\n      camera: { fov: 0, style: \"\" },\n      objects: /* @__PURE__ */ new WeakMap()\n    };\n    const domElement = parameters.element !== void 0 ? parameters.element : document.createElement(\"div\");\n    domElement.style.overflow = \"hidden\";\n    this.domElement = domElement;\n    const viewElement = document.createElement(\"div\");\n    viewElement.style.transformOrigin = \"0 0\";\n    viewElement.style.pointerEvents = \"none\";\n    domElement.appendChild(viewElement);\n    const cameraElement = document.createElement(\"div\");\n    cameraElement.style.transformStyle = \"preserve-3d\";\n    viewElement.appendChild(cameraElement);\n    this.getSize = function() {\n      return {\n        width: _width,\n        height: _height\n      };\n    };\n    this.render = function(scene, camera) {\n      const fov = camera.projectionMatrix.elements[5] * _heightHalf;\n      if (cache.camera.fov !== fov) {\n        viewElement.style.perspective = camera.isPerspectiveCamera ? fov + \"px\" : \"\";\n        cache.camera.fov = fov;\n      }\n      if (camera.view && camera.view.enabled) {\n        viewElement.style.transform = `translate( ${-camera.view.offsetX * (_width / camera.view.width)}px, ${-camera.view.offsetY * (_height / camera.view.height)}px )`;\n        viewElement.style.transform += `scale( ${camera.view.fullWidth / camera.view.width}, ${camera.view.fullHeight / camera.view.height} )`;\n      } else {\n        viewElement.style.transform = \"\";\n      }\n      if (scene.matrixWorldAutoUpdate === true)\n        scene.updateMatrixWorld();\n      if (camera.parent === null && camera.matrixWorldAutoUpdate === true)\n        camera.updateMatrixWorld();\n      let tx, ty;\n      if (camera.isOrthographicCamera) {\n        tx = -(camera.right + camera.left) / 2;\n        ty = (camera.top + camera.bottom) / 2;\n      }\n      const scaleByViewOffset = camera.view && camera.view.enabled ? camera.view.height / camera.view.fullHeight : 1;\n      const cameraCSSMatrix = camera.isOrthographicCamera ? `scale( ${scaleByViewOffset} )scale(` + fov + \")translate(\" + epsilon(tx) + \"px,\" + epsilon(ty) + \"px)\" + getCameraCSSMatrix(camera.matrixWorldInverse) : `scale( ${scaleByViewOffset} )translateZ(` + fov + \"px)\" + getCameraCSSMatrix(camera.matrixWorldInverse);\n      const style = cameraCSSMatrix + \"translate(\" + _widthHalf + \"px,\" + _heightHalf + \"px)\";\n      if (cache.camera.style !== style) {\n        cameraElement.style.transform = style;\n        cache.camera.style = style;\n      }\n      renderObject(scene, scene, camera, cameraCSSMatrix);\n    };\n    this.setSize = function(width, height) {\n      _width = width;\n      _height = height;\n      _widthHalf = _width / 2;\n      _heightHalf = _height / 2;\n      domElement.style.width = width + \"px\";\n      domElement.style.height = height + \"px\";\n      viewElement.style.width = width + \"px\";\n      viewElement.style.height = height + \"px\";\n      cameraElement.style.width = width + \"px\";\n      cameraElement.style.height = height + \"px\";\n    };\n    function epsilon(value) {\n      return Math.abs(value) < 1e-10 ? 0 : value;\n    }\n    function getCameraCSSMatrix(matrix) {\n      const elements = matrix.elements;\n      return \"matrix3d(\" + epsilon(elements[0]) + \",\" + epsilon(-elements[1]) + \",\" + epsilon(elements[2]) + \",\" + epsilon(elements[3]) + \",\" + epsilon(elements[4]) + \",\" + epsilon(-elements[5]) + \",\" + epsilon(elements[6]) + \",\" + epsilon(elements[7]) + \",\" + epsilon(elements[8]) + \",\" + epsilon(-elements[9]) + \",\" + epsilon(elements[10]) + \",\" + epsilon(elements[11]) + \",\" + epsilon(elements[12]) + \",\" + epsilon(-elements[13]) + \",\" + epsilon(elements[14]) + \",\" + epsilon(elements[15]) + \")\";\n    }\n    function getObjectCSSMatrix(matrix) {\n      const elements = matrix.elements;\n      const matrix3d = \"matrix3d(\" + epsilon(elements[0]) + \",\" + epsilon(elements[1]) + \",\" + epsilon(elements[2]) + \",\" + epsilon(elements[3]) + \",\" + epsilon(-elements[4]) + \",\" + epsilon(-elements[5]) + \",\" + epsilon(-elements[6]) + \",\" + epsilon(-elements[7]) + \",\" + epsilon(elements[8]) + \",\" + epsilon(elements[9]) + \",\" + epsilon(elements[10]) + \",\" + epsilon(elements[11]) + \",\" + epsilon(elements[12]) + \",\" + epsilon(elements[13]) + \",\" + epsilon(elements[14]) + \",\" + epsilon(elements[15]) + \")\";\n      return \"translate(-50%,-50%)\" + matrix3d;\n    }\n    function renderObject(object, scene, camera, cameraCSSMatrix) {\n      if (object.isCSS3DObject) {\n        const visible = object.visible === true && object.layers.test(camera.layers) === true;\n        object.element.style.display = visible === true ? \"\" : \"none\";\n        if (visible === true) {\n          object.onBeforeRender(_this, scene, camera);\n          let style;\n          if (object.isCSS3DSprite) {\n            _matrix.copy(camera.matrixWorldInverse);\n            _matrix.transpose();\n            if (object.rotation2D !== 0)\n              _matrix.multiply(_matrix2.makeRotationZ(object.rotation2D));\n            object.matrixWorld.decompose(_position, _quaternion, _scale);\n            _matrix.setPosition(_position);\n            _matrix.scale(_scale);\n            _matrix.elements[3] = 0;\n            _matrix.elements[7] = 0;\n            _matrix.elements[11] = 0;\n            _matrix.elements[15] = 1;\n            style = getObjectCSSMatrix(_matrix);\n          } else {\n            style = getObjectCSSMatrix(object.matrixWorld);\n          }\n          const element = object.element;\n          const cachedObject = cache.objects.get(object);\n          if (cachedObject === void 0 || cachedObject.style !== style) {\n            element.style.transform = style;\n            const objectData = { style };\n            cache.objects.set(object, objectData);\n          }\n          if (element.parentNode !== cameraElement) {\n            cameraElement.appendChild(element);\n          }\n          object.onAfterRender(_this, scene, camera);\n        }\n      }\n      for (let i = 0, l = object.children.length; i < l; i++) {\n        renderObject(object.children[i], scene, camera, cameraCSSMatrix);\n      }\n    }\n  }\n}\nexport {\n  CSS3DObject,\n  CSS3DRenderer,\n  CSS3DSprite\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { DataTexture, RGBAFormat, FloatType, RepeatWrapping, NearestFilter, Mesh, InstancedMesh, Matrix4, DynamicDrawUsage } from \"three\";\nconst CHANNELS = 4;\nconst TEXTURE_WIDTH = 1024;\nconst TEXTURE_HEIGHT = 4;\nconst initSplineTexture = (numberOfCurves = 1) => {\n  const dataArray = new Float32Array(TEXTURE_WIDTH * TEXTURE_HEIGHT * numberOfCurves * CHANNELS);\n  const dataTexture = new DataTexture(dataArray, TEXTURE_WIDTH, TEXTURE_HEIGHT * numberOfCurves, RGBAFormat, FloatType);\n  dataTexture.wrapS = RepeatWrapping;\n  dataTexture.wrapT = RepeatWrapping;\n  dataTexture.magFilter = NearestFilter;\n  dataTexture.needsUpdate = true;\n  return dataTexture;\n};\nconst updateSplineTexture = (texture, splineCurve, offset = 0) => {\n  const numberOfPoints = Math.floor(TEXTURE_WIDTH * (TEXTURE_HEIGHT / 4));\n  splineCurve.arcLengthDivisions = numberOfPoints / 2;\n  splineCurve.updateArcLengths();\n  const points = splineCurve.getSpacedPoints(numberOfPoints);\n  const frenetFrames = splineCurve.computeFrenetFrames(numberOfPoints, true);\n  for (let i = 0; i < numberOfPoints; i++) {\n    const rowOffset = Math.floor(i / TEXTURE_WIDTH);\n    const rowIndex = i % TEXTURE_WIDTH;\n    let pt = points[i];\n    setTextureValue(texture, rowIndex, pt.x, pt.y, pt.z, 0 + rowOffset + TEXTURE_HEIGHT * offset);\n    pt = frenetFrames.tangents[i];\n    setTextureValue(texture, rowIndex, pt.x, pt.y, pt.z, 1 + rowOffset + TEXTURE_HEIGHT * offset);\n    pt = frenetFrames.normals[i];\n    setTextureValue(texture, rowIndex, pt.x, pt.y, pt.z, 2 + rowOffset + TEXTURE_HEIGHT * offset);\n    pt = frenetFrames.binormals[i];\n    setTextureValue(texture, rowIndex, pt.x, pt.y, pt.z, 3 + rowOffset + TEXTURE_HEIGHT * offset);\n  }\n  texture.needsUpdate = true;\n};\nconst setTextureValue = (texture, index, x, y, z, o) => {\n  const image = texture.image;\n  const { data } = image;\n  const i = CHANNELS * TEXTURE_WIDTH * o;\n  data[index * CHANNELS + i + 0] = x;\n  data[index * CHANNELS + i + 1] = y;\n  data[index * CHANNELS + i + 2] = z;\n  data[index * CHANNELS + i + 3] = 1;\n};\nconst getUniforms = (splineTexture) => ({\n  spineTexture: { value: splineTexture },\n  pathOffset: { type: \"f\", value: 0 },\n  // time of path curve\n  pathSegment: { type: \"f\", value: 1 },\n  // fractional length of path\n  spineOffset: { type: \"f\", value: 161 },\n  spineLength: { type: \"f\", value: 400 },\n  flow: { type: \"i\", value: 1 }\n});\nfunction modifyShader(material, uniforms, numberOfCurves = 1) {\n  if (material.__ok)\n    return;\n  material.__ok = true;\n  material.onBeforeCompile = (shader) => {\n    if (shader.__modified)\n      return;\n    shader.__modified = true;\n    Object.assign(shader.uniforms, uniforms);\n    const vertexShader = (\n      /* glsl */\n      `\n\t\tuniform sampler2D spineTexture;\n\t\tuniform float pathOffset;\n\t\tuniform float pathSegment;\n\t\tuniform float spineOffset;\n\t\tuniform float spineLength;\n\t\tuniform int flow;\n\n\t\tfloat textureLayers = ${TEXTURE_HEIGHT * numberOfCurves}.;\n\t\tfloat textureStacks = ${TEXTURE_HEIGHT / 4}.;\n\n\t\t${shader.vertexShader}\n\t\t`.replace(\"#include <beginnormal_vertex>\", \"\").replace(\"#include <defaultnormal_vertex>\", \"\").replace(\"#include <begin_vertex>\", \"\").replace(\n        /void\\s*main\\s*\\(\\)\\s*\\{/,\n        /* glsl */\n        `\n        void main() {\n        #include <beginnormal_vertex>\n\n        vec4 worldPos = modelMatrix * vec4(position, 1.);\n\n        bool bend = flow > 0;\n        float xWeight = bend ? 0. : 1.;\n\n        #ifdef USE_INSTANCING\n        float pathOffsetFromInstanceMatrix = instanceMatrix[3][2];\n        float spineLengthFromInstanceMatrix = instanceMatrix[3][0];\n        float spinePortion = bend ? (worldPos.x + spineOffset) / spineLengthFromInstanceMatrix : 0.;\n        float mt = (spinePortion * pathSegment + pathOffset + pathOffsetFromInstanceMatrix)*textureStacks;\n        #else\n        float spinePortion = bend ? (worldPos.x + spineOffset) / spineLength : 0.;\n        float mt = (spinePortion * pathSegment + pathOffset)*textureStacks;\n        #endif\n\n        mt = mod(mt, textureStacks);\n        float rowOffset = floor(mt);\n\n        #ifdef USE_INSTANCING\n        rowOffset += instanceMatrix[3][1] * ${TEXTURE_HEIGHT}.;\n        #endif\n\n        vec3 spinePos = texture2D(spineTexture, vec2(mt, (0. + rowOffset + 0.5) / textureLayers)).xyz;\n        vec3 a =        texture2D(spineTexture, vec2(mt, (1. + rowOffset + 0.5) / textureLayers)).xyz;\n        vec3 b =        texture2D(spineTexture, vec2(mt, (2. + rowOffset + 0.5) / textureLayers)).xyz;\n        vec3 c =        texture2D(spineTexture, vec2(mt, (3. + rowOffset + 0.5) / textureLayers)).xyz;\n        mat3 basis = mat3(a, b, c);\n\n        vec3 transformed = basis\n          * vec3(worldPos.x * xWeight, worldPos.y * 1., worldPos.z * 1.)\n          + spinePos;\n\n        vec3 transformedNormal = normalMatrix * (basis * objectNormal);\n\t\t\t`\n      ).replace(\n        \"#include <project_vertex>\",\n        /* glsl */\n        `vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;`\n      )\n    );\n    shader.vertexShader = vertexShader;\n  };\n}\nclass Flow {\n  /**\n   * @param {Mesh} mesh The mesh to clone and modify to bend around the curve\n   * @param {number} numberOfCurves The amount of space that should preallocated for additional curves\n   */\n  constructor(mesh, numberOfCurves = 1) {\n    __publicField(this, \"curveArray\");\n    __publicField(this, \"curveLengthArray\");\n    __publicField(this, \"object3D\");\n    __publicField(this, \"splineTexure\");\n    __publicField(this, \"uniforms\");\n    const obj3D = mesh.clone();\n    const splineTexure = initSplineTexture(numberOfCurves);\n    const uniforms = getUniforms(splineTexure);\n    obj3D.traverse((child) => {\n      if (child instanceof Mesh || child instanceof InstancedMesh) {\n        child.material = child.material.clone();\n        modifyShader(child.material, uniforms, numberOfCurves);\n      }\n    });\n    this.curveArray = new Array(numberOfCurves);\n    this.curveLengthArray = new Array(numberOfCurves);\n    this.object3D = obj3D;\n    this.splineTexure = splineTexure;\n    this.uniforms = uniforms;\n  }\n  updateCurve(index, curve) {\n    if (index >= this.curveArray.length)\n      throw Error(\"Index out of range for Flow\");\n    const curveLength = curve.getLength();\n    this.uniforms.spineLength.value = curveLength;\n    this.curveLengthArray[index] = curveLength;\n    this.curveArray[index] = curve;\n    updateSplineTexture(this.splineTexure, curve, index);\n  }\n  moveAlongCurve(amount) {\n    this.uniforms.pathOffset.value += amount;\n  }\n}\nconst matrix = /* @__PURE__ */ new Matrix4();\nclass InstancedFlow extends Flow {\n  /**\n   *\n   * @param {number} count The number of instanced elements\n   * @param {number} curveCount The number of curves to preallocate for\n   * @param {Geometry} geometry The geometry to use for the instanced mesh\n   * @param {Material} material The material to use for the instanced mesh\n   */\n  constructor(count, curveCount, geometry, material) {\n    const mesh = new InstancedMesh(geometry, material, count);\n    mesh.instanceMatrix.setUsage(DynamicDrawUsage);\n    mesh.frustumCulled = false;\n    super(mesh, curveCount);\n    __publicField(this, \"offsets\");\n    __publicField(this, \"whichCurve\");\n    this.offsets = new Array(count).fill(0);\n    this.whichCurve = new Array(count).fill(0);\n  }\n  /**\n   * The extra information about which curve and curve position is stored in the translation components of the matrix for the instanced objects\n   * This writes that information to the matrix and marks it as needing update.\n   *\n   * @param {number} index of the instanced element to update\n   */\n  writeChanges(index) {\n    matrix.makeTranslation(this.curveLengthArray[this.whichCurve[index]], this.whichCurve[index], this.offsets[index]);\n    this.object3D.setMatrixAt(index, matrix);\n    this.object3D.instanceMatrix.needsUpdate = true;\n  }\n  /**\n   * Move an individual element along the curve by a specific amount\n   *\n   * @param {number} index Which element to update\n   * @param {number} offset Move by how much\n   */\n  moveIndividualAlongCurve(index, offset) {\n    this.offsets[index] += offset;\n    this.writeChanges(index);\n  }\n  /**\n   * Select which curve to use for an element\n   *\n   * @param {number} index the index of the instanced element to update\n   * @param {number} curveNo the index of the curve it should use\n   */\n  setCurve(index, curveNo) {\n    if (isNaN(curveNo))\n      throw Error(\"curve index being set is Not a Number (NaN)\");\n    this.whichCurve[index] = curveNo;\n    this.writeChanges(index);\n  }\n}\nexport {\n  Flow,\n  InstancedFlow,\n  getUniforms,\n  initSplineTexture,\n  modifyShader,\n  updateSplineTexture\n};\n", "import { BufferGeometry, BufferAttribute, InterleavedBuffer, InterleavedBufferAttribute, TrianglesDrawMode, TriangleFanDrawMode, TriangleStripDrawMode, Vector3, Float32BufferAttribute } from \"three\";\nimport { getWithKey } from \"../types/helpers.js\";\nconst mergeBufferGeometries = (geometries, useGroups) => {\n  const isIndexed = geometries[0].index !== null;\n  const attributesUsed = new Set(Object.keys(geometries[0].attributes));\n  const morphAttributesUsed = new Set(Object.keys(geometries[0].morphAttributes));\n  const attributes = {};\n  const morphAttributes = {};\n  const morphTargetsRelative = geometries[0].morphTargetsRelative;\n  const mergedGeometry = new BufferGeometry();\n  let offset = 0;\n  geometries.forEach((geom, i) => {\n    let attributesCount = 0;\n    if (isIndexed !== (geom.index !== null)) {\n      console.error(\n        \"THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index \" + i + \". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.\"\n      );\n      return null;\n    }\n    for (let name in geom.attributes) {\n      if (!attributesUsed.has(name)) {\n        console.error(\n          \"THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index \" + i + '. All geometries must have compatible attributes; make sure \"' + name + '\" attribute exists among all geometries, or in none of them.'\n        );\n        return null;\n      }\n      if (attributes[name] === void 0) {\n        attributes[name] = [];\n      }\n      attributes[name].push(geom.attributes[name]);\n      attributesCount++;\n    }\n    if (attributesCount !== attributesUsed.size) {\n      console.error(\n        \"THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index \" + i + \". Make sure all geometries have the same number of attributes.\"\n      );\n      return null;\n    }\n    if (morphTargetsRelative !== geom.morphTargetsRelative) {\n      console.error(\n        \"THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index \" + i + \". .morphTargetsRelative must be consistent throughout all geometries.\"\n      );\n      return null;\n    }\n    for (let name in geom.morphAttributes) {\n      if (!morphAttributesUsed.has(name)) {\n        console.error(\n          \"THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index \" + i + \".  .morphAttributes must be consistent throughout all geometries.\"\n        );\n        return null;\n      }\n      if (morphAttributes[name] === void 0)\n        morphAttributes[name] = [];\n      morphAttributes[name].push(geom.morphAttributes[name]);\n    }\n    mergedGeometry.userData.mergedUserData = mergedGeometry.userData.mergedUserData || [];\n    mergedGeometry.userData.mergedUserData.push(geom.userData);\n    if (useGroups) {\n      let count;\n      if (geom.index) {\n        count = geom.index.count;\n      } else if (geom.attributes.position !== void 0) {\n        count = geom.attributes.position.count;\n      } else {\n        console.error(\n          \"THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index \" + i + \". The geometry must have either an index or a position attribute\"\n        );\n        return null;\n      }\n      mergedGeometry.addGroup(offset, count, i);\n      offset += count;\n    }\n  });\n  if (isIndexed) {\n    let indexOffset = 0;\n    const mergedIndex = [];\n    geometries.forEach((geom) => {\n      const index = geom.index;\n      for (let j = 0; j < index.count; ++j) {\n        mergedIndex.push(index.getX(j) + indexOffset);\n      }\n      indexOffset += geom.attributes.position.count;\n    });\n    mergedGeometry.setIndex(mergedIndex);\n  }\n  for (let name in attributes) {\n    const mergedAttribute = mergeBufferAttributes(attributes[name]);\n    if (!mergedAttribute) {\n      console.error(\n        \"THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the \" + name + \" attribute.\"\n      );\n      return null;\n    }\n    mergedGeometry.setAttribute(name, mergedAttribute);\n  }\n  for (let name in morphAttributes) {\n    const numMorphTargets = morphAttributes[name][0].length;\n    if (numMorphTargets === 0)\n      break;\n    mergedGeometry.morphAttributes = mergedGeometry.morphAttributes || {};\n    mergedGeometry.morphAttributes[name] = [];\n    for (let i = 0; i < numMorphTargets; ++i) {\n      const morphAttributesToMerge = [];\n      for (let j = 0; j < morphAttributes[name].length; ++j) {\n        morphAttributesToMerge.push(morphAttributes[name][j][i]);\n      }\n      const mergedMorphAttribute = mergeBufferAttributes(morphAttributesToMerge);\n      if (!mergedMorphAttribute) {\n        console.error(\n          \"THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the \" + name + \" morphAttribute.\"\n        );\n        return null;\n      }\n      mergedGeometry.morphAttributes[name].push(mergedMorphAttribute);\n    }\n  }\n  return mergedGeometry;\n};\nconst mergeBufferAttributes = (attributes) => {\n  let TypedArray = void 0;\n  let itemSize = void 0;\n  let normalized = void 0;\n  let arrayLength = 0;\n  attributes.forEach((attr) => {\n    if (TypedArray === void 0) {\n      TypedArray = attr.array.constructor;\n    }\n    if (TypedArray !== attr.array.constructor) {\n      console.error(\n        \"THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.\"\n      );\n      return null;\n    }\n    if (itemSize === void 0)\n      itemSize = attr.itemSize;\n    if (itemSize !== attr.itemSize) {\n      console.error(\n        \"THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.\"\n      );\n      return null;\n    }\n    if (normalized === void 0)\n      normalized = attr.normalized;\n    if (normalized !== attr.normalized) {\n      console.error(\n        \"THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.\"\n      );\n      return null;\n    }\n    arrayLength += attr.array.length;\n  });\n  if (TypedArray && itemSize) {\n    const array = new TypedArray(arrayLength);\n    let offset = 0;\n    attributes.forEach((attr) => {\n      array.set(attr.array, offset);\n      offset += attr.array.length;\n    });\n    return new BufferAttribute(array, itemSize, normalized);\n  }\n};\nconst interleaveAttributes = (attributes) => {\n  let TypedArray = void 0;\n  let arrayLength = 0;\n  let stride = 0;\n  for (let i = 0, l = attributes.length; i < l; ++i) {\n    const attribute = attributes[i];\n    if (TypedArray === void 0)\n      TypedArray = attribute.array.constructor;\n    if (TypedArray !== attribute.array.constructor) {\n      console.error(\"AttributeBuffers of different types cannot be interleaved\");\n      return null;\n    }\n    arrayLength += attribute.array.length;\n    stride += attribute.itemSize;\n  }\n  const interleavedBuffer = new InterleavedBuffer(new TypedArray(arrayLength), stride);\n  let offset = 0;\n  const res = [];\n  const getters = [\"getX\", \"getY\", \"getZ\", \"getW\"];\n  const setters = [\"setX\", \"setY\", \"setZ\", \"setW\"];\n  for (let j = 0, l = attributes.length; j < l; j++) {\n    const attribute = attributes[j];\n    const itemSize = attribute.itemSize;\n    const count = attribute.count;\n    const iba = new InterleavedBufferAttribute(interleavedBuffer, itemSize, offset, attribute.normalized);\n    res.push(iba);\n    offset += itemSize;\n    for (let c = 0; c < count; c++) {\n      for (let k = 0; k < itemSize; k++) {\n        const set = getWithKey(iba, setters[k]);\n        const get = getWithKey(attribute, getters[k]);\n        set(c, get(c));\n      }\n    }\n  }\n  return res;\n};\nfunction estimateBytesUsed(geometry) {\n  let mem = 0;\n  for (let name in geometry.attributes) {\n    const attr = geometry.getAttribute(name);\n    mem += attr.count * attr.itemSize * attr.array.BYTES_PER_ELEMENT;\n  }\n  const indices = geometry.getIndex();\n  mem += indices ? indices.count * indices.itemSize * indices.array.BYTES_PER_ELEMENT : 0;\n  return mem;\n}\nfunction mergeVertices(geometry, tolerance = 1e-4) {\n  tolerance = Math.max(tolerance, Number.EPSILON);\n  const hashToIndex = {};\n  const indices = geometry.getIndex();\n  const positions = geometry.getAttribute(\"position\");\n  const vertexCount = indices ? indices.count : positions.count;\n  let nextIndex = 0;\n  const attributeNames = Object.keys(geometry.attributes);\n  const attrArrays = {};\n  const morphAttrsArrays = {};\n  const newIndices = [];\n  const getters = [\"getX\", \"getY\", \"getZ\", \"getW\"];\n  for (let i = 0, l = attributeNames.length; i < l; i++) {\n    const name = attributeNames[i];\n    attrArrays[name] = [];\n    const morphAttr = geometry.morphAttributes[name];\n    if (morphAttr) {\n      morphAttrsArrays[name] = new Array(morphAttr.length).fill(0).map(() => []);\n    }\n  }\n  const decimalShift = Math.log10(1 / tolerance);\n  const shiftMultiplier = Math.pow(10, decimalShift);\n  for (let i = 0; i < vertexCount; i++) {\n    const index = indices ? indices.getX(i) : i;\n    let hash = \"\";\n    for (let j = 0, l = attributeNames.length; j < l; j++) {\n      const name = attributeNames[j];\n      const attribute = geometry.getAttribute(name);\n      const itemSize = attribute.itemSize;\n      for (let k = 0; k < itemSize; k++) {\n        hash += `${~~(attribute[getters[k]](index) * shiftMultiplier)},`;\n      }\n    }\n    if (hash in hashToIndex) {\n      newIndices.push(hashToIndex[hash]);\n    } else {\n      for (let j = 0, l = attributeNames.length; j < l; j++) {\n        const name = attributeNames[j];\n        const attribute = geometry.getAttribute(name);\n        const morphAttr = geometry.morphAttributes[name];\n        const itemSize = attribute.itemSize;\n        const newarray = attrArrays[name];\n        const newMorphArrays = morphAttrsArrays[name];\n        for (let k = 0; k < itemSize; k++) {\n          const getterFunc = getters[k];\n          newarray.push(attribute[getterFunc](index));\n          if (morphAttr) {\n            for (let m = 0, ml = morphAttr.length; m < ml; m++) {\n              newMorphArrays[m].push(morphAttr[m][getterFunc](index));\n            }\n          }\n        }\n      }\n      hashToIndex[hash] = nextIndex;\n      newIndices.push(nextIndex);\n      nextIndex++;\n    }\n  }\n  const result = geometry.clone();\n  for (let i = 0, l = attributeNames.length; i < l; i++) {\n    const name = attributeNames[i];\n    const oldAttribute = geometry.getAttribute(name);\n    const buffer = new oldAttribute.array.constructor(attrArrays[name]);\n    const attribute = new BufferAttribute(buffer, oldAttribute.itemSize, oldAttribute.normalized);\n    result.setAttribute(name, attribute);\n    if (name in morphAttrsArrays) {\n      for (let j = 0; j < morphAttrsArrays[name].length; j++) {\n        const oldMorphAttribute = geometry.morphAttributes[name][j];\n        const buffer2 = new oldMorphAttribute.array.constructor(morphAttrsArrays[name][j]);\n        const morphAttribute = new BufferAttribute(buffer2, oldMorphAttribute.itemSize, oldMorphAttribute.normalized);\n        result.morphAttributes[name][j] = morphAttribute;\n      }\n    }\n  }\n  result.setIndex(newIndices);\n  return result;\n}\nfunction toTrianglesDrawMode(geometry, drawMode) {\n  if (drawMode === TrianglesDrawMode) {\n    console.warn(\"THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.\");\n    return geometry;\n  }\n  if (drawMode === TriangleFanDrawMode || drawMode === TriangleStripDrawMode) {\n    let index = geometry.getIndex();\n    if (index === null) {\n      const indices = [];\n      const position = geometry.getAttribute(\"position\");\n      if (position !== void 0) {\n        for (let i = 0; i < position.count; i++) {\n          indices.push(i);\n        }\n        geometry.setIndex(indices);\n        index = geometry.getIndex();\n      } else {\n        console.error(\n          \"THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.\"\n        );\n        return geometry;\n      }\n    }\n    const numberOfTriangles = index.count - 2;\n    const newIndices = [];\n    if (index) {\n      if (drawMode === TriangleFanDrawMode) {\n        for (let i = 1; i <= numberOfTriangles; i++) {\n          newIndices.push(index.getX(0));\n          newIndices.push(index.getX(i));\n          newIndices.push(index.getX(i + 1));\n        }\n      } else {\n        for (let i = 0; i < numberOfTriangles; i++) {\n          if (i % 2 === 0) {\n            newIndices.push(index.getX(i));\n            newIndices.push(index.getX(i + 1));\n            newIndices.push(index.getX(i + 2));\n          } else {\n            newIndices.push(index.getX(i + 2));\n            newIndices.push(index.getX(i + 1));\n            newIndices.push(index.getX(i));\n          }\n        }\n      }\n    }\n    if (newIndices.length / 3 !== numberOfTriangles) {\n      console.error(\"THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.\");\n    }\n    const newGeometry = geometry.clone();\n    newGeometry.setIndex(newIndices);\n    newGeometry.clearGroups();\n    return newGeometry;\n  } else {\n    console.error(\"THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:\", drawMode);\n    return geometry;\n  }\n}\nfunction computeMorphedAttributes(object) {\n  if (object.geometry.isBufferGeometry !== true) {\n    console.error(\"THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry.\");\n    return null;\n  }\n  const _vA = new Vector3();\n  const _vB = new Vector3();\n  const _vC = new Vector3();\n  const _tempA = new Vector3();\n  const _tempB = new Vector3();\n  const _tempC = new Vector3();\n  const _morphA = new Vector3();\n  const _morphB = new Vector3();\n  const _morphC = new Vector3();\n  function _calculateMorphedAttributeData(object2, material2, attribute, morphAttribute, morphTargetsRelative2, a2, b2, c2, modifiedAttributeArray) {\n    _vA.fromBufferAttribute(attribute, a2);\n    _vB.fromBufferAttribute(attribute, b2);\n    _vC.fromBufferAttribute(attribute, c2);\n    const morphInfluences = object2.morphTargetInfluences;\n    if (\n      // @ts-ignore\n      material2.morphTargets && morphAttribute && morphInfluences\n    ) {\n      _morphA.set(0, 0, 0);\n      _morphB.set(0, 0, 0);\n      _morphC.set(0, 0, 0);\n      for (let i2 = 0, il2 = morphAttribute.length; i2 < il2; i2++) {\n        const influence = morphInfluences[i2];\n        const morph = morphAttribute[i2];\n        if (influence === 0)\n          continue;\n        _tempA.fromBufferAttribute(morph, a2);\n        _tempB.fromBufferAttribute(morph, b2);\n        _tempC.fromBufferAttribute(morph, c2);\n        if (morphTargetsRelative2) {\n          _morphA.addScaledVector(_tempA, influence);\n          _morphB.addScaledVector(_tempB, influence);\n          _morphC.addScaledVector(_tempC, influence);\n        } else {\n          _morphA.addScaledVector(_tempA.sub(_vA), influence);\n          _morphB.addScaledVector(_tempB.sub(_vB), influence);\n          _morphC.addScaledVector(_tempC.sub(_vC), influence);\n        }\n      }\n      _vA.add(_morphA);\n      _vB.add(_morphB);\n      _vC.add(_morphC);\n    }\n    if (object2.isSkinnedMesh) {\n      object2.boneTransform(a2, _vA);\n      object2.boneTransform(b2, _vB);\n      object2.boneTransform(c2, _vC);\n    }\n    modifiedAttributeArray[a2 * 3 + 0] = _vA.x;\n    modifiedAttributeArray[a2 * 3 + 1] = _vA.y;\n    modifiedAttributeArray[a2 * 3 + 2] = _vA.z;\n    modifiedAttributeArray[b2 * 3 + 0] = _vB.x;\n    modifiedAttributeArray[b2 * 3 + 1] = _vB.y;\n    modifiedAttributeArray[b2 * 3 + 2] = _vB.z;\n    modifiedAttributeArray[c2 * 3 + 0] = _vC.x;\n    modifiedAttributeArray[c2 * 3 + 1] = _vC.y;\n    modifiedAttributeArray[c2 * 3 + 2] = _vC.z;\n  }\n  const geometry = object.geometry;\n  const material = object.material;\n  let a, b, c;\n  const index = geometry.index;\n  const positionAttribute = geometry.attributes.position;\n  const morphPosition = geometry.morphAttributes.position;\n  const morphTargetsRelative = geometry.morphTargetsRelative;\n  const normalAttribute = geometry.attributes.normal;\n  const morphNormal = geometry.morphAttributes.position;\n  const groups = geometry.groups;\n  const drawRange = geometry.drawRange;\n  let i, j, il, jl;\n  let group, groupMaterial;\n  let start, end;\n  const modifiedPosition = new Float32Array(positionAttribute.count * positionAttribute.itemSize);\n  const modifiedNormal = new Float32Array(normalAttribute.count * normalAttribute.itemSize);\n  if (index !== null) {\n    if (Array.isArray(material)) {\n      for (i = 0, il = groups.length; i < il; i++) {\n        group = groups[i];\n        groupMaterial = material[group.materialIndex];\n        start = Math.max(group.start, drawRange.start);\n        end = Math.min(group.start + group.count, drawRange.start + drawRange.count);\n        for (j = start, jl = end; j < jl; j += 3) {\n          a = index.getX(j);\n          b = index.getX(j + 1);\n          c = index.getX(j + 2);\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            positionAttribute,\n            morphPosition,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedPosition\n          );\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            normalAttribute,\n            morphNormal,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedNormal\n          );\n        }\n      }\n    } else {\n      start = Math.max(0, drawRange.start);\n      end = Math.min(index.count, drawRange.start + drawRange.count);\n      for (i = start, il = end; i < il; i += 3) {\n        a = index.getX(i);\n        b = index.getX(i + 1);\n        c = index.getX(i + 2);\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          positionAttribute,\n          morphPosition,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedPosition\n        );\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          normalAttribute,\n          morphNormal,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedNormal\n        );\n      }\n    }\n  } else if (positionAttribute !== void 0) {\n    if (Array.isArray(material)) {\n      for (i = 0, il = groups.length; i < il; i++) {\n        group = groups[i];\n        groupMaterial = material[group.materialIndex];\n        start = Math.max(group.start, drawRange.start);\n        end = Math.min(group.start + group.count, drawRange.start + drawRange.count);\n        for (j = start, jl = end; j < jl; j += 3) {\n          a = j;\n          b = j + 1;\n          c = j + 2;\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            positionAttribute,\n            morphPosition,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedPosition\n          );\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            normalAttribute,\n            morphNormal,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedNormal\n          );\n        }\n      }\n    } else {\n      start = Math.max(0, drawRange.start);\n      end = Math.min(positionAttribute.count, drawRange.start + drawRange.count);\n      for (i = start, il = end; i < il; i += 3) {\n        a = i;\n        b = i + 1;\n        c = i + 2;\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          positionAttribute,\n          morphPosition,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedPosition\n        );\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          normalAttribute,\n          morphNormal,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedNormal\n        );\n      }\n    }\n  }\n  const morphedPositionAttribute = new Float32BufferAttribute(modifiedPosition, 3);\n  const morphedNormalAttribute = new Float32BufferAttribute(modifiedNormal, 3);\n  return {\n    positionAttribute,\n    normalAttribute,\n    morphedPositionAttribute,\n    morphedNormalAttribute\n  };\n}\nfunction toCreasedNormals(geometry, creaseAngle = Math.PI / 3) {\n  const creaseDot = Math.cos(creaseAngle);\n  const hashMultiplier = (1 + 1e-10) * 100;\n  const verts = [new Vector3(), new Vector3(), new Vector3()];\n  const tempVec1 = new Vector3();\n  const tempVec2 = new Vector3();\n  const tempNorm = new Vector3();\n  const tempNorm2 = new Vector3();\n  function hashVertex(v) {\n    const x = ~~(v.x * hashMultiplier);\n    const y = ~~(v.y * hashMultiplier);\n    const z = ~~(v.z * hashMultiplier);\n    return `${x},${y},${z}`;\n  }\n  const resultGeometry = geometry.index ? geometry.toNonIndexed() : geometry;\n  const posAttr = resultGeometry.attributes.position;\n  const vertexMap = {};\n  for (let i = 0, l = posAttr.count / 3; i < l; i++) {\n    const i3 = 3 * i;\n    const a = verts[0].fromBufferAttribute(posAttr, i3 + 0);\n    const b = verts[1].fromBufferAttribute(posAttr, i3 + 1);\n    const c = verts[2].fromBufferAttribute(posAttr, i3 + 2);\n    tempVec1.subVectors(c, b);\n    tempVec2.subVectors(a, b);\n    const normal = new Vector3().crossVectors(tempVec1, tempVec2).normalize();\n    for (let n = 0; n < 3; n++) {\n      const vert = verts[n];\n      const hash = hashVertex(vert);\n      if (!(hash in vertexMap)) {\n        vertexMap[hash] = [];\n      }\n      vertexMap[hash].push(normal);\n    }\n  }\n  const normalArray = new Float32Array(posAttr.count * 3);\n  const normAttr = new BufferAttribute(normalArray, 3, false);\n  for (let i = 0, l = posAttr.count / 3; i < l; i++) {\n    const i3 = 3 * i;\n    const a = verts[0].fromBufferAttribute(posAttr, i3 + 0);\n    const b = verts[1].fromBufferAttribute(posAttr, i3 + 1);\n    const c = verts[2].fromBufferAttribute(posAttr, i3 + 2);\n    tempVec1.subVectors(c, b);\n    tempVec2.subVectors(a, b);\n    tempNorm.crossVectors(tempVec1, tempVec2).normalize();\n    for (let n = 0; n < 3; n++) {\n      const vert = verts[n];\n      const hash = hashVertex(vert);\n      const otherNormals = vertexMap[hash];\n      tempNorm2.set(0, 0, 0);\n      for (let k = 0, lk = otherNormals.length; k < lk; k++) {\n        const otherNorm = otherNormals[k];\n        if (tempNorm.dot(otherNorm) > creaseDot) {\n          tempNorm2.add(otherNorm);\n        }\n      }\n      tempNorm2.normalize();\n      normAttr.setXYZ(i3 + n, tempNorm2.x, tempNorm2.y, tempNorm2.z);\n    }\n  }\n  resultGeometry.setAttribute(\"normal\", normAttr);\n  return resultGeometry;\n}\nexport {\n  computeMorphedAttributes,\n  estimateBytesUsed,\n  interleaveAttributes,\n  mergeBufferAttributes,\n  mergeBufferGeometries,\n  mergeVertices,\n  toCreasedNormals,\n  toTrianglesDrawMode\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Vector3, BufferGeometry, Float32BufferAttribute } from \"three\";\nimport { mergeVertices } from \"../utils/BufferGeometryUtils.js\";\nconst cb = /* @__PURE__ */ new Vector3();\nconst ab = /* @__PURE__ */ new Vector3();\nfunction pushIfUnique(array, object) {\n  if (array.indexOf(object) === -1)\n    array.push(object);\n}\nfunction removeFromArray(array, object) {\n  const k = array.indexOf(object);\n  if (k > -1)\n    array.splice(k, 1);\n}\nclass Vertex {\n  constructor(v, id) {\n    __publicField(this, \"position\");\n    __publicField(this, \"id\");\n    __publicField(this, \"faces\");\n    __publicField(this, \"neighbors\");\n    __publicField(this, \"collapseCost\");\n    __publicField(this, \"collapseNeighbor\");\n    __publicField(this, \"minCost\", 0);\n    __publicField(this, \"totalCost\", 0);\n    __publicField(this, \"costCount\", 0);\n    this.position = v;\n    this.id = id;\n    this.faces = [];\n    this.neighbors = [];\n    this.collapseCost = 0;\n    this.collapseNeighbor = null;\n  }\n  addUniqueNeighbor(vertex) {\n    pushIfUnique(this.neighbors, vertex);\n  }\n  removeIfNonNeighbor(n) {\n    const neighbors = this.neighbors;\n    const faces = this.faces;\n    const offset = neighbors.indexOf(n);\n    if (offset === -1)\n      return;\n    for (let i = 0; i < faces.length; i++) {\n      if (faces[i].hasVertex(n))\n        return;\n    }\n    neighbors.splice(offset, 1);\n  }\n}\nclass Triangle {\n  constructor(v1, v2, v3, a, b, c) {\n    __publicField(this, \"a\");\n    __publicField(this, \"b\");\n    __publicField(this, \"c\");\n    __publicField(this, \"v1\");\n    __publicField(this, \"v2\");\n    __publicField(this, \"v3\");\n    __publicField(this, \"normal\", new Vector3());\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.v1 = v1;\n    this.v2 = v2;\n    this.v3 = v3;\n    this.computeNormal();\n    v1.faces.push(this);\n    v1.addUniqueNeighbor(v2);\n    v1.addUniqueNeighbor(v3);\n    v2.faces.push(this);\n    v2.addUniqueNeighbor(v1);\n    v2.addUniqueNeighbor(v3);\n    v3.faces.push(this);\n    v3.addUniqueNeighbor(v1);\n    v3.addUniqueNeighbor(v2);\n  }\n  computeNormal() {\n    const vA = this.v1.position;\n    const vB = this.v2.position;\n    const vC = this.v3.position;\n    cb.subVectors(vC, vB);\n    ab.subVectors(vA, vB);\n    cb.cross(ab).normalize();\n    this.normal.copy(cb);\n  }\n  hasVertex(v) {\n    return v === this.v1 || v === this.v2 || v === this.v3;\n  }\n  replaceVertex(oldv, newv) {\n    if (oldv === this.v1)\n      this.v1 = newv;\n    else if (oldv === this.v2)\n      this.v2 = newv;\n    else if (oldv === this.v3)\n      this.v3 = newv;\n    removeFromArray(oldv.faces, this);\n    newv.faces.push(this);\n    oldv.removeIfNonNeighbor(this.v1);\n    this.v1.removeIfNonNeighbor(oldv);\n    oldv.removeIfNonNeighbor(this.v2);\n    this.v2.removeIfNonNeighbor(oldv);\n    oldv.removeIfNonNeighbor(this.v3);\n    this.v3.removeIfNonNeighbor(oldv);\n    this.v1.addUniqueNeighbor(this.v2);\n    this.v1.addUniqueNeighbor(this.v3);\n    this.v2.addUniqueNeighbor(this.v1);\n    this.v2.addUniqueNeighbor(this.v3);\n    this.v3.addUniqueNeighbor(this.v1);\n    this.v3.addUniqueNeighbor(this.v2);\n    this.computeNormal();\n  }\n}\nclass SimplifyModifier {\n  constructor() {\n    __publicField(this, \"computeEdgeCollapseCost\", (u, v) => {\n      const edgelength = v.position.distanceTo(u.position);\n      let curvature = 0;\n      const sideFaces = [];\n      let i, il = u.faces.length, face, sideFace;\n      for (i = 0; i < il; i++) {\n        face = u.faces[i];\n        if (face.hasVertex(v)) {\n          sideFaces.push(face);\n        }\n      }\n      for (i = 0; i < il; i++) {\n        let minCurvature = 1;\n        face = u.faces[i];\n        for (let j = 0; j < sideFaces.length; j++) {\n          sideFace = sideFaces[j];\n          const dotProd = face.normal.dot(sideFace.normal);\n          minCurvature = Math.min(minCurvature, (1.001 - dotProd) / 2);\n        }\n        curvature = Math.max(curvature, minCurvature);\n      }\n      const borders = 0;\n      if (sideFaces.length < 2) {\n        curvature = 1;\n      }\n      const amt = edgelength * curvature + borders;\n      return amt;\n    });\n    __publicField(this, \"computeEdgeCostAtVertex\", (v) => {\n      if (v.neighbors.length === 0) {\n        v.collapseNeighbor = null;\n        v.collapseCost = -0.01;\n        return;\n      }\n      v.collapseCost = 1e5;\n      v.collapseNeighbor = null;\n      for (let i = 0; i < v.neighbors.length; i++) {\n        const collapseCost = this.computeEdgeCollapseCost(v, v.neighbors[i]);\n        if (!v.collapseNeighbor) {\n          v.collapseNeighbor = v.neighbors[i];\n          v.collapseCost = collapseCost;\n          v.minCost = collapseCost;\n          v.totalCost = 0;\n          v.costCount = 0;\n        }\n        v.costCount++;\n        v.totalCost += collapseCost;\n        if (collapseCost < v.minCost) {\n          v.collapseNeighbor = v.neighbors[i];\n          v.minCost = collapseCost;\n        }\n      }\n      v.collapseCost = v.totalCost / v.costCount;\n    });\n    __publicField(this, \"removeFace\", (f, faces) => {\n      removeFromArray(faces, f);\n      if (f.v1)\n        removeFromArray(f.v1.faces, f);\n      if (f.v2)\n        removeFromArray(f.v2.faces, f);\n      if (f.v3)\n        removeFromArray(f.v3.faces, f);\n      const vs = [f.v1, f.v2, f.v3];\n      let v1, v2;\n      for (let i = 0; i < 3; i++) {\n        v1 = vs[i];\n        v2 = vs[(i + 1) % 3];\n        if (!v1 || !v2)\n          continue;\n        v1.removeIfNonNeighbor(v2);\n        v2.removeIfNonNeighbor(v1);\n      }\n    });\n    __publicField(this, \"collapse\", (vertices, faces, u, v) => {\n      if (!v) {\n        this.removeVertex(u, vertices);\n        return;\n      }\n      let i;\n      const tmpVertices = [];\n      for (i = 0; i < u.neighbors.length; i++) {\n        tmpVertices.push(u.neighbors[i]);\n      }\n      for (i = u.faces.length - 1; i >= 0; i--) {\n        if (u.faces[i].hasVertex(v)) {\n          this.removeFace(u.faces[i], faces);\n        }\n      }\n      for (i = u.faces.length - 1; i >= 0; i--) {\n        u.faces[i].replaceVertex(u, v);\n      }\n      this.removeVertex(u, vertices);\n      for (i = 0; i < tmpVertices.length; i++) {\n        this.computeEdgeCostAtVertex(tmpVertices[i]);\n      }\n    });\n    __publicField(this, \"minimumCostEdge\", (vertices) => {\n      let least = vertices[0];\n      for (let i = 0; i < vertices.length; i++) {\n        if (vertices[i].collapseCost < least.collapseCost) {\n          least = vertices[i];\n        }\n      }\n      return least;\n    });\n    __publicField(this, \"modify\", (geometry, count) => {\n      geometry = geometry.clone();\n      const attributes = geometry.attributes;\n      for (let name in attributes) {\n        if (name !== \"position\")\n          geometry.deleteAttribute(name);\n      }\n      geometry = mergeVertices(geometry);\n      const vertices = [];\n      const faces = [];\n      const positionAttribute = geometry.getAttribute(\"position\");\n      for (let i = 0; i < positionAttribute.count; i++) {\n        const v = new Vector3().fromBufferAttribute(positionAttribute, i);\n        const vertex = new Vertex(v, i);\n        vertices.push(vertex);\n      }\n      const geomIndex = geometry.getIndex();\n      if (geomIndex !== null) {\n        for (let i = 0; i < geomIndex.count; i += 3) {\n          const a = geomIndex.getX(i);\n          const b = geomIndex.getX(i + 1);\n          const c = geomIndex.getX(i + 2);\n          const triangle = new Triangle(vertices[a], vertices[b], vertices[c], a, b, c);\n          faces.push(triangle);\n        }\n      } else {\n        for (let i = 0; i < positionAttribute.count; i += 3) {\n          const a = i;\n          const b = i + 1;\n          const c = i + 2;\n          const triangle = new Triangle(vertices[a], vertices[b], vertices[c], a, b, c);\n          faces.push(triangle);\n        }\n      }\n      for (let i = 0, il = vertices.length; i < il; i++) {\n        this.computeEdgeCostAtVertex(vertices[i]);\n      }\n      let nextVertex;\n      let z = count;\n      while (z--) {\n        nextVertex = this.minimumCostEdge(vertices);\n        if (!nextVertex) {\n          console.log(\"THREE.SimplifyModifier: No next vertex\");\n          break;\n        } else {\n          this.collapse(vertices, faces, nextVertex, nextVertex.collapseNeighbor);\n        }\n      }\n      const simplifiedGeometry = new BufferGeometry();\n      const position = [];\n      let index = [];\n      for (let i = 0; i < vertices.length; i++) {\n        const vertex = vertices[i].position;\n        position.push(vertex.x, vertex.y, vertex.z);\n      }\n      for (let i = 0; i < faces.length; i++) {\n        const face = faces[i];\n        const a = vertices.indexOf(face.v1);\n        const b = vertices.indexOf(face.v2);\n        const c = vertices.indexOf(face.v3);\n        index.push(a, b, c);\n      }\n      simplifiedGeometry.setAttribute(\"position\", new Float32BufferAttribute(position, 3));\n      simplifiedGeometry.setIndex(index);\n      return simplifiedGeometry;\n    });\n  }\n  removeVertex(v, vertices) {\n    console.assert(v.faces.length === 0);\n    while (v.neighbors.length) {\n      const n = v.neighbors.pop();\n      removeFromArray(n.neighbors, v);\n    }\n    removeFromArray(vertices, v);\n  }\n}\nexport {\n  SimplifyModifier\n};\n", "import { PlaneGeometry, ShaderMaterial, Uniform, Mesh, PerspectiveCamera, Scene, WebGLRenderer, Texture, NearestFilter, NearestMipmapNearestFilter, NearestMipmapLinearFilter, LinearFilter, LinearMipmapNearestFilter, LinearMipmapLinearFilter, ClampToEdgeWrapping, RepeatWrapping, MirroredRepeatWrapping, Color, MathUtils, Vector3, CompressedTexture, RGBAFormat, DoubleSide, REVISION, BufferAttribute, PropertyBinding, InterpolateDiscrete, Matrix4, InterpolateLinear } from \"three\";\nlet _renderer;\nlet fullscreenQuadGeometry;\nlet fullscreenQuadMaterial;\nlet fullscreenQuad;\nfunction decompress(texture, maxTextureSize = Infinity, renderer = null) {\n  if (!fullscreenQuadGeometry)\n    fullscreenQuadGeometry = new PlaneGeometry(2, 2, 1, 1);\n  if (!fullscreenQuadMaterial)\n    fullscreenQuadMaterial = new ShaderMaterial({\n      uniforms: { blitTexture: new Uniform(texture) },\n      vertexShader: (\n        /* glsl */\n        `\n        varying vec2 vUv;\n        void main(){\n            vUv = uv;\n            gl_Position = vec4(position.xy * 1.0,0.,.999999);\n        }\n      `\n      ),\n      fragmentShader: (\n        /* glsl */\n        `\n          uniform sampler2D blitTexture; \n          varying vec2 vUv;\n\n          void main(){ \n              gl_FragColor = vec4(vUv.xy, 0, 1);\n              \n              #ifdef IS_SRGB\n              gl_FragColor = LinearTosRGB( texture2D( blitTexture, vUv) );\n              #else\n              gl_FragColor = texture2D( blitTexture, vUv);\n              #endif\n          }\n      `\n      )\n    });\n  fullscreenQuadMaterial.uniforms.blitTexture.value = texture;\n  fullscreenQuadMaterial.defines.IS_SRGB = \"colorSpace\" in texture ? texture.colorSpace === \"srgb\" : texture.encoding === 3001;\n  fullscreenQuadMaterial.needsUpdate = true;\n  if (!fullscreenQuad) {\n    fullscreenQuad = new Mesh(fullscreenQuadGeometry, fullscreenQuadMaterial);\n    fullscreenQuad.frustrumCulled = false;\n  }\n  const _camera = new PerspectiveCamera();\n  const _scene = new Scene();\n  _scene.add(fullscreenQuad);\n  if (!renderer) {\n    renderer = _renderer = new WebGLRenderer({ antialias: false });\n  }\n  renderer.setSize(Math.min(texture.image.width, maxTextureSize), Math.min(texture.image.height, maxTextureSize));\n  renderer.clear();\n  renderer.render(_scene, _camera);\n  const readableTexture = new Texture(renderer.domElement);\n  readableTexture.minFilter = texture.minFilter;\n  readableTexture.magFilter = texture.magFilter;\n  readableTexture.wrapS = texture.wrapS;\n  readableTexture.wrapT = texture.wrapT;\n  readableTexture.name = texture.name;\n  if (_renderer) {\n    _renderer.dispose();\n    _renderer = null;\n  }\n  return readableTexture;\n}\nconst KHR_mesh_quantization_ExtraAttrTypes = {\n  POSITION: [\n    \"byte\",\n    \"byte normalized\",\n    \"unsigned byte\",\n    \"unsigned byte normalized\",\n    \"short\",\n    \"short normalized\",\n    \"unsigned short\",\n    \"unsigned short normalized\"\n  ],\n  NORMAL: [\"byte normalized\", \"short normalized\"],\n  TANGENT: [\"byte normalized\", \"short normalized\"],\n  TEXCOORD: [\"byte\", \"byte normalized\", \"unsigned byte\", \"short\", \"short normalized\", \"unsigned short\"]\n};\nclass GLTFExporter {\n  constructor() {\n    this.pluginCallbacks = [];\n    this.register(function(writer) {\n      return new GLTFLightExtension(writer);\n    });\n    this.register(function(writer) {\n      return new GLTFMaterialsUnlitExtension(writer);\n    });\n    this.register(function(writer) {\n      return new GLTFMaterialsTransmissionExtension(writer);\n    });\n    this.register(function(writer) {\n      return new GLTFMaterialsVolumeExtension(writer);\n    });\n    this.register(function(writer) {\n      return new GLTFMaterialsIorExtension(writer);\n    });\n    this.register(function(writer) {\n      return new GLTFMaterialsSpecularExtension(writer);\n    });\n    this.register(function(writer) {\n      return new GLTFMaterialsClearcoatExtension(writer);\n    });\n    this.register(function(writer) {\n      return new GLTFMaterialsIridescenceExtension(writer);\n    });\n    this.register(function(writer) {\n      return new GLTFMaterialsSheenExtension(writer);\n    });\n    this.register(function(writer) {\n      return new GLTFMaterialsAnisotropyExtension(writer);\n    });\n    this.register(function(writer) {\n      return new GLTFMaterialsEmissiveStrengthExtension(writer);\n    });\n  }\n  register(callback) {\n    if (this.pluginCallbacks.indexOf(callback) === -1) {\n      this.pluginCallbacks.push(callback);\n    }\n    return this;\n  }\n  unregister(callback) {\n    if (this.pluginCallbacks.indexOf(callback) !== -1) {\n      this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1);\n    }\n    return this;\n  }\n  /**\n   * Parse scenes and generate GLTF output\n   * @param  {Scene or [THREE.Scenes]} input   Scene or Array of THREE.Scenes\n   * @param  {Function} onDone  Callback on completed\n   * @param  {Function} onError  Callback on errors\n   * @param  {Object} options options\n   */\n  parse(input, onDone, onError, options) {\n    const writer = new GLTFWriter();\n    const plugins = [];\n    for (let i = 0, il = this.pluginCallbacks.length; i < il; i++) {\n      plugins.push(this.pluginCallbacks[i](writer));\n    }\n    writer.setPlugins(plugins);\n    writer.write(input, onDone, options).catch(onError);\n  }\n  parseAsync(input, options) {\n    const scope = this;\n    return new Promise(function(resolve, reject) {\n      scope.parse(input, resolve, reject, options);\n    });\n  }\n}\nconst WEBGL_CONSTANTS = {\n  POINTS: 0,\n  LINES: 1,\n  LINE_LOOP: 2,\n  LINE_STRIP: 3,\n  TRIANGLES: 4,\n  TRIANGLE_STRIP: 5,\n  TRIANGLE_FAN: 6,\n  BYTE: 5120,\n  UNSIGNED_BYTE: 5121,\n  SHORT: 5122,\n  UNSIGNED_SHORT: 5123,\n  INT: 5124,\n  UNSIGNED_INT: 5125,\n  FLOAT: 5126,\n  ARRAY_BUFFER: 34962,\n  ELEMENT_ARRAY_BUFFER: 34963,\n  NEAREST: 9728,\n  LINEAR: 9729,\n  NEAREST_MIPMAP_NEAREST: 9984,\n  LINEAR_MIPMAP_NEAREST: 9985,\n  NEAREST_MIPMAP_LINEAR: 9986,\n  LINEAR_MIPMAP_LINEAR: 9987,\n  CLAMP_TO_EDGE: 33071,\n  MIRRORED_REPEAT: 33648,\n  REPEAT: 10497\n};\nconst KHR_MESH_QUANTIZATION = \"KHR_mesh_quantization\";\nconst THREE_TO_WEBGL = {};\nTHREE_TO_WEBGL[NearestFilter] = WEBGL_CONSTANTS.NEAREST;\nTHREE_TO_WEBGL[NearestMipmapNearestFilter] = WEBGL_CONSTANTS.NEAREST_MIPMAP_NEAREST;\nTHREE_TO_WEBGL[NearestMipmapLinearFilter] = WEBGL_CONSTANTS.NEAREST_MIPMAP_LINEAR;\nTHREE_TO_WEBGL[LinearFilter] = WEBGL_CONSTANTS.LINEAR;\nTHREE_TO_WEBGL[LinearMipmapNearestFilter] = WEBGL_CONSTANTS.LINEAR_MIPMAP_NEAREST;\nTHREE_TO_WEBGL[LinearMipmapLinearFilter] = WEBGL_CONSTANTS.LINEAR_MIPMAP_LINEAR;\nTHREE_TO_WEBGL[ClampToEdgeWrapping] = WEBGL_CONSTANTS.CLAMP_TO_EDGE;\nTHREE_TO_WEBGL[RepeatWrapping] = WEBGL_CONSTANTS.REPEAT;\nTHREE_TO_WEBGL[MirroredRepeatWrapping] = WEBGL_CONSTANTS.MIRRORED_REPEAT;\nconst PATH_PROPERTIES = {\n  scale: \"scale\",\n  position: \"translation\",\n  quaternion: \"rotation\",\n  morphTargetInfluences: \"weights\"\n};\nconst DEFAULT_SPECULAR_COLOR = new Color();\nconst GLB_HEADER_BYTES = 12;\nconst GLB_HEADER_MAGIC = 1179937895;\nconst GLB_VERSION = 2;\nconst GLB_CHUNK_PREFIX_BYTES = 8;\nconst GLB_CHUNK_TYPE_JSON = 1313821514;\nconst GLB_CHUNK_TYPE_BIN = 5130562;\nfunction equalArray(array1, array2) {\n  return array1.length === array2.length && array1.every(function(element, index) {\n    return element === array2[index];\n  });\n}\nfunction stringToArrayBuffer(text) {\n  return new TextEncoder().encode(text).buffer;\n}\nfunction isIdentityMatrix(matrix) {\n  return equalArray(matrix.elements, [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\n}\nfunction getMinMax(attribute, start, count) {\n  const output = {\n    min: new Array(attribute.itemSize).fill(Number.POSITIVE_INFINITY),\n    max: new Array(attribute.itemSize).fill(Number.NEGATIVE_INFINITY)\n  };\n  for (let i = start; i < start + count; i++) {\n    for (let a = 0; a < attribute.itemSize; a++) {\n      let value;\n      if (attribute.itemSize > 4) {\n        value = attribute.array[i * attribute.itemSize + a];\n      } else {\n        if (a === 0)\n          value = attribute.getX(i);\n        else if (a === 1)\n          value = attribute.getY(i);\n        else if (a === 2)\n          value = attribute.getZ(i);\n        else if (a === 3)\n          value = attribute.getW(i);\n        if (attribute.normalized === true) {\n          value = MathUtils.normalize(value, attribute.array);\n        }\n      }\n      output.min[a] = Math.min(output.min[a], value);\n      output.max[a] = Math.max(output.max[a], value);\n    }\n  }\n  return output;\n}\nfunction getPaddedBufferSize(bufferSize) {\n  return Math.ceil(bufferSize / 4) * 4;\n}\nfunction getPaddedArrayBuffer(arrayBuffer, paddingByte = 0) {\n  const paddedLength = getPaddedBufferSize(arrayBuffer.byteLength);\n  if (paddedLength !== arrayBuffer.byteLength) {\n    const array = new Uint8Array(paddedLength);\n    array.set(new Uint8Array(arrayBuffer));\n    if (paddingByte !== 0) {\n      for (let i = arrayBuffer.byteLength; i < paddedLength; i++) {\n        array[i] = paddingByte;\n      }\n    }\n    return array.buffer;\n  }\n  return arrayBuffer;\n}\nfunction getCanvas() {\n  if (typeof document === \"undefined\" && typeof OffscreenCanvas !== \"undefined\") {\n    return new OffscreenCanvas(1, 1);\n  }\n  return document.createElement(\"canvas\");\n}\nfunction getToBlobPromise(canvas, mimeType) {\n  if (canvas.toBlob !== void 0) {\n    return new Promise((resolve) => canvas.toBlob(resolve, mimeType));\n  }\n  let quality;\n  if (mimeType === \"image/jpeg\") {\n    quality = 0.92;\n  } else if (mimeType === \"image/webp\") {\n    quality = 0.8;\n  }\n  return canvas.convertToBlob({\n    type: mimeType,\n    quality\n  });\n}\nclass GLTFWriter {\n  constructor() {\n    this.plugins = [];\n    this.options = {};\n    this.pending = [];\n    this.buffers = [];\n    this.byteOffset = 0;\n    this.buffers = [];\n    this.nodeMap = /* @__PURE__ */ new Map();\n    this.skins = [];\n    this.extensionsUsed = {};\n    this.extensionsRequired = {};\n    this.uids = /* @__PURE__ */ new Map();\n    this.uid = 0;\n    this.json = {\n      asset: {\n        version: \"2.0\",\n        generator: \"THREE.GLTFExporter\"\n      }\n    };\n    this.cache = {\n      meshes: /* @__PURE__ */ new Map(),\n      attributes: /* @__PURE__ */ new Map(),\n      attributesNormalized: /* @__PURE__ */ new Map(),\n      materials: /* @__PURE__ */ new Map(),\n      textures: /* @__PURE__ */ new Map(),\n      images: /* @__PURE__ */ new Map()\n    };\n  }\n  setPlugins(plugins) {\n    this.plugins = plugins;\n  }\n  /**\n   * Parse scenes and generate GLTF output\n   * @param  {Scene or [THREE.Scenes]} input   Scene or Array of THREE.Scenes\n   * @param  {Function} onDone  Callback on completed\n   * @param  {Object} options options\n   */\n  async write(input, onDone, options = {}) {\n    this.options = Object.assign(\n      {\n        // default options\n        binary: false,\n        trs: false,\n        onlyVisible: true,\n        maxTextureSize: Infinity,\n        animations: [],\n        includeCustomExtensions: false\n      },\n      options\n    );\n    if (this.options.animations.length > 0) {\n      this.options.trs = true;\n    }\n    this.processInput(input);\n    await Promise.all(this.pending);\n    const writer = this;\n    const buffers = writer.buffers;\n    const json = writer.json;\n    options = writer.options;\n    const extensionsUsed = writer.extensionsUsed;\n    const extensionsRequired = writer.extensionsRequired;\n    const blob = new Blob(buffers, { type: \"application/octet-stream\" });\n    const extensionsUsedList = Object.keys(extensionsUsed);\n    const extensionsRequiredList = Object.keys(extensionsRequired);\n    if (extensionsUsedList.length > 0)\n      json.extensionsUsed = extensionsUsedList;\n    if (extensionsRequiredList.length > 0)\n      json.extensionsRequired = extensionsRequiredList;\n    if (json.buffers && json.buffers.length > 0)\n      json.buffers[0].byteLength = blob.size;\n    if (options.binary === true) {\n      const reader = new FileReader();\n      reader.readAsArrayBuffer(blob);\n      reader.onloadend = function() {\n        const binaryChunk = getPaddedArrayBuffer(reader.result);\n        const binaryChunkPrefix = new DataView(new ArrayBuffer(GLB_CHUNK_PREFIX_BYTES));\n        binaryChunkPrefix.setUint32(0, binaryChunk.byteLength, true);\n        binaryChunkPrefix.setUint32(4, GLB_CHUNK_TYPE_BIN, true);\n        const jsonChunk = getPaddedArrayBuffer(stringToArrayBuffer(JSON.stringify(json)), 32);\n        const jsonChunkPrefix = new DataView(new ArrayBuffer(GLB_CHUNK_PREFIX_BYTES));\n        jsonChunkPrefix.setUint32(0, jsonChunk.byteLength, true);\n        jsonChunkPrefix.setUint32(4, GLB_CHUNK_TYPE_JSON, true);\n        const header = new ArrayBuffer(GLB_HEADER_BYTES);\n        const headerView = new DataView(header);\n        headerView.setUint32(0, GLB_HEADER_MAGIC, true);\n        headerView.setUint32(4, GLB_VERSION, true);\n        const totalByteLength = GLB_HEADER_BYTES + jsonChunkPrefix.byteLength + jsonChunk.byteLength + binaryChunkPrefix.byteLength + binaryChunk.byteLength;\n        headerView.setUint32(8, totalByteLength, true);\n        const glbBlob = new Blob([header, jsonChunkPrefix, jsonChunk, binaryChunkPrefix, binaryChunk], {\n          type: \"application/octet-stream\"\n        });\n        const glbReader = new FileReader();\n        glbReader.readAsArrayBuffer(glbBlob);\n        glbReader.onloadend = function() {\n          onDone(glbReader.result);\n        };\n      };\n    } else {\n      if (json.buffers && json.buffers.length > 0) {\n        const reader = new FileReader();\n        reader.readAsDataURL(blob);\n        reader.onloadend = function() {\n          const base64data = reader.result;\n          json.buffers[0].uri = base64data;\n          onDone(json);\n        };\n      } else {\n        onDone(json);\n      }\n    }\n  }\n  /**\n   * Serializes a userData.\n   *\n   * @param {THREE.Object3D|THREE.Material} object\n   * @param {Object} objectDef\n   */\n  serializeUserData(object, objectDef) {\n    if (Object.keys(object.userData).length === 0)\n      return;\n    const options = this.options;\n    const extensionsUsed = this.extensionsUsed;\n    try {\n      const json = JSON.parse(JSON.stringify(object.userData));\n      if (options.includeCustomExtensions && json.gltfExtensions) {\n        if (objectDef.extensions === void 0)\n          objectDef.extensions = {};\n        for (const extensionName in json.gltfExtensions) {\n          objectDef.extensions[extensionName] = json.gltfExtensions[extensionName];\n          extensionsUsed[extensionName] = true;\n        }\n        delete json.gltfExtensions;\n      }\n      if (Object.keys(json).length > 0)\n        objectDef.extras = json;\n    } catch (error) {\n      console.warn(\n        \"THREE.GLTFExporter: userData of '\" + object.name + \"' won't be serialized because of JSON.stringify error - \" + error.message\n      );\n    }\n  }\n  /**\n   * Returns ids for buffer attributes.\n   * @param  {Object} object\n   * @return {Integer}\n   */\n  getUID(attribute, isRelativeCopy = false) {\n    if (this.uids.has(attribute) === false) {\n      const uids2 = /* @__PURE__ */ new Map();\n      uids2.set(true, this.uid++);\n      uids2.set(false, this.uid++);\n      this.uids.set(attribute, uids2);\n    }\n    const uids = this.uids.get(attribute);\n    return uids.get(isRelativeCopy);\n  }\n  /**\n   * Checks if normal attribute values are normalized.\n   *\n   * @param {BufferAttribute} normal\n   * @returns {Boolean}\n   */\n  isNormalizedNormalAttribute(normal) {\n    const cache = this.cache;\n    if (cache.attributesNormalized.has(normal))\n      return false;\n    const v = new Vector3();\n    for (let i = 0, il = normal.count; i < il; i++) {\n      if (Math.abs(v.fromBufferAttribute(normal, i).length() - 1) > 5e-4)\n        return false;\n    }\n    return true;\n  }\n  /**\n   * Creates normalized normal buffer attribute.\n   *\n   * @param {BufferAttribute} normal\n   * @returns {BufferAttribute}\n   *\n   */\n  createNormalizedNormalAttribute(normal) {\n    const cache = this.cache;\n    if (cache.attributesNormalized.has(normal))\n      return cache.attributesNormalized.get(normal);\n    const attribute = normal.clone();\n    const v = new Vector3();\n    for (let i = 0, il = attribute.count; i < il; i++) {\n      v.fromBufferAttribute(attribute, i);\n      if (v.x === 0 && v.y === 0 && v.z === 0) {\n        v.setX(1);\n      } else {\n        v.normalize();\n      }\n      attribute.setXYZ(i, v.x, v.y, v.z);\n    }\n    cache.attributesNormalized.set(normal, attribute);\n    return attribute;\n  }\n  /**\n   * Applies a texture transform, if present, to the map definition. Requires\n   * the KHR_texture_transform extension.\n   *\n   * @param {Object} mapDef\n   * @param {THREE.Texture} texture\n   */\n  applyTextureTransform(mapDef, texture) {\n    let didTransform = false;\n    const transformDef = {};\n    if (texture.offset.x !== 0 || texture.offset.y !== 0) {\n      transformDef.offset = texture.offset.toArray();\n      didTransform = true;\n    }\n    if (texture.rotation !== 0) {\n      transformDef.rotation = texture.rotation;\n      didTransform = true;\n    }\n    if (texture.repeat.x !== 1 || texture.repeat.y !== 1) {\n      transformDef.scale = texture.repeat.toArray();\n      didTransform = true;\n    }\n    if (didTransform) {\n      mapDef.extensions = mapDef.extensions || {};\n      mapDef.extensions[\"KHR_texture_transform\"] = transformDef;\n      this.extensionsUsed[\"KHR_texture_transform\"] = true;\n    }\n  }\n  buildMetalRoughTexture(metalnessMap, roughnessMap) {\n    if (metalnessMap === roughnessMap)\n      return metalnessMap;\n    function getEncodingConversion(map) {\n      if (\"colorSpace\" in map ? map.colorSpace === \"srgb\" : map.encoding === 3001) {\n        return function SRGBToLinear(c) {\n          return c < 0.04045 ? c * 0.0773993808 : Math.pow(c * 0.9478672986 + 0.0521327014, 2.4);\n        };\n      }\n      return function LinearToLinear(c) {\n        return c;\n      };\n    }\n    console.warn(\"THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.\");\n    if (metalnessMap instanceof CompressedTexture) {\n      metalnessMap = decompress(metalnessMap);\n    }\n    if (roughnessMap instanceof CompressedTexture) {\n      roughnessMap = decompress(roughnessMap);\n    }\n    const metalness = metalnessMap ? metalnessMap.image : null;\n    const roughness = roughnessMap ? roughnessMap.image : null;\n    const width = Math.max(metalness ? metalness.width : 0, roughness ? roughness.width : 0);\n    const height = Math.max(metalness ? metalness.height : 0, roughness ? roughness.height : 0);\n    const canvas = getCanvas();\n    canvas.width = width;\n    canvas.height = height;\n    const context = canvas.getContext(\"2d\");\n    context.fillStyle = \"#00ffff\";\n    context.fillRect(0, 0, width, height);\n    const composite = context.getImageData(0, 0, width, height);\n    if (metalness) {\n      context.drawImage(metalness, 0, 0, width, height);\n      const convert = getEncodingConversion(metalnessMap);\n      const data = context.getImageData(0, 0, width, height).data;\n      for (let i = 2; i < data.length; i += 4) {\n        composite.data[i] = convert(data[i] / 256) * 256;\n      }\n    }\n    if (roughness) {\n      context.drawImage(roughness, 0, 0, width, height);\n      const convert = getEncodingConversion(roughnessMap);\n      const data = context.getImageData(0, 0, width, height).data;\n      for (let i = 1; i < data.length; i += 4) {\n        composite.data[i] = convert(data[i] / 256) * 256;\n      }\n    }\n    context.putImageData(composite, 0, 0);\n    const reference = metalnessMap || roughnessMap;\n    const texture = reference.clone();\n    texture.source = new Texture(canvas).source;\n    if (\"colorSpace\" in texture)\n      texture.colorSpace = \"\";\n    else\n      texture.encoding = 3e3;\n    texture.channel = (metalnessMap || roughnessMap).channel;\n    if (metalnessMap && roughnessMap && metalnessMap.channel !== roughnessMap.channel) {\n      console.warn(\"THREE.GLTFExporter: UV channels for metalnessMap and roughnessMap textures must match.\");\n    }\n    return texture;\n  }\n  /**\n   * Process a buffer to append to the default one.\n   * @param  {ArrayBuffer} buffer\n   * @return {Integer}\n   */\n  processBuffer(buffer) {\n    const json = this.json;\n    const buffers = this.buffers;\n    if (!json.buffers)\n      json.buffers = [{ byteLength: 0 }];\n    buffers.push(buffer);\n    return 0;\n  }\n  /**\n   * Process and generate a BufferView\n   * @param  {BufferAttribute} attribute\n   * @param  {number} componentType\n   * @param  {number} start\n   * @param  {number} count\n   * @param  {number} target (Optional) Target usage of the BufferView\n   * @return {Object}\n   */\n  processBufferView(attribute, componentType, start, count, target) {\n    const json = this.json;\n    if (!json.bufferViews)\n      json.bufferViews = [];\n    let componentSize;\n    switch (componentType) {\n      case WEBGL_CONSTANTS.BYTE:\n      case WEBGL_CONSTANTS.UNSIGNED_BYTE:\n        componentSize = 1;\n        break;\n      case WEBGL_CONSTANTS.SHORT:\n      case WEBGL_CONSTANTS.UNSIGNED_SHORT:\n        componentSize = 2;\n        break;\n      default:\n        componentSize = 4;\n    }\n    const byteLength = getPaddedBufferSize(count * attribute.itemSize * componentSize);\n    const dataView = new DataView(new ArrayBuffer(byteLength));\n    let offset = 0;\n    for (let i = start; i < start + count; i++) {\n      for (let a = 0; a < attribute.itemSize; a++) {\n        let value;\n        if (attribute.itemSize > 4) {\n          value = attribute.array[i * attribute.itemSize + a];\n        } else {\n          if (a === 0)\n            value = attribute.getX(i);\n          else if (a === 1)\n            value = attribute.getY(i);\n          else if (a === 2)\n            value = attribute.getZ(i);\n          else if (a === 3)\n            value = attribute.getW(i);\n          if (attribute.normalized === true) {\n            value = MathUtils.normalize(value, attribute.array);\n          }\n        }\n        if (componentType === WEBGL_CONSTANTS.FLOAT) {\n          dataView.setFloat32(offset, value, true);\n        } else if (componentType === WEBGL_CONSTANTS.INT) {\n          dataView.setInt32(offset, value, true);\n        } else if (componentType === WEBGL_CONSTANTS.UNSIGNED_INT) {\n          dataView.setUint32(offset, value, true);\n        } else if (componentType === WEBGL_CONSTANTS.SHORT) {\n          dataView.setInt16(offset, value, true);\n        } else if (componentType === WEBGL_CONSTANTS.UNSIGNED_SHORT) {\n          dataView.setUint16(offset, value, true);\n        } else if (componentType === WEBGL_CONSTANTS.BYTE) {\n          dataView.setInt8(offset, value);\n        } else if (componentType === WEBGL_CONSTANTS.UNSIGNED_BYTE) {\n          dataView.setUint8(offset, value);\n        }\n        offset += componentSize;\n      }\n    }\n    const bufferViewDef = {\n      buffer: this.processBuffer(dataView.buffer),\n      byteOffset: this.byteOffset,\n      byteLength\n    };\n    if (target !== void 0)\n      bufferViewDef.target = target;\n    if (target === WEBGL_CONSTANTS.ARRAY_BUFFER) {\n      bufferViewDef.byteStride = attribute.itemSize * componentSize;\n    }\n    this.byteOffset += byteLength;\n    json.bufferViews.push(bufferViewDef);\n    const output = {\n      id: json.bufferViews.length - 1,\n      byteLength: 0\n    };\n    return output;\n  }\n  /**\n   * Process and generate a BufferView from an image Blob.\n   * @param {Blob} blob\n   * @return {Promise<Integer>}\n   */\n  processBufferViewImage(blob) {\n    const writer = this;\n    const json = writer.json;\n    if (!json.bufferViews)\n      json.bufferViews = [];\n    return new Promise(function(resolve) {\n      const reader = new FileReader();\n      reader.readAsArrayBuffer(blob);\n      reader.onloadend = function() {\n        const buffer = getPaddedArrayBuffer(reader.result);\n        const bufferViewDef = {\n          buffer: writer.processBuffer(buffer),\n          byteOffset: writer.byteOffset,\n          byteLength: buffer.byteLength\n        };\n        writer.byteOffset += buffer.byteLength;\n        resolve(json.bufferViews.push(bufferViewDef) - 1);\n      };\n    });\n  }\n  /**\n   * Process attribute to generate an accessor\n   * @param  {BufferAttribute} attribute Attribute to process\n   * @param  {THREE.BufferGeometry} geometry (Optional) Geometry used for truncated draw range\n   * @param  {Integer} start (Optional)\n   * @param  {Integer} count (Optional)\n   * @return {Integer|null} Index of the processed accessor on the \"accessors\" array\n   */\n  processAccessor(attribute, geometry, start, count) {\n    const json = this.json;\n    const types = {\n      1: \"SCALAR\",\n      2: \"VEC2\",\n      3: \"VEC3\",\n      4: \"VEC4\",\n      9: \"MAT3\",\n      16: \"MAT4\"\n    };\n    let componentType;\n    if (attribute.array.constructor === Float32Array) {\n      componentType = WEBGL_CONSTANTS.FLOAT;\n    } else if (attribute.array.constructor === Int32Array) {\n      componentType = WEBGL_CONSTANTS.INT;\n    } else if (attribute.array.constructor === Uint32Array) {\n      componentType = WEBGL_CONSTANTS.UNSIGNED_INT;\n    } else if (attribute.array.constructor === Int16Array) {\n      componentType = WEBGL_CONSTANTS.SHORT;\n    } else if (attribute.array.constructor === Uint16Array) {\n      componentType = WEBGL_CONSTANTS.UNSIGNED_SHORT;\n    } else if (attribute.array.constructor === Int8Array) {\n      componentType = WEBGL_CONSTANTS.BYTE;\n    } else if (attribute.array.constructor === Uint8Array) {\n      componentType = WEBGL_CONSTANTS.UNSIGNED_BYTE;\n    } else {\n      throw new Error(\n        \"THREE.GLTFExporter: Unsupported bufferAttribute component type: \" + attribute.array.constructor.name\n      );\n    }\n    if (start === void 0)\n      start = 0;\n    if (count === void 0)\n      count = attribute.count;\n    if (count === 0)\n      return null;\n    const minMax = getMinMax(attribute, start, count);\n    let bufferViewTarget;\n    if (geometry !== void 0) {\n      bufferViewTarget = attribute === geometry.index ? WEBGL_CONSTANTS.ELEMENT_ARRAY_BUFFER : WEBGL_CONSTANTS.ARRAY_BUFFER;\n    }\n    const bufferView = this.processBufferView(attribute, componentType, start, count, bufferViewTarget);\n    const accessorDef = {\n      bufferView: bufferView.id,\n      byteOffset: bufferView.byteOffset,\n      componentType,\n      count,\n      max: minMax.max,\n      min: minMax.min,\n      type: types[attribute.itemSize]\n    };\n    if (attribute.normalized === true)\n      accessorDef.normalized = true;\n    if (!json.accessors)\n      json.accessors = [];\n    return json.accessors.push(accessorDef) - 1;\n  }\n  /**\n   * Process image\n   * @param  {Image} image to process\n   * @param  {Integer} format of the image (RGBAFormat)\n   * @param  {Boolean} flipY before writing out the image\n   * @param  {String} mimeType export format\n   * @return {Integer}     Index of the processed texture in the \"images\" array\n   */\n  processImage(image, format, flipY, mimeType = \"image/png\") {\n    if (image !== null) {\n      const writer = this;\n      const cache = writer.cache;\n      const json = writer.json;\n      const options = writer.options;\n      const pending = writer.pending;\n      if (!cache.images.has(image))\n        cache.images.set(image, {});\n      const cachedImages = cache.images.get(image);\n      const key = mimeType + \":flipY/\" + flipY.toString();\n      if (cachedImages[key] !== void 0)\n        return cachedImages[key];\n      if (!json.images)\n        json.images = [];\n      const imageDef = { mimeType };\n      const canvas = getCanvas();\n      canvas.width = Math.min(image.width, options.maxTextureSize);\n      canvas.height = Math.min(image.height, options.maxTextureSize);\n      const ctx = canvas.getContext(\"2d\");\n      if (flipY === true) {\n        ctx.translate(0, canvas.height);\n        ctx.scale(1, -1);\n      }\n      if (image.data !== void 0) {\n        if (format !== RGBAFormat) {\n          console.error(\"GLTFExporter: Only RGBAFormat is supported.\", format);\n        }\n        if (image.width > options.maxTextureSize || image.height > options.maxTextureSize) {\n          console.warn(\"GLTFExporter: Image size is bigger than maxTextureSize\", image);\n        }\n        const data = new Uint8ClampedArray(image.height * image.width * 4);\n        for (let i = 0; i < data.length; i += 4) {\n          data[i + 0] = image.data[i + 0];\n          data[i + 1] = image.data[i + 1];\n          data[i + 2] = image.data[i + 2];\n          data[i + 3] = image.data[i + 3];\n        }\n        ctx.putImageData(new ImageData(data, image.width, image.height), 0, 0);\n      } else {\n        ctx.drawImage(image, 0, 0, canvas.width, canvas.height);\n      }\n      if (options.binary === true) {\n        pending.push(\n          getToBlobPromise(canvas, mimeType).then((blob) => writer.processBufferViewImage(blob)).then((bufferViewIndex) => {\n            imageDef.bufferView = bufferViewIndex;\n          })\n        );\n      } else {\n        if (canvas.toDataURL !== void 0) {\n          imageDef.uri = canvas.toDataURL(mimeType);\n        } else {\n          pending.push(\n            getToBlobPromise(canvas, mimeType).then((blob) => new FileReader().readAsDataURL(blob)).then((dataURL) => {\n              imageDef.uri = dataURL;\n            })\n          );\n        }\n      }\n      const index = json.images.push(imageDef) - 1;\n      cachedImages[key] = index;\n      return index;\n    } else {\n      throw new Error(\"THREE.GLTFExporter: No valid image data found. Unable to process texture.\");\n    }\n  }\n  /**\n   * Process sampler\n   * @param  {Texture} map Texture to process\n   * @return {Integer}     Index of the processed texture in the \"samplers\" array\n   */\n  processSampler(map) {\n    const json = this.json;\n    if (!json.samplers)\n      json.samplers = [];\n    const samplerDef = {\n      magFilter: THREE_TO_WEBGL[map.magFilter],\n      minFilter: THREE_TO_WEBGL[map.minFilter],\n      wrapS: THREE_TO_WEBGL[map.wrapS],\n      wrapT: THREE_TO_WEBGL[map.wrapT]\n    };\n    return json.samplers.push(samplerDef) - 1;\n  }\n  /**\n   * Process texture\n   * @param  {Texture} map Map to process\n   * @return {Integer} Index of the processed texture in the \"textures\" array\n   */\n  processTexture(map) {\n    const writer = this;\n    const options = writer.options;\n    const cache = this.cache;\n    const json = this.json;\n    if (cache.textures.has(map))\n      return cache.textures.get(map);\n    if (!json.textures)\n      json.textures = [];\n    if (map instanceof CompressedTexture) {\n      map = decompress(map, options.maxTextureSize);\n    }\n    let mimeType = map.userData.mimeType;\n    if (mimeType === \"image/webp\")\n      mimeType = \"image/png\";\n    const textureDef = {\n      sampler: this.processSampler(map),\n      source: this.processImage(map.image, map.format, map.flipY, mimeType)\n    };\n    if (map.name)\n      textureDef.name = map.name;\n    this._invokeAll(function(ext) {\n      ext.writeTexture && ext.writeTexture(map, textureDef);\n    });\n    const index = json.textures.push(textureDef) - 1;\n    cache.textures.set(map, index);\n    return index;\n  }\n  /**\n   * Process material\n   * @param  {THREE.Material} material Material to process\n   * @return {Integer|null} Index of the processed material in the \"materials\" array\n   */\n  processMaterial(material) {\n    const cache = this.cache;\n    const json = this.json;\n    if (cache.materials.has(material))\n      return cache.materials.get(material);\n    if (material.isShaderMaterial) {\n      console.warn(\"GLTFExporter: THREE.ShaderMaterial not supported.\");\n      return null;\n    }\n    if (!json.materials)\n      json.materials = [];\n    const materialDef = { pbrMetallicRoughness: {} };\n    if (material.isMeshStandardMaterial !== true && material.isMeshBasicMaterial !== true) {\n      console.warn(\"GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.\");\n    }\n    const color = material.color.toArray().concat([material.opacity]);\n    if (!equalArray(color, [1, 1, 1, 1])) {\n      materialDef.pbrMetallicRoughness.baseColorFactor = color;\n    }\n    if (material.isMeshStandardMaterial) {\n      materialDef.pbrMetallicRoughness.metallicFactor = material.metalness;\n      materialDef.pbrMetallicRoughness.roughnessFactor = material.roughness;\n    } else {\n      materialDef.pbrMetallicRoughness.metallicFactor = 0.5;\n      materialDef.pbrMetallicRoughness.roughnessFactor = 0.5;\n    }\n    if (material.metalnessMap || material.roughnessMap) {\n      const metalRoughTexture = this.buildMetalRoughTexture(material.metalnessMap, material.roughnessMap);\n      const metalRoughMapDef = {\n        index: this.processTexture(metalRoughTexture),\n        channel: metalRoughTexture.channel\n      };\n      this.applyTextureTransform(metalRoughMapDef, metalRoughTexture);\n      materialDef.pbrMetallicRoughness.metallicRoughnessTexture = metalRoughMapDef;\n    }\n    if (material.map) {\n      const baseColorMapDef = {\n        index: this.processTexture(material.map),\n        texCoord: material.map.channel\n      };\n      this.applyTextureTransform(baseColorMapDef, material.map);\n      materialDef.pbrMetallicRoughness.baseColorTexture = baseColorMapDef;\n    }\n    if (material.emissive) {\n      const emissive = material.emissive;\n      const maxEmissiveComponent = Math.max(emissive.r, emissive.g, emissive.b);\n      if (maxEmissiveComponent > 0) {\n        materialDef.emissiveFactor = material.emissive.toArray();\n      }\n      if (material.emissiveMap) {\n        const emissiveMapDef = {\n          index: this.processTexture(material.emissiveMap),\n          texCoord: material.emissiveMap.channel\n        };\n        this.applyTextureTransform(emissiveMapDef, material.emissiveMap);\n        materialDef.emissiveTexture = emissiveMapDef;\n      }\n    }\n    if (material.normalMap) {\n      const normalMapDef = {\n        index: this.processTexture(material.normalMap),\n        texCoord: material.normalMap.channel\n      };\n      if (material.normalScale && material.normalScale.x !== 1) {\n        normalMapDef.scale = material.normalScale.x;\n      }\n      this.applyTextureTransform(normalMapDef, material.normalMap);\n      materialDef.normalTexture = normalMapDef;\n    }\n    if (material.aoMap) {\n      const occlusionMapDef = {\n        index: this.processTexture(material.aoMap),\n        texCoord: material.aoMap.channel\n      };\n      if (material.aoMapIntensity !== 1) {\n        occlusionMapDef.strength = material.aoMapIntensity;\n      }\n      this.applyTextureTransform(occlusionMapDef, material.aoMap);\n      materialDef.occlusionTexture = occlusionMapDef;\n    }\n    if (material.transparent) {\n      materialDef.alphaMode = \"BLEND\";\n    } else {\n      if (material.alphaTest > 0) {\n        materialDef.alphaMode = \"MASK\";\n        materialDef.alphaCutoff = material.alphaTest;\n      }\n    }\n    if (material.side === DoubleSide)\n      materialDef.doubleSided = true;\n    if (material.name !== \"\")\n      materialDef.name = material.name;\n    this.serializeUserData(material, materialDef);\n    this._invokeAll(function(ext) {\n      ext.writeMaterial && ext.writeMaterial(material, materialDef);\n    });\n    const index = json.materials.push(materialDef) - 1;\n    cache.materials.set(material, index);\n    return index;\n  }\n  /**\n   * Process mesh\n   * @param  {THREE.Mesh} mesh Mesh to process\n   * @return {Integer|null} Index of the processed mesh in the \"meshes\" array\n   */\n  processMesh(mesh) {\n    const cache = this.cache;\n    const json = this.json;\n    const meshCacheKeyParts = [mesh.geometry.uuid];\n    if (Array.isArray(mesh.material)) {\n      for (let i = 0, l = mesh.material.length; i < l; i++) {\n        meshCacheKeyParts.push(mesh.material[i].uuid);\n      }\n    } else {\n      meshCacheKeyParts.push(mesh.material.uuid);\n    }\n    const meshCacheKey = meshCacheKeyParts.join(\":\");\n    if (cache.meshes.has(meshCacheKey))\n      return cache.meshes.get(meshCacheKey);\n    const geometry = mesh.geometry;\n    let mode;\n    if (mesh.isLineSegments) {\n      mode = WEBGL_CONSTANTS.LINES;\n    } else if (mesh.isLineLoop) {\n      mode = WEBGL_CONSTANTS.LINE_LOOP;\n    } else if (mesh.isLine) {\n      mode = WEBGL_CONSTANTS.LINE_STRIP;\n    } else if (mesh.isPoints) {\n      mode = WEBGL_CONSTANTS.POINTS;\n    } else {\n      mode = mesh.material.wireframe ? WEBGL_CONSTANTS.LINES : WEBGL_CONSTANTS.TRIANGLES;\n    }\n    const meshDef = {};\n    const attributes = {};\n    const primitives = [];\n    const targets = [];\n    const nameConversion = {\n      uv: \"TEXCOORD_0\",\n      [REVISION.replace(/\\D+/g, \"\") >= 152 ? \"uv1\" : \"uv2\"]: \"TEXCOORD_1\",\n      color: \"COLOR_0\",\n      skinWeight: \"WEIGHTS_0\",\n      skinIndex: \"JOINTS_0\"\n    };\n    const originalNormal = geometry.getAttribute(\"normal\");\n    if (originalNormal !== void 0 && !this.isNormalizedNormalAttribute(originalNormal)) {\n      console.warn(\"THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one.\");\n      geometry.setAttribute(\"normal\", this.createNormalizedNormalAttribute(originalNormal));\n    }\n    let modifiedAttribute = null;\n    for (let attributeName in geometry.attributes) {\n      if (attributeName.slice(0, 5) === \"morph\")\n        continue;\n      const attribute = geometry.attributes[attributeName];\n      attributeName = nameConversion[attributeName] || attributeName.toUpperCase();\n      const validVertexAttributes = /^(POSITION|NORMAL|TANGENT|TEXCOORD_\\d+|COLOR_\\d+|JOINTS_\\d+|WEIGHTS_\\d+)$/;\n      if (!validVertexAttributes.test(attributeName))\n        attributeName = \"_\" + attributeName;\n      if (cache.attributes.has(this.getUID(attribute))) {\n        attributes[attributeName] = cache.attributes.get(this.getUID(attribute));\n        continue;\n      }\n      modifiedAttribute = null;\n      const array = attribute.array;\n      if (attributeName === \"JOINTS_0\" && !(array instanceof Uint16Array) && !(array instanceof Uint8Array)) {\n        console.warn('GLTFExporter: Attribute \"skinIndex\" converted to type UNSIGNED_SHORT.');\n        modifiedAttribute = new BufferAttribute(new Uint16Array(array), attribute.itemSize, attribute.normalized);\n      }\n      const accessor = this.processAccessor(modifiedAttribute || attribute, geometry);\n      if (accessor !== null) {\n        if (!attributeName.startsWith(\"_\")) {\n          this.detectMeshQuantization(attributeName, attribute);\n        }\n        attributes[attributeName] = accessor;\n        cache.attributes.set(this.getUID(attribute), accessor);\n      }\n    }\n    if (originalNormal !== void 0)\n      geometry.setAttribute(\"normal\", originalNormal);\n    if (Object.keys(attributes).length === 0)\n      return null;\n    if (mesh.morphTargetInfluences !== void 0 && mesh.morphTargetInfluences.length > 0) {\n      const weights = [];\n      const targetNames = [];\n      const reverseDictionary = {};\n      if (mesh.morphTargetDictionary !== void 0) {\n        for (const key in mesh.morphTargetDictionary) {\n          reverseDictionary[mesh.morphTargetDictionary[key]] = key;\n        }\n      }\n      for (let i = 0; i < mesh.morphTargetInfluences.length; ++i) {\n        const target = {};\n        let warned = false;\n        for (const attributeName in geometry.morphAttributes) {\n          if (attributeName !== \"position\" && attributeName !== \"normal\") {\n            if (!warned) {\n              console.warn(\"GLTFExporter: Only POSITION and NORMAL morph are supported.\");\n              warned = true;\n            }\n            continue;\n          }\n          const attribute = geometry.morphAttributes[attributeName][i];\n          const gltfAttributeName = attributeName.toUpperCase();\n          const baseAttribute = geometry.attributes[attributeName];\n          if (cache.attributes.has(this.getUID(attribute, true))) {\n            target[gltfAttributeName] = cache.attributes.get(this.getUID(attribute, true));\n            continue;\n          }\n          const relativeAttribute = attribute.clone();\n          if (!geometry.morphTargetsRelative) {\n            for (let j = 0, jl = attribute.count; j < jl; j++) {\n              for (let a = 0; a < attribute.itemSize; a++) {\n                if (a === 0)\n                  relativeAttribute.setX(j, attribute.getX(j) - baseAttribute.getX(j));\n                if (a === 1)\n                  relativeAttribute.setY(j, attribute.getY(j) - baseAttribute.getY(j));\n                if (a === 2)\n                  relativeAttribute.setZ(j, attribute.getZ(j) - baseAttribute.getZ(j));\n                if (a === 3)\n                  relativeAttribute.setW(j, attribute.getW(j) - baseAttribute.getW(j));\n              }\n            }\n          }\n          target[gltfAttributeName] = this.processAccessor(relativeAttribute, geometry);\n          cache.attributes.set(this.getUID(baseAttribute, true), target[gltfAttributeName]);\n        }\n        targets.push(target);\n        weights.push(mesh.morphTargetInfluences[i]);\n        if (mesh.morphTargetDictionary !== void 0)\n          targetNames.push(reverseDictionary[i]);\n      }\n      meshDef.weights = weights;\n      if (targetNames.length > 0) {\n        meshDef.extras = {};\n        meshDef.extras.targetNames = targetNames;\n      }\n    }\n    const isMultiMaterial = Array.isArray(mesh.material);\n    if (isMultiMaterial && geometry.groups.length === 0)\n      return null;\n    const materials = isMultiMaterial ? mesh.material : [mesh.material];\n    const groups = isMultiMaterial ? geometry.groups : [{ materialIndex: 0, start: void 0, count: void 0 }];\n    for (let i = 0, il = groups.length; i < il; i++) {\n      const primitive = {\n        mode,\n        attributes\n      };\n      this.serializeUserData(geometry, primitive);\n      if (targets.length > 0)\n        primitive.targets = targets;\n      if (geometry.index !== null) {\n        let cacheKey = this.getUID(geometry.index);\n        if (groups[i].start !== void 0 || groups[i].count !== void 0) {\n          cacheKey += \":\" + groups[i].start + \":\" + groups[i].count;\n        }\n        if (cache.attributes.has(cacheKey)) {\n          primitive.indices = cache.attributes.get(cacheKey);\n        } else {\n          primitive.indices = this.processAccessor(geometry.index, geometry, groups[i].start, groups[i].count);\n          cache.attributes.set(cacheKey, primitive.indices);\n        }\n        if (primitive.indices === null)\n          delete primitive.indices;\n      }\n      const material = this.processMaterial(materials[groups[i].materialIndex]);\n      if (material !== null)\n        primitive.material = material;\n      primitives.push(primitive);\n    }\n    meshDef.primitives = primitives;\n    if (!json.meshes)\n      json.meshes = [];\n    this._invokeAll(function(ext) {\n      ext.writeMesh && ext.writeMesh(mesh, meshDef);\n    });\n    const index = json.meshes.push(meshDef) - 1;\n    cache.meshes.set(meshCacheKey, index);\n    return index;\n  }\n  /**\n   * If a vertex attribute with a\n   * [non-standard data type](https://registry.khronos.org/glTF/specs/2.0/glTF-2.0.html#meshes-overview)\n   * is used, it is checked whether it is a valid data type according to the\n   * [KHR_mesh_quantization](https://github.com/KhronosGroup/glTF/blob/main/extensions/2.0/Khronos/KHR_mesh_quantization/README.md)\n   * extension.\n   * In this case the extension is automatically added to the list of used extensions.\n   *\n   * @param {string} attributeName\n   * @param {THREE.BufferAttribute} attribute\n   */\n  detectMeshQuantization(attributeName, attribute) {\n    if (this.extensionsUsed[KHR_MESH_QUANTIZATION])\n      return;\n    let attrType = void 0;\n    switch (attribute.array.constructor) {\n      case Int8Array:\n        attrType = \"byte\";\n        break;\n      case Uint8Array:\n        attrType = \"unsigned byte\";\n        break;\n      case Int16Array:\n        attrType = \"short\";\n        break;\n      case Uint16Array:\n        attrType = \"unsigned short\";\n        break;\n      default:\n        return;\n    }\n    if (attribute.normalized)\n      attrType += \" normalized\";\n    const attrNamePrefix = attributeName.split(\"_\", 1)[0];\n    if (KHR_mesh_quantization_ExtraAttrTypes[attrNamePrefix] && KHR_mesh_quantization_ExtraAttrTypes[attrNamePrefix].includes(attrType)) {\n      this.extensionsUsed[KHR_MESH_QUANTIZATION] = true;\n      this.extensionsRequired[KHR_MESH_QUANTIZATION] = true;\n    }\n  }\n  /**\n   * Process camera\n   * @param  {THREE.Camera} camera Camera to process\n   * @return {Integer}      Index of the processed mesh in the \"camera\" array\n   */\n  processCamera(camera) {\n    const json = this.json;\n    if (!json.cameras)\n      json.cameras = [];\n    const isOrtho = camera.isOrthographicCamera;\n    const cameraDef = {\n      type: isOrtho ? \"orthographic\" : \"perspective\"\n    };\n    if (isOrtho) {\n      cameraDef.orthographic = {\n        xmag: camera.right * 2,\n        ymag: camera.top * 2,\n        zfar: camera.far <= 0 ? 1e-3 : camera.far,\n        znear: camera.near < 0 ? 0 : camera.near\n      };\n    } else {\n      cameraDef.perspective = {\n        aspectRatio: camera.aspect,\n        yfov: MathUtils.degToRad(camera.fov),\n        zfar: camera.far <= 0 ? 1e-3 : camera.far,\n        znear: camera.near < 0 ? 0 : camera.near\n      };\n    }\n    if (camera.name !== \"\")\n      cameraDef.name = camera.type;\n    return json.cameras.push(cameraDef) - 1;\n  }\n  /**\n   * Creates glTF animation entry from AnimationClip object.\n   *\n   * Status:\n   * - Only properties listed in PATH_PROPERTIES may be animated.\n   *\n   * @param {THREE.AnimationClip} clip\n   * @param {THREE.Object3D} root\n   * @return {number|null}\n   */\n  processAnimation(clip, root) {\n    const json = this.json;\n    const nodeMap = this.nodeMap;\n    if (!json.animations)\n      json.animations = [];\n    clip = GLTFExporter.Utils.mergeMorphTargetTracks(clip.clone(), root);\n    const tracks = clip.tracks;\n    const channels = [];\n    const samplers = [];\n    for (let i = 0; i < tracks.length; ++i) {\n      const track = tracks[i];\n      const trackBinding = PropertyBinding.parseTrackName(track.name);\n      let trackNode = PropertyBinding.findNode(root, trackBinding.nodeName);\n      const trackProperty = PATH_PROPERTIES[trackBinding.propertyName];\n      if (trackBinding.objectName === \"bones\") {\n        if (trackNode.isSkinnedMesh === true) {\n          trackNode = trackNode.skeleton.getBoneByName(trackBinding.objectIndex);\n        } else {\n          trackNode = void 0;\n        }\n      }\n      if (!trackNode || !trackProperty) {\n        console.warn('THREE.GLTFExporter: Could not export animation track \"%s\".', track.name);\n        return null;\n      }\n      const inputItemSize = 1;\n      let outputItemSize = track.values.length / track.times.length;\n      if (trackProperty === PATH_PROPERTIES.morphTargetInfluences) {\n        outputItemSize /= trackNode.morphTargetInfluences.length;\n      }\n      let interpolation;\n      if (track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline === true) {\n        interpolation = \"CUBICSPLINE\";\n        outputItemSize /= 3;\n      } else if (track.getInterpolation() === InterpolateDiscrete) {\n        interpolation = \"STEP\";\n      } else {\n        interpolation = \"LINEAR\";\n      }\n      samplers.push({\n        input: this.processAccessor(new BufferAttribute(track.times, inputItemSize)),\n        output: this.processAccessor(new BufferAttribute(track.values, outputItemSize)),\n        interpolation\n      });\n      channels.push({\n        sampler: samplers.length - 1,\n        target: {\n          node: nodeMap.get(trackNode),\n          path: trackProperty\n        }\n      });\n    }\n    json.animations.push({\n      name: clip.name || \"clip_\" + json.animations.length,\n      samplers,\n      channels\n    });\n    return json.animations.length - 1;\n  }\n  /**\n   * @param {THREE.Object3D} object\n   * @return {number|null}\n   */\n  processSkin(object) {\n    const json = this.json;\n    const nodeMap = this.nodeMap;\n    const node = json.nodes[nodeMap.get(object)];\n    const skeleton = object.skeleton;\n    if (skeleton === void 0)\n      return null;\n    const rootJoint = object.skeleton.bones[0];\n    if (rootJoint === void 0)\n      return null;\n    const joints = [];\n    const inverseBindMatrices = new Float32Array(skeleton.bones.length * 16);\n    const temporaryBoneInverse = new Matrix4();\n    for (let i = 0; i < skeleton.bones.length; ++i) {\n      joints.push(nodeMap.get(skeleton.bones[i]));\n      temporaryBoneInverse.copy(skeleton.boneInverses[i]);\n      temporaryBoneInverse.multiply(object.bindMatrix).toArray(inverseBindMatrices, i * 16);\n    }\n    if (json.skins === void 0)\n      json.skins = [];\n    json.skins.push({\n      inverseBindMatrices: this.processAccessor(new BufferAttribute(inverseBindMatrices, 16)),\n      joints,\n      skeleton: nodeMap.get(rootJoint)\n    });\n    const skinIndex = node.skin = json.skins.length - 1;\n    return skinIndex;\n  }\n  /**\n   * Process Object3D node\n   * @param  {THREE.Object3D} node Object3D to processNode\n   * @return {Integer} Index of the node in the nodes list\n   */\n  processNode(object) {\n    const json = this.json;\n    const options = this.options;\n    const nodeMap = this.nodeMap;\n    if (!json.nodes)\n      json.nodes = [];\n    const nodeDef = {};\n    if (options.trs) {\n      const rotation = object.quaternion.toArray();\n      const position = object.position.toArray();\n      const scale = object.scale.toArray();\n      if (!equalArray(rotation, [0, 0, 0, 1])) {\n        nodeDef.rotation = rotation;\n      }\n      if (!equalArray(position, [0, 0, 0])) {\n        nodeDef.translation = position;\n      }\n      if (!equalArray(scale, [1, 1, 1])) {\n        nodeDef.scale = scale;\n      }\n    } else {\n      if (object.matrixAutoUpdate) {\n        object.updateMatrix();\n      }\n      if (isIdentityMatrix(object.matrix) === false) {\n        nodeDef.matrix = object.matrix.elements;\n      }\n    }\n    if (object.name !== \"\")\n      nodeDef.name = String(object.name);\n    this.serializeUserData(object, nodeDef);\n    if (object.isMesh || object.isLine || object.isPoints) {\n      const meshIndex = this.processMesh(object);\n      if (meshIndex !== null)\n        nodeDef.mesh = meshIndex;\n    } else if (object.isCamera) {\n      nodeDef.camera = this.processCamera(object);\n    }\n    if (object.isSkinnedMesh)\n      this.skins.push(object);\n    if (object.children.length > 0) {\n      const children = [];\n      for (let i = 0, l = object.children.length; i < l; i++) {\n        const child = object.children[i];\n        if (child.visible || options.onlyVisible === false) {\n          const nodeIndex2 = this.processNode(child);\n          if (nodeIndex2 !== null)\n            children.push(nodeIndex2);\n        }\n      }\n      if (children.length > 0)\n        nodeDef.children = children;\n    }\n    this._invokeAll(function(ext) {\n      ext.writeNode && ext.writeNode(object, nodeDef);\n    });\n    const nodeIndex = json.nodes.push(nodeDef) - 1;\n    nodeMap.set(object, nodeIndex);\n    return nodeIndex;\n  }\n  /**\n   * Process Scene\n   * @param  {Scene} node Scene to process\n   */\n  processScene(scene) {\n    const json = this.json;\n    const options = this.options;\n    if (!json.scenes) {\n      json.scenes = [];\n      json.scene = 0;\n    }\n    const sceneDef = {};\n    if (scene.name !== \"\")\n      sceneDef.name = scene.name;\n    json.scenes.push(sceneDef);\n    const nodes = [];\n    for (let i = 0, l = scene.children.length; i < l; i++) {\n      const child = scene.children[i];\n      if (child.visible || options.onlyVisible === false) {\n        const nodeIndex = this.processNode(child);\n        if (nodeIndex !== null)\n          nodes.push(nodeIndex);\n      }\n    }\n    if (nodes.length > 0)\n      sceneDef.nodes = nodes;\n    this.serializeUserData(scene, sceneDef);\n  }\n  /**\n   * Creates a Scene to hold a list of objects and parse it\n   * @param  {Array} objects List of objects to process\n   */\n  processObjects(objects) {\n    const scene = new Scene();\n    scene.name = \"AuxScene\";\n    for (let i = 0; i < objects.length; i++) {\n      scene.children.push(objects[i]);\n    }\n    this.processScene(scene);\n  }\n  /**\n   * @param {THREE.Object3D|Array<THREE.Object3D>} input\n   */\n  processInput(input) {\n    const options = this.options;\n    input = input instanceof Array ? input : [input];\n    this._invokeAll(function(ext) {\n      ext.beforeParse && ext.beforeParse(input);\n    });\n    const objectsWithoutScene = [];\n    for (let i = 0; i < input.length; i++) {\n      if (input[i] instanceof Scene) {\n        this.processScene(input[i]);\n      } else {\n        objectsWithoutScene.push(input[i]);\n      }\n    }\n    if (objectsWithoutScene.length > 0)\n      this.processObjects(objectsWithoutScene);\n    for (let i = 0; i < this.skins.length; ++i) {\n      this.processSkin(this.skins[i]);\n    }\n    for (let i = 0; i < options.animations.length; ++i) {\n      this.processAnimation(options.animations[i], input[0]);\n    }\n    this._invokeAll(function(ext) {\n      ext.afterParse && ext.afterParse(input);\n    });\n  }\n  _invokeAll(func) {\n    for (let i = 0, il = this.plugins.length; i < il; i++) {\n      func(this.plugins[i]);\n    }\n  }\n}\nclass GLTFLightExtension {\n  constructor(writer) {\n    this.writer = writer;\n    this.name = \"KHR_lights_punctual\";\n  }\n  writeNode(light, nodeDef) {\n    if (!light.isLight)\n      return;\n    if (!light.isDirectionalLight && !light.isPointLight && !light.isSpotLight) {\n      console.warn(\"THREE.GLTFExporter: Only directional, point, and spot lights are supported.\", light);\n      return;\n    }\n    const writer = this.writer;\n    const json = writer.json;\n    const extensionsUsed = writer.extensionsUsed;\n    const lightDef = {};\n    if (light.name)\n      lightDef.name = light.name;\n    lightDef.color = light.color.toArray();\n    lightDef.intensity = light.intensity;\n    if (light.isDirectionalLight) {\n      lightDef.type = \"directional\";\n    } else if (light.isPointLight) {\n      lightDef.type = \"point\";\n      if (light.distance > 0)\n        lightDef.range = light.distance;\n    } else if (light.isSpotLight) {\n      lightDef.type = \"spot\";\n      if (light.distance > 0)\n        lightDef.range = light.distance;\n      lightDef.spot = {};\n      lightDef.spot.innerConeAngle = (light.penumbra - 1) * light.angle * -1;\n      lightDef.spot.outerConeAngle = light.angle;\n    }\n    if (light.decay !== void 0 && light.decay !== 2) {\n      console.warn(\n        \"THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2.\"\n      );\n    }\n    if (light.target && (light.target.parent !== light || light.target.position.x !== 0 || light.target.position.y !== 0 || light.target.position.z !== -1)) {\n      console.warn(\n        \"THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1.\"\n      );\n    }\n    if (!extensionsUsed[this.name]) {\n      json.extensions = json.extensions || {};\n      json.extensions[this.name] = { lights: [] };\n      extensionsUsed[this.name] = true;\n    }\n    const lights = json.extensions[this.name].lights;\n    lights.push(lightDef);\n    nodeDef.extensions = nodeDef.extensions || {};\n    nodeDef.extensions[this.name] = { light: lights.length - 1 };\n  }\n}\nclass GLTFMaterialsUnlitExtension {\n  constructor(writer) {\n    this.writer = writer;\n    this.name = \"KHR_materials_unlit\";\n  }\n  writeMaterial(material, materialDef) {\n    if (!material.isMeshBasicMaterial)\n      return;\n    const writer = this.writer;\n    const extensionsUsed = writer.extensionsUsed;\n    materialDef.extensions = materialDef.extensions || {};\n    materialDef.extensions[this.name] = {};\n    extensionsUsed[this.name] = true;\n    materialDef.pbrMetallicRoughness.metallicFactor = 0;\n    materialDef.pbrMetallicRoughness.roughnessFactor = 0.9;\n  }\n}\nclass GLTFMaterialsClearcoatExtension {\n  constructor(writer) {\n    this.writer = writer;\n    this.name = \"KHR_materials_clearcoat\";\n  }\n  writeMaterial(material, materialDef) {\n    if (!material.isMeshPhysicalMaterial || material.clearcoat === 0)\n      return;\n    const writer = this.writer;\n    const extensionsUsed = writer.extensionsUsed;\n    const extensionDef = {};\n    extensionDef.clearcoatFactor = material.clearcoat;\n    if (material.clearcoatMap) {\n      const clearcoatMapDef = {\n        index: writer.processTexture(material.clearcoatMap),\n        texCoord: material.clearcoatMap.channel\n      };\n      writer.applyTextureTransform(clearcoatMapDef, material.clearcoatMap);\n      extensionDef.clearcoatTexture = clearcoatMapDef;\n    }\n    extensionDef.clearcoatRoughnessFactor = material.clearcoatRoughness;\n    if (material.clearcoatRoughnessMap) {\n      const clearcoatRoughnessMapDef = {\n        index: writer.processTexture(material.clearcoatRoughnessMap),\n        texCoord: material.clearcoatRoughnessMap.channel\n      };\n      writer.applyTextureTransform(clearcoatRoughnessMapDef, material.clearcoatRoughnessMap);\n      extensionDef.clearcoatRoughnessTexture = clearcoatRoughnessMapDef;\n    }\n    if (material.clearcoatNormalMap) {\n      const clearcoatNormalMapDef = {\n        index: writer.processTexture(material.clearcoatNormalMap),\n        texCoord: material.clearcoatNormalMap.channel\n      };\n      writer.applyTextureTransform(clearcoatNormalMapDef, material.clearcoatNormalMap);\n      extensionDef.clearcoatNormalTexture = clearcoatNormalMapDef;\n    }\n    materialDef.extensions = materialDef.extensions || {};\n    materialDef.extensions[this.name] = extensionDef;\n    extensionsUsed[this.name] = true;\n  }\n}\nclass GLTFMaterialsIridescenceExtension {\n  constructor(writer) {\n    this.writer = writer;\n    this.name = \"KHR_materials_iridescence\";\n  }\n  writeMaterial(material, materialDef) {\n    if (!material.isMeshPhysicalMaterial || material.iridescence === 0)\n      return;\n    const writer = this.writer;\n    const extensionsUsed = writer.extensionsUsed;\n    const extensionDef = {};\n    extensionDef.iridescenceFactor = material.iridescence;\n    if (material.iridescenceMap) {\n      const iridescenceMapDef = {\n        index: writer.processTexture(material.iridescenceMap),\n        texCoord: material.iridescenceMap.channel\n      };\n      writer.applyTextureTransform(iridescenceMapDef, material.iridescenceMap);\n      extensionDef.iridescenceTexture = iridescenceMapDef;\n    }\n    extensionDef.iridescenceIor = material.iridescenceIOR;\n    extensionDef.iridescenceThicknessMinimum = material.iridescenceThicknessRange[0];\n    extensionDef.iridescenceThicknessMaximum = material.iridescenceThicknessRange[1];\n    if (material.iridescenceThicknessMap) {\n      const iridescenceThicknessMapDef = {\n        index: writer.processTexture(material.iridescenceThicknessMap),\n        texCoord: material.iridescenceThicknessMap.channel\n      };\n      writer.applyTextureTransform(iridescenceThicknessMapDef, material.iridescenceThicknessMap);\n      extensionDef.iridescenceThicknessTexture = iridescenceThicknessMapDef;\n    }\n    materialDef.extensions = materialDef.extensions || {};\n    materialDef.extensions[this.name] = extensionDef;\n    extensionsUsed[this.name] = true;\n  }\n}\nclass GLTFMaterialsTransmissionExtension {\n  constructor(writer) {\n    this.writer = writer;\n    this.name = \"KHR_materials_transmission\";\n  }\n  writeMaterial(material, materialDef) {\n    if (!material.isMeshPhysicalMaterial || material.transmission === 0)\n      return;\n    const writer = this.writer;\n    const extensionsUsed = writer.extensionsUsed;\n    const extensionDef = {};\n    extensionDef.transmissionFactor = material.transmission;\n    if (material.transmissionMap) {\n      const transmissionMapDef = {\n        index: writer.processTexture(material.transmissionMap),\n        texCoord: material.transmissionMap.channel\n      };\n      writer.applyTextureTransform(transmissionMapDef, material.transmissionMap);\n      extensionDef.transmissionTexture = transmissionMapDef;\n    }\n    materialDef.extensions = materialDef.extensions || {};\n    materialDef.extensions[this.name] = extensionDef;\n    extensionsUsed[this.name] = true;\n  }\n}\nclass GLTFMaterialsVolumeExtension {\n  constructor(writer) {\n    this.writer = writer;\n    this.name = \"KHR_materials_volume\";\n  }\n  writeMaterial(material, materialDef) {\n    if (!material.isMeshPhysicalMaterial || material.transmission === 0)\n      return;\n    const writer = this.writer;\n    const extensionsUsed = writer.extensionsUsed;\n    const extensionDef = {};\n    extensionDef.thicknessFactor = material.thickness;\n    if (material.thicknessMap) {\n      const thicknessMapDef = {\n        index: writer.processTexture(material.thicknessMap),\n        texCoord: material.thicknessMap.channel\n      };\n      writer.applyTextureTransform(thicknessMapDef, material.thicknessMap);\n      extensionDef.thicknessTexture = thicknessMapDef;\n    }\n    extensionDef.attenuationDistance = material.attenuationDistance;\n    extensionDef.attenuationColor = material.attenuationColor.toArray();\n    materialDef.extensions = materialDef.extensions || {};\n    materialDef.extensions[this.name] = extensionDef;\n    extensionsUsed[this.name] = true;\n  }\n}\nclass GLTFMaterialsIorExtension {\n  constructor(writer) {\n    this.writer = writer;\n    this.name = \"KHR_materials_ior\";\n  }\n  writeMaterial(material, materialDef) {\n    if (!material.isMeshPhysicalMaterial || material.ior === 1.5)\n      return;\n    const writer = this.writer;\n    const extensionsUsed = writer.extensionsUsed;\n    const extensionDef = {};\n    extensionDef.ior = material.ior;\n    materialDef.extensions = materialDef.extensions || {};\n    materialDef.extensions[this.name] = extensionDef;\n    extensionsUsed[this.name] = true;\n  }\n}\nclass GLTFMaterialsSpecularExtension {\n  constructor(writer) {\n    this.writer = writer;\n    this.name = \"KHR_materials_specular\";\n  }\n  writeMaterial(material, materialDef) {\n    if (!material.isMeshPhysicalMaterial || material.specularIntensity === 1 && material.specularColor.equals(DEFAULT_SPECULAR_COLOR) && !material.specularIntensityMap && !material.specularColorTexture)\n      return;\n    const writer = this.writer;\n    const extensionsUsed = writer.extensionsUsed;\n    const extensionDef = {};\n    if (material.specularIntensityMap) {\n      const specularIntensityMapDef = {\n        index: writer.processTexture(material.specularIntensityMap),\n        texCoord: material.specularIntensityMap.channel\n      };\n      writer.applyTextureTransform(specularIntensityMapDef, material.specularIntensityMap);\n      extensionDef.specularTexture = specularIntensityMapDef;\n    }\n    if (material.specularColorMap) {\n      const specularColorMapDef = {\n        index: writer.processTexture(material.specularColorMap),\n        texCoord: material.specularColorMap.channel\n      };\n      writer.applyTextureTransform(specularColorMapDef, material.specularColorMap);\n      extensionDef.specularColorTexture = specularColorMapDef;\n    }\n    extensionDef.specularFactor = material.specularIntensity;\n    extensionDef.specularColorFactor = material.specularColor.toArray();\n    materialDef.extensions = materialDef.extensions || {};\n    materialDef.extensions[this.name] = extensionDef;\n    extensionsUsed[this.name] = true;\n  }\n}\nclass GLTFMaterialsSheenExtension {\n  constructor(writer) {\n    this.writer = writer;\n    this.name = \"KHR_materials_sheen\";\n  }\n  writeMaterial(material, materialDef) {\n    if (!material.isMeshPhysicalMaterial || material.sheen == 0)\n      return;\n    const writer = this.writer;\n    const extensionsUsed = writer.extensionsUsed;\n    const extensionDef = {};\n    if (material.sheenRoughnessMap) {\n      const sheenRoughnessMapDef = {\n        index: writer.processTexture(material.sheenRoughnessMap),\n        texCoord: material.sheenRoughnessMap.channel\n      };\n      writer.applyTextureTransform(sheenRoughnessMapDef, material.sheenRoughnessMap);\n      extensionDef.sheenRoughnessTexture = sheenRoughnessMapDef;\n    }\n    if (material.sheenColorMap) {\n      const sheenColorMapDef = {\n        index: writer.processTexture(material.sheenColorMap),\n        texCoord: material.sheenColorMap.channel\n      };\n      writer.applyTextureTransform(sheenColorMapDef, material.sheenColorMap);\n      extensionDef.sheenColorTexture = sheenColorMapDef;\n    }\n    extensionDef.sheenRoughnessFactor = material.sheenRoughness;\n    extensionDef.sheenColorFactor = material.sheenColor.toArray();\n    materialDef.extensions = materialDef.extensions || {};\n    materialDef.extensions[this.name] = extensionDef;\n    extensionsUsed[this.name] = true;\n  }\n}\nclass GLTFMaterialsAnisotropyExtension {\n  constructor(writer) {\n    this.writer = writer;\n    this.name = \"KHR_materials_anisotropy\";\n  }\n  writeMaterial(material, materialDef) {\n    if (!material.isMeshPhysicalMaterial || material.anisotropy == 0)\n      return;\n    const writer = this.writer;\n    const extensionsUsed = writer.extensionsUsed;\n    const extensionDef = {};\n    if (material.anisotropyMap) {\n      const anisotropyMapDef = { index: writer.processTexture(material.anisotropyMap) };\n      writer.applyTextureTransform(anisotropyMapDef, material.anisotropyMap);\n      extensionDef.anisotropyTexture = anisotropyMapDef;\n    }\n    extensionDef.anisotropyStrength = material.anisotropy;\n    extensionDef.anisotropyRotation = material.anisotropyRotation;\n    materialDef.extensions = materialDef.extensions || {};\n    materialDef.extensions[this.name] = extensionDef;\n    extensionsUsed[this.name] = true;\n  }\n}\nclass GLTFMaterialsEmissiveStrengthExtension {\n  constructor(writer) {\n    this.writer = writer;\n    this.name = \"KHR_materials_emissive_strength\";\n  }\n  writeMaterial(material, materialDef) {\n    if (!material.isMeshStandardMaterial || material.emissiveIntensity === 1)\n      return;\n    const writer = this.writer;\n    const extensionsUsed = writer.extensionsUsed;\n    const extensionDef = {};\n    extensionDef.emissiveStrength = material.emissiveIntensity;\n    materialDef.extensions = materialDef.extensions || {};\n    materialDef.extensions[this.name] = extensionDef;\n    extensionsUsed[this.name] = true;\n  }\n}\nGLTFExporter.Utils = {\n  insertKeyframe: function(track, time) {\n    const tolerance = 1e-3;\n    const valueSize = track.getValueSize();\n    const times = new track.TimeBufferType(track.times.length + 1);\n    const values = new track.ValueBufferType(track.values.length + valueSize);\n    const interpolant = track.createInterpolant(new track.ValueBufferType(valueSize));\n    let index;\n    if (track.times.length === 0) {\n      times[0] = time;\n      for (let i = 0; i < valueSize; i++) {\n        values[i] = 0;\n      }\n      index = 0;\n    } else if (time < track.times[0]) {\n      if (Math.abs(track.times[0] - time) < tolerance)\n        return 0;\n      times[0] = time;\n      times.set(track.times, 1);\n      values.set(interpolant.evaluate(time), 0);\n      values.set(track.values, valueSize);\n      index = 0;\n    } else if (time > track.times[track.times.length - 1]) {\n      if (Math.abs(track.times[track.times.length - 1] - time) < tolerance) {\n        return track.times.length - 1;\n      }\n      times[times.length - 1] = time;\n      times.set(track.times, 0);\n      values.set(track.values, 0);\n      values.set(interpolant.evaluate(time), track.values.length);\n      index = times.length - 1;\n    } else {\n      for (let i = 0; i < track.times.length; i++) {\n        if (Math.abs(track.times[i] - time) < tolerance)\n          return i;\n        if (track.times[i] < time && track.times[i + 1] > time) {\n          times.set(track.times.slice(0, i + 1), 0);\n          times[i + 1] = time;\n          times.set(track.times.slice(i + 1), i + 2);\n          values.set(track.values.slice(0, (i + 1) * valueSize), 0);\n          values.set(interpolant.evaluate(time), (i + 1) * valueSize);\n          values.set(track.values.slice((i + 1) * valueSize), (i + 2) * valueSize);\n          index = i + 1;\n          break;\n        }\n      }\n    }\n    track.times = times;\n    track.values = values;\n    return index;\n  },\n  mergeMorphTargetTracks: function(clip, root) {\n    const tracks = [];\n    const mergedTracks = {};\n    const sourceTracks = clip.tracks;\n    for (let i = 0; i < sourceTracks.length; ++i) {\n      let sourceTrack = sourceTracks[i];\n      const sourceTrackBinding = PropertyBinding.parseTrackName(sourceTrack.name);\n      const sourceTrackNode = PropertyBinding.findNode(root, sourceTrackBinding.nodeName);\n      if (sourceTrackBinding.propertyName !== \"morphTargetInfluences\" || sourceTrackBinding.propertyIndex === void 0) {\n        tracks.push(sourceTrack);\n        continue;\n      }\n      if (sourceTrack.createInterpolant !== sourceTrack.InterpolantFactoryMethodDiscrete && sourceTrack.createInterpolant !== sourceTrack.InterpolantFactoryMethodLinear) {\n        if (sourceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline) {\n          throw new Error(\"THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.\");\n        }\n        console.warn(\"THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead.\");\n        sourceTrack = sourceTrack.clone();\n        sourceTrack.setInterpolation(InterpolateLinear);\n      }\n      const targetCount = sourceTrackNode.morphTargetInfluences.length;\n      const targetIndex = sourceTrackNode.morphTargetDictionary[sourceTrackBinding.propertyIndex];\n      if (targetIndex === void 0) {\n        throw new Error(\"THREE.GLTFExporter: Morph target name not found: \" + sourceTrackBinding.propertyIndex);\n      }\n      let mergedTrack;\n      if (mergedTracks[sourceTrackNode.uuid] === void 0) {\n        mergedTrack = sourceTrack.clone();\n        const values = new mergedTrack.ValueBufferType(targetCount * mergedTrack.times.length);\n        for (let j = 0; j < mergedTrack.times.length; j++) {\n          values[j * targetCount + targetIndex] = mergedTrack.values[j];\n        }\n        mergedTrack.name = (sourceTrackBinding.nodeName || \"\") + \".morphTargetInfluences\";\n        mergedTrack.values = values;\n        mergedTracks[sourceTrackNode.uuid] = mergedTrack;\n        tracks.push(mergedTrack);\n        continue;\n      }\n      const sourceInterpolant = sourceTrack.createInterpolant(new sourceTrack.ValueBufferType(1));\n      mergedTrack = mergedTracks[sourceTrackNode.uuid];\n      for (let j = 0; j < mergedTrack.times.length; j++) {\n        mergedTrack.values[j * targetCount + targetIndex] = sourceInterpolant.evaluate(mergedTrack.times[j]);\n      }\n      for (let j = 0; j < sourceTrack.times.length; j++) {\n        const keyframeIndex = this.insertKeyframe(mergedTrack, sourceTrack.times[j]);\n        mergedTrack.values[keyframeIndex * targetCount + targetIndex] = sourceTrack.values[j];\n      }\n    }\n    clip.tracks = tracks;\n    return clip;\n  }\n};\nexport {\n  GLTFExporter\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { BufferGeometry, Mesh, Points } from \"three\";\nconst _DRACOExporter = class {\n  parse(object, options = {\n    decodeSpeed: 5,\n    encodeSpeed: 5,\n    encoderMethod: _DRACOExporter.MESH_EDGEBREAKER_ENCODING,\n    quantization: [16, 8, 8, 8, 8],\n    exportUvs: true,\n    exportNormals: true,\n    exportColor: false\n  }) {\n    if (object instanceof BufferGeometry && object.isBufferGeometry) {\n      throw new Error(\"DRACOExporter: The first parameter of parse() is now an instance of Mesh or Points.\");\n    }\n    if (DracoEncoderModule === void 0) {\n      throw new Error(\"THREE.DRACOExporter: required the draco_encoder to work.\");\n    }\n    const geometry = object.geometry;\n    const dracoEncoder = DracoEncoderModule();\n    const encoder = new dracoEncoder.Encoder();\n    let builder;\n    let dracoObject;\n    if (!geometry.isBufferGeometry) {\n      throw new Error(\"THREE.DRACOExporter.parse(geometry, options): geometry is not a THREE.BufferGeometry instance.\");\n    }\n    if (object instanceof Mesh && object.isMesh) {\n      builder = new dracoEncoder.MeshBuilder();\n      dracoObject = new dracoEncoder.Mesh();\n      const vertices = geometry.getAttribute(\"position\");\n      builder.AddFloatAttributeToMesh(\n        dracoObject,\n        dracoEncoder.POSITION,\n        vertices.count,\n        vertices.itemSize,\n        vertices.array\n      );\n      const faces = geometry.getIndex();\n      if (faces !== null) {\n        builder.AddFacesToMesh(dracoObject, faces.count / 3, faces.array);\n      } else {\n        const faces2 = new (vertices.count > 65535 ? Uint32Array : Uint16Array)(vertices.count);\n        for (let i = 0; i < faces2.length; i++) {\n          faces2[i] = i;\n        }\n        builder.AddFacesToMesh(dracoObject, vertices.count, faces2);\n      }\n      if (options.exportNormals) {\n        const normals = geometry.getAttribute(\"normal\");\n        if (normals !== void 0) {\n          builder.AddFloatAttributeToMesh(\n            dracoObject,\n            dracoEncoder.NORMAL,\n            normals.count,\n            normals.itemSize,\n            normals.array\n          );\n        }\n      }\n      if (options.exportUvs) {\n        const uvs = geometry.getAttribute(\"uv\");\n        if (uvs !== void 0) {\n          builder.AddFloatAttributeToMesh(dracoObject, dracoEncoder.TEX_COORD, uvs.count, uvs.itemSize, uvs.array);\n        }\n      }\n      if (options.exportColor) {\n        const colors = geometry.getAttribute(\"color\");\n        if (colors !== void 0) {\n          builder.AddFloatAttributeToMesh(dracoObject, dracoEncoder.COLOR, colors.count, colors.itemSize, colors.array);\n        }\n      }\n    } else if (object instanceof Points && object.isPoints) {\n      builder = new dracoEncoder.PointCloudBuilder();\n      dracoObject = new dracoEncoder.PointCloud();\n      const vertices = geometry.getAttribute(\"position\");\n      builder.AddFloatAttribute(dracoObject, dracoEncoder.POSITION, vertices.count, vertices.itemSize, vertices.array);\n      if (options.exportColor) {\n        const colors = geometry.getAttribute(\"color\");\n        if (colors !== void 0) {\n          builder.AddFloatAttribute(dracoObject, dracoEncoder.COLOR, colors.count, colors.itemSize, colors.array);\n        }\n      }\n    } else {\n      throw new Error(\"DRACOExporter: Unsupported object type.\");\n    }\n    const encodedData = new dracoEncoder.DracoInt8Array();\n    const encodeSpeed = options.encodeSpeed !== void 0 ? options.encodeSpeed : 5;\n    const decodeSpeed = options.decodeSpeed !== void 0 ? options.decodeSpeed : 5;\n    encoder.SetSpeedOptions(encodeSpeed, decodeSpeed);\n    if (options.encoderMethod !== void 0) {\n      encoder.SetEncodingMethod(options.encoderMethod);\n    }\n    if (options.quantization !== void 0) {\n      for (let i = 0; i < 5; i++) {\n        if (options.quantization[i] !== void 0) {\n          encoder.SetAttributeQuantization(i, options.quantization[i]);\n        }\n      }\n    }\n    let length;\n    if (object instanceof Mesh && object.isMesh) {\n      length = encoder.EncodeMeshToDracoBuffer(dracoObject, encodedData);\n    } else {\n      length = encoder.EncodePointCloudToDracoBuffer(dracoObject, true, encodedData);\n    }\n    dracoEncoder.destroy(dracoObject);\n    if (length === 0) {\n      throw new Error(\"THREE.DRACOExporter: Draco encoding failed.\");\n    }\n    const outputData = new Int8Array(new ArrayBuffer(length));\n    for (let i = 0; i < length; i++) {\n      outputData[i] = encodedData.GetValue(i);\n    }\n    dracoEncoder.destroy(encodedData);\n    dracoEncoder.destroy(encoder);\n    dracoEncoder.destroy(builder);\n    return outputData;\n  }\n};\nlet DRACOExporter = _DRACOExporter;\n// Encoder methods\n__publicField(DRACOExporter, \"MESH_EDGEBREAKER_ENCODING\", 1);\n__publicField(DRACOExporter, \"MESH_SEQUENTIAL_ENCODING\", 0);\n// Geometry type\n__publicField(DRACOExporter, \"POINT_CLOUD\", 0);\n__publicField(DRACOExporter, \"TRIANGULAR_MESH\", 1);\n// Attribute type\n__publicField(DRACOExporter, \"INVALID\", -1);\n__publicField(DRACOExporter, \"POSITION\", 0);\n__publicField(DRACOExporter, \"NORMAL\", 1);\n__publicField(DRACOExporter, \"COLOR\", 2);\n__publicField(DRACOExporter, \"TEX_COORD\", 3);\n__publicField(DRACOExporter, \"GENERIC\", 4);\nexport {\n  DRACOExporter\n};\n", "import { Quaternion, Vector3, Matrix4, Object3D, SphereGeometry, MeshBasicMaterial, Color, LineBasicMaterial, BufferGeometry, BufferAttribute, Mesh, Line } from \"three\";\nconst _q = /* @__PURE__ */ new Quaternion();\nconst _targetPos = /* @__PURE__ */ new Vector3();\nconst _targetVec = /* @__PURE__ */ new Vector3();\nconst _effectorPos = /* @__PURE__ */ new Vector3();\nconst _effectorVec = /* @__PURE__ */ new Vector3();\nconst _linkPos = /* @__PURE__ */ new Vector3();\nconst _invLinkQ = /* @__PURE__ */ new Quaternion();\nconst _linkScale = /* @__PURE__ */ new Vector3();\nconst _axis = /* @__PURE__ */ new Vector3();\nconst _vector = /* @__PURE__ */ new Vector3();\nconst _matrix = /* @__PURE__ */ new Matrix4();\nclass CCDIKSolver {\n  /**\n   * @param {THREE.SkinnedMesh} mesh\n   * @param {Array<Object>} iks\n   */\n  constructor(mesh, iks = []) {\n    this.mesh = mesh;\n    this.iks = iks;\n    this._valid();\n  }\n  /**\n   * Update all IK bones.\n   *\n   * @return {CCDIKSolver}\n   */\n  update() {\n    const iks = this.iks;\n    for (let i = 0, il = iks.length; i < il; i++) {\n      this.updateOne(iks[i]);\n    }\n    return this;\n  }\n  /**\n   * Update one IK bone\n   *\n   * @param {Object} ik parameter\n   * @return {CCDIKSolver}\n   */\n  updateOne(ik) {\n    const bones = this.mesh.skeleton.bones;\n    const math = Math;\n    const effector = bones[ik.effector];\n    const target = bones[ik.target];\n    _targetPos.setFromMatrixPosition(target.matrixWorld);\n    const links = ik.links;\n    const iteration = ik.iteration !== void 0 ? ik.iteration : 1;\n    for (let i = 0; i < iteration; i++) {\n      let rotated = false;\n      for (let j = 0, jl = links.length; j < jl; j++) {\n        const link = bones[links[j].index];\n        if (links[j].enabled === false)\n          break;\n        const limitation = links[j].limitation;\n        const rotationMin = links[j].rotationMin;\n        const rotationMax = links[j].rotationMax;\n        link.matrixWorld.decompose(_linkPos, _invLinkQ, _linkScale);\n        _invLinkQ.invert();\n        _effectorPos.setFromMatrixPosition(effector.matrixWorld);\n        _effectorVec.subVectors(_effectorPos, _linkPos);\n        _effectorVec.applyQuaternion(_invLinkQ);\n        _effectorVec.normalize();\n        _targetVec.subVectors(_targetPos, _linkPos);\n        _targetVec.applyQuaternion(_invLinkQ);\n        _targetVec.normalize();\n        let angle = _targetVec.dot(_effectorVec);\n        if (angle > 1) {\n          angle = 1;\n        } else if (angle < -1) {\n          angle = -1;\n        }\n        angle = math.acos(angle);\n        if (angle < 1e-5)\n          continue;\n        if (ik.minAngle !== void 0 && angle < ik.minAngle) {\n          angle = ik.minAngle;\n        }\n        if (ik.maxAngle !== void 0 && angle > ik.maxAngle) {\n          angle = ik.maxAngle;\n        }\n        _axis.crossVectors(_effectorVec, _targetVec);\n        _axis.normalize();\n        _q.setFromAxisAngle(_axis, angle);\n        link.quaternion.multiply(_q);\n        if (limitation !== void 0) {\n          let c = link.quaternion.w;\n          if (c > 1)\n            c = 1;\n          const c2 = math.sqrt(1 - c * c);\n          link.quaternion.set(limitation.x * c2, limitation.y * c2, limitation.z * c2, c);\n        }\n        if (rotationMin !== void 0) {\n          link.rotation.setFromVector3(_vector.setFromEuler(link.rotation).max(rotationMin));\n        }\n        if (rotationMax !== void 0) {\n          link.rotation.setFromVector3(_vector.setFromEuler(link.rotation).min(rotationMax));\n        }\n        link.updateMatrixWorld(true);\n        rotated = true;\n      }\n      if (!rotated)\n        break;\n    }\n    return this;\n  }\n  /**\n   * Creates Helper\n   *\n   * @return {CCDIKHelper}\n   */\n  createHelper() {\n    return new CCDIKHelper(this.mesh, this.iks);\n  }\n  // private methods\n  _valid() {\n    const iks = this.iks;\n    const bones = this.mesh.skeleton.bones;\n    for (let i = 0, il = iks.length; i < il; i++) {\n      const ik = iks[i];\n      const effector = bones[ik.effector];\n      const links = ik.links;\n      let link0, link1;\n      link0 = effector;\n      for (let j = 0, jl = links.length; j < jl; j++) {\n        link1 = bones[links[j].index];\n        if (link0.parent !== link1) {\n          console.warn(\"THREE.CCDIKSolver: bone \" + link0.name + \" is not the child of bone \" + link1.name);\n        }\n        link0 = link1;\n      }\n    }\n  }\n}\nfunction getPosition(bone, matrixWorldInv) {\n  return _vector.setFromMatrixPosition(bone.matrixWorld).applyMatrix4(matrixWorldInv);\n}\nfunction setPositionOfBoneToAttributeArray(array, index, bone, matrixWorldInv) {\n  const v = getPosition(bone, matrixWorldInv);\n  array[index * 3 + 0] = v.x;\n  array[index * 3 + 1] = v.y;\n  array[index * 3 + 2] = v.z;\n}\nclass CCDIKHelper extends Object3D {\n  constructor(mesh, iks = [], sphereSize = 0.25) {\n    super();\n    this.root = mesh;\n    this.iks = iks;\n    this.matrix.copy(mesh.matrixWorld);\n    this.matrixAutoUpdate = false;\n    this.sphereGeometry = new SphereGeometry(sphereSize, 16, 8);\n    this.targetSphereMaterial = new MeshBasicMaterial({\n      color: new Color(16746632),\n      depthTest: false,\n      depthWrite: false,\n      transparent: true\n    });\n    this.effectorSphereMaterial = new MeshBasicMaterial({\n      color: new Color(8978312),\n      depthTest: false,\n      depthWrite: false,\n      transparent: true\n    });\n    this.linkSphereMaterial = new MeshBasicMaterial({\n      color: new Color(8947967),\n      depthTest: false,\n      depthWrite: false,\n      transparent: true\n    });\n    this.lineMaterial = new LineBasicMaterial({\n      color: new Color(16711680),\n      depthTest: false,\n      depthWrite: false,\n      transparent: true\n    });\n    this._init();\n  }\n  /**\n   * Updates IK bones visualization.\n   */\n  updateMatrixWorld(force) {\n    const mesh = this.root;\n    if (this.visible) {\n      let offset = 0;\n      const iks = this.iks;\n      const bones = mesh.skeleton.bones;\n      _matrix.copy(mesh.matrixWorld).invert();\n      for (let i = 0, il = iks.length; i < il; i++) {\n        const ik = iks[i];\n        const targetBone = bones[ik.target];\n        const effectorBone = bones[ik.effector];\n        const targetMesh = this.children[offset++];\n        const effectorMesh = this.children[offset++];\n        targetMesh.position.copy(getPosition(targetBone, _matrix));\n        effectorMesh.position.copy(getPosition(effectorBone, _matrix));\n        for (let j = 0, jl = ik.links.length; j < jl; j++) {\n          const link = ik.links[j];\n          const linkBone = bones[link.index];\n          const linkMesh = this.children[offset++];\n          linkMesh.position.copy(getPosition(linkBone, _matrix));\n        }\n        const line = this.children[offset++];\n        const array = line.geometry.attributes.position.array;\n        setPositionOfBoneToAttributeArray(array, 0, targetBone, _matrix);\n        setPositionOfBoneToAttributeArray(array, 1, effectorBone, _matrix);\n        for (let j = 0, jl = ik.links.length; j < jl; j++) {\n          const link = ik.links[j];\n          const linkBone = bones[link.index];\n          setPositionOfBoneToAttributeArray(array, j + 2, linkBone, _matrix);\n        }\n        line.geometry.attributes.position.needsUpdate = true;\n      }\n    }\n    this.matrix.copy(mesh.matrixWorld);\n    super.updateMatrixWorld(force);\n  }\n  /**\n   * Frees the GPU-related resources allocated by this instance. Call this method whenever this instance is no longer used in your app.\n   */\n  dispose() {\n    this.sphereGeometry.dispose();\n    this.targetSphereMaterial.dispose();\n    this.effectorSphereMaterial.dispose();\n    this.linkSphereMaterial.dispose();\n    this.lineMaterial.dispose();\n    const children = this.children;\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      if (child.isLine)\n        child.geometry.dispose();\n    }\n  }\n  // private method\n  _init() {\n    const scope = this;\n    const iks = this.iks;\n    function createLineGeometry(ik) {\n      const geometry = new BufferGeometry();\n      const vertices = new Float32Array((2 + ik.links.length) * 3);\n      geometry.setAttribute(\"position\", new BufferAttribute(vertices, 3));\n      return geometry;\n    }\n    function createTargetMesh() {\n      return new Mesh(scope.sphereGeometry, scope.targetSphereMaterial);\n    }\n    function createEffectorMesh() {\n      return new Mesh(scope.sphereGeometry, scope.effectorSphereMaterial);\n    }\n    function createLinkMesh() {\n      return new Mesh(scope.sphereGeometry, scope.linkSphereMaterial);\n    }\n    function createLine(ik) {\n      return new Line(createLineGeometry(ik), scope.lineMaterial);\n    }\n    for (let i = 0, il = iks.length; i < il; i++) {\n      const ik = iks[i];\n      this.add(createTargetMesh());\n      this.add(createEffectorMesh());\n      for (let j = 0, jl = ik.links.length; j < jl; j++) {\n        this.add(createLinkMesh());\n      }\n      this.add(createLine(ik));\n    }\n  }\n}\nexport {\n  CCDIKHelper,\n  CCDIKSolver\n};\n", "import { Vector3, Matrix4, Quaternion, Euler, Bone, Object3D, MeshBasicMaterial, Color, BoxGeometry, SphereGeometry, Mesh } from \"three\";\nimport { CapsuleGeometry } from \"../_polyfill/CapsuleGeometry.js\";\nclass MMDPhysics {\n  /**\n   * @param {THREE.SkinnedMesh} mesh\n   * @param {Array<Object>} rigidBodyParams\n   * @param {Array<Object>} (optional) constraintParams\n   * @param {Object} params - (optional)\n   * @param {Number} params.unitStep - Default is 1 / 65.\n   * @param {Integer} params.maxStepNum - Default is 3.\n   * @param {Vector3} params.gravity - Default is ( 0, - 9.8 * 10, 0 )\n   */\n  constructor(mesh, rigidBodyParams, constraintParams = [], params = {}) {\n    if (typeof Ammo === \"undefined\") {\n      throw new Error(\"THREE.MMDPhysics: Import ammo.js https://github.com/kripken/ammo.js\");\n    }\n    this.manager = new ResourceManager();\n    this.mesh = mesh;\n    this.unitStep = params.unitStep !== void 0 ? params.unitStep : 1 / 65;\n    this.maxStepNum = params.maxStepNum !== void 0 ? params.maxStepNum : 3;\n    this.gravity = new Vector3(0, -9.8 * 10, 0);\n    if (params.gravity !== void 0)\n      this.gravity.copy(params.gravity);\n    this.world = params.world !== void 0 ? params.world : null;\n    this.bodies = [];\n    this.constraints = [];\n    this._init(mesh, rigidBodyParams, constraintParams);\n  }\n  /**\n   * Advances Physics calculation and updates bones.\n   *\n   * @param {Number} delta - time in second\n   * @return {MMDPhysics}\n   */\n  update(delta) {\n    const manager = this.manager;\n    const mesh = this.mesh;\n    let isNonDefaultScale = false;\n    const position = manager.allocThreeVector3();\n    const quaternion = manager.allocThreeQuaternion();\n    const scale = manager.allocThreeVector3();\n    mesh.matrixWorld.decompose(position, quaternion, scale);\n    if (scale.x !== 1 || scale.y !== 1 || scale.z !== 1) {\n      isNonDefaultScale = true;\n    }\n    let parent;\n    if (isNonDefaultScale) {\n      parent = mesh.parent;\n      if (parent !== null)\n        mesh.parent = null;\n      scale.copy(this.mesh.scale);\n      mesh.scale.set(1, 1, 1);\n      mesh.updateMatrixWorld(true);\n    }\n    this._updateRigidBodies();\n    this._stepSimulation(delta);\n    this._updateBones();\n    if (isNonDefaultScale) {\n      if (parent !== null)\n        mesh.parent = parent;\n      mesh.scale.copy(scale);\n    }\n    manager.freeThreeVector3(scale);\n    manager.freeThreeQuaternion(quaternion);\n    manager.freeThreeVector3(position);\n    return this;\n  }\n  /**\n   * Resets rigid bodies transorm to current bone's.\n   *\n   * @return {MMDPhysics}\n   */\n  reset() {\n    for (let i = 0, il = this.bodies.length; i < il; i++) {\n      this.bodies[i].reset();\n    }\n    return this;\n  }\n  /**\n   * Warm ups Rigid bodies. Calculates cycles steps.\n   *\n   * @param {Integer} cycles\n   * @return {MMDPhysics}\n   */\n  warmup(cycles) {\n    for (let i = 0; i < cycles; i++) {\n      this.update(1 / 60);\n    }\n    return this;\n  }\n  /**\n   * Sets gravity.\n   *\n   * @param {Vector3} gravity\n   * @return {MMDPhysicsHelper}\n   */\n  setGravity(gravity) {\n    this.world.setGravity(new Ammo.btVector3(gravity.x, gravity.y, gravity.z));\n    this.gravity.copy(gravity);\n    return this;\n  }\n  /**\n   * Creates MMDPhysicsHelper\n   *\n   * @return {MMDPhysicsHelper}\n   */\n  createHelper() {\n    return new MMDPhysicsHelper(this.mesh, this);\n  }\n  // private methods\n  _init(mesh, rigidBodyParams, constraintParams) {\n    const manager = this.manager;\n    const parent = mesh.parent;\n    if (parent !== null)\n      mesh.parent = null;\n    const currentPosition = manager.allocThreeVector3();\n    const currentQuaternion = manager.allocThreeQuaternion();\n    const currentScale = manager.allocThreeVector3();\n    currentPosition.copy(mesh.position);\n    currentQuaternion.copy(mesh.quaternion);\n    currentScale.copy(mesh.scale);\n    mesh.position.set(0, 0, 0);\n    mesh.quaternion.set(0, 0, 0, 1);\n    mesh.scale.set(1, 1, 1);\n    mesh.updateMatrixWorld(true);\n    if (this.world === null) {\n      this.world = this._createWorld();\n      this.setGravity(this.gravity);\n    }\n    this._initRigidBodies(rigidBodyParams);\n    this._initConstraints(constraintParams);\n    if (parent !== null)\n      mesh.parent = parent;\n    mesh.position.copy(currentPosition);\n    mesh.quaternion.copy(currentQuaternion);\n    mesh.scale.copy(currentScale);\n    mesh.updateMatrixWorld(true);\n    this.reset();\n    manager.freeThreeVector3(currentPosition);\n    manager.freeThreeQuaternion(currentQuaternion);\n    manager.freeThreeVector3(currentScale);\n  }\n  _createWorld() {\n    const config = new Ammo.btDefaultCollisionConfiguration();\n    const dispatcher = new Ammo.btCollisionDispatcher(config);\n    const cache = new Ammo.btDbvtBroadphase();\n    const solver = new Ammo.btSequentialImpulseConstraintSolver();\n    const world = new Ammo.btDiscreteDynamicsWorld(dispatcher, cache, solver, config);\n    return world;\n  }\n  _initRigidBodies(rigidBodies) {\n    for (let i = 0, il = rigidBodies.length; i < il; i++) {\n      this.bodies.push(new RigidBody(this.mesh, this.world, rigidBodies[i], this.manager));\n    }\n  }\n  _initConstraints(constraints) {\n    for (let i = 0, il = constraints.length; i < il; i++) {\n      const params = constraints[i];\n      const bodyA = this.bodies[params.rigidBodyIndex1];\n      const bodyB = this.bodies[params.rigidBodyIndex2];\n      this.constraints.push(new Constraint(this.mesh, this.world, bodyA, bodyB, params, this.manager));\n    }\n  }\n  _stepSimulation(delta) {\n    const unitStep = this.unitStep;\n    let stepTime = delta;\n    let maxStepNum = (delta / unitStep | 0) + 1;\n    if (stepTime < unitStep) {\n      stepTime = unitStep;\n      maxStepNum = 1;\n    }\n    if (maxStepNum > this.maxStepNum) {\n      maxStepNum = this.maxStepNum;\n    }\n    this.world.stepSimulation(stepTime, maxStepNum, unitStep);\n  }\n  _updateRigidBodies() {\n    for (let i = 0, il = this.bodies.length; i < il; i++) {\n      this.bodies[i].updateFromBone();\n    }\n  }\n  _updateBones() {\n    for (let i = 0, il = this.bodies.length; i < il; i++) {\n      this.bodies[i].updateBone();\n    }\n  }\n}\nclass ResourceManager {\n  constructor() {\n    this.threeVector3s = [];\n    this.threeMatrix4s = [];\n    this.threeQuaternions = [];\n    this.threeEulers = [];\n    this.transforms = [];\n    this.quaternions = [];\n    this.vector3s = [];\n  }\n  allocThreeVector3() {\n    return this.threeVector3s.length > 0 ? this.threeVector3s.pop() : new Vector3();\n  }\n  freeThreeVector3(v) {\n    this.threeVector3s.push(v);\n  }\n  allocThreeMatrix4() {\n    return this.threeMatrix4s.length > 0 ? this.threeMatrix4s.pop() : new Matrix4();\n  }\n  freeThreeMatrix4(m) {\n    this.threeMatrix4s.push(m);\n  }\n  allocThreeQuaternion() {\n    return this.threeQuaternions.length > 0 ? this.threeQuaternions.pop() : new Quaternion();\n  }\n  freeThreeQuaternion(q) {\n    this.threeQuaternions.push(q);\n  }\n  allocThreeEuler() {\n    return this.threeEulers.length > 0 ? this.threeEulers.pop() : new Euler();\n  }\n  freeThreeEuler(e) {\n    this.threeEulers.push(e);\n  }\n  allocTransform() {\n    return this.transforms.length > 0 ? this.transforms.pop() : new Ammo.btTransform();\n  }\n  freeTransform(t) {\n    this.transforms.push(t);\n  }\n  allocQuaternion() {\n    return this.quaternions.length > 0 ? this.quaternions.pop() : new Ammo.btQuaternion();\n  }\n  freeQuaternion(q) {\n    this.quaternions.push(q);\n  }\n  allocVector3() {\n    return this.vector3s.length > 0 ? this.vector3s.pop() : new Ammo.btVector3();\n  }\n  freeVector3(v) {\n    this.vector3s.push(v);\n  }\n  setIdentity(t) {\n    t.setIdentity();\n  }\n  getBasis(t) {\n    var q = this.allocQuaternion();\n    t.getBasis().getRotation(q);\n    return q;\n  }\n  getBasisAsMatrix3(t) {\n    var q = this.getBasis(t);\n    var m = this.quaternionToMatrix3(q);\n    this.freeQuaternion(q);\n    return m;\n  }\n  getOrigin(t) {\n    return t.getOrigin();\n  }\n  setOrigin(t, v) {\n    t.getOrigin().setValue(v.x(), v.y(), v.z());\n  }\n  copyOrigin(t1, t2) {\n    var o = t2.getOrigin();\n    this.setOrigin(t1, o);\n  }\n  setBasis(t, q) {\n    t.setRotation(q);\n  }\n  setBasisFromMatrix3(t, m) {\n    var q = this.matrix3ToQuaternion(m);\n    this.setBasis(t, q);\n    this.freeQuaternion(q);\n  }\n  setOriginFromArray3(t, a) {\n    t.getOrigin().setValue(a[0], a[1], a[2]);\n  }\n  setOriginFromThreeVector3(t, v) {\n    t.getOrigin().setValue(v.x, v.y, v.z);\n  }\n  setBasisFromArray3(t, a) {\n    var thQ = this.allocThreeQuaternion();\n    var thE = this.allocThreeEuler();\n    thE.set(a[0], a[1], a[2]);\n    this.setBasisFromThreeQuaternion(t, thQ.setFromEuler(thE));\n    this.freeThreeEuler(thE);\n    this.freeThreeQuaternion(thQ);\n  }\n  setBasisFromThreeQuaternion(t, a) {\n    var q = this.allocQuaternion();\n    q.setX(a.x);\n    q.setY(a.y);\n    q.setZ(a.z);\n    q.setW(a.w);\n    this.setBasis(t, q);\n    this.freeQuaternion(q);\n  }\n  multiplyTransforms(t1, t2) {\n    var t = this.allocTransform();\n    this.setIdentity(t);\n    var m1 = this.getBasisAsMatrix3(t1);\n    var m2 = this.getBasisAsMatrix3(t2);\n    var o1 = this.getOrigin(t1);\n    var o2 = this.getOrigin(t2);\n    var v1 = this.multiplyMatrix3ByVector3(m1, o2);\n    var v2 = this.addVector3(v1, o1);\n    this.setOrigin(t, v2);\n    var m3 = this.multiplyMatrices3(m1, m2);\n    this.setBasisFromMatrix3(t, m3);\n    this.freeVector3(v1);\n    this.freeVector3(v2);\n    return t;\n  }\n  inverseTransform(t) {\n    var t2 = this.allocTransform();\n    var m1 = this.getBasisAsMatrix3(t);\n    var o = this.getOrigin(t);\n    var m2 = this.transposeMatrix3(m1);\n    var v1 = this.negativeVector3(o);\n    var v2 = this.multiplyMatrix3ByVector3(m2, v1);\n    this.setOrigin(t2, v2);\n    this.setBasisFromMatrix3(t2, m2);\n    this.freeVector3(v1);\n    this.freeVector3(v2);\n    return t2;\n  }\n  multiplyMatrices3(m1, m2) {\n    var m3 = [];\n    var v10 = this.rowOfMatrix3(m1, 0);\n    var v11 = this.rowOfMatrix3(m1, 1);\n    var v12 = this.rowOfMatrix3(m1, 2);\n    var v20 = this.columnOfMatrix3(m2, 0);\n    var v21 = this.columnOfMatrix3(m2, 1);\n    var v22 = this.columnOfMatrix3(m2, 2);\n    m3[0] = this.dotVectors3(v10, v20);\n    m3[1] = this.dotVectors3(v10, v21);\n    m3[2] = this.dotVectors3(v10, v22);\n    m3[3] = this.dotVectors3(v11, v20);\n    m3[4] = this.dotVectors3(v11, v21);\n    m3[5] = this.dotVectors3(v11, v22);\n    m3[6] = this.dotVectors3(v12, v20);\n    m3[7] = this.dotVectors3(v12, v21);\n    m3[8] = this.dotVectors3(v12, v22);\n    this.freeVector3(v10);\n    this.freeVector3(v11);\n    this.freeVector3(v12);\n    this.freeVector3(v20);\n    this.freeVector3(v21);\n    this.freeVector3(v22);\n    return m3;\n  }\n  addVector3(v1, v2) {\n    var v = this.allocVector3();\n    v.setValue(v1.x() + v2.x(), v1.y() + v2.y(), v1.z() + v2.z());\n    return v;\n  }\n  dotVectors3(v1, v2) {\n    return v1.x() * v2.x() + v1.y() * v2.y() + v1.z() * v2.z();\n  }\n  rowOfMatrix3(m, i) {\n    var v = this.allocVector3();\n    v.setValue(m[i * 3 + 0], m[i * 3 + 1], m[i * 3 + 2]);\n    return v;\n  }\n  columnOfMatrix3(m, i) {\n    var v = this.allocVector3();\n    v.setValue(m[i + 0], m[i + 3], m[i + 6]);\n    return v;\n  }\n  negativeVector3(v) {\n    var v2 = this.allocVector3();\n    v2.setValue(-v.x(), -v.y(), -v.z());\n    return v2;\n  }\n  multiplyMatrix3ByVector3(m, v) {\n    var v4 = this.allocVector3();\n    var v0 = this.rowOfMatrix3(m, 0);\n    var v1 = this.rowOfMatrix3(m, 1);\n    var v2 = this.rowOfMatrix3(m, 2);\n    var x = this.dotVectors3(v0, v);\n    var y = this.dotVectors3(v1, v);\n    var z = this.dotVectors3(v2, v);\n    v4.setValue(x, y, z);\n    this.freeVector3(v0);\n    this.freeVector3(v1);\n    this.freeVector3(v2);\n    return v4;\n  }\n  transposeMatrix3(m) {\n    var m2 = [];\n    m2[0] = m[0];\n    m2[1] = m[3];\n    m2[2] = m[6];\n    m2[3] = m[1];\n    m2[4] = m[4];\n    m2[5] = m[7];\n    m2[6] = m[2];\n    m2[7] = m[5];\n    m2[8] = m[8];\n    return m2;\n  }\n  quaternionToMatrix3(q) {\n    var m = [];\n    var x = q.x();\n    var y = q.y();\n    var z = q.z();\n    var w = q.w();\n    var xx = x * x;\n    var yy = y * y;\n    var zz = z * z;\n    var xy = x * y;\n    var yz = y * z;\n    var zx = z * x;\n    var xw = x * w;\n    var yw = y * w;\n    var zw = z * w;\n    m[0] = 1 - 2 * (yy + zz);\n    m[1] = 2 * (xy - zw);\n    m[2] = 2 * (zx + yw);\n    m[3] = 2 * (xy + zw);\n    m[4] = 1 - 2 * (zz + xx);\n    m[5] = 2 * (yz - xw);\n    m[6] = 2 * (zx - yw);\n    m[7] = 2 * (yz + xw);\n    m[8] = 1 - 2 * (xx + yy);\n    return m;\n  }\n  matrix3ToQuaternion(m) {\n    var t = m[0] + m[4] + m[8];\n    var s, x, y, z, w;\n    if (t > 0) {\n      s = Math.sqrt(t + 1) * 2;\n      w = 0.25 * s;\n      x = (m[7] - m[5]) / s;\n      y = (m[2] - m[6]) / s;\n      z = (m[3] - m[1]) / s;\n    } else if (m[0] > m[4] && m[0] > m[8]) {\n      s = Math.sqrt(1 + m[0] - m[4] - m[8]) * 2;\n      w = (m[7] - m[5]) / s;\n      x = 0.25 * s;\n      y = (m[1] + m[3]) / s;\n      z = (m[2] + m[6]) / s;\n    } else if (m[4] > m[8]) {\n      s = Math.sqrt(1 + m[4] - m[0] - m[8]) * 2;\n      w = (m[2] - m[6]) / s;\n      x = (m[1] + m[3]) / s;\n      y = 0.25 * s;\n      z = (m[5] + m[7]) / s;\n    } else {\n      s = Math.sqrt(1 + m[8] - m[0] - m[4]) * 2;\n      w = (m[3] - m[1]) / s;\n      x = (m[2] + m[6]) / s;\n      y = (m[5] + m[7]) / s;\n      z = 0.25 * s;\n    }\n    var q = this.allocQuaternion();\n    q.setX(x);\n    q.setY(y);\n    q.setZ(z);\n    q.setW(w);\n    return q;\n  }\n}\nclass RigidBody {\n  constructor(mesh, world, params, manager) {\n    this.mesh = mesh;\n    this.world = world;\n    this.params = params;\n    this.manager = manager;\n    this.body = null;\n    this.bone = null;\n    this.boneOffsetForm = null;\n    this.boneOffsetFormInverse = null;\n    this._init();\n  }\n  /**\n   * Resets rigid body transform to the current bone's.\n   *\n   * @return {RigidBody}\n   */\n  reset() {\n    this._setTransformFromBone();\n    return this;\n  }\n  /**\n   * Updates rigid body's transform from the current bone.\n   *\n   * @return {RidigBody}\n   */\n  updateFromBone() {\n    if (this.params.boneIndex !== -1 && this.params.type === 0) {\n      this._setTransformFromBone();\n    }\n    return this;\n  }\n  /**\n   * Updates bone from the current ridid body's transform.\n   *\n   * @return {RidigBody}\n   */\n  updateBone() {\n    if (this.params.type === 0 || this.params.boneIndex === -1) {\n      return this;\n    }\n    this._updateBoneRotation();\n    if (this.params.type === 1) {\n      this._updateBonePosition();\n    }\n    this.bone.updateMatrixWorld(true);\n    if (this.params.type === 2) {\n      this._setPositionFromBone();\n    }\n    return this;\n  }\n  // private methods\n  _init() {\n    function generateShape(p) {\n      switch (p.shapeType) {\n        case 0:\n          return new Ammo.btSphereShape(p.width);\n        case 1:\n          return new Ammo.btBoxShape(new Ammo.btVector3(p.width, p.height, p.depth));\n        case 2:\n          return new Ammo.btCapsuleShape(p.width, p.height);\n        default:\n          throw new Error(\"unknown shape type \" + p.shapeType);\n      }\n    }\n    const manager = this.manager;\n    const params = this.params;\n    const bones = this.mesh.skeleton.bones;\n    const bone = params.boneIndex === -1 ? new Bone() : bones[params.boneIndex];\n    const shape = generateShape(params);\n    const weight = params.type === 0 ? 0 : params.weight;\n    const localInertia = manager.allocVector3();\n    localInertia.setValue(0, 0, 0);\n    if (weight !== 0) {\n      shape.calculateLocalInertia(weight, localInertia);\n    }\n    const boneOffsetForm = manager.allocTransform();\n    manager.setIdentity(boneOffsetForm);\n    manager.setOriginFromArray3(boneOffsetForm, params.position);\n    manager.setBasisFromArray3(boneOffsetForm, params.rotation);\n    const vector = manager.allocThreeVector3();\n    const boneForm = manager.allocTransform();\n    manager.setIdentity(boneForm);\n    manager.setOriginFromThreeVector3(boneForm, bone.getWorldPosition(vector));\n    const form = manager.multiplyTransforms(boneForm, boneOffsetForm);\n    const state = new Ammo.btDefaultMotionState(form);\n    const info = new Ammo.btRigidBodyConstructionInfo(weight, state, shape, localInertia);\n    info.set_m_friction(params.friction);\n    info.set_m_restitution(params.restitution);\n    const body = new Ammo.btRigidBody(info);\n    if (params.type === 0) {\n      body.setCollisionFlags(body.getCollisionFlags() | 2);\n      body.setActivationState(4);\n    }\n    body.setDamping(params.positionDamping, params.rotationDamping);\n    body.setSleepingThresholds(0, 0);\n    this.world.addRigidBody(body, 1 << params.groupIndex, params.groupTarget);\n    this.body = body;\n    this.bone = bone;\n    this.boneOffsetForm = boneOffsetForm;\n    this.boneOffsetFormInverse = manager.inverseTransform(boneOffsetForm);\n    manager.freeVector3(localInertia);\n    manager.freeTransform(form);\n    manager.freeTransform(boneForm);\n    manager.freeThreeVector3(vector);\n  }\n  _getBoneTransform() {\n    const manager = this.manager;\n    const p = manager.allocThreeVector3();\n    const q = manager.allocThreeQuaternion();\n    const s = manager.allocThreeVector3();\n    this.bone.matrixWorld.decompose(p, q, s);\n    const tr = manager.allocTransform();\n    manager.setOriginFromThreeVector3(tr, p);\n    manager.setBasisFromThreeQuaternion(tr, q);\n    const form = manager.multiplyTransforms(tr, this.boneOffsetForm);\n    manager.freeTransform(tr);\n    manager.freeThreeVector3(s);\n    manager.freeThreeQuaternion(q);\n    manager.freeThreeVector3(p);\n    return form;\n  }\n  _getWorldTransformForBone() {\n    const manager = this.manager;\n    const tr = this.body.getCenterOfMassTransform();\n    return manager.multiplyTransforms(tr, this.boneOffsetFormInverse);\n  }\n  _setTransformFromBone() {\n    const manager = this.manager;\n    const form = this._getBoneTransform();\n    this.body.setCenterOfMassTransform(form);\n    this.body.getMotionState().setWorldTransform(form);\n    manager.freeTransform(form);\n  }\n  _setPositionFromBone() {\n    const manager = this.manager;\n    const form = this._getBoneTransform();\n    const tr = manager.allocTransform();\n    this.body.getMotionState().getWorldTransform(tr);\n    manager.copyOrigin(tr, form);\n    this.body.setCenterOfMassTransform(tr);\n    this.body.getMotionState().setWorldTransform(tr);\n    manager.freeTransform(tr);\n    manager.freeTransform(form);\n  }\n  _updateBoneRotation() {\n    const manager = this.manager;\n    const tr = this._getWorldTransformForBone();\n    const q = manager.getBasis(tr);\n    const thQ = manager.allocThreeQuaternion();\n    const thQ2 = manager.allocThreeQuaternion();\n    const thQ3 = manager.allocThreeQuaternion();\n    thQ.set(q.x(), q.y(), q.z(), q.w());\n    thQ2.setFromRotationMatrix(this.bone.matrixWorld);\n    thQ2.conjugate();\n    thQ2.multiply(thQ);\n    thQ3.setFromRotationMatrix(this.bone.matrix);\n    this.bone.quaternion.copy(thQ2.multiply(thQ3).normalize());\n    manager.freeThreeQuaternion(thQ);\n    manager.freeThreeQuaternion(thQ2);\n    manager.freeThreeQuaternion(thQ3);\n    manager.freeQuaternion(q);\n    manager.freeTransform(tr);\n  }\n  _updateBonePosition() {\n    const manager = this.manager;\n    const tr = this._getWorldTransformForBone();\n    const thV = manager.allocThreeVector3();\n    const o = manager.getOrigin(tr);\n    thV.set(o.x(), o.y(), o.z());\n    if (this.bone.parent) {\n      this.bone.parent.worldToLocal(thV);\n    }\n    this.bone.position.copy(thV);\n    manager.freeThreeVector3(thV);\n    manager.freeTransform(tr);\n  }\n}\nclass Constraint {\n  /**\n   * @param {THREE.SkinnedMesh} mesh\n   * @param {Ammo.btDiscreteDynamicsWorld} world\n   * @param {RigidBody} bodyA\n   * @param {RigidBody} bodyB\n   * @param {Object} params\n   * @param {ResourceManager} manager\n   */\n  constructor(mesh, world, bodyA, bodyB, params, manager) {\n    this.mesh = mesh;\n    this.world = world;\n    this.bodyA = bodyA;\n    this.bodyB = bodyB;\n    this.params = params;\n    this.manager = manager;\n    this.constraint = null;\n    this._init();\n  }\n  // private method\n  _init() {\n    const manager = this.manager;\n    const params = this.params;\n    const bodyA = this.bodyA;\n    const bodyB = this.bodyB;\n    const form = manager.allocTransform();\n    manager.setIdentity(form);\n    manager.setOriginFromArray3(form, params.position);\n    manager.setBasisFromArray3(form, params.rotation);\n    const formA = manager.allocTransform();\n    const formB = manager.allocTransform();\n    bodyA.body.getMotionState().getWorldTransform(formA);\n    bodyB.body.getMotionState().getWorldTransform(formB);\n    const formInverseA = manager.inverseTransform(formA);\n    const formInverseB = manager.inverseTransform(formB);\n    const formA2 = manager.multiplyTransforms(formInverseA, form);\n    const formB2 = manager.multiplyTransforms(formInverseB, form);\n    const constraint = new Ammo.btGeneric6DofSpringConstraint(bodyA.body, bodyB.body, formA2, formB2, true);\n    const lll = manager.allocVector3();\n    const lul = manager.allocVector3();\n    const all = manager.allocVector3();\n    const aul = manager.allocVector3();\n    lll.setValue(params.translationLimitation1[0], params.translationLimitation1[1], params.translationLimitation1[2]);\n    lul.setValue(params.translationLimitation2[0], params.translationLimitation2[1], params.translationLimitation2[2]);\n    all.setValue(params.rotationLimitation1[0], params.rotationLimitation1[1], params.rotationLimitation1[2]);\n    aul.setValue(params.rotationLimitation2[0], params.rotationLimitation2[1], params.rotationLimitation2[2]);\n    constraint.setLinearLowerLimit(lll);\n    constraint.setLinearUpperLimit(lul);\n    constraint.setAngularLowerLimit(all);\n    constraint.setAngularUpperLimit(aul);\n    for (let i = 0; i < 3; i++) {\n      if (params.springPosition[i] !== 0) {\n        constraint.enableSpring(i, true);\n        constraint.setStiffness(i, params.springPosition[i]);\n      }\n    }\n    for (let i = 0; i < 3; i++) {\n      if (params.springRotation[i] !== 0) {\n        constraint.enableSpring(i + 3, true);\n        constraint.setStiffness(i + 3, params.springRotation[i]);\n      }\n    }\n    if (constraint.setParam !== void 0) {\n      for (let i = 0; i < 6; i++) {\n        constraint.setParam(2, 0.475, i);\n      }\n    }\n    this.world.addConstraint(constraint, true);\n    this.constraint = constraint;\n    manager.freeTransform(form);\n    manager.freeTransform(formA);\n    manager.freeTransform(formB);\n    manager.freeTransform(formInverseA);\n    manager.freeTransform(formInverseB);\n    manager.freeTransform(formA2);\n    manager.freeTransform(formB2);\n    manager.freeVector3(lll);\n    manager.freeVector3(lul);\n    manager.freeVector3(all);\n    manager.freeVector3(aul);\n  }\n}\nconst _position = /* @__PURE__ */ new Vector3();\nconst _quaternion = /* @__PURE__ */ new Quaternion();\nconst _scale = /* @__PURE__ */ new Vector3();\nconst _matrixWorldInv = /* @__PURE__ */ new Matrix4();\nclass MMDPhysicsHelper extends Object3D {\n  /**\n   * Visualize Rigid bodies\n   *\n   * @param {THREE.SkinnedMesh} mesh\n   * @param {Physics} physics\n   */\n  constructor(mesh, physics) {\n    super();\n    this.root = mesh;\n    this.physics = physics;\n    this.matrix.copy(mesh.matrixWorld);\n    this.matrixAutoUpdate = false;\n    this.materials = [];\n    this.materials.push(\n      new MeshBasicMaterial({\n        color: new Color(16746632),\n        wireframe: true,\n        depthTest: false,\n        depthWrite: false,\n        opacity: 0.25,\n        transparent: true\n      })\n    );\n    this.materials.push(\n      new MeshBasicMaterial({\n        color: new Color(8978312),\n        wireframe: true,\n        depthTest: false,\n        depthWrite: false,\n        opacity: 0.25,\n        transparent: true\n      })\n    );\n    this.materials.push(\n      new MeshBasicMaterial({\n        color: new Color(8947967),\n        wireframe: true,\n        depthTest: false,\n        depthWrite: false,\n        opacity: 0.25,\n        transparent: true\n      })\n    );\n    this._init();\n  }\n  /**\n   * Frees the GPU-related resources allocated by this instance. Call this method whenever this instance is no longer used in your app.\n   */\n  dispose() {\n    const materials = this.materials;\n    const children = this.children;\n    for (let i = 0; i < materials.length; i++) {\n      materials[i].dispose();\n    }\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      if (child.isMesh)\n        child.geometry.dispose();\n    }\n  }\n  /**\n   * Updates Rigid Bodies visualization.\n   */\n  updateMatrixWorld(force) {\n    var mesh = this.root;\n    if (this.visible) {\n      var bodies = this.physics.bodies;\n      _matrixWorldInv.copy(mesh.matrixWorld).decompose(_position, _quaternion, _scale).compose(_position, _quaternion, _scale.set(1, 1, 1)).invert();\n      for (var i = 0, il = bodies.length; i < il; i++) {\n        var body = bodies[i].body;\n        var child = this.children[i];\n        var tr = body.getCenterOfMassTransform();\n        var origin = tr.getOrigin();\n        var rotation = tr.getRotation();\n        child.position.set(origin.x(), origin.y(), origin.z()).applyMatrix4(_matrixWorldInv);\n        child.quaternion.setFromRotationMatrix(_matrixWorldInv).multiply(_quaternion.set(rotation.x(), rotation.y(), rotation.z(), rotation.w()));\n      }\n    }\n    this.matrix.copy(mesh.matrixWorld).decompose(_position, _quaternion, _scale).compose(_position, _quaternion, _scale.set(1, 1, 1));\n    super.updateMatrixWorld(force);\n  }\n  // private method\n  _init() {\n    var bodies = this.physics.bodies;\n    function createGeometry(param2) {\n      switch (param2.shapeType) {\n        case 0:\n          return new SphereGeometry(param2.width, 16, 8);\n        case 1:\n          return new BoxGeometry(param2.width * 2, param2.height * 2, param2.depth * 2, 8, 8, 8);\n        case 2:\n          return new CapsuleGeometry(param2.width, param2.height, 8, 16);\n        default:\n          return null;\n      }\n    }\n    for (var i = 0, il = bodies.length; i < il; i++) {\n      var param = bodies[i].params;\n      this.add(new Mesh(createGeometry(param), this.materials[param.type]));\n    }\n  }\n}\nexport {\n  MMDPhysics\n};\n", "import { Object3D, Vector3, Quaternion, AnimationMixer } from \"three\";\nimport { CCDIKSolver } from \"./CCDIKSolver.js\";\nimport { MMDPhysics } from \"./MMDPhysics.js\";\nclass MMDAnimationHelper {\n  /**\n   * @param {Object} params - (optional)\n   * @param {boolean} params.sync - Whether animation durations of added objects are synched. Default is true.\n   * @param {Number} params.afterglow - Default is 0.0.\n   * @param {boolean} params.resetPhysicsOnLoop - Default is true.\n   */\n  constructor(params = {}) {\n    this.meshes = [];\n    this.camera = null;\n    this.cameraTarget = new Object3D();\n    this.cameraTarget.name = \"target\";\n    this.audio = null;\n    this.audioManager = null;\n    this.objects = /* @__PURE__ */ new WeakMap();\n    this.configuration = {\n      sync: params.sync !== void 0 ? params.sync : true,\n      afterglow: params.afterglow !== void 0 ? params.afterglow : 0,\n      resetPhysicsOnLoop: params.resetPhysicsOnLoop !== void 0 ? params.resetPhysicsOnLoop : true,\n      pmxAnimation: params.pmxAnimation !== void 0 ? params.pmxAnimation : false\n    };\n    this.enabled = {\n      animation: true,\n      ik: true,\n      grant: true,\n      physics: true,\n      cameraAnimation: true\n    };\n    this.onBeforePhysics = function() {\n    };\n    this.sharedPhysics = false;\n    this.masterPhysics = null;\n  }\n  /**\n   * Adds an Three.js Object to helper and setups animation.\n   * The anmation durations of added objects are synched\n   * if this.configuration.sync is true.\n   *\n   * @param {THREE.SkinnedMesh|THREE.Camera|THREE.Audio} object\n   * @param {Object} params - (optional)\n   * @param {THREE.AnimationClip|Array<THREE.AnimationClip>} params.animation - Only for THREE.SkinnedMesh and THREE.Camera. Default is undefined.\n   * @param {boolean} params.physics - Only for THREE.SkinnedMesh. Default is true.\n   * @param {Integer} params.warmup - Only for THREE.SkinnedMesh and physics is true. Default is 60.\n   * @param {Number} params.unitStep - Only for THREE.SkinnedMesh and physics is true. Default is 1 / 65.\n   * @param {Integer} params.maxStepNum - Only for THREE.SkinnedMesh and physics is true. Default is 3.\n   * @param {Vector3} params.gravity - Only for THREE.SkinnedMesh and physics is true. Default ( 0, - 9.8 * 10, 0 ).\n   * @param {Number} params.delayTime - Only for THREE.Audio. Default is 0.0.\n   * @return {MMDAnimationHelper}\n   */\n  add(object, params = {}) {\n    if (object.isSkinnedMesh) {\n      this._addMesh(object, params);\n    } else if (object.isCamera) {\n      this._setupCamera(object, params);\n    } else if (object.type === \"Audio\") {\n      this._setupAudio(object, params);\n    } else {\n      throw new Error(\n        \"THREE.MMDAnimationHelper.add: accepts only THREE.SkinnedMesh or THREE.Camera or THREE.Audio instance.\"\n      );\n    }\n    if (this.configuration.sync)\n      this._syncDuration();\n    return this;\n  }\n  /**\n   * Removes an Three.js Object from helper.\n   *\n   * @param {THREE.SkinnedMesh|THREE.Camera|THREE.Audio} object\n   * @return {MMDAnimationHelper}\n   */\n  remove(object) {\n    if (object.isSkinnedMesh) {\n      this._removeMesh(object);\n    } else if (object.isCamera) {\n      this._clearCamera(object);\n    } else if (object.type === \"Audio\") {\n      this._clearAudio(object);\n    } else {\n      throw new Error(\n        \"THREE.MMDAnimationHelper.remove: accepts only THREE.SkinnedMesh or THREE.Camera or THREE.Audio instance.\"\n      );\n    }\n    if (this.configuration.sync)\n      this._syncDuration();\n    return this;\n  }\n  /**\n   * Updates the animation.\n   *\n   * @param {Number} delta\n   * @return {MMDAnimationHelper}\n   */\n  update(delta) {\n    if (this.audioManager !== null)\n      this.audioManager.control(delta);\n    for (let i = 0; i < this.meshes.length; i++) {\n      this._animateMesh(this.meshes[i], delta);\n    }\n    if (this.sharedPhysics)\n      this._updateSharedPhysics(delta);\n    if (this.camera !== null)\n      this._animateCamera(this.camera, delta);\n    return this;\n  }\n  /**\n   * Changes the pose of SkinnedMesh as VPD specifies.\n   *\n   * @param {THREE.SkinnedMesh} mesh\n   * @param {Object} vpd - VPD content parsed MMDParser\n   * @param {Object} params - (optional)\n   * @param {boolean} params.resetPose - Default is true.\n   * @param {boolean} params.ik - Default is true.\n   * @param {boolean} params.grant - Default is true.\n   * @return {MMDAnimationHelper}\n   */\n  pose(mesh, vpd, params = {}) {\n    if (params.resetPose !== false)\n      mesh.pose();\n    const bones = mesh.skeleton.bones;\n    const boneParams = vpd.bones;\n    const boneNameDictionary = {};\n    for (let i = 0, il = bones.length; i < il; i++) {\n      boneNameDictionary[bones[i].name] = i;\n    }\n    const vector = new Vector3();\n    const quaternion = new Quaternion();\n    for (let i = 0, il = boneParams.length; i < il; i++) {\n      const boneParam = boneParams[i];\n      const boneIndex = boneNameDictionary[boneParam.name];\n      if (boneIndex === void 0)\n        continue;\n      const bone = bones[boneIndex];\n      bone.position.add(vector.fromArray(boneParam.translation));\n      bone.quaternion.multiply(quaternion.fromArray(boneParam.quaternion));\n    }\n    mesh.updateMatrixWorld(true);\n    if (this.configuration.pmxAnimation && mesh.geometry.userData.MMD && mesh.geometry.userData.MMD.format === \"pmx\") {\n      const sortedBonesData = this._sortBoneDataArray(mesh.geometry.userData.MMD.bones.slice());\n      const ikSolver = params.ik !== false ? this._createCCDIKSolver(mesh) : null;\n      const grantSolver = params.grant !== false ? this.createGrantSolver(mesh) : null;\n      this._animatePMXMesh(mesh, sortedBonesData, ikSolver, grantSolver);\n    } else {\n      if (params.ik !== false) {\n        this._createCCDIKSolver(mesh).update();\n      }\n      if (params.grant !== false) {\n        this.createGrantSolver(mesh).update();\n      }\n    }\n    return this;\n  }\n  /**\n   * Enabes/Disables an animation feature.\n   *\n   * @param {string} key\n   * @param {boolean} enabled\n   * @return {MMDAnimationHelper}\n   */\n  enable(key, enabled) {\n    if (this.enabled[key] === void 0) {\n      throw new Error(\"THREE.MMDAnimationHelper.enable: unknown key \" + key);\n    }\n    this.enabled[key] = enabled;\n    if (key === \"physics\") {\n      for (let i = 0, il = this.meshes.length; i < il; i++) {\n        this._optimizeIK(this.meshes[i], enabled);\n      }\n    }\n    return this;\n  }\n  /**\n   * Creates an GrantSolver instance.\n   *\n   * @param {THREE.SkinnedMesh} mesh\n   * @return {GrantSolver}\n   */\n  createGrantSolver(mesh) {\n    return new GrantSolver(mesh, mesh.geometry.userData.MMD.grants);\n  }\n  // private methods\n  _addMesh(mesh, params) {\n    if (this.meshes.indexOf(mesh) >= 0) {\n      throw new Error(\"THREE.MMDAnimationHelper._addMesh: SkinnedMesh '\" + mesh.name + \"' has already been added.\");\n    }\n    this.meshes.push(mesh);\n    this.objects.set(mesh, { looped: false });\n    this._setupMeshAnimation(mesh, params.animation);\n    if (params.physics !== false) {\n      this._setupMeshPhysics(mesh, params);\n    }\n    return this;\n  }\n  _setupCamera(camera, params) {\n    if (this.camera === camera) {\n      throw new Error(\"THREE.MMDAnimationHelper._setupCamera: Camera '\" + camera.name + \"' has already been set.\");\n    }\n    if (this.camera)\n      this.clearCamera(this.camera);\n    this.camera = camera;\n    camera.add(this.cameraTarget);\n    this.objects.set(camera, {});\n    if (params.animation !== void 0) {\n      this._setupCameraAnimation(camera, params.animation);\n    }\n    return this;\n  }\n  _setupAudio(audio, params) {\n    if (this.audio === audio) {\n      throw new Error(\"THREE.MMDAnimationHelper._setupAudio: Audio '\" + audio.name + \"' has already been set.\");\n    }\n    if (this.audio)\n      this.clearAudio(this.audio);\n    this.audio = audio;\n    this.audioManager = new AudioManager(audio, params);\n    this.objects.set(this.audioManager, {\n      duration: this.audioManager.duration\n    });\n    return this;\n  }\n  _removeMesh(mesh) {\n    let found = false;\n    let writeIndex = 0;\n    for (let i = 0, il = this.meshes.length; i < il; i++) {\n      if (this.meshes[i] === mesh) {\n        this.objects.delete(mesh);\n        found = true;\n        continue;\n      }\n      this.meshes[writeIndex++] = this.meshes[i];\n    }\n    if (!found) {\n      throw new Error(\n        \"THREE.MMDAnimationHelper._removeMesh: SkinnedMesh '\" + mesh.name + \"' has not been added yet.\"\n      );\n    }\n    this.meshes.length = writeIndex;\n    return this;\n  }\n  _clearCamera(camera) {\n    if (camera !== this.camera) {\n      throw new Error(\"THREE.MMDAnimationHelper._clearCamera: Camera '\" + camera.name + \"' has not been set yet.\");\n    }\n    this.camera.remove(this.cameraTarget);\n    this.objects.delete(this.camera);\n    this.camera = null;\n    return this;\n  }\n  _clearAudio(audio) {\n    if (audio !== this.audio) {\n      throw new Error(\"THREE.MMDAnimationHelper._clearAudio: Audio '\" + audio.name + \"' has not been set yet.\");\n    }\n    this.objects.delete(this.audioManager);\n    this.audio = null;\n    this.audioManager = null;\n    return this;\n  }\n  _setupMeshAnimation(mesh, animation) {\n    const objects = this.objects.get(mesh);\n    if (animation !== void 0) {\n      const animations = Array.isArray(animation) ? animation : [animation];\n      objects.mixer = new AnimationMixer(mesh);\n      for (let i = 0, il = animations.length; i < il; i++) {\n        objects.mixer.clipAction(animations[i]).play();\n      }\n      objects.mixer.addEventListener(\"loop\", function(event) {\n        const tracks = event.action._clip.tracks;\n        if (tracks.length > 0 && tracks[0].name.slice(0, 6) !== \".bones\")\n          return;\n        objects.looped = true;\n      });\n    }\n    objects.ikSolver = this._createCCDIKSolver(mesh);\n    objects.grantSolver = this.createGrantSolver(mesh);\n    return this;\n  }\n  _setupCameraAnimation(camera, animation) {\n    const animations = Array.isArray(animation) ? animation : [animation];\n    const objects = this.objects.get(camera);\n    objects.mixer = new AnimationMixer(camera);\n    for (let i = 0, il = animations.length; i < il; i++) {\n      objects.mixer.clipAction(animations[i]).play();\n    }\n  }\n  _setupMeshPhysics(mesh, params) {\n    const objects = this.objects.get(mesh);\n    if (params.world === void 0 && this.sharedPhysics) {\n      const masterPhysics = this._getMasterPhysics();\n      if (masterPhysics !== null)\n        world = masterPhysics.world;\n    }\n    objects.physics = this._createMMDPhysics(mesh, params);\n    if (objects.mixer && params.animationWarmup !== false) {\n      this._animateMesh(mesh, 0);\n      objects.physics.reset();\n    }\n    objects.physics.warmup(params.warmup !== void 0 ? params.warmup : 60);\n    this._optimizeIK(mesh, true);\n  }\n  _animateMesh(mesh, delta) {\n    const objects = this.objects.get(mesh);\n    const mixer = objects.mixer;\n    const ikSolver = objects.ikSolver;\n    const grantSolver = objects.grantSolver;\n    const physics = objects.physics;\n    const looped = objects.looped;\n    if (mixer && this.enabled.animation) {\n      this._restoreBones(mesh);\n      mixer.update(delta);\n      this._saveBones(mesh);\n      if (this.configuration.pmxAnimation && mesh.geometry.userData.MMD && mesh.geometry.userData.MMD.format === \"pmx\") {\n        if (!objects.sortedBonesData)\n          objects.sortedBonesData = this._sortBoneDataArray(mesh.geometry.userData.MMD.bones.slice());\n        this._animatePMXMesh(\n          mesh,\n          objects.sortedBonesData,\n          ikSolver && this.enabled.ik ? ikSolver : null,\n          grantSolver && this.enabled.grant ? grantSolver : null\n        );\n      } else {\n        if (ikSolver && this.enabled.ik) {\n          mesh.updateMatrixWorld(true);\n          ikSolver.update();\n        }\n        if (grantSolver && this.enabled.grant) {\n          grantSolver.update();\n        }\n      }\n    }\n    if (looped === true && this.enabled.physics) {\n      if (physics && this.configuration.resetPhysicsOnLoop)\n        physics.reset();\n      objects.looped = false;\n    }\n    if (physics && this.enabled.physics && !this.sharedPhysics) {\n      this.onBeforePhysics(mesh);\n      physics.update(delta);\n    }\n  }\n  // Sort bones in order by 1. transformationClass and 2. bone index.\n  // In PMX animation system, bone transformations should be processed\n  // in this order.\n  _sortBoneDataArray(boneDataArray) {\n    return boneDataArray.sort(function(a, b) {\n      if (a.transformationClass !== b.transformationClass) {\n        return a.transformationClass - b.transformationClass;\n      } else {\n        return a.index - b.index;\n      }\n    });\n  }\n  // PMX Animation system is a bit too complex and doesn't great match to\n  // Three.js Animation system. This method attempts to simulate it as much as\n  // possible but doesn't perfectly simulate.\n  // This method is more costly than the regular one so\n  // you are recommended to set constructor parameter \"pmxAnimation: true\"\n  // only if your PMX model animation doesn't work well.\n  // If you need better method you would be required to write your own.\n  _animatePMXMesh(mesh, sortedBonesData, ikSolver, grantSolver) {\n    _quaternionIndex = 0;\n    _grantResultMap.clear();\n    for (let i = 0, il = sortedBonesData.length; i < il; i++) {\n      updateOne(mesh, sortedBonesData[i].index, ikSolver, grantSolver);\n    }\n    mesh.updateMatrixWorld(true);\n    return this;\n  }\n  _animateCamera(camera, delta) {\n    const mixer = this.objects.get(camera).mixer;\n    if (mixer && this.enabled.cameraAnimation) {\n      mixer.update(delta);\n      camera.updateProjectionMatrix();\n      camera.up.set(0, 1, 0);\n      camera.up.applyQuaternion(camera.quaternion);\n      camera.lookAt(this.cameraTarget.position);\n    }\n  }\n  _optimizeIK(mesh, physicsEnabled) {\n    const iks = mesh.geometry.userData.MMD.iks;\n    const bones = mesh.geometry.userData.MMD.bones;\n    for (let i = 0, il = iks.length; i < il; i++) {\n      const ik = iks[i];\n      const links = ik.links;\n      for (let j = 0, jl = links.length; j < jl; j++) {\n        const link = links[j];\n        if (physicsEnabled === true) {\n          link.enabled = bones[link.index].rigidBodyType > 0 ? false : true;\n        } else {\n          link.enabled = true;\n        }\n      }\n    }\n  }\n  _createCCDIKSolver(mesh) {\n    if (CCDIKSolver === void 0) {\n      throw new Error(\"THREE.MMDAnimationHelper: Import CCDIKSolver.\");\n    }\n    return new CCDIKSolver(mesh, mesh.geometry.userData.MMD.iks);\n  }\n  _createMMDPhysics(mesh, params) {\n    if (MMDPhysics === void 0) {\n      throw new Error(\"THREE.MMDPhysics: Import MMDPhysics.\");\n    }\n    return new MMDPhysics(mesh, mesh.geometry.userData.MMD.rigidBodies, mesh.geometry.userData.MMD.constraints, params);\n  }\n  /*\n   * Detects the longest duration and then sets it to them to sync.\n   * TODO: Not to access private properties ( ._actions and ._clip )\n   */\n  _syncDuration() {\n    let max = 0;\n    const objects = this.objects;\n    const meshes = this.meshes;\n    const camera = this.camera;\n    const audioManager = this.audioManager;\n    for (let i = 0, il = meshes.length; i < il; i++) {\n      const mixer = this.objects.get(meshes[i]).mixer;\n      if (mixer === void 0)\n        continue;\n      for (let j = 0; j < mixer._actions.length; j++) {\n        const clip = mixer._actions[j]._clip;\n        if (!objects.has(clip)) {\n          objects.set(clip, {\n            duration: clip.duration\n          });\n        }\n        max = Math.max(max, objects.get(clip).duration);\n      }\n    }\n    if (camera !== null) {\n      const mixer = this.objects.get(camera).mixer;\n      if (mixer !== void 0) {\n        for (let i = 0, il = mixer._actions.length; i < il; i++) {\n          const clip = mixer._actions[i]._clip;\n          if (!objects.has(clip)) {\n            objects.set(clip, {\n              duration: clip.duration\n            });\n          }\n          max = Math.max(max, objects.get(clip).duration);\n        }\n      }\n    }\n    if (audioManager !== null) {\n      max = Math.max(max, objects.get(audioManager).duration);\n    }\n    max += this.configuration.afterglow;\n    for (let i = 0, il = this.meshes.length; i < il; i++) {\n      const mixer = this.objects.get(this.meshes[i]).mixer;\n      if (mixer === void 0)\n        continue;\n      for (let j = 0, jl = mixer._actions.length; j < jl; j++) {\n        mixer._actions[j]._clip.duration = max;\n      }\n    }\n    if (camera !== null) {\n      const mixer = this.objects.get(camera).mixer;\n      if (mixer !== void 0) {\n        for (let i = 0, il = mixer._actions.length; i < il; i++) {\n          mixer._actions[i]._clip.duration = max;\n        }\n      }\n    }\n    if (audioManager !== null) {\n      audioManager.duration = max;\n    }\n  }\n  // workaround\n  _updatePropertyMixersBuffer(mesh) {\n    const mixer = this.objects.get(mesh).mixer;\n    const propertyMixers = mixer._bindings;\n    const accuIndex = mixer._accuIndex;\n    for (let i = 0, il = propertyMixers.length; i < il; i++) {\n      const propertyMixer = propertyMixers[i];\n      const buffer = propertyMixer.buffer;\n      const stride = propertyMixer.valueSize;\n      const offset = (accuIndex + 1) * stride;\n      propertyMixer.binding.getValue(buffer, offset);\n    }\n  }\n  /*\n   * Avoiding these two issues by restore/save bones before/after mixer animation.\n   *\n   * 1. PropertyMixer used by AnimationMixer holds cache value in .buffer.\n   *    Calculating IK, Grant, and Physics after mixer animation can break\n   *    the cache coherency.\n   *\n   * 2. Applying Grant two or more times without reset the posing breaks model.\n   */\n  _saveBones(mesh) {\n    const objects = this.objects.get(mesh);\n    const bones = mesh.skeleton.bones;\n    let backupBones = objects.backupBones;\n    if (backupBones === void 0) {\n      backupBones = new Float32Array(bones.length * 7);\n      objects.backupBones = backupBones;\n    }\n    for (let i = 0, il = bones.length; i < il; i++) {\n      const bone = bones[i];\n      bone.position.toArray(backupBones, i * 7);\n      bone.quaternion.toArray(backupBones, i * 7 + 3);\n    }\n  }\n  _restoreBones(mesh) {\n    const objects = this.objects.get(mesh);\n    const backupBones = objects.backupBones;\n    if (backupBones === void 0)\n      return;\n    const bones = mesh.skeleton.bones;\n    for (let i = 0, il = bones.length; i < il; i++) {\n      const bone = bones[i];\n      bone.position.fromArray(backupBones, i * 7);\n      bone.quaternion.fromArray(backupBones, i * 7 + 3);\n    }\n  }\n  // experimental\n  _getMasterPhysics() {\n    if (this.masterPhysics !== null)\n      return this.masterPhysics;\n    for (let i = 0, il = this.meshes.length; i < il; i++) {\n      const physics = this.meshes[i].physics;\n      if (physics !== void 0 && physics !== null) {\n        this.masterPhysics = physics;\n        return this.masterPhysics;\n      }\n    }\n    return null;\n  }\n  _updateSharedPhysics(delta) {\n    if (this.meshes.length === 0 || !this.enabled.physics || !this.sharedPhysics)\n      return;\n    const physics = this._getMasterPhysics();\n    if (physics === null)\n      return;\n    for (let i = 0, il = this.meshes.length; i < il; i++) {\n      const p = this.meshes[i].physics;\n      if (p !== null && p !== void 0) {\n        p.updateRigidBodies();\n      }\n    }\n    physics.stepSimulation(delta);\n    for (let i = 0, il = this.meshes.length; i < il; i++) {\n      const p = this.meshes[i].physics;\n      if (p !== null && p !== void 0) {\n        p.updateBones();\n      }\n    }\n  }\n}\nconst _quaternions = [];\nlet _quaternionIndex = 0;\nfunction getQuaternion() {\n  if (_quaternionIndex >= _quaternions.length) {\n    _quaternions.push(new Quaternion());\n  }\n  return _quaternions[_quaternionIndex++];\n}\nconst _grantResultMap = /* @__PURE__ */ new Map();\nfunction updateOne(mesh, boneIndex, ikSolver, grantSolver) {\n  const bones = mesh.skeleton.bones;\n  const bonesData = mesh.geometry.userData.MMD.bones;\n  const boneData = bonesData[boneIndex];\n  const bone = bones[boneIndex];\n  if (_grantResultMap.has(boneIndex))\n    return;\n  const quaternion = getQuaternion();\n  _grantResultMap.set(boneIndex, quaternion.copy(bone.quaternion));\n  if (grantSolver && boneData.grant && !boneData.grant.isLocal && boneData.grant.affectRotation) {\n    const parentIndex = boneData.grant.parentIndex;\n    const ratio = boneData.grant.ratio;\n    if (!_grantResultMap.has(parentIndex)) {\n      updateOne(mesh, parentIndex, ikSolver, grantSolver);\n    }\n    grantSolver.addGrantRotation(bone, _grantResultMap.get(parentIndex), ratio);\n  }\n  if (ikSolver && boneData.ik) {\n    mesh.updateMatrixWorld(true);\n    ikSolver.updateOne(boneData.ik);\n    const links = boneData.ik.links;\n    for (let i = 0, il = links.length; i < il; i++) {\n      const link = links[i];\n      if (link.enabled === false)\n        continue;\n      const linkIndex = link.index;\n      if (_grantResultMap.has(linkIndex)) {\n        _grantResultMap.set(linkIndex, _grantResultMap.get(linkIndex).copy(bones[linkIndex].quaternion));\n      }\n    }\n  }\n  quaternion.copy(bone.quaternion);\n}\nclass AudioManager {\n  /**\n   * @param {THREE.Audio} audio\n   * @param {Object} params - (optional)\n   * @param {Nuumber} params.delayTime\n   */\n  constructor(audio, params = {}) {\n    this.audio = audio;\n    this.elapsedTime = 0;\n    this.currentTime = 0;\n    this.delayTime = params.delayTime !== void 0 ? params.delayTime : 0;\n    this.audioDuration = this.audio.buffer.duration;\n    this.duration = this.audioDuration + this.delayTime;\n  }\n  /**\n   * @param {Number} delta\n   * @return {AudioManager}\n   */\n  control(delta) {\n    this.elapsed += delta;\n    this.currentTime += delta;\n    if (this._shouldStopAudio())\n      this.audio.stop();\n    if (this._shouldStartAudio())\n      this.audio.play();\n    return this;\n  }\n  // private methods\n  _shouldStartAudio() {\n    if (this.audio.isPlaying)\n      return false;\n    while (this.currentTime >= this.duration) {\n      this.currentTime -= this.duration;\n    }\n    if (this.currentTime < this.delayTime)\n      return false;\n    if (this.currentTime - this.delayTime > this.audioDuration)\n      return false;\n    return true;\n  }\n  _shouldStopAudio() {\n    return this.audio.isPlaying && this.currentTime >= this.duration;\n  }\n}\nconst _q = /* @__PURE__ */ new Quaternion();\nclass GrantSolver {\n  constructor(mesh, grants = []) {\n    this.mesh = mesh;\n    this.grants = grants;\n  }\n  /**\n   * Solve all the grant bones\n   * @return {GrantSolver}\n   */\n  update() {\n    const grants = this.grants;\n    for (let i = 0, il = grants.length; i < il; i++) {\n      this.updateOne(grants[i]);\n    }\n    return this;\n  }\n  /**\n   * Solve a grant bone\n   * @param {Object} grant - grant parameter\n   * @return {GrantSolver}\n   */\n  updateOne(grant) {\n    const bones = this.mesh.skeleton.bones;\n    const bone = bones[grant.index];\n    const parentBone = bones[grant.parentIndex];\n    if (grant.isLocal) {\n      if (grant.affectPosition) {\n      }\n      if (grant.affectRotation) {\n      }\n    } else {\n      if (grant.affectPosition) {\n      }\n      if (grant.affectRotation) {\n        this.addGrantRotation(bone, parentBone.quaternion, grant.ratio);\n      }\n    }\n    return this;\n  }\n  addGrantRotation(bone, q, ratio) {\n    _q.set(0, 0, 0, 1);\n    _q.slerp(q, ratio);\n    bone.quaternion.multiply(_q);\n    return this;\n  }\n}\nexport {\n  MMDAnimationHelper\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Mesh, REVISION, PerspectiveCamera, Color, Plane, Vector3, Matrix4, Vector4, WebGLRenderTarget, HalfFloatType, ShaderMaterial, UniformsUtils, NoToneMapping } from \"three\";\nconst _Reflector = class extends Mesh {\n  constructor(geometry, options = {}) {\n    super(geometry);\n    this.isReflector = true;\n    this.type = \"Reflector\";\n    this.camera = new PerspectiveCamera();\n    const scope = this;\n    const color = options.color !== void 0 ? new Color(options.color) : new Color(8355711);\n    const textureWidth = options.textureWidth || 512;\n    const textureHeight = options.textureHeight || 512;\n    const clipBias = options.clipBias || 0;\n    const shader = options.shader || _Reflector.ReflectorShader;\n    const multisample = options.multisample !== void 0 ? options.multisample : 4;\n    const reflectorPlane = new Plane();\n    const normal = new Vector3();\n    const reflectorWorldPosition = new Vector3();\n    const cameraWorldPosition = new Vector3();\n    const rotationMatrix = new Matrix4();\n    const lookAtPosition = new Vector3(0, 0, -1);\n    const clipPlane = new Vector4();\n    const view = new Vector3();\n    const target = new Vector3();\n    const q = new Vector4();\n    const textureMatrix = new Matrix4();\n    const virtualCamera = this.camera;\n    const renderTarget = new WebGLRenderTarget(textureWidth, textureHeight, {\n      samples: multisample,\n      type: HalfFloatType\n    });\n    const material = new ShaderMaterial({\n      uniforms: UniformsUtils.clone(shader.uniforms),\n      fragmentShader: shader.fragmentShader,\n      vertexShader: shader.vertexShader\n    });\n    material.uniforms[\"tDiffuse\"].value = renderTarget.texture;\n    material.uniforms[\"color\"].value = color;\n    material.uniforms[\"textureMatrix\"].value = textureMatrix;\n    this.material = material;\n    this.onBeforeRender = function(renderer, scene, camera) {\n      reflectorWorldPosition.setFromMatrixPosition(scope.matrixWorld);\n      cameraWorldPosition.setFromMatrixPosition(camera.matrixWorld);\n      rotationMatrix.extractRotation(scope.matrixWorld);\n      normal.set(0, 0, 1);\n      normal.applyMatrix4(rotationMatrix);\n      view.subVectors(reflectorWorldPosition, cameraWorldPosition);\n      if (view.dot(normal) > 0)\n        return;\n      view.reflect(normal).negate();\n      view.add(reflectorWorldPosition);\n      rotationMatrix.extractRotation(camera.matrixWorld);\n      lookAtPosition.set(0, 0, -1);\n      lookAtPosition.applyMatrix4(rotationMatrix);\n      lookAtPosition.add(cameraWorldPosition);\n      target.subVectors(reflectorWorldPosition, lookAtPosition);\n      target.reflect(normal).negate();\n      target.add(reflectorWorldPosition);\n      virtualCamera.position.copy(view);\n      virtualCamera.up.set(0, 1, 0);\n      virtualCamera.up.applyMatrix4(rotationMatrix);\n      virtualCamera.up.reflect(normal);\n      virtualCamera.lookAt(target);\n      virtualCamera.far = camera.far;\n      virtualCamera.updateMatrixWorld();\n      virtualCamera.projectionMatrix.copy(camera.projectionMatrix);\n      textureMatrix.set(0.5, 0, 0, 0.5, 0, 0.5, 0, 0.5, 0, 0, 0.5, 0.5, 0, 0, 0, 1);\n      textureMatrix.multiply(virtualCamera.projectionMatrix);\n      textureMatrix.multiply(virtualCamera.matrixWorldInverse);\n      textureMatrix.multiply(scope.matrixWorld);\n      reflectorPlane.setFromNormalAndCoplanarPoint(normal, reflectorWorldPosition);\n      reflectorPlane.applyMatrix4(virtualCamera.matrixWorldInverse);\n      clipPlane.set(reflectorPlane.normal.x, reflectorPlane.normal.y, reflectorPlane.normal.z, reflectorPlane.constant);\n      const projectionMatrix = virtualCamera.projectionMatrix;\n      q.x = (Math.sign(clipPlane.x) + projectionMatrix.elements[8]) / projectionMatrix.elements[0];\n      q.y = (Math.sign(clipPlane.y) + projectionMatrix.elements[9]) / projectionMatrix.elements[5];\n      q.z = -1;\n      q.w = (1 + projectionMatrix.elements[10]) / projectionMatrix.elements[14];\n      clipPlane.multiplyScalar(2 / clipPlane.dot(q));\n      projectionMatrix.elements[2] = clipPlane.x;\n      projectionMatrix.elements[6] = clipPlane.y;\n      projectionMatrix.elements[10] = clipPlane.z + 1 - clipBias;\n      projectionMatrix.elements[14] = clipPlane.w;\n      scope.visible = false;\n      const currentRenderTarget = renderer.getRenderTarget();\n      const currentXrEnabled = renderer.xr.enabled;\n      const currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\n      const currentToneMapping = renderer.toneMapping;\n      let isSRGB = false;\n      if (\"outputColorSpace\" in renderer)\n        isSRGB = renderer.outputColorSpace === \"srgb\";\n      else\n        isSRGB = renderer.outputEncoding === 3001;\n      renderer.xr.enabled = false;\n      renderer.shadowMap.autoUpdate = false;\n      if (\"outputColorSpace\" in renderer)\n        renderer.outputColorSpace = \"linear-srgb\";\n      else\n        renderer.outputEncoding = 3e3;\n      renderer.toneMapping = NoToneMapping;\n      renderer.setRenderTarget(renderTarget);\n      renderer.state.buffers.depth.setMask(true);\n      if (renderer.autoClear === false)\n        renderer.clear();\n      renderer.render(scene, virtualCamera);\n      renderer.xr.enabled = currentXrEnabled;\n      renderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\n      renderer.toneMapping = currentToneMapping;\n      if (\"outputColorSpace\" in renderer)\n        renderer.outputColorSpace = isSRGB ? \"srgb\" : \"srgb-linear\";\n      else\n        renderer.outputEncoding = isSRGB ? 3001 : 3e3;\n      renderer.setRenderTarget(currentRenderTarget);\n      const viewport = camera.viewport;\n      if (viewport !== void 0) {\n        renderer.state.viewport(viewport);\n      }\n      scope.visible = true;\n    };\n    this.getRenderTarget = function() {\n      return renderTarget;\n    };\n    this.dispose = function() {\n      renderTarget.dispose();\n      scope.material.dispose();\n    };\n  }\n};\nlet Reflector = _Reflector;\n__publicField(Reflector, \"ReflectorShader\", {\n  uniforms: {\n    color: {\n      value: null\n    },\n    tDiffuse: {\n      value: null\n    },\n    textureMatrix: {\n      value: null\n    }\n  },\n  vertexShader: (\n    /* glsl */\n    `\n\t\tuniform mat4 textureMatrix;\n\t\tvarying vec4 vUv;\n\n\t\t#include <common>\n\t\t#include <logdepthbuf_pars_vertex>\n\n\t\tvoid main() {\n\n\t\t\tvUv = textureMatrix * vec4( position, 1.0 );\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t\t#include <logdepthbuf_vertex>\n\n\t\t}`\n  ),\n  fragmentShader: (\n    /* glsl */\n    `\n\t\tuniform vec3 color;\n\t\tuniform sampler2D tDiffuse;\n\t\tvarying vec4 vUv;\n\n\t\t#include <logdepthbuf_pars_fragment>\n\n\t\tfloat blendOverlay( float base, float blend ) {\n\n\t\t\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\n\t\t}\n\n\t\tvec3 blendOverlay( vec3 base, vec3 blend ) {\n\n\t\t\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\tvec4 base = texture2DProj( tDiffuse, vUv );\n\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <${parseInt(REVISION.replace(/\\D+/g, \"\")) >= 154 ? \"colorspace_fragment\" : \"encodings_fragment\"}>\n\n\t\t}`\n  )\n});\nexport {\n  Reflector\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Mesh, REVISION, PerspectiveCamera, Color, Plane, Matrix4, WebGLRenderTarget, HalfFloatType, ShaderMaterial, UniformsUtils, Vector3, Quaternion, Vector4, NoToneMapping } from \"three\";\nconst _Refractor = class extends Mesh {\n  constructor(geometry, options = {}) {\n    super(geometry);\n    this.isRefractor = true;\n    this.type = \"Refractor\";\n    this.camera = new PerspectiveCamera();\n    const scope = this;\n    const color = options.color !== void 0 ? new Color(options.color) : new Color(8355711);\n    const textureWidth = options.textureWidth || 512;\n    const textureHeight = options.textureHeight || 512;\n    const clipBias = options.clipBias || 0;\n    const shader = options.shader || _Refractor.RefractorShader;\n    const multisample = options.multisample !== void 0 ? options.multisample : 4;\n    const virtualCamera = this.camera;\n    virtualCamera.matrixAutoUpdate = false;\n    virtualCamera.userData.refractor = true;\n    const refractorPlane = new Plane();\n    const textureMatrix = new Matrix4();\n    const renderTarget = new WebGLRenderTarget(textureWidth, textureHeight, {\n      samples: multisample,\n      type: HalfFloatType\n    });\n    this.material = new ShaderMaterial({\n      uniforms: UniformsUtils.clone(shader.uniforms),\n      vertexShader: shader.vertexShader,\n      fragmentShader: shader.fragmentShader,\n      transparent: true\n      // ensures, refractors are drawn from farthest to closest\n    });\n    this.material.uniforms[\"color\"].value = color;\n    this.material.uniforms[\"tDiffuse\"].value = renderTarget.texture;\n    this.material.uniforms[\"textureMatrix\"].value = textureMatrix;\n    const visible = function() {\n      const refractorWorldPosition = new Vector3();\n      const cameraWorldPosition = new Vector3();\n      const rotationMatrix = new Matrix4();\n      const view = new Vector3();\n      const normal = new Vector3();\n      return function visible2(camera) {\n        refractorWorldPosition.setFromMatrixPosition(scope.matrixWorld);\n        cameraWorldPosition.setFromMatrixPosition(camera.matrixWorld);\n        view.subVectors(refractorWorldPosition, cameraWorldPosition);\n        rotationMatrix.extractRotation(scope.matrixWorld);\n        normal.set(0, 0, 1);\n        normal.applyMatrix4(rotationMatrix);\n        return view.dot(normal) < 0;\n      };\n    }();\n    const updateRefractorPlane = function() {\n      const normal = new Vector3();\n      const position = new Vector3();\n      const quaternion = new Quaternion();\n      const scale = new Vector3();\n      return function updateRefractorPlane2() {\n        scope.matrixWorld.decompose(position, quaternion, scale);\n        normal.set(0, 0, 1).applyQuaternion(quaternion).normalize();\n        normal.negate();\n        refractorPlane.setFromNormalAndCoplanarPoint(normal, position);\n      };\n    }();\n    const updateVirtualCamera = function() {\n      const clipPlane = new Plane();\n      const clipVector = new Vector4();\n      const q = new Vector4();\n      return function updateVirtualCamera2(camera) {\n        virtualCamera.matrixWorld.copy(camera.matrixWorld);\n        virtualCamera.matrixWorldInverse.copy(virtualCamera.matrixWorld).invert();\n        virtualCamera.projectionMatrix.copy(camera.projectionMatrix);\n        virtualCamera.far = camera.far;\n        clipPlane.copy(refractorPlane);\n        clipPlane.applyMatrix4(virtualCamera.matrixWorldInverse);\n        clipVector.set(clipPlane.normal.x, clipPlane.normal.y, clipPlane.normal.z, clipPlane.constant);\n        const projectionMatrix = virtualCamera.projectionMatrix;\n        q.x = (Math.sign(clipVector.x) + projectionMatrix.elements[8]) / projectionMatrix.elements[0];\n        q.y = (Math.sign(clipVector.y) + projectionMatrix.elements[9]) / projectionMatrix.elements[5];\n        q.z = -1;\n        q.w = (1 + projectionMatrix.elements[10]) / projectionMatrix.elements[14];\n        clipVector.multiplyScalar(2 / clipVector.dot(q));\n        projectionMatrix.elements[2] = clipVector.x;\n        projectionMatrix.elements[6] = clipVector.y;\n        projectionMatrix.elements[10] = clipVector.z + 1 - clipBias;\n        projectionMatrix.elements[14] = clipVector.w;\n      };\n    }();\n    function updateTextureMatrix(camera) {\n      textureMatrix.set(0.5, 0, 0, 0.5, 0, 0.5, 0, 0.5, 0, 0, 0.5, 0.5, 0, 0, 0, 1);\n      textureMatrix.multiply(camera.projectionMatrix);\n      textureMatrix.multiply(camera.matrixWorldInverse);\n      textureMatrix.multiply(scope.matrixWorld);\n    }\n    function render(renderer, scene, camera) {\n      scope.visible = false;\n      const currentRenderTarget = renderer.getRenderTarget();\n      const currentXrEnabled = renderer.xr.enabled;\n      const currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\n      const currentToneMapping = renderer.toneMapping;\n      let isSRGB = false;\n      if (\"outputColorSpace\" in renderer)\n        isSRGB = renderer.outputColorSpace === \"srgb\";\n      else\n        isSRGB = renderer.outputEncoding === 3001;\n      renderer.xr.enabled = false;\n      renderer.shadowMap.autoUpdate = false;\n      if (\"outputColorSpace\" in renderer)\n        renderer.outputColorSpace = \"linear-srgb\";\n      else\n        renderer.outputEncoding = 3e3;\n      renderer.toneMapping = NoToneMapping;\n      renderer.setRenderTarget(renderTarget);\n      if (renderer.autoClear === false)\n        renderer.clear();\n      renderer.render(scene, virtualCamera);\n      renderer.xr.enabled = currentXrEnabled;\n      renderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\n      renderer.toneMapping = currentToneMapping;\n      renderer.setRenderTarget(currentRenderTarget);\n      if (\"outputColorSpace\" in renderer)\n        renderer.outputColorSpace = isSRGB ? \"srgb\" : \"srgb-linear\";\n      else\n        renderer.outputEncoding = isSRGB ? 3001 : 3e3;\n      const viewport = camera.viewport;\n      if (viewport !== void 0) {\n        renderer.state.viewport(viewport);\n      }\n      scope.visible = true;\n    }\n    this.onBeforeRender = function(renderer, scene, camera) {\n      if (camera.userData.refractor === true)\n        return;\n      if (!visible(camera) === true)\n        return;\n      updateRefractorPlane();\n      updateTextureMatrix(camera);\n      updateVirtualCamera(camera);\n      render(renderer, scene, camera);\n    };\n    this.getRenderTarget = function() {\n      return renderTarget;\n    };\n    this.dispose = function() {\n      renderTarget.dispose();\n      scope.material.dispose();\n    };\n  }\n};\nlet Refractor = _Refractor;\n__publicField(Refractor, \"RefractorShader\", {\n  uniforms: {\n    color: {\n      value: null\n    },\n    tDiffuse: {\n      value: null\n    },\n    textureMatrix: {\n      value: null\n    }\n  },\n  vertexShader: (\n    /* glsl */\n    `\n\n\t\tuniform mat4 textureMatrix;\n\n\t\tvarying vec4 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = textureMatrix * vec4( position, 1.0 );\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`\n  ),\n  fragmentShader: (\n    /* glsl */\n    `\n\n\t\tuniform vec3 color;\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec4 vUv;\n\n\t\tfloat blendOverlay( float base, float blend ) {\n\n\t\t\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\n\t\t}\n\n\t\tvec3 blendOverlay( vec3 base, vec3 blend ) {\n\n\t\t\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec4 base = texture2DProj( tDiffuse, vUv );\n\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <${parseInt(REVISION.replace(/\\D+/g, \"\")) >= 154 ? \"colorspace_fragment\" : \"encodings_fragment\"}>\n\n\t\t}`\n  )\n});\nexport {\n  Refractor\n};\n", "import { Matrix4, Mesh, MeshBasicMaterial, EqualStencilFunc, IncrementStencilOp } from \"three\";\nconst _shadowMatrix = /* @__PURE__ */ new Matrix4();\nclass ShadowMesh extends Mesh {\n  constructor(mesh) {\n    const shadowMaterial = new MeshBasicMaterial({\n      color: 0,\n      transparent: true,\n      opacity: 0.6,\n      depthWrite: false,\n      stencilWrite: true,\n      stencilFunc: EqualStencilFunc,\n      stencilRef: 0,\n      stencilZPass: IncrementStencilOp\n    });\n    super(mesh.geometry, shadowMaterial);\n    this.isShadowMesh = true;\n    this.meshMatrix = mesh.matrixWorld;\n    this.frustumCulled = false;\n    this.matrixAutoUpdate = false;\n  }\n  update(plane, lightPosition4D) {\n    const dot = plane.normal.x * lightPosition4D.x + plane.normal.y * lightPosition4D.y + plane.normal.z * lightPosition4D.z + -plane.constant * lightPosition4D.w;\n    const sme = _shadowMatrix.elements;\n    sme[0] = dot - lightPosition4D.x * plane.normal.x;\n    sme[4] = -lightPosition4D.x * plane.normal.y;\n    sme[8] = -lightPosition4D.x * plane.normal.z;\n    sme[12] = -lightPosition4D.x * -plane.constant;\n    sme[1] = -lightPosition4D.y * plane.normal.x;\n    sme[5] = dot - lightPosition4D.y * plane.normal.y;\n    sme[9] = -lightPosition4D.y * plane.normal.z;\n    sme[13] = -lightPosition4D.y * -plane.constant;\n    sme[2] = -lightPosition4D.z * plane.normal.x;\n    sme[6] = -lightPosition4D.z * plane.normal.y;\n    sme[10] = dot - lightPosition4D.z * plane.normal.z;\n    sme[14] = -lightPosition4D.z * -plane.constant;\n    sme[3] = -lightPosition4D.w * plane.normal.x;\n    sme[7] = -lightPosition4D.w * plane.normal.y;\n    sme[11] = -lightPosition4D.w * plane.normal.z;\n    sme[15] = dot - lightPosition4D.w * -plane.constant;\n    this.matrix.multiplyMatrices(_shadowMatrix, this.meshMatrix);\n  }\n}\nexport {\n  ShadowMesh\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { BufferGeometry, InterleavedBuffer, InterleavedBufferAttribute, Mesh, MeshBasicMaterial, Vector3, DataTexture, RGBAFormat, NearestFilter, ClampToEdgeWrapping, RawShaderMaterial, Color, Vector2, AdditiveBlending, Box2, Vector4 } from \"three\";\nconst geometry = /* @__PURE__ */ new BufferGeometry();\nconst float32Array = /* @__PURE__ */ new Float32Array([-1, -1, 0, 0, 0, 1, -1, 0, 1, 0, 1, 1, 0, 1, 1, -1, 1, 0, 0, 1]);\nconst interleavedBuffer = /* @__PURE__ */ new InterleavedBuffer(float32Array, 5);\n/* @__PURE__ */ geometry.setIndex([0, 1, 2, 0, 2, 3]);\n/* @__PURE__ */ geometry.setAttribute(\n  \"position\",\n  /* @__PURE__ */ new InterleavedBufferAttribute(interleavedBuffer, 3, 0, false)\n);\n/* @__PURE__ */ geometry.setAttribute(\n  \"uv\",\n  /* @__PURE__ */ new InterleavedBufferAttribute(interleavedBuffer, 2, 3, false)\n);\nconst _Lensflare = class extends Mesh {\n  constructor() {\n    super(_Lensflare.Geometry, new MeshBasicMaterial({ opacity: 0, transparent: true }));\n    this.isLensflare = true;\n    this.type = \"Lensflare\";\n    this.frustumCulled = false;\n    this.renderOrder = Infinity;\n    const positionScreen = new Vector3();\n    const positionView = new Vector3();\n    const tempMap = new DataTexture(new Uint8Array(16 * 16 * 3), 16, 16, RGBAFormat);\n    tempMap.minFilter = NearestFilter;\n    tempMap.magFilter = NearestFilter;\n    tempMap.wrapS = ClampToEdgeWrapping;\n    tempMap.wrapT = ClampToEdgeWrapping;\n    const occlusionMap = new DataTexture(new Uint8Array(16 * 16 * 3), 16, 16, RGBAFormat);\n    occlusionMap.minFilter = NearestFilter;\n    occlusionMap.magFilter = NearestFilter;\n    occlusionMap.wrapS = ClampToEdgeWrapping;\n    occlusionMap.wrapT = ClampToEdgeWrapping;\n    const geometry2 = _Lensflare.Geometry;\n    const material1a = new RawShaderMaterial({\n      uniforms: {\n        scale: { value: null },\n        screenPosition: { value: null }\n      },\n      vertexShader: (\n        /* glsl */\n        `\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform vec3 screenPosition;\n\t\t\t\tuniform vec2 scale;\n\n\t\t\t\tattribute vec3 position;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );\n\n\t\t\t\t}`\n      ),\n      fragmentShader: (\n        /* glsl */\n        `\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );\n\n\t\t\t\t}`\n      ),\n      depthTest: true,\n      depthWrite: false,\n      transparent: false\n    });\n    const material1b = new RawShaderMaterial({\n      uniforms: {\n        map: { value: tempMap },\n        scale: { value: null },\n        screenPosition: { value: null }\n      },\n      vertexShader: (\n        /* glsl */\n        `\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform vec3 screenPosition;\n\t\t\t\tuniform vec2 scale;\n\n\t\t\t\tattribute vec3 position;\n\t\t\t\tattribute vec2 uv;\n\n\t\t\t\tvarying vec2 vUV;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvUV = uv;\n\n\t\t\t\t\tgl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );\n\n\t\t\t\t}`\n      ),\n      fragmentShader: (\n        /* glsl */\n        `\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform sampler2D map;\n\n\t\t\t\tvarying vec2 vUV;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_FragColor = texture2D( map, vUV );\n\n\t\t\t\t}`\n      ),\n      depthTest: false,\n      depthWrite: false,\n      transparent: false\n    });\n    const mesh1 = new Mesh(geometry2, material1a);\n    const elements = [];\n    const shader = LensflareElement.Shader;\n    const material2 = new RawShaderMaterial({\n      uniforms: {\n        map: { value: null },\n        occlusionMap: { value: occlusionMap },\n        color: { value: new Color(16777215) },\n        scale: { value: new Vector2() },\n        screenPosition: { value: new Vector3() }\n      },\n      vertexShader: shader.vertexShader,\n      fragmentShader: shader.fragmentShader,\n      blending: AdditiveBlending,\n      transparent: true,\n      depthWrite: false\n    });\n    const mesh2 = new Mesh(geometry2, material2);\n    this.addElement = function(element) {\n      elements.push(element);\n    };\n    const scale = new Vector2();\n    const screenPositionPixels = new Vector2();\n    const validArea = new Box2();\n    const viewport = new Vector4();\n    this.onBeforeRender = function(renderer, scene, camera) {\n      renderer.getCurrentViewport(viewport);\n      const invAspect = viewport.w / viewport.z;\n      const halfViewportWidth = viewport.z / 2;\n      const halfViewportHeight = viewport.w / 2;\n      let size = 16 / viewport.w;\n      scale.set(size * invAspect, size);\n      validArea.min.set(viewport.x, viewport.y);\n      validArea.max.set(viewport.x + (viewport.z - 16), viewport.y + (viewport.w - 16));\n      positionView.setFromMatrixPosition(this.matrixWorld);\n      positionView.applyMatrix4(camera.matrixWorldInverse);\n      if (positionView.z > 0)\n        return;\n      positionScreen.copy(positionView).applyMatrix4(camera.projectionMatrix);\n      screenPositionPixels.x = viewport.x + positionScreen.x * halfViewportWidth + halfViewportWidth - 8;\n      screenPositionPixels.y = viewport.y + positionScreen.y * halfViewportHeight + halfViewportHeight - 8;\n      if (validArea.containsPoint(screenPositionPixels)) {\n        renderer.copyFramebufferToTexture(screenPositionPixels, tempMap);\n        let uniforms = material1a.uniforms;\n        uniforms[\"scale\"].value = scale;\n        uniforms[\"screenPosition\"].value = positionScreen;\n        renderer.renderBufferDirect(camera, null, geometry2, material1a, mesh1, null);\n        renderer.copyFramebufferToTexture(screenPositionPixels, occlusionMap);\n        uniforms = material1b.uniforms;\n        uniforms[\"scale\"].value = scale;\n        uniforms[\"screenPosition\"].value = positionScreen;\n        renderer.renderBufferDirect(camera, null, geometry2, material1b, mesh1, null);\n        const vecX = -positionScreen.x * 2;\n        const vecY = -positionScreen.y * 2;\n        for (let i = 0, l = elements.length; i < l; i++) {\n          const element = elements[i];\n          const uniforms2 = material2.uniforms;\n          uniforms2[\"color\"].value.copy(element.color);\n          uniforms2[\"map\"].value = element.texture;\n          uniforms2[\"screenPosition\"].value.x = positionScreen.x + vecX * element.distance;\n          uniforms2[\"screenPosition\"].value.y = positionScreen.y + vecY * element.distance;\n          size = element.size / viewport.w;\n          const invAspect2 = viewport.w / viewport.z;\n          uniforms2[\"scale\"].value.set(size * invAspect2, size);\n          material2.uniformsNeedUpdate = true;\n          renderer.renderBufferDirect(camera, null, geometry2, material2, mesh2, null);\n        }\n      }\n    };\n    this.dispose = function() {\n      material1a.dispose();\n      material1b.dispose();\n      material2.dispose();\n      tempMap.dispose();\n      occlusionMap.dispose();\n      for (let i = 0, l = elements.length; i < l; i++) {\n        elements[i].texture.dispose();\n      }\n    };\n  }\n};\nlet Lensflare = _Lensflare;\n__publicField(Lensflare, \"Geometry\", geometry);\nclass LensflareElement {\n  constructor(texture, size = 1, distance = 0, color = new Color(16777215)) {\n    this.texture = texture;\n    this.size = size;\n    this.distance = distance;\n    this.color = color;\n  }\n}\n__publicField(LensflareElement, \"Shader\", {\n  uniforms: {\n    map: { value: null },\n    occlusionMap: { value: null },\n    color: { value: null },\n    scale: { value: null },\n    screenPosition: { value: null }\n  },\n  vertexShader: (\n    /* glsl */\n    `\n\n\t\tprecision highp float;\n\n\t\tuniform vec3 screenPosition;\n\t\tuniform vec2 scale;\n\n\t\tuniform sampler2D occlusionMap;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\n\t\tvarying vec2 vUV;\n\t\tvarying float vVisibility;\n\n\t\tvoid main() {\n\n\t\t\tvUV = uv;\n\n\t\t\tvec2 pos = position.xy;\n\n\t\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\n\n\t\t\tvVisibility =        visibility.r / 9.0;\n\t\t\tvVisibility *= 1.0 - visibility.g / 9.0;\n\t\t\tvVisibility *=       visibility.b / 9.0;\n\n\t\t\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n\n\t\t}`\n  ),\n  fragmentShader: (\n    /* glsl */\n    `\n\n\t\tprecision highp float;\n\n\t\tuniform sampler2D map;\n\t\tuniform vec3 color;\n\n\t\tvarying vec2 vUV;\n\t\tvarying float vVisibility;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texture = texture2D( map, vUV );\n\t\t\ttexture.a *= vVisibility;\n\t\t\tgl_FragColor = texture;\n\t\t\tgl_FragColor.rgb *= color;\n\n\t\t}`\n  )\n});\nexport {\n  Lensflare,\n  LensflareElement\n};\n", "import { Mesh, BufferGeometry, BufferAttribute, DynamicDrawUsage, Sphere, Vector3, Color } from \"three\";\nclass MarchingCubes extends Mesh {\n  constructor(resolution, material, enableUvs = false, enableColors = false, maxPolyCount = 1e4) {\n    const geometry = new BufferGeometry();\n    super(geometry, material);\n    this.isMarchingCubes = true;\n    const scope = this;\n    const vlist = new Float32Array(12 * 3);\n    const nlist = new Float32Array(12 * 3);\n    const clist = new Float32Array(12 * 3);\n    this.enableUvs = enableUvs;\n    this.enableColors = enableColors;\n    this.init = function(resolution2) {\n      this.resolution = resolution2;\n      this.isolation = 80;\n      this.size = resolution2;\n      this.size2 = this.size * this.size;\n      this.size3 = this.size2 * this.size;\n      this.halfsize = this.size / 2;\n      this.delta = 2 / this.size;\n      this.yd = this.size;\n      this.zd = this.size2;\n      this.field = new Float32Array(this.size3);\n      this.normal_cache = new Float32Array(this.size3 * 3);\n      this.palette = new Float32Array(this.size3 * 3);\n      this.count = 0;\n      const maxVertexCount = maxPolyCount * 3;\n      this.positionArray = new Float32Array(maxVertexCount * 3);\n      const positionAttribute = new BufferAttribute(this.positionArray, 3);\n      positionAttribute.setUsage(DynamicDrawUsage);\n      geometry.setAttribute(\"position\", positionAttribute);\n      this.normalArray = new Float32Array(maxVertexCount * 3);\n      const normalAttribute = new BufferAttribute(this.normalArray, 3);\n      normalAttribute.setUsage(DynamicDrawUsage);\n      geometry.setAttribute(\"normal\", normalAttribute);\n      if (this.enableUvs) {\n        this.uvArray = new Float32Array(maxVertexCount * 2);\n        const uvAttribute = new BufferAttribute(this.uvArray, 2);\n        uvAttribute.setUsage(DynamicDrawUsage);\n        geometry.setAttribute(\"uv\", uvAttribute);\n      }\n      if (this.enableColors) {\n        this.colorArray = new Float32Array(maxVertexCount * 3);\n        const colorAttribute = new BufferAttribute(this.colorArray, 3);\n        colorAttribute.setUsage(DynamicDrawUsage);\n        geometry.setAttribute(\"color\", colorAttribute);\n      }\n      geometry.boundingSphere = new Sphere(new Vector3(), 1);\n    };\n    function lerp(a, b, t) {\n      return a + (b - a) * t;\n    }\n    function VIntX(q, offset, isol, x, y, z, valp1, valp2, c_offset1, c_offset2) {\n      const mu = (isol - valp1) / (valp2 - valp1), nc = scope.normal_cache;\n      vlist[offset + 0] = x + mu * scope.delta;\n      vlist[offset + 1] = y;\n      vlist[offset + 2] = z;\n      nlist[offset + 0] = lerp(nc[q + 0], nc[q + 3], mu);\n      nlist[offset + 1] = lerp(nc[q + 1], nc[q + 4], mu);\n      nlist[offset + 2] = lerp(nc[q + 2], nc[q + 5], mu);\n      clist[offset + 0] = lerp(scope.palette[c_offset1 * 3 + 0], scope.palette[c_offset2 * 3 + 0], mu);\n      clist[offset + 1] = lerp(scope.palette[c_offset1 * 3 + 1], scope.palette[c_offset2 * 3 + 1], mu);\n      clist[offset + 2] = lerp(scope.palette[c_offset1 * 3 + 2], scope.palette[c_offset2 * 3 + 2], mu);\n    }\n    function VIntY(q, offset, isol, x, y, z, valp1, valp2, c_offset1, c_offset2) {\n      const mu = (isol - valp1) / (valp2 - valp1), nc = scope.normal_cache;\n      vlist[offset + 0] = x;\n      vlist[offset + 1] = y + mu * scope.delta;\n      vlist[offset + 2] = z;\n      const q2 = q + scope.yd * 3;\n      nlist[offset + 0] = lerp(nc[q + 0], nc[q2 + 0], mu);\n      nlist[offset + 1] = lerp(nc[q + 1], nc[q2 + 1], mu);\n      nlist[offset + 2] = lerp(nc[q + 2], nc[q2 + 2], mu);\n      clist[offset + 0] = lerp(scope.palette[c_offset1 * 3 + 0], scope.palette[c_offset2 * 3 + 0], mu);\n      clist[offset + 1] = lerp(scope.palette[c_offset1 * 3 + 1], scope.palette[c_offset2 * 3 + 1], mu);\n      clist[offset + 2] = lerp(scope.palette[c_offset1 * 3 + 2], scope.palette[c_offset2 * 3 + 2], mu);\n    }\n    function VIntZ(q, offset, isol, x, y, z, valp1, valp2, c_offset1, c_offset2) {\n      const mu = (isol - valp1) / (valp2 - valp1), nc = scope.normal_cache;\n      vlist[offset + 0] = x;\n      vlist[offset + 1] = y;\n      vlist[offset + 2] = z + mu * scope.delta;\n      const q2 = q + scope.zd * 3;\n      nlist[offset + 0] = lerp(nc[q + 0], nc[q2 + 0], mu);\n      nlist[offset + 1] = lerp(nc[q + 1], nc[q2 + 1], mu);\n      nlist[offset + 2] = lerp(nc[q + 2], nc[q2 + 2], mu);\n      clist[offset + 0] = lerp(scope.palette[c_offset1 * 3 + 0], scope.palette[c_offset2 * 3 + 0], mu);\n      clist[offset + 1] = lerp(scope.palette[c_offset1 * 3 + 1], scope.palette[c_offset2 * 3 + 1], mu);\n      clist[offset + 2] = lerp(scope.palette[c_offset1 * 3 + 2], scope.palette[c_offset2 * 3 + 2], mu);\n    }\n    function compNorm(q) {\n      const q3 = q * 3;\n      if (scope.normal_cache[q3] === 0) {\n        scope.normal_cache[q3 + 0] = scope.field[q - 1] - scope.field[q + 1];\n        scope.normal_cache[q3 + 1] = scope.field[q - scope.yd] - scope.field[q + scope.yd];\n        scope.normal_cache[q3 + 2] = scope.field[q - scope.zd] - scope.field[q + scope.zd];\n      }\n    }\n    function polygonize(fx, fy, fz, q, isol) {\n      const q1 = q + 1, qy = q + scope.yd, qz = q + scope.zd, q1y = q1 + scope.yd, q1z = q1 + scope.zd, qyz = q + scope.yd + scope.zd, q1yz = q1 + scope.yd + scope.zd;\n      let cubeindex = 0;\n      const field0 = scope.field[q], field1 = scope.field[q1], field2 = scope.field[qy], field3 = scope.field[q1y], field4 = scope.field[qz], field5 = scope.field[q1z], field6 = scope.field[qyz], field7 = scope.field[q1yz];\n      if (field0 < isol)\n        cubeindex |= 1;\n      if (field1 < isol)\n        cubeindex |= 2;\n      if (field2 < isol)\n        cubeindex |= 8;\n      if (field3 < isol)\n        cubeindex |= 4;\n      if (field4 < isol)\n        cubeindex |= 16;\n      if (field5 < isol)\n        cubeindex |= 32;\n      if (field6 < isol)\n        cubeindex |= 128;\n      if (field7 < isol)\n        cubeindex |= 64;\n      const bits = edgeTable[cubeindex];\n      if (bits === 0)\n        return 0;\n      const d = scope.delta, fx2 = fx + d, fy2 = fy + d, fz2 = fz + d;\n      if (bits & 1) {\n        compNorm(q);\n        compNorm(q1);\n        VIntX(q * 3, 0, isol, fx, fy, fz, field0, field1, q, q1);\n      }\n      if (bits & 2) {\n        compNorm(q1);\n        compNorm(q1y);\n        VIntY(q1 * 3, 3, isol, fx2, fy, fz, field1, field3, q1, q1y);\n      }\n      if (bits & 4) {\n        compNorm(qy);\n        compNorm(q1y);\n        VIntX(qy * 3, 6, isol, fx, fy2, fz, field2, field3, qy, q1y);\n      }\n      if (bits & 8) {\n        compNorm(q);\n        compNorm(qy);\n        VIntY(q * 3, 9, isol, fx, fy, fz, field0, field2, q, qy);\n      }\n      if (bits & 16) {\n        compNorm(qz);\n        compNorm(q1z);\n        VIntX(qz * 3, 12, isol, fx, fy, fz2, field4, field5, qz, q1z);\n      }\n      if (bits & 32) {\n        compNorm(q1z);\n        compNorm(q1yz);\n        VIntY(q1z * 3, 15, isol, fx2, fy, fz2, field5, field7, q1z, q1yz);\n      }\n      if (bits & 64) {\n        compNorm(qyz);\n        compNorm(q1yz);\n        VIntX(qyz * 3, 18, isol, fx, fy2, fz2, field6, field7, qyz, q1yz);\n      }\n      if (bits & 128) {\n        compNorm(qz);\n        compNorm(qyz);\n        VIntY(qz * 3, 21, isol, fx, fy, fz2, field4, field6, qz, qyz);\n      }\n      if (bits & 256) {\n        compNorm(q);\n        compNorm(qz);\n        VIntZ(q * 3, 24, isol, fx, fy, fz, field0, field4, q, qz);\n      }\n      if (bits & 512) {\n        compNorm(q1);\n        compNorm(q1z);\n        VIntZ(q1 * 3, 27, isol, fx2, fy, fz, field1, field5, q1, q1z);\n      }\n      if (bits & 1024) {\n        compNorm(q1y);\n        compNorm(q1yz);\n        VIntZ(q1y * 3, 30, isol, fx2, fy2, fz, field3, field7, q1y, q1yz);\n      }\n      if (bits & 2048) {\n        compNorm(qy);\n        compNorm(qyz);\n        VIntZ(qy * 3, 33, isol, fx, fy2, fz, field2, field6, qy, qyz);\n      }\n      cubeindex <<= 4;\n      let o1, o2, o3, numtris = 0, i = 0;\n      while (triTable[cubeindex + i] != -1) {\n        o1 = cubeindex + i;\n        o2 = o1 + 1;\n        o3 = o1 + 2;\n        posnormtriv(vlist, nlist, clist, 3 * triTable[o1], 3 * triTable[o2], 3 * triTable[o3]);\n        i += 3;\n        numtris++;\n      }\n      return numtris;\n    }\n    function posnormtriv(pos, norm, colors, o1, o2, o3) {\n      const c = scope.count * 3;\n      scope.positionArray[c + 0] = pos[o1];\n      scope.positionArray[c + 1] = pos[o1 + 1];\n      scope.positionArray[c + 2] = pos[o1 + 2];\n      scope.positionArray[c + 3] = pos[o2];\n      scope.positionArray[c + 4] = pos[o2 + 1];\n      scope.positionArray[c + 5] = pos[o2 + 2];\n      scope.positionArray[c + 6] = pos[o3];\n      scope.positionArray[c + 7] = pos[o3 + 1];\n      scope.positionArray[c + 8] = pos[o3 + 2];\n      if (scope.material.flatShading === true) {\n        const nx = (norm[o1 + 0] + norm[o2 + 0] + norm[o3 + 0]) / 3;\n        const ny = (norm[o1 + 1] + norm[o2 + 1] + norm[o3 + 1]) / 3;\n        const nz = (norm[o1 + 2] + norm[o2 + 2] + norm[o3 + 2]) / 3;\n        scope.normalArray[c + 0] = nx;\n        scope.normalArray[c + 1] = ny;\n        scope.normalArray[c + 2] = nz;\n        scope.normalArray[c + 3] = nx;\n        scope.normalArray[c + 4] = ny;\n        scope.normalArray[c + 5] = nz;\n        scope.normalArray[c + 6] = nx;\n        scope.normalArray[c + 7] = ny;\n        scope.normalArray[c + 8] = nz;\n      } else {\n        scope.normalArray[c + 0] = norm[o1 + 0];\n        scope.normalArray[c + 1] = norm[o1 + 1];\n        scope.normalArray[c + 2] = norm[o1 + 2];\n        scope.normalArray[c + 3] = norm[o2 + 0];\n        scope.normalArray[c + 4] = norm[o2 + 1];\n        scope.normalArray[c + 5] = norm[o2 + 2];\n        scope.normalArray[c + 6] = norm[o3 + 0];\n        scope.normalArray[c + 7] = norm[o3 + 1];\n        scope.normalArray[c + 8] = norm[o3 + 2];\n      }\n      if (scope.enableUvs) {\n        const d = scope.count * 2;\n        scope.uvArray[d + 0] = pos[o1 + 0];\n        scope.uvArray[d + 1] = pos[o1 + 2];\n        scope.uvArray[d + 2] = pos[o2 + 0];\n        scope.uvArray[d + 3] = pos[o2 + 2];\n        scope.uvArray[d + 4] = pos[o3 + 0];\n        scope.uvArray[d + 5] = pos[o3 + 2];\n      }\n      if (scope.enableColors) {\n        scope.colorArray[c + 0] = colors[o1 + 0];\n        scope.colorArray[c + 1] = colors[o1 + 1];\n        scope.colorArray[c + 2] = colors[o1 + 2];\n        scope.colorArray[c + 3] = colors[o2 + 0];\n        scope.colorArray[c + 4] = colors[o2 + 1];\n        scope.colorArray[c + 5] = colors[o2 + 2];\n        scope.colorArray[c + 6] = colors[o3 + 0];\n        scope.colorArray[c + 7] = colors[o3 + 1];\n        scope.colorArray[c + 8] = colors[o3 + 2];\n      }\n      scope.count += 3;\n    }\n    this.addBall = function(ballx, bally, ballz, strength, subtract, colors) {\n      const sign = Math.sign(strength);\n      strength = Math.abs(strength);\n      const userDefineColor = !(colors === void 0 || colors === null);\n      let ballColor = new Color(ballx, bally, ballz);\n      if (userDefineColor) {\n        try {\n          ballColor = colors instanceof Color ? colors : Array.isArray(colors) ? new Color(\n            Math.min(Math.abs(colors[0]), 1),\n            Math.min(Math.abs(colors[1]), 1),\n            Math.min(Math.abs(colors[2]), 1)\n          ) : new Color(colors);\n        } catch (err) {\n          ballColor = new Color(ballx, bally, ballz);\n        }\n      }\n      const radius = this.size * Math.sqrt(strength / subtract), zs = ballz * this.size, ys = bally * this.size, xs = ballx * this.size;\n      let min_z = Math.floor(zs - radius);\n      if (min_z < 1)\n        min_z = 1;\n      let max_z = Math.floor(zs + radius);\n      if (max_z > this.size - 1)\n        max_z = this.size - 1;\n      let min_y = Math.floor(ys - radius);\n      if (min_y < 1)\n        min_y = 1;\n      let max_y = Math.floor(ys + radius);\n      if (max_y > this.size - 1)\n        max_y = this.size - 1;\n      let min_x = Math.floor(xs - radius);\n      if (min_x < 1)\n        min_x = 1;\n      let max_x = Math.floor(xs + radius);\n      if (max_x > this.size - 1)\n        max_x = this.size - 1;\n      let x, y, z, y_offset, z_offset, fx, fy, fz, fz2, fy2, val;\n      for (z = min_z; z < max_z; z++) {\n        z_offset = this.size2 * z;\n        fz = z / this.size - ballz;\n        fz2 = fz * fz;\n        for (y = min_y; y < max_y; y++) {\n          y_offset = z_offset + this.size * y;\n          fy = y / this.size - bally;\n          fy2 = fy * fy;\n          for (x = min_x; x < max_x; x++) {\n            fx = x / this.size - ballx;\n            val = strength / (1e-6 + fx * fx + fy2 + fz2) - subtract;\n            if (val > 0) {\n              this.field[y_offset + x] += val * sign;\n              const ratio = Math.sqrt((x - xs) * (x - xs) + (y - ys) * (y - ys) + (z - zs) * (z - zs)) / radius;\n              const contrib = 1 - ratio * ratio * ratio * (ratio * (ratio * 6 - 15) + 10);\n              this.palette[(y_offset + x) * 3 + 0] += ballColor.r * contrib;\n              this.palette[(y_offset + x) * 3 + 1] += ballColor.g * contrib;\n              this.palette[(y_offset + x) * 3 + 2] += ballColor.b * contrib;\n            }\n          }\n        }\n      }\n    };\n    this.addPlaneX = function(strength, subtract) {\n      const size = this.size, yd = this.yd, zd = this.zd, field = this.field;\n      let x, y, z, xx, val, xdiv, cxy, dist = size * Math.sqrt(strength / subtract);\n      if (dist > size)\n        dist = size;\n      for (x = 0; x < dist; x++) {\n        xdiv = x / size;\n        xx = xdiv * xdiv;\n        val = strength / (1e-4 + xx) - subtract;\n        if (val > 0) {\n          for (y = 0; y < size; y++) {\n            cxy = x + y * yd;\n            for (z = 0; z < size; z++) {\n              field[zd * z + cxy] += val;\n            }\n          }\n        }\n      }\n    };\n    this.addPlaneY = function(strength, subtract) {\n      const size = this.size, yd = this.yd, zd = this.zd, field = this.field;\n      let x, y, z, yy, val, ydiv, cy, cxy, dist = size * Math.sqrt(strength / subtract);\n      if (dist > size)\n        dist = size;\n      for (y = 0; y < dist; y++) {\n        ydiv = y / size;\n        yy = ydiv * ydiv;\n        val = strength / (1e-4 + yy) - subtract;\n        if (val > 0) {\n          cy = y * yd;\n          for (x = 0; x < size; x++) {\n            cxy = cy + x;\n            for (z = 0; z < size; z++)\n              field[zd * z + cxy] += val;\n          }\n        }\n      }\n    };\n    this.addPlaneZ = function(strength, subtract) {\n      const size = this.size, yd = this.yd, zd = this.zd, field = this.field;\n      let x, y, z, zz, val, zdiv, cz, cyz, dist = size * Math.sqrt(strength / subtract);\n      if (dist > size)\n        dist = size;\n      for (z = 0; z < dist; z++) {\n        zdiv = z / size;\n        zz = zdiv * zdiv;\n        val = strength / (1e-4 + zz) - subtract;\n        if (val > 0) {\n          cz = zd * z;\n          for (y = 0; y < size; y++) {\n            cyz = cz + y * yd;\n            for (x = 0; x < size; x++)\n              field[cyz + x] += val;\n          }\n        }\n      }\n    };\n    this.setCell = function(x, y, z, value) {\n      const index = this.size2 * z + this.size * y + x;\n      this.field[index] = value;\n    };\n    this.getCell = function(x, y, z) {\n      const index = this.size2 * z + this.size * y + x;\n      return this.field[index];\n    };\n    this.blur = function(intensity = 1) {\n      const field = this.field;\n      const fieldCopy = field.slice();\n      const size = this.size;\n      const size2 = this.size2;\n      for (let x = 0; x < size; x++) {\n        for (let y = 0; y < size; y++) {\n          for (let z = 0; z < size; z++) {\n            const index = size2 * z + size * y + x;\n            let val = fieldCopy[index];\n            let count = 1;\n            for (let x2 = -1; x2 <= 1; x2 += 2) {\n              const x3 = x2 + x;\n              if (x3 < 0 || x3 >= size)\n                continue;\n              for (let y2 = -1; y2 <= 1; y2 += 2) {\n                const y3 = y2 + y;\n                if (y3 < 0 || y3 >= size)\n                  continue;\n                for (let z2 = -1; z2 <= 1; z2 += 2) {\n                  const z3 = z2 + z;\n                  if (z3 < 0 || z3 >= size)\n                    continue;\n                  const index2 = size2 * z3 + size * y3 + x3;\n                  const val2 = fieldCopy[index2];\n                  count++;\n                  val += intensity * (val2 - val) / count;\n                }\n              }\n            }\n            field[index] = val;\n          }\n        }\n      }\n    };\n    this.reset = function() {\n      for (let i = 0; i < this.size3; i++) {\n        this.normal_cache[i * 3] = 0;\n        this.field[i] = 0;\n        this.palette[i * 3] = this.palette[i * 3 + 1] = this.palette[i * 3 + 2] = 0;\n      }\n    };\n    this.update = function() {\n      this.count = 0;\n      const smin2 = this.size - 2;\n      for (let z = 1; z < smin2; z++) {\n        const z_offset = this.size2 * z;\n        const fz = (z - this.halfsize) / this.halfsize;\n        for (let y = 1; y < smin2; y++) {\n          const y_offset = z_offset + this.size * y;\n          const fy = (y - this.halfsize) / this.halfsize;\n          for (let x = 1; x < smin2; x++) {\n            const fx = (x - this.halfsize) / this.halfsize;\n            const q = y_offset + x;\n            polygonize(fx, fy, fz, q, this.isolation);\n          }\n        }\n      }\n      this.geometry.setDrawRange(0, this.count);\n      geometry.getAttribute(\"position\").needsUpdate = true;\n      geometry.getAttribute(\"normal\").needsUpdate = true;\n      if (this.enableUvs)\n        geometry.getAttribute(\"uv\").needsUpdate = true;\n      if (this.enableColors)\n        geometry.getAttribute(\"color\").needsUpdate = true;\n      if (this.count / 3 > maxPolyCount)\n        console.warn(\n          \"THREE.MarchingCubes: Geometry buffers too small for rendering. Please create an instance with a higher poly count.\"\n        );\n    };\n    this.init(resolution);\n  }\n}\nconst edgeTable = new Int32Array([\n  0,\n  265,\n  515,\n  778,\n  1030,\n  1295,\n  1541,\n  1804,\n  2060,\n  2309,\n  2575,\n  2822,\n  3082,\n  3331,\n  3593,\n  3840,\n  400,\n  153,\n  915,\n  666,\n  1430,\n  1183,\n  1941,\n  1692,\n  2460,\n  2197,\n  2975,\n  2710,\n  3482,\n  3219,\n  3993,\n  3728,\n  560,\n  825,\n  51,\n  314,\n  1590,\n  1855,\n  1077,\n  1340,\n  2620,\n  2869,\n  2111,\n  2358,\n  3642,\n  3891,\n  3129,\n  3376,\n  928,\n  681,\n  419,\n  170,\n  1958,\n  1711,\n  1445,\n  1196,\n  2988,\n  2725,\n  2479,\n  2214,\n  4010,\n  3747,\n  3497,\n  3232,\n  1120,\n  1385,\n  1635,\n  1898,\n  102,\n  367,\n  613,\n  876,\n  3180,\n  3429,\n  3695,\n  3942,\n  2154,\n  2403,\n  2665,\n  2912,\n  1520,\n  1273,\n  2035,\n  1786,\n  502,\n  255,\n  1013,\n  764,\n  3580,\n  3317,\n  4095,\n  3830,\n  2554,\n  2291,\n  3065,\n  2800,\n  1616,\n  1881,\n  1107,\n  1370,\n  598,\n  863,\n  85,\n  348,\n  3676,\n  3925,\n  3167,\n  3414,\n  2650,\n  2899,\n  2137,\n  2384,\n  1984,\n  1737,\n  1475,\n  1226,\n  966,\n  719,\n  453,\n  204,\n  4044,\n  3781,\n  3535,\n  3270,\n  3018,\n  2755,\n  2505,\n  2240,\n  2240,\n  2505,\n  2755,\n  3018,\n  3270,\n  3535,\n  3781,\n  4044,\n  204,\n  453,\n  719,\n  966,\n  1226,\n  1475,\n  1737,\n  1984,\n  2384,\n  2137,\n  2899,\n  2650,\n  3414,\n  3167,\n  3925,\n  3676,\n  348,\n  85,\n  863,\n  598,\n  1370,\n  1107,\n  1881,\n  1616,\n  2800,\n  3065,\n  2291,\n  2554,\n  3830,\n  4095,\n  3317,\n  3580,\n  764,\n  1013,\n  255,\n  502,\n  1786,\n  2035,\n  1273,\n  1520,\n  2912,\n  2665,\n  2403,\n  2154,\n  3942,\n  3695,\n  3429,\n  3180,\n  876,\n  613,\n  367,\n  102,\n  1898,\n  1635,\n  1385,\n  1120,\n  3232,\n  3497,\n  3747,\n  4010,\n  2214,\n  2479,\n  2725,\n  2988,\n  1196,\n  1445,\n  1711,\n  1958,\n  170,\n  419,\n  681,\n  928,\n  3376,\n  3129,\n  3891,\n  3642,\n  2358,\n  2111,\n  2869,\n  2620,\n  1340,\n  1077,\n  1855,\n  1590,\n  314,\n  51,\n  825,\n  560,\n  3728,\n  3993,\n  3219,\n  3482,\n  2710,\n  2975,\n  2197,\n  2460,\n  1692,\n  1941,\n  1183,\n  1430,\n  666,\n  915,\n  153,\n  400,\n  3840,\n  3593,\n  3331,\n  3082,\n  2822,\n  2575,\n  2309,\n  2060,\n  1804,\n  1541,\n  1295,\n  1030,\n  778,\n  515,\n  265,\n  0\n]);\nconst triTable = new Int32Array([\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  8,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  1,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  8,\n  3,\n  9,\n  8,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  2,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  8,\n  3,\n  1,\n  2,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  2,\n  10,\n  0,\n  2,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  8,\n  3,\n  2,\n  10,\n  8,\n  10,\n  9,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  11,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  11,\n  2,\n  8,\n  11,\n  0,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  9,\n  0,\n  2,\n  3,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  11,\n  2,\n  1,\n  9,\n  11,\n  9,\n  8,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  10,\n  1,\n  11,\n  10,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  10,\n  1,\n  0,\n  8,\n  10,\n  8,\n  11,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  9,\n  0,\n  3,\n  11,\n  9,\n  11,\n  10,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  8,\n  10,\n  10,\n  8,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  7,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  3,\n  0,\n  7,\n  3,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  1,\n  9,\n  8,\n  4,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  1,\n  9,\n  4,\n  7,\n  1,\n  7,\n  3,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  2,\n  10,\n  8,\n  4,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  4,\n  7,\n  3,\n  0,\n  4,\n  1,\n  2,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  2,\n  10,\n  9,\n  0,\n  2,\n  8,\n  4,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  10,\n  9,\n  2,\n  9,\n  7,\n  2,\n  7,\n  3,\n  7,\n  9,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  4,\n  7,\n  3,\n  11,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  11,\n  4,\n  7,\n  11,\n  2,\n  4,\n  2,\n  0,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  0,\n  1,\n  8,\n  4,\n  7,\n  2,\n  3,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  7,\n  11,\n  9,\n  4,\n  11,\n  9,\n  11,\n  2,\n  9,\n  2,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  10,\n  1,\n  3,\n  11,\n  10,\n  7,\n  8,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  11,\n  10,\n  1,\n  4,\n  11,\n  1,\n  0,\n  4,\n  7,\n  11,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  7,\n  8,\n  9,\n  0,\n  11,\n  9,\n  11,\n  10,\n  11,\n  0,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  7,\n  11,\n  4,\n  11,\n  9,\n  9,\n  11,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  5,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  5,\n  4,\n  0,\n  8,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  5,\n  4,\n  1,\n  5,\n  0,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  5,\n  4,\n  8,\n  3,\n  5,\n  3,\n  1,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  2,\n  10,\n  9,\n  5,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  0,\n  8,\n  1,\n  2,\n  10,\n  4,\n  9,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  2,\n  10,\n  5,\n  4,\n  2,\n  4,\n  0,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  10,\n  5,\n  3,\n  2,\n  5,\n  3,\n  5,\n  4,\n  3,\n  4,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  5,\n  4,\n  2,\n  3,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  11,\n  2,\n  0,\n  8,\n  11,\n  4,\n  9,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  5,\n  4,\n  0,\n  1,\n  5,\n  2,\n  3,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  1,\n  5,\n  2,\n  5,\n  8,\n  2,\n  8,\n  11,\n  4,\n  8,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  3,\n  11,\n  10,\n  1,\n  3,\n  9,\n  5,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  9,\n  5,\n  0,\n  8,\n  1,\n  8,\n  10,\n  1,\n  8,\n  11,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  4,\n  0,\n  5,\n  0,\n  11,\n  5,\n  11,\n  10,\n  11,\n  0,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  4,\n  8,\n  5,\n  8,\n  10,\n  10,\n  8,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  7,\n  8,\n  5,\n  7,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  3,\n  0,\n  9,\n  5,\n  3,\n  5,\n  7,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  7,\n  8,\n  0,\n  1,\n  7,\n  1,\n  5,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  5,\n  3,\n  3,\n  5,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  7,\n  8,\n  9,\n  5,\n  7,\n  10,\n  1,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  1,\n  2,\n  9,\n  5,\n  0,\n  5,\n  3,\n  0,\n  5,\n  7,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  0,\n  2,\n  8,\n  2,\n  5,\n  8,\n  5,\n  7,\n  10,\n  5,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  10,\n  5,\n  2,\n  5,\n  3,\n  3,\n  5,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  7,\n  9,\n  5,\n  7,\n  8,\n  9,\n  3,\n  11,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  5,\n  7,\n  9,\n  7,\n  2,\n  9,\n  2,\n  0,\n  2,\n  7,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  3,\n  11,\n  0,\n  1,\n  8,\n  1,\n  7,\n  8,\n  1,\n  5,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  11,\n  2,\n  1,\n  11,\n  1,\n  7,\n  7,\n  1,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  5,\n  8,\n  8,\n  5,\n  7,\n  10,\n  1,\n  3,\n  10,\n  3,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  7,\n  0,\n  5,\n  0,\n  9,\n  7,\n  11,\n  0,\n  1,\n  0,\n  10,\n  11,\n  10,\n  0,\n  -1,\n  11,\n  10,\n  0,\n  11,\n  0,\n  3,\n  10,\n  5,\n  0,\n  8,\n  0,\n  7,\n  5,\n  7,\n  0,\n  -1,\n  11,\n  10,\n  5,\n  7,\n  11,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  6,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  8,\n  3,\n  5,\n  10,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  0,\n  1,\n  5,\n  10,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  8,\n  3,\n  1,\n  9,\n  8,\n  5,\n  10,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  6,\n  5,\n  2,\n  6,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  6,\n  5,\n  1,\n  2,\n  6,\n  3,\n  0,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  6,\n  5,\n  9,\n  0,\n  6,\n  0,\n  2,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  9,\n  8,\n  5,\n  8,\n  2,\n  5,\n  2,\n  6,\n  3,\n  2,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  3,\n  11,\n  10,\n  6,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  11,\n  0,\n  8,\n  11,\n  2,\n  0,\n  10,\n  6,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  1,\n  9,\n  2,\n  3,\n  11,\n  5,\n  10,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  10,\n  6,\n  1,\n  9,\n  2,\n  9,\n  11,\n  2,\n  9,\n  8,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  6,\n  3,\n  11,\n  6,\n  5,\n  3,\n  5,\n  1,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  8,\n  11,\n  0,\n  11,\n  5,\n  0,\n  5,\n  1,\n  5,\n  11,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  11,\n  6,\n  0,\n  3,\n  6,\n  0,\n  6,\n  5,\n  0,\n  5,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  6,\n  5,\n  9,\n  6,\n  9,\n  11,\n  11,\n  9,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  10,\n  6,\n  4,\n  7,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  3,\n  0,\n  4,\n  7,\n  3,\n  6,\n  5,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  9,\n  0,\n  5,\n  10,\n  6,\n  8,\n  4,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  6,\n  5,\n  1,\n  9,\n  7,\n  1,\n  7,\n  3,\n  7,\n  9,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  6,\n  1,\n  2,\n  6,\n  5,\n  1,\n  4,\n  7,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  2,\n  5,\n  5,\n  2,\n  6,\n  3,\n  0,\n  4,\n  3,\n  4,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  4,\n  7,\n  9,\n  0,\n  5,\n  0,\n  6,\n  5,\n  0,\n  2,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  7,\n  3,\n  9,\n  7,\n  9,\n  4,\n  3,\n  2,\n  9,\n  5,\n  9,\n  6,\n  2,\n  6,\n  9,\n  -1,\n  3,\n  11,\n  2,\n  7,\n  8,\n  4,\n  10,\n  6,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  10,\n  6,\n  4,\n  7,\n  2,\n  4,\n  2,\n  0,\n  2,\n  7,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  1,\n  9,\n  4,\n  7,\n  8,\n  2,\n  3,\n  11,\n  5,\n  10,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  2,\n  1,\n  9,\n  11,\n  2,\n  9,\n  4,\n  11,\n  7,\n  11,\n  4,\n  5,\n  10,\n  6,\n  -1,\n  8,\n  4,\n  7,\n  3,\n  11,\n  5,\n  3,\n  5,\n  1,\n  5,\n  11,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  1,\n  11,\n  5,\n  11,\n  6,\n  1,\n  0,\n  11,\n  7,\n  11,\n  4,\n  0,\n  4,\n  11,\n  -1,\n  0,\n  5,\n  9,\n  0,\n  6,\n  5,\n  0,\n  3,\n  6,\n  11,\n  6,\n  3,\n  8,\n  4,\n  7,\n  -1,\n  6,\n  5,\n  9,\n  6,\n  9,\n  11,\n  4,\n  7,\n  9,\n  7,\n  11,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  4,\n  9,\n  6,\n  4,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  10,\n  6,\n  4,\n  9,\n  10,\n  0,\n  8,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  0,\n  1,\n  10,\n  6,\n  0,\n  6,\n  4,\n  0,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  3,\n  1,\n  8,\n  1,\n  6,\n  8,\n  6,\n  4,\n  6,\n  1,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  4,\n  9,\n  1,\n  2,\n  4,\n  2,\n  6,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  0,\n  8,\n  1,\n  2,\n  9,\n  2,\n  4,\n  9,\n  2,\n  6,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  2,\n  4,\n  4,\n  2,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  3,\n  2,\n  8,\n  2,\n  4,\n  4,\n  2,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  4,\n  9,\n  10,\n  6,\n  4,\n  11,\n  2,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  8,\n  2,\n  2,\n  8,\n  11,\n  4,\n  9,\n  10,\n  4,\n  10,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  11,\n  2,\n  0,\n  1,\n  6,\n  0,\n  6,\n  4,\n  6,\n  1,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  6,\n  4,\n  1,\n  6,\n  1,\n  10,\n  4,\n  8,\n  1,\n  2,\n  1,\n  11,\n  8,\n  11,\n  1,\n  -1,\n  9,\n  6,\n  4,\n  9,\n  3,\n  6,\n  9,\n  1,\n  3,\n  11,\n  6,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  11,\n  1,\n  8,\n  1,\n  0,\n  11,\n  6,\n  1,\n  9,\n  1,\n  4,\n  6,\n  4,\n  1,\n  -1,\n  3,\n  11,\n  6,\n  3,\n  6,\n  0,\n  0,\n  6,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  6,\n  4,\n  8,\n  11,\n  6,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  7,\n  10,\n  6,\n  7,\n  8,\n  10,\n  8,\n  9,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  7,\n  3,\n  0,\n  10,\n  7,\n  0,\n  9,\n  10,\n  6,\n  7,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  6,\n  7,\n  1,\n  10,\n  7,\n  1,\n  7,\n  8,\n  1,\n  8,\n  0,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  6,\n  7,\n  10,\n  7,\n  1,\n  1,\n  7,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  2,\n  6,\n  1,\n  6,\n  8,\n  1,\n  8,\n  9,\n  8,\n  6,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  6,\n  9,\n  2,\n  9,\n  1,\n  6,\n  7,\n  9,\n  0,\n  9,\n  3,\n  7,\n  3,\n  9,\n  -1,\n  7,\n  8,\n  0,\n  7,\n  0,\n  6,\n  6,\n  0,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  7,\n  3,\n  2,\n  6,\n  7,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  3,\n  11,\n  10,\n  6,\n  8,\n  10,\n  8,\n  9,\n  8,\n  6,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  0,\n  7,\n  2,\n  7,\n  11,\n  0,\n  9,\n  7,\n  6,\n  7,\n  10,\n  9,\n  10,\n  7,\n  -1,\n  1,\n  8,\n  0,\n  1,\n  7,\n  8,\n  1,\n  10,\n  7,\n  6,\n  7,\n  10,\n  2,\n  3,\n  11,\n  -1,\n  11,\n  2,\n  1,\n  11,\n  1,\n  7,\n  10,\n  6,\n  1,\n  6,\n  7,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  9,\n  6,\n  8,\n  6,\n  7,\n  9,\n  1,\n  6,\n  11,\n  6,\n  3,\n  1,\n  3,\n  6,\n  -1,\n  0,\n  9,\n  1,\n  11,\n  6,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  7,\n  8,\n  0,\n  7,\n  0,\n  6,\n  3,\n  11,\n  0,\n  11,\n  6,\n  0,\n  -1,\n  -1,\n  -1,\n  -1,\n  7,\n  11,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  7,\n  6,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  0,\n  8,\n  11,\n  7,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  1,\n  9,\n  11,\n  7,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  1,\n  9,\n  8,\n  3,\n  1,\n  11,\n  7,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  1,\n  2,\n  6,\n  11,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  2,\n  10,\n  3,\n  0,\n  8,\n  6,\n  11,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  9,\n  0,\n  2,\n  10,\n  9,\n  6,\n  11,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  6,\n  11,\n  7,\n  2,\n  10,\n  3,\n  10,\n  8,\n  3,\n  10,\n  9,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  7,\n  2,\n  3,\n  6,\n  2,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  7,\n  0,\n  8,\n  7,\n  6,\n  0,\n  6,\n  2,\n  0,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  7,\n  6,\n  2,\n  3,\n  7,\n  0,\n  1,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  6,\n  2,\n  1,\n  8,\n  6,\n  1,\n  9,\n  8,\n  8,\n  7,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  7,\n  6,\n  10,\n  1,\n  7,\n  1,\n  3,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  7,\n  6,\n  1,\n  7,\n  10,\n  1,\n  8,\n  7,\n  1,\n  0,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  3,\n  7,\n  0,\n  7,\n  10,\n  0,\n  10,\n  9,\n  6,\n  10,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  7,\n  6,\n  10,\n  7,\n  10,\n  8,\n  8,\n  10,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  6,\n  8,\n  4,\n  11,\n  8,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  6,\n  11,\n  3,\n  0,\n  6,\n  0,\n  4,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  6,\n  11,\n  8,\n  4,\n  6,\n  9,\n  0,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  4,\n  6,\n  9,\n  6,\n  3,\n  9,\n  3,\n  1,\n  11,\n  3,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  6,\n  8,\n  4,\n  6,\n  11,\n  8,\n  2,\n  10,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  2,\n  10,\n  3,\n  0,\n  11,\n  0,\n  6,\n  11,\n  0,\n  4,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  11,\n  8,\n  4,\n  6,\n  11,\n  0,\n  2,\n  9,\n  2,\n  10,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  9,\n  3,\n  10,\n  3,\n  2,\n  9,\n  4,\n  3,\n  11,\n  3,\n  6,\n  4,\n  6,\n  3,\n  -1,\n  8,\n  2,\n  3,\n  8,\n  4,\n  2,\n  4,\n  6,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  4,\n  2,\n  4,\n  6,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  9,\n  0,\n  2,\n  3,\n  4,\n  2,\n  4,\n  6,\n  4,\n  3,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  9,\n  4,\n  1,\n  4,\n  2,\n  2,\n  4,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  1,\n  3,\n  8,\n  6,\n  1,\n  8,\n  4,\n  6,\n  6,\n  10,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  1,\n  0,\n  10,\n  0,\n  6,\n  6,\n  0,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  6,\n  3,\n  4,\n  3,\n  8,\n  6,\n  10,\n  3,\n  0,\n  3,\n  9,\n  10,\n  9,\n  3,\n  -1,\n  10,\n  9,\n  4,\n  6,\n  10,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  9,\n  5,\n  7,\n  6,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  8,\n  3,\n  4,\n  9,\n  5,\n  11,\n  7,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  0,\n  1,\n  5,\n  4,\n  0,\n  7,\n  6,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  11,\n  7,\n  6,\n  8,\n  3,\n  4,\n  3,\n  5,\n  4,\n  3,\n  1,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  5,\n  4,\n  10,\n  1,\n  2,\n  7,\n  6,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  6,\n  11,\n  7,\n  1,\n  2,\n  10,\n  0,\n  8,\n  3,\n  4,\n  9,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  7,\n  6,\n  11,\n  5,\n  4,\n  10,\n  4,\n  2,\n  10,\n  4,\n  0,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  4,\n  8,\n  3,\n  5,\n  4,\n  3,\n  2,\n  5,\n  10,\n  5,\n  2,\n  11,\n  7,\n  6,\n  -1,\n  7,\n  2,\n  3,\n  7,\n  6,\n  2,\n  5,\n  4,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  5,\n  4,\n  0,\n  8,\n  6,\n  0,\n  6,\n  2,\n  6,\n  8,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  6,\n  2,\n  3,\n  7,\n  6,\n  1,\n  5,\n  0,\n  5,\n  4,\n  0,\n  -1,\n  -1,\n  -1,\n  -1,\n  6,\n  2,\n  8,\n  6,\n  8,\n  7,\n  2,\n  1,\n  8,\n  4,\n  8,\n  5,\n  1,\n  5,\n  8,\n  -1,\n  9,\n  5,\n  4,\n  10,\n  1,\n  6,\n  1,\n  7,\n  6,\n  1,\n  3,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  6,\n  10,\n  1,\n  7,\n  6,\n  1,\n  0,\n  7,\n  8,\n  7,\n  0,\n  9,\n  5,\n  4,\n  -1,\n  4,\n  0,\n  10,\n  4,\n  10,\n  5,\n  0,\n  3,\n  10,\n  6,\n  10,\n  7,\n  3,\n  7,\n  10,\n  -1,\n  7,\n  6,\n  10,\n  7,\n  10,\n  8,\n  5,\n  4,\n  10,\n  4,\n  8,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  6,\n  9,\n  5,\n  6,\n  11,\n  9,\n  11,\n  8,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  6,\n  11,\n  0,\n  6,\n  3,\n  0,\n  5,\n  6,\n  0,\n  9,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  11,\n  8,\n  0,\n  5,\n  11,\n  0,\n  1,\n  5,\n  5,\n  6,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  6,\n  11,\n  3,\n  6,\n  3,\n  5,\n  5,\n  3,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  2,\n  10,\n  9,\n  5,\n  11,\n  9,\n  11,\n  8,\n  11,\n  5,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  11,\n  3,\n  0,\n  6,\n  11,\n  0,\n  9,\n  6,\n  5,\n  6,\n  9,\n  1,\n  2,\n  10,\n  -1,\n  11,\n  8,\n  5,\n  11,\n  5,\n  6,\n  8,\n  0,\n  5,\n  10,\n  5,\n  2,\n  0,\n  2,\n  5,\n  -1,\n  6,\n  11,\n  3,\n  6,\n  3,\n  5,\n  2,\n  10,\n  3,\n  10,\n  5,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  8,\n  9,\n  5,\n  2,\n  8,\n  5,\n  6,\n  2,\n  3,\n  8,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  5,\n  6,\n  9,\n  6,\n  0,\n  0,\n  6,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  5,\n  8,\n  1,\n  8,\n  0,\n  5,\n  6,\n  8,\n  3,\n  8,\n  2,\n  6,\n  2,\n  8,\n  -1,\n  1,\n  5,\n  6,\n  2,\n  1,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  3,\n  6,\n  1,\n  6,\n  10,\n  3,\n  8,\n  6,\n  5,\n  6,\n  9,\n  8,\n  9,\n  6,\n  -1,\n  10,\n  1,\n  0,\n  10,\n  0,\n  6,\n  9,\n  5,\n  0,\n  5,\n  6,\n  0,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  3,\n  8,\n  5,\n  6,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  5,\n  6,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  11,\n  5,\n  10,\n  7,\n  5,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  11,\n  5,\n  10,\n  11,\n  7,\n  5,\n  8,\n  3,\n  0,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  11,\n  7,\n  5,\n  10,\n  11,\n  1,\n  9,\n  0,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  7,\n  5,\n  10,\n  11,\n  7,\n  9,\n  8,\n  1,\n  8,\n  3,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  11,\n  1,\n  2,\n  11,\n  7,\n  1,\n  7,\n  5,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  8,\n  3,\n  1,\n  2,\n  7,\n  1,\n  7,\n  5,\n  7,\n  2,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  7,\n  5,\n  9,\n  2,\n  7,\n  9,\n  0,\n  2,\n  2,\n  11,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  7,\n  5,\n  2,\n  7,\n  2,\n  11,\n  5,\n  9,\n  2,\n  3,\n  2,\n  8,\n  9,\n  8,\n  2,\n  -1,\n  2,\n  5,\n  10,\n  2,\n  3,\n  5,\n  3,\n  7,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  2,\n  0,\n  8,\n  5,\n  2,\n  8,\n  7,\n  5,\n  10,\n  2,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  0,\n  1,\n  5,\n  10,\n  3,\n  5,\n  3,\n  7,\n  3,\n  10,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  8,\n  2,\n  9,\n  2,\n  1,\n  8,\n  7,\n  2,\n  10,\n  2,\n  5,\n  7,\n  5,\n  2,\n  -1,\n  1,\n  3,\n  5,\n  3,\n  7,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  8,\n  7,\n  0,\n  7,\n  1,\n  1,\n  7,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  0,\n  3,\n  9,\n  3,\n  5,\n  5,\n  3,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  8,\n  7,\n  5,\n  9,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  8,\n  4,\n  5,\n  10,\n  8,\n  10,\n  11,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  0,\n  4,\n  5,\n  11,\n  0,\n  5,\n  10,\n  11,\n  11,\n  3,\n  0,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  1,\n  9,\n  8,\n  4,\n  10,\n  8,\n  10,\n  11,\n  10,\n  4,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  10,\n  11,\n  4,\n  10,\n  4,\n  5,\n  11,\n  3,\n  4,\n  9,\n  4,\n  1,\n  3,\n  1,\n  4,\n  -1,\n  2,\n  5,\n  1,\n  2,\n  8,\n  5,\n  2,\n  11,\n  8,\n  4,\n  5,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  4,\n  11,\n  0,\n  11,\n  3,\n  4,\n  5,\n  11,\n  2,\n  11,\n  1,\n  5,\n  1,\n  11,\n  -1,\n  0,\n  2,\n  5,\n  0,\n  5,\n  9,\n  2,\n  11,\n  5,\n  4,\n  5,\n  8,\n  11,\n  8,\n  5,\n  -1,\n  9,\n  4,\n  5,\n  2,\n  11,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  5,\n  10,\n  3,\n  5,\n  2,\n  3,\n  4,\n  5,\n  3,\n  8,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  5,\n  10,\n  2,\n  5,\n  2,\n  4,\n  4,\n  2,\n  0,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  10,\n  2,\n  3,\n  5,\n  10,\n  3,\n  8,\n  5,\n  4,\n  5,\n  8,\n  0,\n  1,\n  9,\n  -1,\n  5,\n  10,\n  2,\n  5,\n  2,\n  4,\n  1,\n  9,\n  2,\n  9,\n  4,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  4,\n  5,\n  8,\n  5,\n  3,\n  3,\n  5,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  4,\n  5,\n  1,\n  0,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  8,\n  4,\n  5,\n  8,\n  5,\n  3,\n  9,\n  0,\n  5,\n  0,\n  3,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  4,\n  5,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  11,\n  7,\n  4,\n  9,\n  11,\n  9,\n  10,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  8,\n  3,\n  4,\n  9,\n  7,\n  9,\n  11,\n  7,\n  9,\n  10,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  10,\n  11,\n  1,\n  11,\n  4,\n  1,\n  4,\n  0,\n  7,\n  4,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  1,\n  4,\n  3,\n  4,\n  8,\n  1,\n  10,\n  4,\n  7,\n  4,\n  11,\n  10,\n  11,\n  4,\n  -1,\n  4,\n  11,\n  7,\n  9,\n  11,\n  4,\n  9,\n  2,\n  11,\n  9,\n  1,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  7,\n  4,\n  9,\n  11,\n  7,\n  9,\n  1,\n  11,\n  2,\n  11,\n  1,\n  0,\n  8,\n  3,\n  -1,\n  11,\n  7,\n  4,\n  11,\n  4,\n  2,\n  2,\n  4,\n  0,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  11,\n  7,\n  4,\n  11,\n  4,\n  2,\n  8,\n  3,\n  4,\n  3,\n  2,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  9,\n  10,\n  2,\n  7,\n  9,\n  2,\n  3,\n  7,\n  7,\n  4,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  10,\n  7,\n  9,\n  7,\n  4,\n  10,\n  2,\n  7,\n  8,\n  7,\n  0,\n  2,\n  0,\n  7,\n  -1,\n  3,\n  7,\n  10,\n  3,\n  10,\n  2,\n  7,\n  4,\n  10,\n  1,\n  10,\n  0,\n  4,\n  0,\n  10,\n  -1,\n  1,\n  10,\n  2,\n  8,\n  7,\n  4,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  9,\n  1,\n  4,\n  1,\n  7,\n  7,\n  1,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  9,\n  1,\n  4,\n  1,\n  7,\n  0,\n  8,\n  1,\n  8,\n  7,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  0,\n  3,\n  7,\n  4,\n  3,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  4,\n  8,\n  7,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  10,\n  8,\n  10,\n  11,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  0,\n  9,\n  3,\n  9,\n  11,\n  11,\n  9,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  1,\n  10,\n  0,\n  10,\n  8,\n  8,\n  10,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  1,\n  10,\n  11,\n  3,\n  10,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  2,\n  11,\n  1,\n  11,\n  9,\n  9,\n  11,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  0,\n  9,\n  3,\n  9,\n  11,\n  1,\n  2,\n  9,\n  2,\n  11,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  2,\n  11,\n  8,\n  0,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  3,\n  2,\n  11,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  3,\n  8,\n  2,\n  8,\n  10,\n  10,\n  8,\n  9,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  9,\n  10,\n  2,\n  0,\n  9,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  2,\n  3,\n  8,\n  2,\n  8,\n  10,\n  0,\n  1,\n  8,\n  1,\n  10,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  10,\n  2,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  1,\n  3,\n  8,\n  9,\n  1,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  9,\n  1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  0,\n  3,\n  8,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1,\n  -1\n]);\nexport {\n  MarchingCubes,\n  edgeTable,\n  triTable\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass SimplexNoise {\n  /**\n   * You can pass in a random number generator object if you like.\n   * It is assumed to have a random() method.\n   */\n  constructor(r = Math) {\n    __publicField(this, \"grad3\", [\n      [1, 1, 0],\n      [-1, 1, 0],\n      [1, -1, 0],\n      [-1, -1, 0],\n      [1, 0, 1],\n      [-1, 0, 1],\n      [1, 0, -1],\n      [-1, 0, -1],\n      [0, 1, 1],\n      [0, -1, 1],\n      [0, 1, -1],\n      [0, -1, -1]\n    ]);\n    __publicField(this, \"grad4\", [\n      [0, 1, 1, 1],\n      [0, 1, 1, -1],\n      [0, 1, -1, 1],\n      [0, 1, -1, -1],\n      [0, -1, 1, 1],\n      [0, -1, 1, -1],\n      [0, -1, -1, 1],\n      [0, -1, -1, -1],\n      [1, 0, 1, 1],\n      [1, 0, 1, -1],\n      [1, 0, -1, 1],\n      [1, 0, -1, -1],\n      [-1, 0, 1, 1],\n      [-1, 0, 1, -1],\n      [-1, 0, -1, 1],\n      [-1, 0, -1, -1],\n      [1, 1, 0, 1],\n      [1, 1, 0, -1],\n      [1, -1, 0, 1],\n      [1, -1, 0, -1],\n      [-1, 1, 0, 1],\n      [-1, 1, 0, -1],\n      [-1, -1, 0, 1],\n      [-1, -1, 0, -1],\n      [1, 1, 1, 0],\n      [1, 1, -1, 0],\n      [1, -1, 1, 0],\n      [1, -1, -1, 0],\n      [-1, 1, 1, 0],\n      [-1, 1, -1, 0],\n      [-1, -1, 1, 0],\n      [-1, -1, -1, 0]\n    ]);\n    __publicField(this, \"p\", []);\n    // To remove the need for index wrapping, double the permutation table length\n    __publicField(this, \"perm\", []);\n    // A lookup table to traverse the simplex around a given point in 4D.\n    // Details can be found where this table is used, in the 4D noise method.\n    __publicField(this, \"simplex\", [\n      [0, 1, 2, 3],\n      [0, 1, 3, 2],\n      [0, 0, 0, 0],\n      [0, 2, 3, 1],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [1, 2, 3, 0],\n      [0, 2, 1, 3],\n      [0, 0, 0, 0],\n      [0, 3, 1, 2],\n      [0, 3, 2, 1],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [1, 3, 2, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [1, 2, 0, 3],\n      [0, 0, 0, 0],\n      [1, 3, 0, 2],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [2, 3, 0, 1],\n      [2, 3, 1, 0],\n      [1, 0, 2, 3],\n      [1, 0, 3, 2],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [2, 0, 3, 1],\n      [0, 0, 0, 0],\n      [2, 1, 3, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [2, 0, 1, 3],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [3, 0, 1, 2],\n      [3, 0, 2, 1],\n      [0, 0, 0, 0],\n      [3, 1, 2, 0],\n      [2, 1, 0, 3],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [3, 1, 0, 2],\n      [0, 0, 0, 0],\n      [3, 2, 0, 1],\n      [3, 2, 1, 0]\n    ]);\n    __publicField(this, \"dot\", (g, x, y) => {\n      return g[0] * x + g[1] * y;\n    });\n    __publicField(this, \"dot3\", (g, x, y, z) => {\n      return g[0] * x + g[1] * y + g[2] * z;\n    });\n    __publicField(this, \"dot4\", (g, x, y, z, w) => {\n      return g[0] * x + g[1] * y + g[2] * z + g[3] * w;\n    });\n    __publicField(this, \"noise\", (xin, yin) => {\n      let n0;\n      let n1;\n      let n2;\n      const F2 = 0.5 * (Math.sqrt(3) - 1);\n      const s = (xin + yin) * F2;\n      const i = Math.floor(xin + s);\n      const j = Math.floor(yin + s);\n      const G2 = (3 - Math.sqrt(3)) / 6;\n      const t = (i + j) * G2;\n      const X0 = i - t;\n      const Y0 = j - t;\n      const x0 = xin - X0;\n      const y0 = yin - Y0;\n      let i1 = 0;\n      let j1 = 1;\n      if (x0 > y0) {\n        i1 = 1;\n        j1 = 0;\n      }\n      const x1 = x0 - i1 + G2;\n      const y1 = y0 - j1 + G2;\n      const x2 = x0 - 1 + 2 * G2;\n      const y2 = y0 - 1 + 2 * G2;\n      const ii = i & 255;\n      const jj = j & 255;\n      const gi0 = this.perm[ii + this.perm[jj]] % 12;\n      const gi1 = this.perm[ii + i1 + this.perm[jj + j1]] % 12;\n      const gi2 = this.perm[ii + 1 + this.perm[jj + 1]] % 12;\n      let t0 = 0.5 - x0 * x0 - y0 * y0;\n      if (t0 < 0) {\n        n0 = 0;\n      } else {\n        t0 *= t0;\n        n0 = t0 * t0 * this.dot(this.grad3[gi0], x0, y0);\n      }\n      let t1 = 0.5 - x1 * x1 - y1 * y1;\n      if (t1 < 0) {\n        n1 = 0;\n      } else {\n        t1 *= t1;\n        n1 = t1 * t1 * this.dot(this.grad3[gi1], x1, y1);\n      }\n      let t2 = 0.5 - x2 * x2 - y2 * y2;\n      if (t2 < 0) {\n        n2 = 0;\n      } else {\n        t2 *= t2;\n        n2 = t2 * t2 * this.dot(this.grad3[gi2], x2, y2);\n      }\n      return 70 * (n0 + n1 + n2);\n    });\n    // 3D simplex noise\n    __publicField(this, \"noise3d\", (xin, yin, zin) => {\n      let n0;\n      let n1;\n      let n2;\n      let n3;\n      const F3 = 1 / 3;\n      const s = (xin + yin + zin) * F3;\n      const i = Math.floor(xin + s);\n      const j = Math.floor(yin + s);\n      const k = Math.floor(zin + s);\n      const G3 = 1 / 6;\n      const t = (i + j + k) * G3;\n      const X0 = i - t;\n      const Y0 = j - t;\n      const Z0 = k - t;\n      const x0 = xin - X0;\n      const y0 = yin - Y0;\n      const z0 = zin - Z0;\n      let i1;\n      let j1;\n      let k1;\n      let i2;\n      let j2;\n      let k2;\n      if (x0 >= y0) {\n        if (y0 >= z0) {\n          i1 = 1;\n          j1 = 0;\n          k1 = 0;\n          i2 = 1;\n          j2 = 1;\n          k2 = 0;\n        } else if (x0 >= z0) {\n          i1 = 1;\n          j1 = 0;\n          k1 = 0;\n          i2 = 1;\n          j2 = 0;\n          k2 = 1;\n        } else {\n          i1 = 0;\n          j1 = 0;\n          k1 = 1;\n          i2 = 1;\n          j2 = 0;\n          k2 = 1;\n        }\n      } else {\n        if (y0 < z0) {\n          i1 = 0;\n          j1 = 0;\n          k1 = 1;\n          i2 = 0;\n          j2 = 1;\n          k2 = 1;\n        } else if (x0 < z0) {\n          i1 = 0;\n          j1 = 1;\n          k1 = 0;\n          i2 = 0;\n          j2 = 1;\n          k2 = 1;\n        } else {\n          i1 = 0;\n          j1 = 1;\n          k1 = 0;\n          i2 = 1;\n          j2 = 1;\n          k2 = 0;\n        }\n      }\n      const x1 = x0 - i1 + G3;\n      const y1 = y0 - j1 + G3;\n      const z1 = z0 - k1 + G3;\n      const x2 = x0 - i2 + 2 * G3;\n      const y2 = y0 - j2 + 2 * G3;\n      const z2 = z0 - k2 + 2 * G3;\n      const x3 = x0 - 1 + 3 * G3;\n      const y3 = y0 - 1 + 3 * G3;\n      const z3 = z0 - 1 + 3 * G3;\n      const ii = i & 255;\n      const jj = j & 255;\n      const kk = k & 255;\n      const gi0 = this.perm[ii + this.perm[jj + this.perm[kk]]] % 12;\n      const gi1 = this.perm[ii + i1 + this.perm[jj + j1 + this.perm[kk + k1]]] % 12;\n      const gi2 = this.perm[ii + i2 + this.perm[jj + j2 + this.perm[kk + k2]]] % 12;\n      const gi3 = this.perm[ii + 1 + this.perm[jj + 1 + this.perm[kk + 1]]] % 12;\n      let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;\n      if (t0 < 0) {\n        n0 = 0;\n      } else {\n        t0 *= t0;\n        n0 = t0 * t0 * this.dot3(this.grad3[gi0], x0, y0, z0);\n      }\n      let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;\n      if (t1 < 0) {\n        n1 = 0;\n      } else {\n        t1 *= t1;\n        n1 = t1 * t1 * this.dot3(this.grad3[gi1], x1, y1, z1);\n      }\n      let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;\n      if (t2 < 0) {\n        n2 = 0;\n      } else {\n        t2 *= t2;\n        n2 = t2 * t2 * this.dot3(this.grad3[gi2], x2, y2, z2);\n      }\n      let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;\n      if (t3 < 0) {\n        n3 = 0;\n      } else {\n        t3 *= t3;\n        n3 = t3 * t3 * this.dot3(this.grad3[gi3], x3, y3, z3);\n      }\n      return 32 * (n0 + n1 + n2 + n3);\n    });\n    // 4D simplex noise\n    __publicField(this, \"noise4d\", (x, y, z, w) => {\n      const grad4 = this.grad4;\n      const simplex = this.simplex;\n      const perm = this.perm;\n      const F4 = (Math.sqrt(5) - 1) / 4;\n      const G4 = (5 - Math.sqrt(5)) / 20;\n      let n0;\n      let n1;\n      let n2;\n      let n3;\n      let n4;\n      const s = (x + y + z + w) * F4;\n      const i = Math.floor(x + s);\n      const j = Math.floor(y + s);\n      const k = Math.floor(z + s);\n      const l = Math.floor(w + s);\n      const t = (i + j + k + l) * G4;\n      const X0 = i - t;\n      const Y0 = j - t;\n      const Z0 = k - t;\n      const W0 = l - t;\n      const x0 = x - X0;\n      const y0 = y - Y0;\n      const z0 = z - Z0;\n      const w0 = w - W0;\n      const c1 = x0 > y0 ? 32 : 0;\n      const c2 = x0 > z0 ? 16 : 0;\n      const c3 = y0 > z0 ? 8 : 0;\n      const c4 = x0 > w0 ? 4 : 0;\n      const c5 = y0 > w0 ? 2 : 0;\n      const c6 = z0 > w0 ? 1 : 0;\n      const c = c1 + c2 + c3 + c4 + c5 + c6;\n      let i1;\n      let j1;\n      let k1;\n      let l1;\n      let i2;\n      let j2;\n      let k2;\n      let l2;\n      let i3;\n      let j3;\n      let k3;\n      let l3;\n      i1 = simplex[c][0] >= 3 ? 1 : 0;\n      j1 = simplex[c][1] >= 3 ? 1 : 0;\n      k1 = simplex[c][2] >= 3 ? 1 : 0;\n      l1 = simplex[c][3] >= 3 ? 1 : 0;\n      i2 = simplex[c][0] >= 2 ? 1 : 0;\n      j2 = simplex[c][1] >= 2 ? 1 : 0;\n      k2 = simplex[c][2] >= 2 ? 1 : 0;\n      l2 = simplex[c][3] >= 2 ? 1 : 0;\n      i3 = simplex[c][0] >= 1 ? 1 : 0;\n      j3 = simplex[c][1] >= 1 ? 1 : 0;\n      k3 = simplex[c][2] >= 1 ? 1 : 0;\n      l3 = simplex[c][3] >= 1 ? 1 : 0;\n      const x1 = x0 - i1 + G4;\n      const y1 = y0 - j1 + G4;\n      const z1 = z0 - k1 + G4;\n      const w1 = w0 - l1 + G4;\n      const x2 = x0 - i2 + 2 * G4;\n      const y2 = y0 - j2 + 2 * G4;\n      const z2 = z0 - k2 + 2 * G4;\n      const w2 = w0 - l2 + 2 * G4;\n      const x3 = x0 - i3 + 3 * G4;\n      const y3 = y0 - j3 + 3 * G4;\n      const z3 = z0 - k3 + 3 * G4;\n      const w3 = w0 - l3 + 3 * G4;\n      const x4 = x0 - 1 + 4 * G4;\n      const y4 = y0 - 1 + 4 * G4;\n      const z4 = z0 - 1 + 4 * G4;\n      const w4 = w0 - 1 + 4 * G4;\n      const ii = i & 255;\n      const jj = j & 255;\n      const kk = k & 255;\n      const ll = l & 255;\n      const gi0 = perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32;\n      const gi1 = perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32;\n      const gi2 = perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32;\n      const gi3 = perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32;\n      const gi4 = perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32;\n      let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;\n      if (t0 < 0) {\n        n0 = 0;\n      } else {\n        t0 *= t0;\n        n0 = t0 * t0 * this.dot4(grad4[gi0], x0, y0, z0, w0);\n      }\n      let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;\n      if (t1 < 0) {\n        n1 = 0;\n      } else {\n        t1 *= t1;\n        n1 = t1 * t1 * this.dot4(grad4[gi1], x1, y1, z1, w1);\n      }\n      let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;\n      if (t2 < 0) {\n        n2 = 0;\n      } else {\n        t2 *= t2;\n        n2 = t2 * t2 * this.dot4(grad4[gi2], x2, y2, z2, w2);\n      }\n      let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;\n      if (t3 < 0) {\n        n3 = 0;\n      } else {\n        t3 *= t3;\n        n3 = t3 * t3 * this.dot4(grad4[gi3], x3, y3, z3, w3);\n      }\n      let t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;\n      if (t4 < 0) {\n        n4 = 0;\n      } else {\n        t4 *= t4;\n        n4 = t4 * t4 * this.dot4(grad4[gi4], x4, y4, z4, w4);\n      }\n      return 27 * (n0 + n1 + n2 + n3 + n4);\n    });\n    for (let i = 0; i < 256; i++) {\n      this.p[i] = Math.floor(r.random() * 256);\n    }\n    for (let i = 0; i < 512; i++) {\n      this.perm[i] = this.p[i & 255];\n    }\n  }\n}\nexport {\n  SimplexNoise\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { BufferGeometry, Vector3, Uint32BufferAttribute, Float32BufferAttribute, DynamicDrawUsage, MathUtils } from \"three\";\nimport { SimplexNoise } from \"../math/SimplexNoise.js\";\nconst _LightningStrike = class extends BufferGeometry {\n  constructor(rayParameters = {}) {\n    super();\n    this.isLightningStrike = true;\n    this.type = \"LightningStrike\";\n    this.init(_LightningStrike.copyParameters(rayParameters, rayParameters));\n    this.createMesh();\n  }\n  static createRandomGenerator() {\n    const numSeeds = 2053;\n    const seeds = [];\n    for (let i = 0; i < numSeeds; i++) {\n      seeds.push(Math.random());\n    }\n    const generator = {\n      currentSeed: 0,\n      random: function() {\n        const value = seeds[generator.currentSeed];\n        generator.currentSeed = (generator.currentSeed + 1) % numSeeds;\n        return value;\n      },\n      getSeed: function() {\n        return generator.currentSeed / numSeeds;\n      },\n      setSeed: function(seed) {\n        generator.currentSeed = Math.floor(seed * numSeeds) % numSeeds;\n      }\n    };\n    return generator;\n  }\n  static copyParameters(dest = {}, source = {}) {\n    const vecCopy = function(v) {\n      if (source === dest) {\n        return v;\n      } else {\n        return v.clone();\n      }\n    };\n    dest.sourceOffset = source.sourceOffset !== void 0 ? vecCopy(source.sourceOffset) : new Vector3(0, 100, 0), dest.destOffset = source.destOffset !== void 0 ? vecCopy(source.destOffset) : new Vector3(0, 0, 0), dest.timeScale = source.timeScale !== void 0 ? source.timeScale : 1, dest.roughness = source.roughness !== void 0 ? source.roughness : 0.9, dest.straightness = source.straightness !== void 0 ? source.straightness : 0.7, dest.up0 = source.up0 !== void 0 ? vecCopy(source.up0) : new Vector3(0, 0, 1);\n    dest.up1 = source.up1 !== void 0 ? vecCopy(source.up1) : new Vector3(0, 0, 1), dest.radius0 = source.radius0 !== void 0 ? source.radius0 : 1, dest.radius1 = source.radius1 !== void 0 ? source.radius1 : 1, dest.radius0Factor = source.radius0Factor !== void 0 ? source.radius0Factor : 0.5, dest.radius1Factor = source.radius1Factor !== void 0 ? source.radius1Factor : 0.2, dest.minRadius = source.minRadius !== void 0 ? source.minRadius : 0.2, // These parameters should not be changed after lightning creation. They can be changed but the ray will change its form abruptly:\n    dest.isEternal = source.isEternal !== void 0 ? source.isEternal : source.birthTime === void 0 || source.deathTime === void 0, dest.birthTime = source.birthTime, dest.deathTime = source.deathTime, dest.propagationTimeFactor = source.propagationTimeFactor !== void 0 ? source.propagationTimeFactor : 0.1, dest.vanishingTimeFactor = source.vanishingTimeFactor !== void 0 ? source.vanishingTimeFactor : 0.9, dest.subrayPeriod = source.subrayPeriod !== void 0 ? source.subrayPeriod : 4, dest.subrayDutyCycle = source.subrayDutyCycle !== void 0 ? source.subrayDutyCycle : 0.6;\n    dest.maxIterations = source.maxIterations !== void 0 ? source.maxIterations : 9;\n    dest.isStatic = source.isStatic !== void 0 ? source.isStatic : false;\n    dest.ramification = source.ramification !== void 0 ? source.ramification : 5;\n    dest.maxSubrayRecursion = source.maxSubrayRecursion !== void 0 ? source.maxSubrayRecursion : 3;\n    dest.recursionProbability = source.recursionProbability !== void 0 ? source.recursionProbability : 0.6;\n    dest.generateUVs = source.generateUVs !== void 0 ? source.generateUVs : false;\n    dest.randomGenerator = source.randomGenerator, dest.noiseSeed = source.noiseSeed, dest.onDecideSubrayCreation = source.onDecideSubrayCreation, dest.onSubrayCreation = source.onSubrayCreation;\n    return dest;\n  }\n  update(time) {\n    if (this.isStatic)\n      return;\n    if (this.rayParameters.isEternal || this.rayParameters.birthTime <= time && time <= this.rayParameters.deathTime) {\n      this.updateMesh(time);\n      if (time < this.subrays[0].endPropagationTime) {\n        this.state = _LightningStrike.RAY_PROPAGATING;\n      } else if (time > this.subrays[0].beginVanishingTime) {\n        this.state = _LightningStrike.RAY_VANISHING;\n      } else {\n        this.state = _LightningStrike.RAY_STEADY;\n      }\n      this.visible = true;\n    } else {\n      this.visible = false;\n      if (time < this.rayParameters.birthTime) {\n        this.state = _LightningStrike.RAY_UNBORN;\n      } else {\n        this.state = _LightningStrike.RAY_EXTINGUISHED;\n      }\n    }\n  }\n  init(rayParameters) {\n    this.rayParameters = rayParameters;\n    this.maxIterations = rayParameters.maxIterations !== void 0 ? Math.floor(rayParameters.maxIterations) : 9;\n    rayParameters.maxIterations = this.maxIterations;\n    this.isStatic = rayParameters.isStatic !== void 0 ? rayParameters.isStatic : false;\n    rayParameters.isStatic = this.isStatic;\n    this.ramification = rayParameters.ramification !== void 0 ? Math.floor(rayParameters.ramification) : 5;\n    rayParameters.ramification = this.ramification;\n    this.maxSubrayRecursion = rayParameters.maxSubrayRecursion !== void 0 ? Math.floor(rayParameters.maxSubrayRecursion) : 3;\n    rayParameters.maxSubrayRecursion = this.maxSubrayRecursion;\n    this.recursionProbability = rayParameters.recursionProbability !== void 0 ? rayParameters.recursionProbability : 0.6;\n    rayParameters.recursionProbability = this.recursionProbability;\n    this.generateUVs = rayParameters.generateUVs !== void 0 ? rayParameters.generateUVs : false;\n    rayParameters.generateUVs = this.generateUVs;\n    if (rayParameters.randomGenerator !== void 0) {\n      this.randomGenerator = rayParameters.randomGenerator;\n      this.seedGenerator = rayParameters.randomGenerator;\n      if (rayParameters.noiseSeed !== void 0) {\n        this.seedGenerator.setSeed(rayParameters.noiseSeed);\n      }\n    } else {\n      this.randomGenerator = _LightningStrike.createRandomGenerator();\n      this.seedGenerator = Math;\n    }\n    if (rayParameters.onDecideSubrayCreation !== void 0) {\n      this.onDecideSubrayCreation = rayParameters.onDecideSubrayCreation;\n    } else {\n      this.createDefaultSubrayCreationCallbacks();\n      if (rayParameters.onSubrayCreation !== void 0) {\n        this.onSubrayCreation = rayParameters.onSubrayCreation;\n      }\n    }\n    this.state = _LightningStrike.RAY_INITIALIZED;\n    this.maxSubrays = Math.ceil(1 + Math.pow(this.ramification, Math.max(0, this.maxSubrayRecursion - 1)));\n    rayParameters.maxSubrays = this.maxSubrays;\n    this.maxRaySegments = 2 * (1 << this.maxIterations);\n    this.subrays = [];\n    for (let i = 0; i < this.maxSubrays; i++) {\n      this.subrays.push(this.createSubray());\n    }\n    this.raySegments = [];\n    for (let i = 0; i < this.maxRaySegments; i++) {\n      this.raySegments.push(this.createSegment());\n    }\n    this.time = 0;\n    this.timeFraction = 0;\n    this.currentSegmentCallback = null;\n    this.currentCreateTriangleVertices = this.generateUVs ? this.createTriangleVerticesWithUVs : this.createTriangleVerticesWithoutUVs;\n    this.numSubrays = 0;\n    this.currentSubray = null;\n    this.currentSegmentIndex = 0;\n    this.isInitialSegment = false;\n    this.subrayProbability = 0;\n    this.currentVertex = 0;\n    this.currentIndex = 0;\n    this.currentCoordinate = 0;\n    this.currentUVCoordinate = 0;\n    this.vertices = null;\n    this.uvs = null;\n    this.indices = null;\n    this.positionAttribute = null;\n    this.uvsAttribute = null;\n    this.simplexX = new SimplexNoise(this.seedGenerator);\n    this.simplexY = new SimplexNoise(this.seedGenerator);\n    this.simplexZ = new SimplexNoise(this.seedGenerator);\n    this.forwards = new Vector3();\n    this.forwardsFill = new Vector3();\n    this.side = new Vector3();\n    this.down = new Vector3();\n    this.middlePos = new Vector3();\n    this.middleLinPos = new Vector3();\n    this.newPos = new Vector3();\n    this.vPos = new Vector3();\n    this.cross1 = new Vector3();\n  }\n  createMesh() {\n    const maxDrawableSegmentsPerSubRay = 1 << this.maxIterations;\n    const maxVerts = 3 * (maxDrawableSegmentsPerSubRay + 1) * this.maxSubrays;\n    const maxIndices = 18 * maxDrawableSegmentsPerSubRay * this.maxSubrays;\n    this.vertices = new Float32Array(maxVerts * 3);\n    this.indices = new Uint32Array(maxIndices);\n    if (this.generateUVs) {\n      this.uvs = new Float32Array(maxVerts * 2);\n    }\n    this.fillMesh(0);\n    this.setIndex(new Uint32BufferAttribute(this.indices, 1));\n    this.positionAttribute = new Float32BufferAttribute(this.vertices, 3);\n    this.setAttribute(\"position\", this.positionAttribute);\n    if (this.generateUVs) {\n      this.uvsAttribute = new Float32BufferAttribute(new Float32Array(this.uvs), 2);\n      this.setAttribute(\"uv\", this.uvsAttribute);\n    }\n    if (!this.isStatic) {\n      this.index.usage = DynamicDrawUsage;\n      this.positionAttribute.usage = DynamicDrawUsage;\n      if (this.generateUVs) {\n        this.uvsAttribute.usage = DynamicDrawUsage;\n      }\n    }\n    this.vertices = this.positionAttribute.array;\n    this.indices = this.index.array;\n    if (this.generateUVs) {\n      this.uvs = this.uvsAttribute.array;\n    }\n  }\n  updateMesh(time) {\n    this.fillMesh(time);\n    this.drawRange.count = this.currentIndex;\n    this.index.needsUpdate = true;\n    this.positionAttribute.needsUpdate = true;\n    if (this.generateUVs) {\n      this.uvsAttribute.needsUpdate = true;\n    }\n  }\n  fillMesh(time) {\n    const scope = this;\n    this.currentVertex = 0;\n    this.currentIndex = 0;\n    this.currentCoordinate = 0;\n    this.currentUVCoordinate = 0;\n    this.fractalRay(time, function fillVertices(segment) {\n      const subray = scope.currentSubray;\n      if (time < subray.birthTime) {\n        return;\n      } else if (this.rayParameters.isEternal && scope.currentSubray.recursion == 0) {\n        scope.createPrism(segment);\n        scope.onDecideSubrayCreation(segment, scope);\n      } else if (time < subray.endPropagationTime) {\n        if (scope.timeFraction >= segment.fraction0 * subray.propagationTimeFactor) {\n          scope.createPrism(segment);\n          scope.onDecideSubrayCreation(segment, scope);\n        }\n      } else if (time < subray.beginVanishingTime) {\n        scope.createPrism(segment);\n        scope.onDecideSubrayCreation(segment, scope);\n      } else {\n        if (scope.timeFraction <= subray.vanishingTimeFactor + segment.fraction1 * (1 - subray.vanishingTimeFactor)) {\n          scope.createPrism(segment);\n        }\n        scope.onDecideSubrayCreation(segment, scope);\n      }\n    });\n  }\n  addNewSubray() {\n    return this.subrays[this.numSubrays++];\n  }\n  initSubray(subray, rayParameters) {\n    subray.pos0.copy(rayParameters.sourceOffset);\n    subray.pos1.copy(rayParameters.destOffset);\n    subray.up0.copy(rayParameters.up0);\n    subray.up1.copy(rayParameters.up1);\n    subray.radius0 = rayParameters.radius0;\n    subray.radius1 = rayParameters.radius1;\n    subray.birthTime = rayParameters.birthTime;\n    subray.deathTime = rayParameters.deathTime;\n    subray.timeScale = rayParameters.timeScale;\n    subray.roughness = rayParameters.roughness;\n    subray.straightness = rayParameters.straightness;\n    subray.propagationTimeFactor = rayParameters.propagationTimeFactor;\n    subray.vanishingTimeFactor = rayParameters.vanishingTimeFactor;\n    subray.maxIterations = this.maxIterations;\n    subray.seed = rayParameters.noiseSeed !== void 0 ? rayParameters.noiseSeed : 0;\n    subray.recursion = 0;\n  }\n  fractalRay(time, segmentCallback) {\n    this.time = time;\n    this.currentSegmentCallback = segmentCallback;\n    this.numSubrays = 0;\n    this.initSubray(this.addNewSubray(), this.rayParameters);\n    for (let subrayIndex = 0; subrayIndex < this.numSubrays; subrayIndex++) {\n      const subray = this.subrays[subrayIndex];\n      this.currentSubray = subray;\n      this.randomGenerator.setSeed(subray.seed);\n      subray.endPropagationTime = MathUtils.lerp(subray.birthTime, subray.deathTime, subray.propagationTimeFactor);\n      subray.beginVanishingTime = MathUtils.lerp(subray.deathTime, subray.birthTime, 1 - subray.vanishingTimeFactor);\n      const random1 = this.randomGenerator.random;\n      subray.linPos0.set(random1(), random1(), random1()).multiplyScalar(1e3);\n      subray.linPos1.set(random1(), random1(), random1()).multiplyScalar(1e3);\n      this.timeFraction = (time - subray.birthTime) / (subray.deathTime - subray.birthTime);\n      this.currentSegmentIndex = 0;\n      this.isInitialSegment = true;\n      const segment = this.getNewSegment();\n      segment.iteration = 0;\n      segment.pos0.copy(subray.pos0);\n      segment.pos1.copy(subray.pos1);\n      segment.linPos0.copy(subray.linPos0);\n      segment.linPos1.copy(subray.linPos1);\n      segment.up0.copy(subray.up0);\n      segment.up1.copy(subray.up1);\n      segment.radius0 = subray.radius0;\n      segment.radius1 = subray.radius1;\n      segment.fraction0 = 0;\n      segment.fraction1 = 1;\n      segment.positionVariationFactor = 1 - subray.straightness;\n      this.subrayProbability = this.ramification * Math.pow(this.recursionProbability, subray.recursion) / (1 << subray.maxIterations);\n      this.fractalRayRecursive(segment);\n    }\n    this.currentSegmentCallback = null;\n    this.currentSubray = null;\n  }\n  fractalRayRecursive(segment) {\n    if (segment.iteration >= this.currentSubray.maxIterations) {\n      this.currentSegmentCallback(segment);\n      return;\n    }\n    this.forwards.subVectors(segment.pos1, segment.pos0);\n    let lForwards = this.forwards.length();\n    if (lForwards < 1e-6) {\n      this.forwards.set(0, 0, 0.01);\n      lForwards = this.forwards.length();\n    }\n    const middleRadius = (segment.radius0 + segment.radius1) * 0.5;\n    const middleFraction = (segment.fraction0 + segment.fraction1) * 0.5;\n    const timeDimension = this.time * this.currentSubray.timeScale * Math.pow(2, segment.iteration);\n    this.middlePos.lerpVectors(segment.pos0, segment.pos1, 0.5);\n    this.middleLinPos.lerpVectors(segment.linPos0, segment.linPos1, 0.5);\n    const p = this.middleLinPos;\n    this.newPos.set(\n      this.simplexX.noise4d(p.x, p.y, p.z, timeDimension),\n      this.simplexY.noise4d(p.x, p.y, p.z, timeDimension),\n      this.simplexZ.noise4d(p.x, p.y, p.z, timeDimension)\n    );\n    this.newPos.multiplyScalar(segment.positionVariationFactor * lForwards);\n    this.newPos.add(this.middlePos);\n    const newSegment1 = this.getNewSegment();\n    newSegment1.pos0.copy(segment.pos0);\n    newSegment1.pos1.copy(this.newPos);\n    newSegment1.linPos0.copy(segment.linPos0);\n    newSegment1.linPos1.copy(this.middleLinPos);\n    newSegment1.up0.copy(segment.up0);\n    newSegment1.up1.copy(segment.up1);\n    newSegment1.radius0 = segment.radius0;\n    newSegment1.radius1 = middleRadius;\n    newSegment1.fraction0 = segment.fraction0;\n    newSegment1.fraction1 = middleFraction;\n    newSegment1.positionVariationFactor = segment.positionVariationFactor * this.currentSubray.roughness;\n    newSegment1.iteration = segment.iteration + 1;\n    const newSegment2 = this.getNewSegment();\n    newSegment2.pos0.copy(this.newPos);\n    newSegment2.pos1.copy(segment.pos1);\n    newSegment2.linPos0.copy(this.middleLinPos);\n    newSegment2.linPos1.copy(segment.linPos1);\n    this.cross1.crossVectors(segment.up0, this.forwards.normalize());\n    newSegment2.up0.crossVectors(this.forwards, this.cross1).normalize();\n    newSegment2.up1.copy(segment.up1);\n    newSegment2.radius0 = middleRadius;\n    newSegment2.radius1 = segment.radius1;\n    newSegment2.fraction0 = middleFraction;\n    newSegment2.fraction1 = segment.fraction1;\n    newSegment2.positionVariationFactor = segment.positionVariationFactor * this.currentSubray.roughness;\n    newSegment2.iteration = segment.iteration + 1;\n    this.fractalRayRecursive(newSegment1);\n    this.fractalRayRecursive(newSegment2);\n  }\n  createPrism(segment) {\n    this.forwardsFill.subVectors(segment.pos1, segment.pos0).normalize();\n    if (this.isInitialSegment) {\n      this.currentCreateTriangleVertices(segment.pos0, segment.up0, this.forwardsFill, segment.radius0, 0);\n      this.isInitialSegment = false;\n    }\n    this.currentCreateTriangleVertices(segment.pos1, segment.up0, this.forwardsFill, segment.radius1, segment.fraction1);\n    this.createPrismFaces();\n  }\n  createTriangleVerticesWithoutUVs(pos, up, forwards, radius) {\n    this.side.crossVectors(up, forwards).multiplyScalar(radius * _LightningStrike.COS30DEG);\n    this.down.copy(up).multiplyScalar(-radius * _LightningStrike.SIN30DEG);\n    const p = this.vPos;\n    const v = this.vertices;\n    p.copy(pos).sub(this.side).add(this.down);\n    v[this.currentCoordinate++] = p.x;\n    v[this.currentCoordinate++] = p.y;\n    v[this.currentCoordinate++] = p.z;\n    p.copy(pos).add(this.side).add(this.down);\n    v[this.currentCoordinate++] = p.x;\n    v[this.currentCoordinate++] = p.y;\n    v[this.currentCoordinate++] = p.z;\n    p.copy(up).multiplyScalar(radius).add(pos);\n    v[this.currentCoordinate++] = p.x;\n    v[this.currentCoordinate++] = p.y;\n    v[this.currentCoordinate++] = p.z;\n    this.currentVertex += 3;\n  }\n  createTriangleVerticesWithUVs(pos, up, forwards, radius, u) {\n    this.side.crossVectors(up, forwards).multiplyScalar(radius * _LightningStrike.COS30DEG);\n    this.down.copy(up).multiplyScalar(-radius * _LightningStrike.SIN30DEG);\n    const p = this.vPos;\n    const v = this.vertices;\n    const uv = this.uvs;\n    p.copy(pos).sub(this.side).add(this.down);\n    v[this.currentCoordinate++] = p.x;\n    v[this.currentCoordinate++] = p.y;\n    v[this.currentCoordinate++] = p.z;\n    uv[this.currentUVCoordinate++] = u;\n    uv[this.currentUVCoordinate++] = 0;\n    p.copy(pos).add(this.side).add(this.down);\n    v[this.currentCoordinate++] = p.x;\n    v[this.currentCoordinate++] = p.y;\n    v[this.currentCoordinate++] = p.z;\n    uv[this.currentUVCoordinate++] = u;\n    uv[this.currentUVCoordinate++] = 0.5;\n    p.copy(up).multiplyScalar(radius).add(pos);\n    v[this.currentCoordinate++] = p.x;\n    v[this.currentCoordinate++] = p.y;\n    v[this.currentCoordinate++] = p.z;\n    uv[this.currentUVCoordinate++] = u;\n    uv[this.currentUVCoordinate++] = 1;\n    this.currentVertex += 3;\n  }\n  createPrismFaces(vertex) {\n    const indices = this.indices;\n    vertex = this.currentVertex - 6;\n    indices[this.currentIndex++] = vertex + 1;\n    indices[this.currentIndex++] = vertex + 2;\n    indices[this.currentIndex++] = vertex + 5;\n    indices[this.currentIndex++] = vertex + 1;\n    indices[this.currentIndex++] = vertex + 5;\n    indices[this.currentIndex++] = vertex + 4;\n    indices[this.currentIndex++] = vertex + 0;\n    indices[this.currentIndex++] = vertex + 1;\n    indices[this.currentIndex++] = vertex + 4;\n    indices[this.currentIndex++] = vertex + 0;\n    indices[this.currentIndex++] = vertex + 4;\n    indices[this.currentIndex++] = vertex + 3;\n    indices[this.currentIndex++] = vertex + 2;\n    indices[this.currentIndex++] = vertex + 0;\n    indices[this.currentIndex++] = vertex + 3;\n    indices[this.currentIndex++] = vertex + 2;\n    indices[this.currentIndex++] = vertex + 3;\n    indices[this.currentIndex++] = vertex + 5;\n  }\n  createDefaultSubrayCreationCallbacks() {\n    const random1 = this.randomGenerator.random;\n    this.onDecideSubrayCreation = function(segment, lightningStrike) {\n      const subray = lightningStrike.currentSubray;\n      const period = lightningStrike.rayParameters.subrayPeriod;\n      const dutyCycle = lightningStrike.rayParameters.subrayDutyCycle;\n      const phase0 = lightningStrike.rayParameters.isEternal && subray.recursion == 0 ? -random1() * period : MathUtils.lerp(subray.birthTime, subray.endPropagationTime, segment.fraction0) - random1() * period;\n      const phase = lightningStrike.time - phase0;\n      const currentCycle = Math.floor(phase / period);\n      const childSubraySeed = random1() * (currentCycle + 1);\n      const isActive = phase % period <= dutyCycle * period;\n      let probability = 0;\n      if (isActive) {\n        probability = lightningStrike.subrayProbability;\n      }\n      if (subray.recursion < lightningStrike.maxSubrayRecursion && lightningStrike.numSubrays < lightningStrike.maxSubrays && random1() < probability) {\n        const childSubray = lightningStrike.addNewSubray();\n        const parentSeed = lightningStrike.randomGenerator.getSeed();\n        childSubray.seed = childSubraySeed;\n        lightningStrike.randomGenerator.setSeed(childSubraySeed);\n        childSubray.recursion = subray.recursion + 1;\n        childSubray.maxIterations = Math.max(1, subray.maxIterations - 1);\n        childSubray.linPos0.set(random1(), random1(), random1()).multiplyScalar(1e3);\n        childSubray.linPos1.set(random1(), random1(), random1()).multiplyScalar(1e3);\n        childSubray.up0.copy(subray.up0);\n        childSubray.up1.copy(subray.up1);\n        childSubray.radius0 = segment.radius0 * lightningStrike.rayParameters.radius0Factor;\n        childSubray.radius1 = Math.min(\n          lightningStrike.rayParameters.minRadius,\n          segment.radius1 * lightningStrike.rayParameters.radius1Factor\n        );\n        childSubray.birthTime = phase0 + currentCycle * period;\n        childSubray.deathTime = childSubray.birthTime + period * dutyCycle;\n        if (!lightningStrike.rayParameters.isEternal && subray.recursion == 0) {\n          childSubray.birthTime = Math.max(childSubray.birthTime, subray.birthTime);\n          childSubray.deathTime = Math.min(childSubray.deathTime, subray.deathTime);\n        }\n        childSubray.timeScale = subray.timeScale * 2;\n        childSubray.roughness = subray.roughness;\n        childSubray.straightness = subray.straightness;\n        childSubray.propagationTimeFactor = subray.propagationTimeFactor;\n        childSubray.vanishingTimeFactor = subray.vanishingTimeFactor;\n        lightningStrike.onSubrayCreation(segment, subray, childSubray, lightningStrike);\n        lightningStrike.randomGenerator.setSeed(parentSeed);\n      }\n    };\n    const vec1Pos = new Vector3();\n    const vec2Forward = new Vector3();\n    const vec3Side = new Vector3();\n    const vec4Up = new Vector3();\n    this.onSubrayCreation = function(segment, parentSubray, childSubray, lightningStrike) {\n      lightningStrike.subrayCylinderPosition(segment, parentSubray, childSubray, 0.5, 0.6, 0.2);\n    };\n    this.subrayConePosition = function(segment, parentSubray, childSubray, heightFactor, sideWidthFactor, minSideWidthFactor) {\n      childSubray.pos0.copy(segment.pos0);\n      vec1Pos.subVectors(parentSubray.pos1, parentSubray.pos0);\n      vec2Forward.copy(vec1Pos).normalize();\n      vec1Pos.multiplyScalar(segment.fraction0 + (1 - segment.fraction0) * (random1() * heightFactor));\n      const length = vec1Pos.length();\n      vec3Side.crossVectors(parentSubray.up0, vec2Forward);\n      const angle = 2 * Math.PI * random1();\n      vec3Side.multiplyScalar(Math.cos(angle));\n      vec4Up.copy(parentSubray.up0).multiplyScalar(Math.sin(angle));\n      childSubray.pos1.copy(vec3Side).add(vec4Up).multiplyScalar(length * sideWidthFactor * (minSideWidthFactor + random1() * (1 - minSideWidthFactor))).add(vec1Pos).add(parentSubray.pos0);\n    };\n    this.subrayCylinderPosition = function(segment, parentSubray, childSubray, heightFactor, sideWidthFactor, minSideWidthFactor) {\n      childSubray.pos0.copy(segment.pos0);\n      vec1Pos.subVectors(parentSubray.pos1, parentSubray.pos0);\n      vec2Forward.copy(vec1Pos).normalize();\n      vec1Pos.multiplyScalar(segment.fraction0 + (1 - segment.fraction0) * ((2 * random1() - 1) * heightFactor));\n      const length = vec1Pos.length();\n      vec3Side.crossVectors(parentSubray.up0, vec2Forward);\n      const angle = 2 * Math.PI * random1();\n      vec3Side.multiplyScalar(Math.cos(angle));\n      vec4Up.copy(parentSubray.up0).multiplyScalar(Math.sin(angle));\n      childSubray.pos1.copy(vec3Side).add(vec4Up).multiplyScalar(length * sideWidthFactor * (minSideWidthFactor + random1() * (1 - minSideWidthFactor))).add(vec1Pos).add(parentSubray.pos0);\n    };\n  }\n  createSubray() {\n    return {\n      seed: 0,\n      maxIterations: 0,\n      recursion: 0,\n      pos0: new Vector3(),\n      pos1: new Vector3(),\n      linPos0: new Vector3(),\n      linPos1: new Vector3(),\n      up0: new Vector3(),\n      up1: new Vector3(),\n      radius0: 0,\n      radius1: 0,\n      birthTime: 0,\n      deathTime: 0,\n      timeScale: 0,\n      roughness: 0,\n      straightness: 0,\n      propagationTimeFactor: 0,\n      vanishingTimeFactor: 0,\n      endPropagationTime: 0,\n      beginVanishingTime: 0\n    };\n  }\n  createSegment() {\n    return {\n      iteration: 0,\n      pos0: new Vector3(),\n      pos1: new Vector3(),\n      linPos0: new Vector3(),\n      linPos1: new Vector3(),\n      up0: new Vector3(),\n      up1: new Vector3(),\n      radius0: 0,\n      radius1: 0,\n      fraction0: 0,\n      fraction1: 0,\n      positionVariationFactor: 0\n    };\n  }\n  getNewSegment() {\n    return this.raySegments[this.currentSegmentIndex++];\n  }\n  copy(source) {\n    super.copy(source);\n    this.init(_LightningStrike.copyParameters({}, source.rayParameters));\n    return this;\n  }\n  clone() {\n    return new this.constructor(_LightningStrike.copyParameters({}, this.rayParameters));\n  }\n};\nlet LightningStrike = _LightningStrike;\n// Ray states\n__publicField(LightningStrike, \"RAY_INITIALIZED\", 0);\n__publicField(LightningStrike, \"RAY_UNBORN\", 1);\n__publicField(LightningStrike, \"RAY_PROPAGATING\", 2);\n__publicField(LightningStrike, \"RAY_STEADY\", 3);\n__publicField(LightningStrike, \"RAY_VANISHING\", 4);\n__publicField(LightningStrike, \"RAY_EXTINGUISHED\", 5);\n__publicField(LightningStrike, \"COS30DEG\", Math.cos(30 * Math.PI / 180));\n__publicField(LightningStrike, \"SIN30DEG\", Math.sin(30 * Math.PI / 180));\nexport {\n  LightningStrike\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Mesh, Matrix4, Vector2, Color, Vector3, PerspectiveCamera, DepthTexture, UnsignedShortType, NearestFilter, HalfFloatType, WebGLRenderTarget, ShaderMaterial, UniformsUtils, Plane } from \"three\";\nconst _ReflectorForSSRPass = class extends Mesh {\n  constructor(geometry, options = {}) {\n    super(geometry);\n    this.isReflectorForSSRPass = true;\n    this.type = \"ReflectorForSSRPass\";\n    const scope = this;\n    const color = options.color !== void 0 ? new Color(options.color) : new Color(8355711);\n    const textureWidth = options.textureWidth || 512;\n    const textureHeight = options.textureHeight || 512;\n    const clipBias = options.clipBias || 0;\n    const shader = options.shader || _ReflectorForSSRPass.ReflectorShader;\n    const useDepthTexture = options.useDepthTexture === true;\n    const yAxis = new Vector3(0, 1, 0);\n    const vecTemp0 = new Vector3();\n    const vecTemp1 = new Vector3();\n    scope.needsUpdate = false;\n    scope.maxDistance = _ReflectorForSSRPass.ReflectorShader.uniforms.maxDistance.value;\n    scope.opacity = _ReflectorForSSRPass.ReflectorShader.uniforms.opacity.value;\n    scope.color = color;\n    scope.resolution = options.resolution || new Vector2(window.innerWidth, window.innerHeight);\n    scope._distanceAttenuation = _ReflectorForSSRPass.ReflectorShader.defines.DISTANCE_ATTENUATION;\n    Object.defineProperty(scope, \"distanceAttenuation\", {\n      get() {\n        return scope._distanceAttenuation;\n      },\n      set(val) {\n        if (scope._distanceAttenuation === val)\n          return;\n        scope._distanceAttenuation = val;\n        scope.material.defines.DISTANCE_ATTENUATION = val;\n        scope.material.needsUpdate = true;\n      }\n    });\n    scope._fresnel = _ReflectorForSSRPass.ReflectorShader.defines.FRESNEL;\n    Object.defineProperty(scope, \"fresnel\", {\n      get() {\n        return scope._fresnel;\n      },\n      set(val) {\n        if (scope._fresnel === val)\n          return;\n        scope._fresnel = val;\n        scope.material.defines.FRESNEL = val;\n        scope.material.needsUpdate = true;\n      }\n    });\n    const normal = new Vector3();\n    const reflectorWorldPosition = new Vector3();\n    const cameraWorldPosition = new Vector3();\n    const rotationMatrix = new Matrix4();\n    const lookAtPosition = new Vector3(0, 0, -1);\n    const view = new Vector3();\n    const target = new Vector3();\n    const textureMatrix = new Matrix4();\n    const virtualCamera = new PerspectiveCamera();\n    let depthTexture;\n    if (useDepthTexture) {\n      depthTexture = new DepthTexture();\n      depthTexture.type = UnsignedShortType;\n      depthTexture.minFilter = NearestFilter;\n      depthTexture.magFilter = NearestFilter;\n    }\n    const parameters = {\n      depthTexture: useDepthTexture ? depthTexture : null,\n      type: HalfFloatType\n    };\n    const renderTarget = new WebGLRenderTarget(textureWidth, textureHeight, parameters);\n    const material = new ShaderMaterial({\n      transparent: useDepthTexture,\n      defines: Object.assign({}, _ReflectorForSSRPass.ReflectorShader.defines, {\n        useDepthTexture\n      }),\n      uniforms: UniformsUtils.clone(shader.uniforms),\n      fragmentShader: shader.fragmentShader,\n      vertexShader: shader.vertexShader\n    });\n    material.uniforms[\"tDiffuse\"].value = renderTarget.texture;\n    material.uniforms[\"color\"].value = scope.color;\n    material.uniforms[\"textureMatrix\"].value = textureMatrix;\n    if (useDepthTexture) {\n      material.uniforms[\"tDepth\"].value = renderTarget.depthTexture;\n    }\n    this.material = material;\n    const globalPlane = new Plane(new Vector3(0, 1, 0), clipBias);\n    const globalPlanes = [globalPlane];\n    this.doRender = function(renderer, scene, camera) {\n      material.uniforms[\"maxDistance\"].value = scope.maxDistance;\n      material.uniforms[\"color\"].value = scope.color;\n      material.uniforms[\"opacity\"].value = scope.opacity;\n      vecTemp0.copy(camera.position).normalize();\n      vecTemp1.copy(vecTemp0).reflect(yAxis);\n      material.uniforms[\"fresnelCoe\"].value = (vecTemp0.dot(vecTemp1) + 1) / 2;\n      reflectorWorldPosition.setFromMatrixPosition(scope.matrixWorld);\n      cameraWorldPosition.setFromMatrixPosition(camera.matrixWorld);\n      rotationMatrix.extractRotation(scope.matrixWorld);\n      normal.set(0, 0, 1);\n      normal.applyMatrix4(rotationMatrix);\n      view.subVectors(reflectorWorldPosition, cameraWorldPosition);\n      if (view.dot(normal) > 0)\n        return;\n      view.reflect(normal).negate();\n      view.add(reflectorWorldPosition);\n      rotationMatrix.extractRotation(camera.matrixWorld);\n      lookAtPosition.set(0, 0, -1);\n      lookAtPosition.applyMatrix4(rotationMatrix);\n      lookAtPosition.add(cameraWorldPosition);\n      target.subVectors(reflectorWorldPosition, lookAtPosition);\n      target.reflect(normal).negate();\n      target.add(reflectorWorldPosition);\n      virtualCamera.position.copy(view);\n      virtualCamera.up.set(0, 1, 0);\n      virtualCamera.up.applyMatrix4(rotationMatrix);\n      virtualCamera.up.reflect(normal);\n      virtualCamera.lookAt(target);\n      virtualCamera.far = camera.far;\n      virtualCamera.updateMatrixWorld();\n      virtualCamera.projectionMatrix.copy(camera.projectionMatrix);\n      material.uniforms[\"virtualCameraNear\"].value = camera.near;\n      material.uniforms[\"virtualCameraFar\"].value = camera.far;\n      material.uniforms[\"virtualCameraMatrixWorld\"].value = virtualCamera.matrixWorld;\n      material.uniforms[\"virtualCameraProjectionMatrix\"].value = camera.projectionMatrix;\n      material.uniforms[\"virtualCameraProjectionMatrixInverse\"].value = camera.projectionMatrixInverse;\n      material.uniforms[\"resolution\"].value = scope.resolution;\n      textureMatrix.set(0.5, 0, 0, 0.5, 0, 0.5, 0, 0.5, 0, 0, 0.5, 0.5, 0, 0, 0, 1);\n      textureMatrix.multiply(virtualCamera.projectionMatrix);\n      textureMatrix.multiply(virtualCamera.matrixWorldInverse);\n      textureMatrix.multiply(scope.matrixWorld);\n      const currentRenderTarget = renderer.getRenderTarget();\n      const currentXrEnabled = renderer.xr.enabled;\n      const currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\n      const currentClippingPlanes = renderer.clippingPlanes;\n      renderer.xr.enabled = false;\n      renderer.shadowMap.autoUpdate = false;\n      renderer.clippingPlanes = globalPlanes;\n      renderer.setRenderTarget(renderTarget);\n      renderer.state.buffers.depth.setMask(true);\n      if (renderer.autoClear === false)\n        renderer.clear();\n      renderer.render(scene, virtualCamera);\n      renderer.xr.enabled = currentXrEnabled;\n      renderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\n      renderer.clippingPlanes = currentClippingPlanes;\n      renderer.setRenderTarget(currentRenderTarget);\n      const viewport = camera.viewport;\n      if (viewport !== void 0) {\n        renderer.state.viewport(viewport);\n      }\n    };\n    this.getRenderTarget = function() {\n      return renderTarget;\n    };\n  }\n};\nlet ReflectorForSSRPass = _ReflectorForSSRPass;\n__publicField(ReflectorForSSRPass, \"ReflectorShader\", {\n  defines: {\n    DISTANCE_ATTENUATION: true,\n    FRESNEL: true\n  },\n  uniforms: {\n    color: { value: null },\n    tDiffuse: { value: null },\n    tDepth: { value: null },\n    textureMatrix: { value: /* @__PURE__ */ new Matrix4() },\n    maxDistance: { value: 180 },\n    opacity: { value: 0.5 },\n    fresnelCoe: { value: null },\n    virtualCameraNear: { value: null },\n    virtualCameraFar: { value: null },\n    virtualCameraProjectionMatrix: { value: /* @__PURE__ */ new Matrix4() },\n    virtualCameraMatrixWorld: { value: /* @__PURE__ */ new Matrix4() },\n    virtualCameraProjectionMatrixInverse: { value: /* @__PURE__ */ new Matrix4() },\n    resolution: { value: /* @__PURE__ */ new Vector2() }\n  },\n  vertexShader: (\n    /* glsl */\n    `\n\t\tuniform mat4 textureMatrix;\n\t\tvarying vec4 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = textureMatrix * vec4( position, 1.0 );\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`\n  ),\n  fragmentShader: (\n    /* glsl */\n    `\n\t\tuniform vec3 color;\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform sampler2D tDepth;\n\t\tuniform float maxDistance;\n\t\tuniform float opacity;\n\t\tuniform float fresnelCoe;\n\t\tuniform float virtualCameraNear;\n\t\tuniform float virtualCameraFar;\n\t\tuniform mat4 virtualCameraProjectionMatrix;\n\t\tuniform mat4 virtualCameraProjectionMatrixInverse;\n\t\tuniform mat4 virtualCameraMatrixWorld;\n\t\tuniform vec2 resolution;\n\t\tvarying vec4 vUv;\n\t\t#include <packing>\n\t\tfloat blendOverlay( float base, float blend ) {\n\t\t\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\t\t}\n\t\tvec3 blendOverlay( vec3 base, vec3 blend ) {\n\t\t\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\t\t}\n\t\tfloat getDepth( const in vec2 uv ) {\n\t\t\treturn texture2D( tDepth, uv ).x;\n\t\t}\n\t\tfloat getViewZ( const in float depth ) {\n\t\t\treturn perspectiveDepthToViewZ( depth, virtualCameraNear, virtualCameraFar );\n\t\t}\n\t\tvec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {\n\t\t\tvec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc\n\t\t\tclipPosition *= clipW; //clip\n\t\t\treturn ( virtualCameraProjectionMatrixInverse * clipPosition ).xyz;//view\n\t\t}\n\t\tvoid main() {\n\t\t\tvec4 base = texture2DProj( tDiffuse, vUv );\n\t\t\t#ifdef useDepthTexture\n\t\t\t\tvec2 uv=(gl_FragCoord.xy-.5)/resolution.xy;\n\t\t\t\tuv.x=1.-uv.x;\n\t\t\t\tfloat depth = texture2DProj( tDepth, vUv ).r;\n\t\t\t\tfloat viewZ = getViewZ( depth );\n\t\t\t\tfloat clipW = virtualCameraProjectionMatrix[2][3] * viewZ+virtualCameraProjectionMatrix[3][3];\n\t\t\t\tvec3 viewPosition=getViewPosition( uv, depth, clipW );\n\t\t\t\tvec3 worldPosition=(virtualCameraMatrixWorld*vec4(viewPosition,1)).xyz;\n\t\t\t\tif(worldPosition.y>maxDistance) discard;\n\t\t\t\tfloat op=opacity;\n\t\t\t\t#ifdef DISTANCE_ATTENUATION\n\t\t\t\t\tfloat ratio=1.-(worldPosition.y/maxDistance);\n\t\t\t\t\tfloat attenuation=ratio*ratio;\n\t\t\t\t\top=opacity*attenuation;\n\t\t\t\t#endif\n\t\t\t\t#ifdef FRESNEL\n\t\t\t\t\top*=fresnelCoe;\n\t\t\t\t#endif\n\t\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), op );\n\t\t\t#else\n\t\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\t\t\t#endif\n\t\t}\n\t`\n  )\n});\nexport {\n  ReflectorForSSRPass\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Vector3, REVISION, ShaderMaterial, UniformsUtils, BackSide, Mesh, BoxGeometry } from \"three\";\nconst SkyShader = {\n  uniforms: {\n    turbidity: { value: 2 },\n    rayleigh: { value: 1 },\n    mieCoefficient: { value: 5e-3 },\n    mieDirectionalG: { value: 0.8 },\n    sunPosition: { value: /* @__PURE__ */ new Vector3() },\n    up: { value: /* @__PURE__ */ new Vector3(0, 1, 0) }\n  },\n  vertexShader: (\n    /* glsl */\n    `\n      uniform vec3 sunPosition;\n      uniform float rayleigh;\n      uniform float turbidity;\n      uniform float mieCoefficient;\n      uniform vec3 up;\n\n      varying vec3 vWorldPosition;\n      varying vec3 vSunDirection;\n      varying float vSunfade;\n      varying vec3 vBetaR;\n      varying vec3 vBetaM;\n      varying float vSunE;\n\n      // constants for atmospheric scattering\n      const float e = 2.71828182845904523536028747135266249775724709369995957;\n      const float pi = 3.141592653589793238462643383279502884197169;\n\n      // wavelength of used primaries, according to preetham\n      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );\n      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:\n      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\n      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );\n\n      // mie stuff\n      // K coefficient for the primaries\n      const float v = 4.0;\n      const vec3 K = vec3( 0.686, 0.678, 0.666 );\n      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\n      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );\n\n      // earth shadow hack\n      // cutoffAngle = pi / 1.95;\n      const float cutoffAngle = 1.6110731556870734;\n      const float steepness = 1.5;\n      const float EE = 1000.0;\n\n      float sunIntensity( float zenithAngleCos ) {\n        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );\n        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );\n      }\n\n      vec3 totalMie( float T ) {\n        float c = ( 0.2 * T ) * 10E-18;\n        return 0.434 * c * MieConst;\n      }\n\n      void main() {\n\n        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n        vWorldPosition = worldPosition.xyz;\n\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        gl_Position.z = gl_Position.w; // set z to camera.far\n\n        vSunDirection = normalize( sunPosition );\n\n        vSunE = sunIntensity( dot( vSunDirection, up ) );\n\n        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );\n\n        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );\n\n      // extinction (absorbtion + out scattering)\n      // rayleigh coefficients\n        vBetaR = totalRayleigh * rayleighCoefficient;\n\n      // mie coefficients\n        vBetaM = totalMie( turbidity ) * mieCoefficient;\n\n      }\n    `\n  ),\n  fragmentShader: (\n    /* glsl */\n    `\n      varying vec3 vWorldPosition;\n      varying vec3 vSunDirection;\n      varying float vSunfade;\n      varying vec3 vBetaR;\n      varying vec3 vBetaM;\n      varying float vSunE;\n\n      uniform float mieDirectionalG;\n      uniform vec3 up;\n\n      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );\n\n      // constants for atmospheric scattering\n      const float pi = 3.141592653589793238462643383279502884197169;\n\n      const float n = 1.0003; // refractive index of air\n      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)\n\n      // optical length at zenith for molecules\n      const float rayleighZenithLength = 8.4E3;\n      const float mieZenithLength = 1.25E3;\n      // 66 arc seconds -> degrees, and the cosine of that\n      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\n\n      // 3.0 / ( 16.0 * pi )\n      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;\n      // 1.0 / ( 4.0 * pi )\n      const float ONE_OVER_FOURPI = 0.07957747154594767;\n\n      float rayleighPhase( float cosTheta ) {\n        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );\n      }\n\n      float hgPhase( float cosTheta, float g ) {\n        float g2 = pow( g, 2.0 );\n        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );\n        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\n      }\n\n      void main() {\n\n        vec3 direction = normalize( vWorldPosition - cameraPos );\n\n      // optical length\n      // cutoff angle at 90 to avoid singularity in next formula.\n        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );\n        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );\n        float sR = rayleighZenithLength * inverse;\n        float sM = mieZenithLength * inverse;\n\n      // combined extinction factor\n        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\n\n      // in scattering\n        float cosTheta = dot( direction, vSunDirection );\n\n        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\n        vec3 betaRTheta = vBetaR * rPhase;\n\n        float mPhase = hgPhase( cosTheta, mieDirectionalG );\n        vec3 betaMTheta = vBetaM * mPhase;\n\n        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );\n        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\n\n      // nightsky\n        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]\n        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]\n        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\n        vec3 L0 = vec3( 0.1 ) * Fex;\n\n      // composition + solar disc\n        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\n        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;\n\n        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\n\n        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\n\n        gl_FragColor = vec4( retColor, 1.0 );\n\n      #include <tonemapping_fragment>\n      #include <${parseInt(REVISION.replace(/\\D+/g, \"\")) >= 154 ? \"colorspace_fragment\" : \"encodings_fragment\"}>\n\n      }\n    `\n  )\n};\nconst material = /* @__PURE__ */ new ShaderMaterial({\n  name: \"SkyShader\",\n  fragmentShader: SkyShader.fragmentShader,\n  vertexShader: SkyShader.vertexShader,\n  uniforms: /* @__PURE__ */ UniformsUtils.clone(SkyShader.uniforms),\n  side: BackSide,\n  depthWrite: false\n});\nclass Sky extends Mesh {\n  constructor() {\n    super(new BoxGeometry(1, 1, 1), material);\n  }\n}\n__publicField(Sky, \"SkyShader\", SkyShader);\n__publicField(Sky, \"material\", material);\nexport {\n  Sky\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Mesh, Vector4, REVISION, Color, Vector2, Matrix4, Clock, ShaderMaterial, UniformsUtils, UniformsLib, RepeatWrapping } from \"three\";\nimport { Reflector } from \"./Reflector.js\";\nimport { Refractor } from \"./Refractor.js\";\nconst _Water2 = class extends Mesh {\n  constructor(geometry, options = {}) {\n    super(geometry);\n    this.isWater = true;\n    this.type = \"Water\";\n    const scope = this;\n    const color = options.color !== void 0 ? new Color(options.color) : new Color(16777215);\n    const textureWidth = options.textureWidth || 512;\n    const textureHeight = options.textureHeight || 512;\n    const clipBias = options.clipBias || 0;\n    const flowDirection = options.flowDirection || new Vector2(1, 0);\n    const flowSpeed = options.flowSpeed || 0.03;\n    const reflectivity = options.reflectivity || 0.02;\n    const scale = options.scale || 1;\n    const shader = options.shader || _Water2.WaterShader;\n    const encoding = options.encoding !== void 0 ? options.encoding : 3e3;\n    const flowMap = options.flowMap || void 0;\n    const normalMap0 = options.normalMap0;\n    const normalMap1 = options.normalMap1;\n    const cycle = 0.15;\n    const halfCycle = cycle * 0.5;\n    const textureMatrix = new Matrix4();\n    const clock = new Clock();\n    if (Reflector === void 0) {\n      console.error(\"THREE.Water: Required component Reflector not found.\");\n      return;\n    }\n    if (Refractor === void 0) {\n      console.error(\"THREE.Water: Required component Refractor not found.\");\n      return;\n    }\n    const reflector = new Reflector(geometry, {\n      textureWidth,\n      textureHeight,\n      clipBias,\n      encoding\n    });\n    const refractor = new Refractor(geometry, {\n      textureWidth,\n      textureHeight,\n      clipBias,\n      encoding\n    });\n    reflector.matrixAutoUpdate = false;\n    refractor.matrixAutoUpdate = false;\n    this.material = new ShaderMaterial({\n      uniforms: UniformsUtils.merge([UniformsLib[\"fog\"], shader.uniforms]),\n      vertexShader: shader.vertexShader,\n      fragmentShader: shader.fragmentShader,\n      transparent: true,\n      fog: true\n    });\n    if (flowMap !== void 0) {\n      this.material.defines.USE_FLOWMAP = \"\";\n      this.material.uniforms[\"tFlowMap\"] = {\n        type: \"t\",\n        value: flowMap\n      };\n    } else {\n      this.material.uniforms[\"flowDirection\"] = {\n        type: \"v2\",\n        value: flowDirection\n      };\n    }\n    normalMap0.wrapS = normalMap0.wrapT = RepeatWrapping;\n    normalMap1.wrapS = normalMap1.wrapT = RepeatWrapping;\n    this.material.uniforms[\"tReflectionMap\"].value = reflector.getRenderTarget().texture;\n    this.material.uniforms[\"tRefractionMap\"].value = refractor.getRenderTarget().texture;\n    this.material.uniforms[\"tNormalMap0\"].value = normalMap0;\n    this.material.uniforms[\"tNormalMap1\"].value = normalMap1;\n    this.material.uniforms[\"color\"].value = color;\n    this.material.uniforms[\"reflectivity\"].value = reflectivity;\n    this.material.uniforms[\"textureMatrix\"].value = textureMatrix;\n    this.material.uniforms[\"config\"].value.x = 0;\n    this.material.uniforms[\"config\"].value.y = halfCycle;\n    this.material.uniforms[\"config\"].value.z = halfCycle;\n    this.material.uniforms[\"config\"].value.w = scale;\n    function updateTextureMatrix(camera) {\n      textureMatrix.set(0.5, 0, 0, 0.5, 0, 0.5, 0, 0.5, 0, 0, 0.5, 0.5, 0, 0, 0, 1);\n      textureMatrix.multiply(camera.projectionMatrix);\n      textureMatrix.multiply(camera.matrixWorldInverse);\n      textureMatrix.multiply(scope.matrixWorld);\n    }\n    function updateFlow() {\n      const delta = clock.getDelta();\n      const config = scope.material.uniforms[\"config\"];\n      config.value.x += flowSpeed * delta;\n      config.value.y = config.value.x + halfCycle;\n      if (config.value.x >= cycle) {\n        config.value.x = 0;\n        config.value.y = halfCycle;\n      } else if (config.value.y >= cycle) {\n        config.value.y = config.value.y - cycle;\n      }\n    }\n    this.onBeforeRender = function(renderer, scene, camera) {\n      updateTextureMatrix(camera);\n      updateFlow();\n      scope.visible = false;\n      reflector.matrixWorld.copy(scope.matrixWorld);\n      refractor.matrixWorld.copy(scope.matrixWorld);\n      reflector.onBeforeRender(renderer, scene, camera);\n      refractor.onBeforeRender(renderer, scene, camera);\n      scope.visible = true;\n    };\n  }\n};\nlet Water2 = _Water2;\n__publicField(Water2, \"WaterShader\", {\n  uniforms: {\n    color: {\n      value: null\n    },\n    reflectivity: {\n      value: 0\n    },\n    tReflectionMap: {\n      value: null\n    },\n    tRefractionMap: {\n      value: null\n    },\n    tNormalMap0: {\n      value: null\n    },\n    tNormalMap1: {\n      value: null\n    },\n    textureMatrix: {\n      value: null\n    },\n    config: {\n      value: /* @__PURE__ */ new Vector4()\n    }\n  },\n  vertexShader: (\n    /* glsl */\n    `\n\n\t\t#include <common>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\n\t\tuniform mat4 textureMatrix;\n\n\t\tvarying vec4 vCoord;\n\t\tvarying vec2 vUv;\n\t\tvarying vec3 vToEye;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tvCoord = textureMatrix * vec4( position, 1.0 );\n\n\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\tvToEye = cameraPosition - worldPosition.xyz;\n\n\t\t\tvec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}`\n  ),\n  fragmentShader: (\n    /* glsl */\n    `\n\n\t\t#include <common>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\n\t\tuniform sampler2D tReflectionMap;\n\t\tuniform sampler2D tRefractionMap;\n\t\tuniform sampler2D tNormalMap0;\n\t\tuniform sampler2D tNormalMap1;\n\n\t\t#ifdef USE_FLOWMAP\n\t\t\tuniform sampler2D tFlowMap;\n\t\t#else\n\t\t\tuniform vec2 flowDirection;\n\t\t#endif\n\n\t\tuniform vec3 color;\n\t\tuniform float reflectivity;\n\t\tuniform vec4 config;\n\n\t\tvarying vec4 vCoord;\n\t\tvarying vec2 vUv;\n\t\tvarying vec3 vToEye;\n\n\t\tvoid main() {\n\n\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\tfloat flowMapOffset0 = config.x;\n\t\t\tfloat flowMapOffset1 = config.y;\n\t\t\tfloat halfCycle = config.z;\n\t\t\tfloat scale = config.w;\n\n\t\t\tvec3 toEye = normalize( vToEye );\n\n\t\t\t// determine flow direction\n\t\t\tvec2 flow;\n\t\t\t#ifdef USE_FLOWMAP\n\t\t\t\tflow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;\n\t\t\t#else\n\t\t\t\tflow = flowDirection;\n\t\t\t#endif\n\t\t\tflow.x *= - 1.0;\n\n\t\t\t// sample normal maps (distort uvs with flowdata)\n\t\t\tvec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );\n\t\t\tvec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );\n\n\t\t\t// linear interpolate to get the final normal color\n\t\t\tfloat flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;\n\t\t\tvec4 normalColor = mix( normalColor0, normalColor1, flowLerp );\n\n\t\t\t// calculate normal vector\n\t\t\tvec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n\n\t\t\t// calculate the fresnel term to blend reflection and refraction maps\n\t\t\tfloat theta = max( dot( toEye, normal ), 0.0 );\n\t\t\tfloat reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );\n\n\t\t\t// calculate final uv coords\n\t\t\tvec3 coord = vCoord.xyz / vCoord.w;\n\t\t\tvec2 uv = coord.xy + coord.z * normal.xz * 0.05;\n\n\t\t\tvec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );\n\t\t\tvec4 refractColor = texture2D( tRefractionMap, uv );\n\n\t\t\t// multiply water color with the mix of both textures\n\t\t\tgl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <${parseInt(REVISION.replace(/\\D+/g, \"\")) >= 154 ? \"colorspace_fragment\" : \"encodings_fragment\"}>\n\t\t\t#include <fog_fragment>\n\n\t\t}`\n  )\n});\nexport {\n  Water2\n};\n", "import { Mesh, REVISION, IcosahedronGeometry, ShaderMaterial, DoubleSide } from \"three\";\nconst isCubeTexture = (def) => def && def.isCubeTexture;\nclass GroundProjectedEnv extends Mesh {\n  constructor(texture, options) {\n    var _a, _b;\n    const isCubeMap = isCubeTexture(texture);\n    const w = (_b = isCubeMap ? (_a = texture.image[0]) == null ? void 0 : _a.width : texture.image.width) != null ? _b : 1024;\n    const cubeSize = w / 4;\n    const _lodMax = Math.floor(Math.log2(cubeSize));\n    const _cubeSize = Math.pow(2, _lodMax);\n    const width = 3 * Math.max(_cubeSize, 16 * 7);\n    const height = 4 * _cubeSize;\n    const defines = [\n      isCubeMap ? \"#define ENVMAP_TYPE_CUBE\" : \"\",\n      `#define CUBEUV_TEXEL_WIDTH ${1 / width}`,\n      `#define CUBEUV_TEXEL_HEIGHT ${1 / height}`,\n      `#define CUBEUV_MAX_MIP ${_lodMax}.0`\n    ];\n    const vertexShader = (\n      /* glsl */\n      `\n        varying vec3 vWorldPosition;\n        void main() \n        {\n            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );\n            vWorldPosition = worldPosition.xyz;\n            \n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n        `\n    );\n    const fragmentShader = defines.join(\"\\n\") + /* glsl */\n    `\n        #define ENVMAP_TYPE_CUBE_UV\n        varying vec3 vWorldPosition;\n        uniform float radius;\n        uniform float height;\n        uniform float angle;\n        #ifdef ENVMAP_TYPE_CUBE\n            uniform samplerCube map;\n        #else\n            uniform sampler2D map;\n        #endif\n        // From: https://www.shadertoy.com/view/4tsBD7\n        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) \n        {\n            float d = dot ( rd, n );\n            \n            if( d > 0.0 ) { return 1e6; }\n            \n            vec3  o = ro - c;\n            float t = - dot( n, o ) / d;\n            vec3  q = o + rd * t;\n            \n            return ( dot( q, q ) < r * r ) ? t : 1e6;\n        }\n        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm\n        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) \n        {\n            vec3 oc = ro - ce;\n            float b = dot( oc, rd );\n            float c = dot( oc, oc ) - ra * ra;\n            float h = b * b - c;\n            \n            if( h < 0.0 ) { return -1.0; }\n            \n            h = sqrt( h );\n            \n            return - b + h;\n        }\n        vec3 project() \n        {\n            vec3 p = normalize( vWorldPosition );\n            vec3 camPos = cameraPosition;\n            camPos.y -= height;\n            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );\n            if( intersection > 0.0 ) {\n                \n                vec3 h = vec3( 0.0, - height, 0.0 );\n                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );\n                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;\n            } else {\n                p = vec3( 0.0, 1.0, 0.0 );\n            }\n            return p;\n        }\n        #include <common>\n        #include <cube_uv_reflection_fragment>\n        void main() \n        {\n            vec3 projectedWorldPosition = project();\n            \n            #ifdef ENVMAP_TYPE_CUBE\n                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;\n            #else\n                vec3 direction = normalize( projectedWorldPosition );\n                vec2 uv = equirectUv( direction );\n                vec3 outcolor = texture2D( map, uv ).rgb;\n            #endif\n            gl_FragColor = vec4( outcolor, 1.0 );\n            #include <tonemapping_fragment>\n            #include <${parseInt(REVISION.replace(/\\D+/g, \"\")) >= 154 ? \"colorspace_fragment\" : \"encodings_fragment\"}>\n        }\n        `;\n    const uniforms = {\n      map: { value: texture },\n      height: { value: (options == null ? void 0 : options.height) || 15 },\n      radius: { value: (options == null ? void 0 : options.radius) || 100 }\n    };\n    const geometry = new IcosahedronGeometry(1, 16);\n    const material = new ShaderMaterial({\n      uniforms,\n      fragmentShader,\n      vertexShader,\n      side: DoubleSide\n    });\n    super(geometry, material);\n  }\n  set radius(radius) {\n    this.material.uniforms.radius.value = radius;\n  }\n  get radius() {\n    return this.material.uniforms.radius.value;\n  }\n  set height(height) {\n    this.material.uniforms.height.value = height;\n  }\n  get height() {\n    return this.material.uniforms.height.value;\n  }\n}\nexport {\n  GroundProjectedEnv\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Mesh, PlaneGeometry, OrthographicCamera, MathUtils, WebGLRenderTarget, Vector2, RawShaderMaterial, NoBlending } from \"three\";\nvar _mipmapMaterial = /* @__PURE__ */ _getMipmapMaterial();\nvar _mesh = /* @__PURE__ */ new Mesh(/* @__PURE__ */ new PlaneGeometry(2, 2), _mipmapMaterial);\nvar _flatCamera = /* @__PURE__ */ new OrthographicCamera(0, 1, 0, 1, 0, 1);\nvar _tempTarget = null;\nclass RoughnessMipmapper {\n  constructor(renderer) {\n    __publicField(this, \"generateMipmaps\", function(material) {\n      if (\"roughnessMap\" in material === false)\n        return;\n      var { roughnessMap, normalMap } = material;\n      if (roughnessMap === null || normalMap === null || !roughnessMap.generateMipmaps || material.userData.roughnessUpdated) {\n        return;\n      }\n      material.userData.roughnessUpdated = true;\n      var width = Math.max(roughnessMap.image.width, normalMap.image.width);\n      var height = Math.max(roughnessMap.image.height, normalMap.image.height);\n      if (!MathUtils.isPowerOfTwo(width) || !MathUtils.isPowerOfTwo(height))\n        return;\n      var oldTarget = this._renderer.getRenderTarget();\n      var autoClear = this._renderer.autoClear;\n      this._renderer.autoClear = false;\n      if (_tempTarget === null || _tempTarget.width !== width || _tempTarget.height !== height) {\n        if (_tempTarget !== null)\n          _tempTarget.dispose();\n        _tempTarget = new WebGLRenderTarget(width, height, {\n          depthBuffer: false\n        });\n        _tempTarget.scissorTest = true;\n      }\n      if (width !== roughnessMap.image.width || height !== roughnessMap.image.height) {\n        var params = {\n          wrapS: roughnessMap.wrapS,\n          wrapT: roughnessMap.wrapT,\n          magFilter: roughnessMap.magFilter,\n          minFilter: roughnessMap.minFilter,\n          depthBuffer: false\n        };\n        var newRoughnessTarget = new WebGLRenderTarget(width, height, params);\n        newRoughnessTarget.texture.generateMipmaps = true;\n        this._renderer.setRenderTarget(newRoughnessTarget);\n        material.roughnessMap = newRoughnessTarget.texture;\n        if (material.metalnessMap == roughnessMap)\n          material.metalnessMap = material.roughnessMap;\n        if (material.aoMap == roughnessMap)\n          material.aoMap = material.roughnessMap;\n      }\n      _mipmapMaterial.uniforms.roughnessMap.value = roughnessMap;\n      _mipmapMaterial.uniforms.normalMap.value = normalMap;\n      var position = new Vector2(0, 0);\n      var texelSize = _mipmapMaterial.uniforms.texelSize.value;\n      for (let mip = 0; width >= 1 && height >= 1; ++mip, width /= 2, height /= 2) {\n        texelSize.set(1 / width, 1 / height);\n        if (mip == 0)\n          texelSize.set(0, 0);\n        _tempTarget.viewport.set(position.x, position.y, width, height);\n        _tempTarget.scissor.set(position.x, position.y, width, height);\n        this._renderer.setRenderTarget(_tempTarget);\n        this._renderer.render(_mesh, _flatCamera);\n        this._renderer.copyFramebufferToTexture(position, material.roughnessMap, mip);\n        _mipmapMaterial.uniforms.roughnessMap.value = material.roughnessMap;\n      }\n      if (roughnessMap !== material.roughnessMap)\n        roughnessMap.dispose();\n      this._renderer.setRenderTarget(oldTarget);\n      this._renderer.autoClear = autoClear;\n    });\n    __publicField(this, \"dispose\", function() {\n      _mipmapMaterial.dispose();\n      _mesh.geometry.dispose();\n      if (_tempTarget != null)\n        _tempTarget.dispose();\n    });\n    this._renderer = renderer;\n    this._renderer.compile(_mesh, _flatCamera);\n  }\n}\nfunction _getMipmapMaterial() {\n  var shaderMaterial = new RawShaderMaterial({\n    uniforms: {\n      roughnessMap: { value: null },\n      normalMap: { value: null },\n      texelSize: { value: new Vector2(1, 1) }\n    },\n    vertexShader: (\n      /* glsl */\n      `\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tattribute vec3 position;\n\t\t\tattribute vec2 uv;\n\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main() {\n\n\t\t\t\tvUv = uv;\n\n\t\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t\t}\n\t\t`\n    ),\n    fragmentShader: (\n      /* glsl */\n      `\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec2 vUv;\n\n\t\t\tuniform sampler2D roughnessMap;\n\t\t\tuniform sampler2D normalMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\n\t\t\tvec4 envMapTexelToLinear( vec4 a ) { return a; }\n\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tfloat roughnessToVariance( float roughness ) {\n\n\t\t\t\tfloat variance = 0.0;\n\n\t\t\t\tif ( roughness >= r1 ) {\n\n\t\t\t\t\tvariance = ( r0 - roughness ) * ( v1 - v0 ) / ( r0 - r1 ) + v0;\n\n\t\t\t\t} else if ( roughness >= r4 ) {\n\n\t\t\t\t\tvariance = ( r1 - roughness ) * ( v4 - v1 ) / ( r1 - r4 ) + v1;\n\n\t\t\t\t} else if ( roughness >= r5 ) {\n\n\t\t\t\t\tvariance = ( r4 - roughness ) * ( v5 - v4 ) / ( r4 - r5 ) + v4;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfloat roughness2 = roughness * roughness;\n\n\t\t\t\t\tvariance = 1.79 * roughness2 * roughness2;\n\n\t\t\t\t}\n\n\t\t\t\treturn variance;\n\n\t\t\t}\n\n\t\t\tfloat varianceToRoughness( float variance ) {\n\n\t\t\t\tfloat roughness = 0.0;\n\n\t\t\t\tif ( variance >= v1 ) {\n\n\t\t\t\t\troughness = ( v0 - variance ) * ( r1 - r0 ) / ( v0 - v1 ) + r0;\n\n\t\t\t\t} else if ( variance >= v4 ) {\n\n\t\t\t\t\troughness = ( v1 - variance ) * ( r4 - r1 ) / ( v1 - v4 ) + r1;\n\n\t\t\t\t} else if ( variance >= v5 ) {\n\n\t\t\t\t\troughness = ( v4 - variance ) * ( r5 - r4 ) / ( v4 - v5 ) + r4;\n\n\t\t\t\t} else {\n\n\t\t\t\t\troughness = pow( 0.559 * variance, 0.25 ); // 0.559 = 1.0 / 1.79\n\n\t\t\t\t}\n\n\t\t\t\treturn roughness;\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = texture2D( roughnessMap, vUv, - 1.0 );\n\n\t\t\t\tif ( texelSize.x == 0.0 ) return;\n\n\t\t\t\tfloat roughness = gl_FragColor.g;\n\n\t\t\t\tfloat variance = roughnessToVariance( roughness );\n\n\t\t\t\tvec3 avgNormal;\n\n\t\t\t\tfor ( float x = - 1.0; x < 2.0; x += 2.0 ) {\n\n\t\t\t\t\tfor ( float y = - 1.0; y < 2.0; y += 2.0 ) {\n\n\t\t\t\t\t\tvec2 uv = vUv + vec2( x, y ) * 0.25 * texelSize;\n\n\t\t\t\t\t\tavgNormal += normalize( texture2D( normalMap, uv, - 1.0 ).xyz - 0.5 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvariance += 1.0 - 0.25 * length( avgNormal );\n\n\t\t\t\tgl_FragColor.g = varianceToRoughness( variance );\n\n\t\t\t}\n\t\t`\n    ),\n    blending: NoBlending,\n    depthTest: false,\n    depthWrite: false\n  });\n  shaderMaterial.type = \"RoughnessMipmapper\";\n  return shaderMaterial;\n}\nexport {\n  RoughnessMipmapper\n};\n", "import { Vector3, Quaternion, Matrix4, AnimationMixer, VectorKeyframeTrack, QuaternionKeyframeTrack, AnimationClip, SkeletonHelper } from \"three\";\nfunction retarget(target, source, options = {}) {\n  const pos = new Vector3(), quat = new Quaternion(), scale = new Vector3(), bindBoneMatrix = new Matrix4(), relativeMatrix = new Matrix4(), globalMatrix = new Matrix4();\n  options.preserveMatrix = options.preserveMatrix !== void 0 ? options.preserveMatrix : true;\n  options.preservePosition = options.preservePosition !== void 0 ? options.preservePosition : true;\n  options.preserveHipPosition = options.preserveHipPosition !== void 0 ? options.preserveHipPosition : false;\n  options.useTargetMatrix = options.useTargetMatrix !== void 0 ? options.useTargetMatrix : false;\n  options.hip = options.hip !== void 0 ? options.hip : \"hip\";\n  options.names = options.names || {};\n  const sourceBones = source.isObject3D ? source.skeleton.bones : getBones(source), bones = target.isObject3D ? target.skeleton.bones : getBones(target);\n  let bindBones, bone, name, boneTo, bonesPosition;\n  if (target.isObject3D) {\n    target.skeleton.pose();\n  } else {\n    options.useTargetMatrix = true;\n    options.preserveMatrix = false;\n  }\n  if (options.preservePosition) {\n    bonesPosition = [];\n    for (let i = 0; i < bones.length; i++) {\n      bonesPosition.push(bones[i].position.clone());\n    }\n  }\n  if (options.preserveMatrix) {\n    target.updateMatrixWorld();\n    target.matrixWorld.identity();\n    for (let i = 0; i < target.children.length; ++i) {\n      target.children[i].updateMatrixWorld(true);\n    }\n  }\n  if (options.offsets) {\n    bindBones = [];\n    for (let i = 0; i < bones.length; ++i) {\n      bone = bones[i];\n      name = options.names[bone.name] || bone.name;\n      if (options.offsets[name]) {\n        bone.matrix.multiply(options.offsets[name]);\n        bone.matrix.decompose(bone.position, bone.quaternion, bone.scale);\n        bone.updateMatrixWorld();\n      }\n      bindBones.push(bone.matrixWorld.clone());\n    }\n  }\n  for (let i = 0; i < bones.length; ++i) {\n    bone = bones[i];\n    name = options.names[bone.name] || bone.name;\n    boneTo = getBoneByName(name, sourceBones);\n    globalMatrix.copy(bone.matrixWorld);\n    if (boneTo) {\n      boneTo.updateMatrixWorld();\n      if (options.useTargetMatrix) {\n        relativeMatrix.copy(boneTo.matrixWorld);\n      } else {\n        relativeMatrix.copy(target.matrixWorld).invert();\n        relativeMatrix.multiply(boneTo.matrixWorld);\n      }\n      scale.setFromMatrixScale(relativeMatrix);\n      relativeMatrix.scale(scale.set(1 / scale.x, 1 / scale.y, 1 / scale.z));\n      globalMatrix.makeRotationFromQuaternion(quat.setFromRotationMatrix(relativeMatrix));\n      if (target.isObject3D) {\n        const boneIndex = bones.indexOf(bone), wBindMatrix = bindBones ? bindBones[boneIndex] : bindBoneMatrix.copy(target.skeleton.boneInverses[boneIndex]).invert();\n        globalMatrix.multiply(wBindMatrix);\n      }\n      globalMatrix.copyPosition(relativeMatrix);\n    }\n    if (bone.parent && bone.parent.isBone) {\n      bone.matrix.copy(bone.parent.matrixWorld).invert();\n      bone.matrix.multiply(globalMatrix);\n    } else {\n      bone.matrix.copy(globalMatrix);\n    }\n    if (options.preserveHipPosition && name === options.hip) {\n      bone.matrix.setPosition(pos.set(0, bone.position.y, 0));\n    }\n    bone.matrix.decompose(bone.position, bone.quaternion, bone.scale);\n    bone.updateMatrixWorld();\n  }\n  if (options.preservePosition) {\n    for (let i = 0; i < bones.length; ++i) {\n      bone = bones[i];\n      name = options.names[bone.name] || bone.name;\n      if (name !== options.hip) {\n        bone.position.copy(bonesPosition[i]);\n      }\n    }\n  }\n  if (options.preserveMatrix) {\n    target.updateMatrixWorld(true);\n  }\n}\nfunction retargetClip(target, source, clip, options = {}) {\n  options.useFirstFramePosition = options.useFirstFramePosition !== void 0 ? options.useFirstFramePosition : false;\n  options.fps = options.fps !== void 0 ? options.fps : 30;\n  options.names = options.names || [];\n  if (!source.isObject3D) {\n    source = getHelperFromSkeleton(source);\n  }\n  const numFrames = Math.round(clip.duration * (options.fps / 1e3) * 1e3), delta = 1 / options.fps, convertedTracks = [], mixer = new AnimationMixer(source), bones = getBones(target.skeleton), boneDatas = [];\n  let positionOffset, bone, boneTo, boneData, name;\n  mixer.clipAction(clip).play();\n  mixer.update(0);\n  source.updateMatrixWorld();\n  for (let i = 0; i < numFrames; ++i) {\n    const time = i * delta;\n    retarget(target, source, options);\n    for (let j = 0; j < bones.length; ++j) {\n      name = options.names[bones[j].name] || bones[j].name;\n      boneTo = getBoneByName(name, source.skeleton);\n      if (boneTo) {\n        bone = bones[j];\n        boneData = boneDatas[j] = boneDatas[j] || { bone };\n        if (options.hip === name) {\n          if (!boneData.pos) {\n            boneData.pos = {\n              times: new Float32Array(numFrames),\n              values: new Float32Array(numFrames * 3)\n            };\n          }\n          if (options.useFirstFramePosition) {\n            if (i === 0) {\n              positionOffset = bone.position.clone();\n            }\n            bone.position.sub(positionOffset);\n          }\n          boneData.pos.times[i] = time;\n          bone.position.toArray(boneData.pos.values, i * 3);\n        }\n        if (!boneData.quat) {\n          boneData.quat = {\n            times: new Float32Array(numFrames),\n            values: new Float32Array(numFrames * 4)\n          };\n        }\n        boneData.quat.times[i] = time;\n        bone.quaternion.toArray(boneData.quat.values, i * 4);\n      }\n    }\n    mixer.update(delta);\n    source.updateMatrixWorld();\n  }\n  for (let i = 0; i < boneDatas.length; ++i) {\n    boneData = boneDatas[i];\n    if (boneData) {\n      if (boneData.pos) {\n        convertedTracks.push(\n          new VectorKeyframeTrack(\n            \".bones[\" + boneData.bone.name + \"].position\",\n            boneData.pos.times,\n            boneData.pos.values\n          )\n        );\n      }\n      convertedTracks.push(\n        new QuaternionKeyframeTrack(\n          \".bones[\" + boneData.bone.name + \"].quaternion\",\n          boneData.quat.times,\n          boneData.quat.values\n        )\n      );\n    }\n  }\n  mixer.uncacheAction(clip);\n  return new AnimationClip(clip.name, -1, convertedTracks);\n}\nfunction clone(source) {\n  const sourceLookup = /* @__PURE__ */ new Map();\n  const cloneLookup = /* @__PURE__ */ new Map();\n  const clone2 = source.clone();\n  parallelTraverse(source, clone2, function(sourceNode, clonedNode) {\n    sourceLookup.set(clonedNode, sourceNode);\n    cloneLookup.set(sourceNode, clonedNode);\n  });\n  clone2.traverse(function(node) {\n    if (!node.isSkinnedMesh)\n      return;\n    const clonedMesh = node;\n    const sourceMesh = sourceLookup.get(node);\n    const sourceBones = sourceMesh.skeleton.bones;\n    clonedMesh.skeleton = sourceMesh.skeleton.clone();\n    clonedMesh.bindMatrix.copy(sourceMesh.bindMatrix);\n    clonedMesh.skeleton.bones = sourceBones.map(function(bone) {\n      return cloneLookup.get(bone);\n    });\n    clonedMesh.bind(clonedMesh.skeleton, clonedMesh.bindMatrix);\n  });\n  return clone2;\n}\nfunction getBoneByName(name, skeleton) {\n  for (let i = 0, bones = getBones(skeleton); i < bones.length; i++) {\n    if (name === bones[i].name)\n      return bones[i];\n  }\n}\nfunction getBones(skeleton) {\n  return Array.isArray(skeleton) ? skeleton : skeleton.bones;\n}\nfunction getHelperFromSkeleton(skeleton) {\n  const source = new SkeletonHelper(skeleton.bones[0]);\n  source.skeleton = skeleton;\n  return source;\n}\nfunction parallelTraverse(a, b, callback) {\n  callback(a, b);\n  for (let i = 0; i < a.children.length; i++) {\n    parallelTraverse(a.children[i], b.children[i], callback);\n  }\n}\nconst SkeletonUtils = { retarget, retargetClip, clone };\nexport {\n  SkeletonUtils\n};\n", "const UnpackDepthRGBAShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    opacity: { value: 1 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float opacity;\",\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"#include <packing>\",\n    \"void main() {\",\n    \"\tfloat depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );\",\n    \"\tgl_FragColor = vec4( vec3( depth ), opacity );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  UnpackDepthRGBAShader\n};\n", "import { Vector2 } from \"three\";\nconst BokehShader2 = {\n  uniforms: {\n    textureWidth: { value: 1 },\n    textureHeight: { value: 1 },\n    focalDepth: { value: 1 },\n    focalLength: { value: 24 },\n    fstop: { value: 0.9 },\n    tColor: { value: null },\n    tDepth: { value: null },\n    maxblur: { value: 1 },\n    showFocus: { value: 0 },\n    manualdof: { value: 0 },\n    vignetting: { value: 0 },\n    depthblur: { value: 0 },\n    threshold: { value: 0.5 },\n    gain: { value: 2 },\n    bias: { value: 0.5 },\n    fringe: { value: 0.7 },\n    znear: { value: 0.1 },\n    zfar: { value: 100 },\n    noise: { value: 1 },\n    dithering: { value: 1e-4 },\n    pentagon: { value: 0 },\n    shaderFocus: { value: 1 },\n    focusCoords: { value: /* @__PURE__ */ new Vector2() }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"#include <common>\",\n    \"varying vec2 vUv;\",\n    \"uniform sampler2D tColor;\",\n    \"uniform sampler2D tDepth;\",\n    \"uniform float textureWidth;\",\n    \"uniform float textureHeight;\",\n    \"uniform float focalDepth;  //focal distance value in meters, but you may use autofocus option below\",\n    \"uniform float focalLength; //focal length in mm\",\n    \"uniform float fstop; //f-stop value\",\n    \"uniform bool showFocus; //show debug focus point and focal range (red = focal point, green = focal range)\",\n    \"/*\",\n    \"make sure that these two values are the same for your camera, otherwise distances will be wrong.\",\n    \"*/\",\n    \"uniform float znear; // camera clipping start\",\n    \"uniform float zfar; // camera clipping end\",\n    \"//------------------------------------------\",\n    \"//user variables\",\n    \"const int samples = SAMPLES; //samples on the first ring\",\n    \"const int rings = RINGS; //ring count\",\n    \"const int maxringsamples = rings * samples;\",\n    \"uniform bool manualdof; // manual dof calculation\",\n    \"float ndofstart = 1.0; // near dof blur start\",\n    \"float ndofdist = 2.0; // near dof blur falloff distance\",\n    \"float fdofstart = 1.0; // far dof blur start\",\n    \"float fdofdist = 3.0; // far dof blur falloff distance\",\n    \"float CoC = 0.03; //circle of confusion size in mm (35mm film = 0.03mm)\",\n    \"uniform bool vignetting; // use optical lens vignetting\",\n    \"float vignout = 1.3; // vignetting outer border\",\n    \"float vignin = 0.0; // vignetting inner border\",\n    \"float vignfade = 22.0; // f-stops till vignete fades\",\n    \"uniform bool shaderFocus;\",\n    \"// disable if you use external focalDepth value\",\n    \"uniform vec2 focusCoords;\",\n    \"// autofocus point on screen (0.0,0.0 - left lower corner, 1.0,1.0 - upper right)\",\n    \"// if center of screen use vec2(0.5, 0.5);\",\n    \"uniform float maxblur;\",\n    \"//clamp value of max blur (0.0 = no blur, 1.0 default)\",\n    \"uniform float threshold; // highlight threshold;\",\n    \"uniform float gain; // highlight gain;\",\n    \"uniform float bias; // bokeh edge bias\",\n    \"uniform float fringe; // bokeh chromatic aberration / fringing\",\n    \"uniform bool noise; //use noise instead of pattern for sample dithering\",\n    \"uniform float dithering;\",\n    \"uniform bool depthblur; // blur the depth buffer\",\n    \"float dbsize = 1.25; // depth blur size\",\n    \"/*\",\n    \"next part is experimental\",\n    \"not looking good with small sample and ring count\",\n    \"looks okay starting from samples = 4, rings = 4\",\n    \"*/\",\n    \"uniform bool pentagon; //use pentagon as bokeh shape?\",\n    \"float feather = 0.4; //pentagon shape feather\",\n    \"//------------------------------------------\",\n    \"float penta(vec2 coords) {\",\n    \"\t//pentagonal shape\",\n    \"\tfloat scale = float(rings) - 1.3;\",\n    \"\tvec4  HS0 = vec4( 1.0,         0.0,         0.0,  1.0);\",\n    \"\tvec4  HS1 = vec4( 0.309016994, 0.951056516, 0.0,  1.0);\",\n    \"\tvec4  HS2 = vec4(-0.809016994, 0.587785252, 0.0,  1.0);\",\n    \"\tvec4  HS3 = vec4(-0.809016994,-0.587785252, 0.0,  1.0);\",\n    \"\tvec4  HS4 = vec4( 0.309016994,-0.951056516, 0.0,  1.0);\",\n    \"\tvec4  HS5 = vec4( 0.0        ,0.0         , 1.0,  1.0);\",\n    \"\tvec4  one = vec4( 1.0 );\",\n    \"\tvec4 P = vec4((coords),vec2(scale, scale));\",\n    \"\tvec4 dist = vec4(0.0);\",\n    \"\tfloat inorout = -4.0;\",\n    \"\tdist.x = dot( P, HS0 );\",\n    \"\tdist.y = dot( P, HS1 );\",\n    \"\tdist.z = dot( P, HS2 );\",\n    \"\tdist.w = dot( P, HS3 );\",\n    \"\tdist = smoothstep( -feather, feather, dist );\",\n    \"\tinorout += dot( dist, one );\",\n    \"\tdist.x = dot( P, HS4 );\",\n    \"\tdist.y = HS5.w - abs( P.z );\",\n    \"\tdist = smoothstep( -feather, feather, dist );\",\n    \"\tinorout += dist.x;\",\n    \"\treturn clamp( inorout, 0.0, 1.0 );\",\n    \"}\",\n    \"float bdepth(vec2 coords) {\",\n    \"\t// Depth buffer blur\",\n    \"\tfloat d = 0.0;\",\n    \"\tfloat kernel[9];\",\n    \"\tvec2 offset[9];\",\n    \"\tvec2 wh = vec2(1.0/textureWidth,1.0/textureHeight) * dbsize;\",\n    \"\toffset[0] = vec2(-wh.x,-wh.y);\",\n    \"\toffset[1] = vec2( 0.0, -wh.y);\",\n    \"\toffset[2] = vec2( wh.x -wh.y);\",\n    \"\toffset[3] = vec2(-wh.x,  0.0);\",\n    \"\toffset[4] = vec2( 0.0,   0.0);\",\n    \"\toffset[5] = vec2( wh.x,  0.0);\",\n    \"\toffset[6] = vec2(-wh.x, wh.y);\",\n    \"\toffset[7] = vec2( 0.0,  wh.y);\",\n    \"\toffset[8] = vec2( wh.x, wh.y);\",\n    \"\tkernel[0] = 1.0/16.0;   kernel[1] = 2.0/16.0;   kernel[2] = 1.0/16.0;\",\n    \"\tkernel[3] = 2.0/16.0;   kernel[4] = 4.0/16.0;   kernel[5] = 2.0/16.0;\",\n    \"\tkernel[6] = 1.0/16.0;   kernel[7] = 2.0/16.0;   kernel[8] = 1.0/16.0;\",\n    \"\tfor( int i=0; i<9; i++ ) {\",\n    \"\t\tfloat tmp = texture2D(tDepth, coords + offset[i]).r;\",\n    \"\t\td += tmp * kernel[i];\",\n    \"\t}\",\n    \"\treturn d;\",\n    \"}\",\n    \"vec3 color(vec2 coords,float blur) {\",\n    \"\t//processing the sample\",\n    \"\tvec3 col = vec3(0.0);\",\n    \"\tvec2 texel = vec2(1.0/textureWidth,1.0/textureHeight);\",\n    \"\tcol.r = texture2D(tColor,coords + vec2(0.0,1.0)*texel*fringe*blur).r;\",\n    \"\tcol.g = texture2D(tColor,coords + vec2(-0.866,-0.5)*texel*fringe*blur).g;\",\n    \"\tcol.b = texture2D(tColor,coords + vec2(0.866,-0.5)*texel*fringe*blur).b;\",\n    \"\tvec3 lumcoeff = vec3(0.299,0.587,0.114);\",\n    \"\tfloat lum = dot(col.rgb, lumcoeff);\",\n    \"\tfloat thresh = max((lum-threshold)*gain, 0.0);\",\n    \"\treturn col+mix(vec3(0.0),col,thresh*blur);\",\n    \"}\",\n    \"vec3 debugFocus(vec3 col, float blur, float depth) {\",\n    \"\tfloat edge = 0.002*depth; //distance based edge smoothing\",\n    \"\tfloat m = clamp(smoothstep(0.0,edge,blur),0.0,1.0);\",\n    \"\tfloat e = clamp(smoothstep(1.0-edge,1.0,blur),0.0,1.0);\",\n    \"\tcol = mix(col,vec3(1.0,0.5,0.0),(1.0-m)*0.6);\",\n    \"\tcol = mix(col,vec3(0.0,0.5,1.0),((1.0-e)-(1.0-m))*0.2);\",\n    \"\treturn col;\",\n    \"}\",\n    \"float linearize(float depth) {\",\n    \"\treturn -zfar * znear / (depth * (zfar - znear) - zfar);\",\n    \"}\",\n    \"float vignette() {\",\n    \"\tfloat dist = distance(vUv.xy, vec2(0.5,0.5));\",\n    \"\tdist = smoothstep(vignout+(fstop/vignfade), vignin+(fstop/vignfade), dist);\",\n    \"\treturn clamp(dist,0.0,1.0);\",\n    \"}\",\n    \"float gather(float i, float j, int ringsamples, inout vec3 col, float w, float h, float blur) {\",\n    \"\tfloat rings2 = float(rings);\",\n    \"\tfloat step = PI*2.0 / float(ringsamples);\",\n    \"\tfloat pw = cos(j*step)*i;\",\n    \"\tfloat ph = sin(j*step)*i;\",\n    \"\tfloat p = 1.0;\",\n    \"\tif (pentagon) {\",\n    \"\t\tp = penta(vec2(pw,ph));\",\n    \"\t}\",\n    \"\tcol += color(vUv.xy + vec2(pw*w,ph*h), blur) * mix(1.0, i/rings2, bias) * p;\",\n    \"\treturn 1.0 * mix(1.0, i /rings2, bias) * p;\",\n    \"}\",\n    \"void main() {\",\n    \"\t//scene depth calculation\",\n    \"\tfloat depth = linearize(texture2D(tDepth,vUv.xy).x);\",\n    \"\t// Blur depth?\",\n    \"\tif ( depthblur ) {\",\n    \"\t\tdepth = linearize(bdepth(vUv.xy));\",\n    \"\t}\",\n    \"\t//focal plane calculation\",\n    \"\tfloat fDepth = focalDepth;\",\n    \"\tif (shaderFocus) {\",\n    \"\t\tfDepth = linearize(texture2D(tDepth,focusCoords).x);\",\n    \"\t}\",\n    \"\t// dof blur factor calculation\",\n    \"\tfloat blur = 0.0;\",\n    \"\tif (manualdof) {\",\n    \"\t\tfloat a = depth-fDepth; // Focal plane\",\n    \"\t\tfloat b = (a-fdofstart)/fdofdist; // Far DoF\",\n    \"\t\tfloat c = (-a-ndofstart)/ndofdist; // Near Dof\",\n    \"\t\tblur = (a>0.0) ? b : c;\",\n    \"\t} else {\",\n    \"\t\tfloat f = focalLength; // focal length in mm\",\n    \"\t\tfloat d = fDepth*1000.0; // focal plane in mm\",\n    \"\t\tfloat o = depth*1000.0; // depth in mm\",\n    \"\t\tfloat a = (o*f)/(o-f);\",\n    \"\t\tfloat b = (d*f)/(d-f);\",\n    \"\t\tfloat c = (d-f)/(d*fstop*CoC);\",\n    \"\t\tblur = abs(a-b)*c;\",\n    \"\t}\",\n    \"\tblur = clamp(blur,0.0,1.0);\",\n    \"\t// calculation of pattern for dithering\",\n    \"\tvec2 noise = vec2(rand(vUv.xy), rand( vUv.xy + vec2( 0.4, 0.6 ) ) )*dithering*blur;\",\n    \"\t// getting blur x and y step factor\",\n    \"\tfloat w = (1.0/textureWidth)*blur*maxblur+noise.x;\",\n    \"\tfloat h = (1.0/textureHeight)*blur*maxblur+noise.y;\",\n    \"\t// calculation of final color\",\n    \"\tvec3 col = vec3(0.0);\",\n    \"\tif(blur < 0.05) {\",\n    \"\t\t//some optimization thingy\",\n    \"\t\tcol = texture2D(tColor, vUv.xy).rgb;\",\n    \"\t} else {\",\n    \"\t\tcol = texture2D(tColor, vUv.xy).rgb;\",\n    \"\t\tfloat s = 1.0;\",\n    \"\t\tint ringsamples;\",\n    \"\t\tfor (int i = 1; i <= rings; i++) {\",\n    \"\t\t\t/*unboxstart*/\",\n    \"\t\t\tringsamples = i * samples;\",\n    \"\t\t\tfor (int j = 0 ; j < maxringsamples ; j++) {\",\n    \"\t\t\t\tif (j >= ringsamples) break;\",\n    \"\t\t\t\ts += gather(float(i), float(j), ringsamples, col, w, h, blur);\",\n    \"\t\t\t}\",\n    \"\t\t\t/*unboxend*/\",\n    \"\t\t}\",\n    \"\t\tcol /= s; //divide by sample count\",\n    \"\t}\",\n    \"\tif (showFocus) {\",\n    \"\t\tcol = debugFocus(col, blur, depth);\",\n    \"\t}\",\n    \"\tif (vignetting) {\",\n    \"\t\tcol *= vignette();\",\n    \"\t}\",\n    \"\tgl_FragColor.rgb = col;\",\n    \"\tgl_FragColor.a = 1.0;\",\n    \"} \"\n  ].join(\"\\n\")\n};\nconst BokehDepthShader = {\n  uniforms: {\n    mNear: { value: 1 },\n    mFar: { value: 1e3 }\n  },\n  vertexShader: [\n    \"varying float vViewZDepth;\",\n    \"void main() {\",\n    \"\t#include <begin_vertex>\",\n    \"\t#include <project_vertex>\",\n    \"\tvViewZDepth = - mvPosition.z;\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float mNear;\",\n    \"uniform float mFar;\",\n    \"varying float vViewZDepth;\",\n    \"void main() {\",\n    \"\tfloat color = 1.0 - smoothstep( mNear, mFar, vViewZDepth );\",\n    \"\tgl_FragColor = vec4( vec3( color ), 1.0 );\",\n    \"} \"\n  ].join(\"\\n\")\n};\nexport {\n  BokehDepthShader,\n  BokehShader2\n};\n", "import { Triangle, Vector3 } from \"three\";\nconst _face = /* @__PURE__ */ new Triangle();\nconst _color = /* @__PURE__ */ new Vector3();\nclass MeshSurfaceSampler {\n  constructor(mesh) {\n    let geometry = mesh.geometry;\n    if (geometry.index) {\n      console.warn(\"THREE.MeshSurfaceSampler: Converting geometry to non-indexed BufferGeometry.\");\n      geometry = geometry.toNonIndexed();\n    }\n    this.geometry = geometry;\n    this.randomFunction = Math.random;\n    this.positionAttribute = this.geometry.getAttribute(\"position\");\n    this.colorAttribute = this.geometry.getAttribute(\"color\");\n    this.weightAttribute = null;\n    this.distribution = null;\n  }\n  setWeightAttribute(name) {\n    this.weightAttribute = name ? this.geometry.getAttribute(name) : null;\n    return this;\n  }\n  build() {\n    const positionAttribute = this.positionAttribute;\n    const weightAttribute = this.weightAttribute;\n    const faceWeights = new Float32Array(positionAttribute.count / 3);\n    for (let i = 0; i < positionAttribute.count; i += 3) {\n      let faceWeight = 1;\n      if (weightAttribute) {\n        faceWeight = weightAttribute.getX(i) + weightAttribute.getX(i + 1) + weightAttribute.getX(i + 2);\n      }\n      _face.a.fromBufferAttribute(positionAttribute, i);\n      _face.b.fromBufferAttribute(positionAttribute, i + 1);\n      _face.c.fromBufferAttribute(positionAttribute, i + 2);\n      faceWeight *= _face.getArea();\n      faceWeights[i / 3] = faceWeight;\n    }\n    this.distribution = new Float32Array(positionAttribute.count / 3);\n    let cumulativeTotal = 0;\n    for (let i = 0; i < faceWeights.length; i++) {\n      cumulativeTotal += faceWeights[i];\n      this.distribution[i] = cumulativeTotal;\n    }\n    return this;\n  }\n  setRandomGenerator(randomFunction) {\n    this.randomFunction = randomFunction;\n    return this;\n  }\n  sample(targetPosition, targetNormal, targetColor) {\n    const faceIndex = this.sampleFaceIndex();\n    return this.sampleFace(faceIndex, targetPosition, targetNormal, targetColor);\n  }\n  sampleFaceIndex() {\n    const cumulativeTotal = this.distribution[this.distribution.length - 1];\n    return this.binarySearch(this.randomFunction() * cumulativeTotal);\n  }\n  binarySearch(x) {\n    const dist = this.distribution;\n    let start = 0;\n    let end = dist.length - 1;\n    let index = -1;\n    while (start <= end) {\n      const mid = Math.ceil((start + end) / 2);\n      if (mid === 0 || dist[mid - 1] <= x && dist[mid] > x) {\n        index = mid;\n        break;\n      } else if (x < dist[mid]) {\n        end = mid - 1;\n      } else {\n        start = mid + 1;\n      }\n    }\n    return index;\n  }\n  sampleFace(faceIndex, targetPosition, targetNormal, targetColor) {\n    let u = this.randomFunction();\n    let v = this.randomFunction();\n    if (u + v > 1) {\n      u = 1 - u;\n      v = 1 - v;\n    }\n    _face.a.fromBufferAttribute(this.positionAttribute, faceIndex * 3);\n    _face.b.fromBufferAttribute(this.positionAttribute, faceIndex * 3 + 1);\n    _face.c.fromBufferAttribute(this.positionAttribute, faceIndex * 3 + 2);\n    targetPosition.set(0, 0, 0).addScaledVector(_face.a, u).addScaledVector(_face.b, v).addScaledVector(_face.c, 1 - (u + v));\n    if (targetNormal !== void 0) {\n      _face.getNormal(targetNormal);\n    }\n    if (targetColor !== void 0 && this.colorAttribute !== void 0) {\n      _face.a.fromBufferAttribute(this.colorAttribute, faceIndex * 3);\n      _face.b.fromBufferAttribute(this.colorAttribute, faceIndex * 3 + 1);\n      _face.c.fromBufferAttribute(this.colorAttribute, faceIndex * 3 + 2);\n      _color.set(0, 0, 0).addScaledVector(_face.a, u).addScaledVector(_face.b, v).addScaledVector(_face.c, 1 - (u + v));\n      targetColor.r = _color.x;\n      targetColor.g = _color.y;\n      targetColor.b = _color.z;\n    }\n    return this;\n  }\n}\nexport {\n  MeshSurfaceSampler\n};\n", "import { Vector3, Matrix3, Box3, Matrix4, Ray, MathUtils } from \"three\";\nconst a = {\n  c: null,\n  // center\n  u: [/* @__PURE__ */ new Vector3(), /* @__PURE__ */ new Vector3(), /* @__PURE__ */ new Vector3()],\n  // basis vectors\n  e: []\n  // half width\n};\nconst b = {\n  c: null,\n  // center\n  u: [/* @__PURE__ */ new Vector3(), /* @__PURE__ */ new Vector3(), /* @__PURE__ */ new Vector3()],\n  // basis vectors\n  e: []\n  // half width\n};\nconst R = [[], [], []];\nconst AbsR = [[], [], []];\nconst t = [];\nconst xAxis = /* @__PURE__ */ new Vector3();\nconst yAxis = /* @__PURE__ */ new Vector3();\nconst zAxis = /* @__PURE__ */ new Vector3();\nconst v1 = /* @__PURE__ */ new Vector3();\nconst size = /* @__PURE__ */ new Vector3();\nconst closestPoint = /* @__PURE__ */ new Vector3();\nconst rotationMatrix = /* @__PURE__ */ new Matrix3();\nconst aabb = /* @__PURE__ */ new Box3();\nconst matrix = /* @__PURE__ */ new Matrix4();\nconst inverse = /* @__PURE__ */ new Matrix4();\nconst localRay = /* @__PURE__ */ new Ray();\nclass OBB {\n  constructor(center = new Vector3(), halfSize = new Vector3(), rotation = new Matrix3()) {\n    this.center = center;\n    this.halfSize = halfSize;\n    this.rotation = rotation;\n  }\n  set(center, halfSize, rotation) {\n    this.center = center;\n    this.halfSize = halfSize;\n    this.rotation = rotation;\n    return this;\n  }\n  copy(obb2) {\n    this.center.copy(obb2.center);\n    this.halfSize.copy(obb2.halfSize);\n    this.rotation.copy(obb2.rotation);\n    return this;\n  }\n  clone() {\n    return new this.constructor().copy(this);\n  }\n  getSize(result) {\n    return result.copy(this.halfSize).multiplyScalar(2);\n  }\n  /**\n   * Reference: Closest Point on OBB to Point in Real-Time Collision Detection\n   * by Christer Ericson (chapter 5.1.4)\n   */\n  clampPoint(point, result) {\n    const halfSize = this.halfSize;\n    v1.subVectors(point, this.center);\n    this.rotation.extractBasis(xAxis, yAxis, zAxis);\n    result.copy(this.center);\n    const x = MathUtils.clamp(v1.dot(xAxis), -halfSize.x, halfSize.x);\n    result.add(xAxis.multiplyScalar(x));\n    const y = MathUtils.clamp(v1.dot(yAxis), -halfSize.y, halfSize.y);\n    result.add(yAxis.multiplyScalar(y));\n    const z = MathUtils.clamp(v1.dot(zAxis), -halfSize.z, halfSize.z);\n    result.add(zAxis.multiplyScalar(z));\n    return result;\n  }\n  containsPoint(point) {\n    v1.subVectors(point, this.center);\n    this.rotation.extractBasis(xAxis, yAxis, zAxis);\n    return Math.abs(v1.dot(xAxis)) <= this.halfSize.x && Math.abs(v1.dot(yAxis)) <= this.halfSize.y && Math.abs(v1.dot(zAxis)) <= this.halfSize.z;\n  }\n  intersectsBox3(box3) {\n    return this.intersectsOBB(obb.fromBox3(box3));\n  }\n  intersectsSphere(sphere) {\n    this.clampPoint(sphere.center, closestPoint);\n    return closestPoint.distanceToSquared(sphere.center) <= sphere.radius * sphere.radius;\n  }\n  /**\n   * Reference: OBB-OBB Intersection in Real-Time Collision Detection\n   * by Christer Ericson (chapter 4.4.1)\n   *\n   */\n  intersectsOBB(obb2, epsilon = Number.EPSILON) {\n    a.c = this.center;\n    a.e[0] = this.halfSize.x;\n    a.e[1] = this.halfSize.y;\n    a.e[2] = this.halfSize.z;\n    this.rotation.extractBasis(a.u[0], a.u[1], a.u[2]);\n    b.c = obb2.center;\n    b.e[0] = obb2.halfSize.x;\n    b.e[1] = obb2.halfSize.y;\n    b.e[2] = obb2.halfSize.z;\n    obb2.rotation.extractBasis(b.u[0], b.u[1], b.u[2]);\n    for (let i = 0; i < 3; i++) {\n      for (let j = 0; j < 3; j++) {\n        R[i][j] = a.u[i].dot(b.u[j]);\n      }\n    }\n    v1.subVectors(b.c, a.c);\n    t[0] = v1.dot(a.u[0]);\n    t[1] = v1.dot(a.u[1]);\n    t[2] = v1.dot(a.u[2]);\n    for (let i = 0; i < 3; i++) {\n      for (let j = 0; j < 3; j++) {\n        AbsR[i][j] = Math.abs(R[i][j]) + epsilon;\n      }\n    }\n    let ra, rb;\n    for (let i = 0; i < 3; i++) {\n      ra = a.e[i];\n      rb = b.e[0] * AbsR[i][0] + b.e[1] * AbsR[i][1] + b.e[2] * AbsR[i][2];\n      if (Math.abs(t[i]) > ra + rb)\n        return false;\n    }\n    for (let i = 0; i < 3; i++) {\n      ra = a.e[0] * AbsR[0][i] + a.e[1] * AbsR[1][i] + a.e[2] * AbsR[2][i];\n      rb = b.e[i];\n      if (Math.abs(t[0] * R[0][i] + t[1] * R[1][i] + t[2] * R[2][i]) > ra + rb)\n        return false;\n    }\n    ra = a.e[1] * AbsR[2][0] + a.e[2] * AbsR[1][0];\n    rb = b.e[1] * AbsR[0][2] + b.e[2] * AbsR[0][1];\n    if (Math.abs(t[2] * R[1][0] - t[1] * R[2][0]) > ra + rb)\n      return false;\n    ra = a.e[1] * AbsR[2][1] + a.e[2] * AbsR[1][1];\n    rb = b.e[0] * AbsR[0][2] + b.e[2] * AbsR[0][0];\n    if (Math.abs(t[2] * R[1][1] - t[1] * R[2][1]) > ra + rb)\n      return false;\n    ra = a.e[1] * AbsR[2][2] + a.e[2] * AbsR[1][2];\n    rb = b.e[0] * AbsR[0][1] + b.e[1] * AbsR[0][0];\n    if (Math.abs(t[2] * R[1][2] - t[1] * R[2][2]) > ra + rb)\n      return false;\n    ra = a.e[0] * AbsR[2][0] + a.e[2] * AbsR[0][0];\n    rb = b.e[1] * AbsR[1][2] + b.e[2] * AbsR[1][1];\n    if (Math.abs(t[0] * R[2][0] - t[2] * R[0][0]) > ra + rb)\n      return false;\n    ra = a.e[0] * AbsR[2][1] + a.e[2] * AbsR[0][1];\n    rb = b.e[0] * AbsR[1][2] + b.e[2] * AbsR[1][0];\n    if (Math.abs(t[0] * R[2][1] - t[2] * R[0][1]) > ra + rb)\n      return false;\n    ra = a.e[0] * AbsR[2][2] + a.e[2] * AbsR[0][2];\n    rb = b.e[0] * AbsR[1][1] + b.e[1] * AbsR[1][0];\n    if (Math.abs(t[0] * R[2][2] - t[2] * R[0][2]) > ra + rb)\n      return false;\n    ra = a.e[0] * AbsR[1][0] + a.e[1] * AbsR[0][0];\n    rb = b.e[1] * AbsR[2][2] + b.e[2] * AbsR[2][1];\n    if (Math.abs(t[1] * R[0][0] - t[0] * R[1][0]) > ra + rb)\n      return false;\n    ra = a.e[0] * AbsR[1][1] + a.e[1] * AbsR[0][1];\n    rb = b.e[0] * AbsR[2][2] + b.e[2] * AbsR[2][0];\n    if (Math.abs(t[1] * R[0][1] - t[0] * R[1][1]) > ra + rb)\n      return false;\n    ra = a.e[0] * AbsR[1][2] + a.e[1] * AbsR[0][2];\n    rb = b.e[0] * AbsR[2][1] + b.e[1] * AbsR[2][0];\n    if (Math.abs(t[1] * R[0][2] - t[0] * R[1][2]) > ra + rb)\n      return false;\n    return true;\n  }\n  /**\n   * Reference: Testing Box Against Plane in Real-Time Collision Detection\n   * by Christer Ericson (chapter 5.2.3)\n   */\n  intersectsPlane(plane) {\n    this.rotation.extractBasis(xAxis, yAxis, zAxis);\n    const r = this.halfSize.x * Math.abs(plane.normal.dot(xAxis)) + this.halfSize.y * Math.abs(plane.normal.dot(yAxis)) + this.halfSize.z * Math.abs(plane.normal.dot(zAxis));\n    const d = plane.normal.dot(this.center) - plane.constant;\n    return Math.abs(d) <= r;\n  }\n  /**\n   * Performs a ray/OBB intersection test and stores the intersection point\n   * to the given 3D vector. If no intersection is detected, *null* is returned.\n   */\n  intersectRay(ray, result) {\n    this.getSize(size);\n    aabb.setFromCenterAndSize(v1.set(0, 0, 0), size);\n    matrix.setFromMatrix3(this.rotation);\n    matrix.setPosition(this.center);\n    inverse.copy(matrix).invert();\n    localRay.copy(ray).applyMatrix4(inverse);\n    if (localRay.intersectBox(aabb, result)) {\n      return result.applyMatrix4(matrix);\n    } else {\n      return null;\n    }\n  }\n  /**\n   * Performs a ray/OBB intersection test. Returns either true or false if\n   * there is a intersection or not.\n   */\n  intersectsRay(ray) {\n    return this.intersectRay(ray, v1) !== null;\n  }\n  fromBox3(box3) {\n    box3.getCenter(this.center);\n    box3.getSize(this.halfSize).multiplyScalar(0.5);\n    this.rotation.identity();\n    return this;\n  }\n  equals(obb2) {\n    return obb2.center.equals(this.center) && obb2.halfSize.equals(this.halfSize) && obb2.rotation.equals(this.rotation);\n  }\n  applyMatrix4(matrix2) {\n    const e = matrix2.elements;\n    let sx = v1.set(e[0], e[1], e[2]).length();\n    const sy = v1.set(e[4], e[5], e[6]).length();\n    const sz = v1.set(e[8], e[9], e[10]).length();\n    const det = matrix2.determinant();\n    if (det < 0)\n      sx = -sx;\n    rotationMatrix.setFromMatrix4(matrix2);\n    const invSX = 1 / sx;\n    const invSY = 1 / sy;\n    const invSZ = 1 / sz;\n    rotationMatrix.elements[0] *= invSX;\n    rotationMatrix.elements[1] *= invSX;\n    rotationMatrix.elements[2] *= invSX;\n    rotationMatrix.elements[3] *= invSY;\n    rotationMatrix.elements[4] *= invSY;\n    rotationMatrix.elements[5] *= invSY;\n    rotationMatrix.elements[6] *= invSZ;\n    rotationMatrix.elements[7] *= invSZ;\n    rotationMatrix.elements[8] *= invSZ;\n    this.rotation.multiply(rotationMatrix);\n    this.halfSize.x *= sx;\n    this.halfSize.y *= sy;\n    this.halfSize.z *= sz;\n    v1.setFromMatrixPosition(matrix2);\n    this.center.add(v1);\n    return this;\n  }\n}\nconst obb = /* @__PURE__ */ new OBB();\nexport {\n  OBB\n};\n", "import { Vector3 } from \"three\";\nconst _v1 = /* @__PURE__ */ new Vector3();\nconst _v2 = /* @__PURE__ */ new Vector3();\nconst _v3 = /* @__PURE__ */ new Vector3();\nconst EPS = 1e-10;\nclass Capsule {\n  constructor(start = new Vector3(0, 0, 0), end = new Vector3(0, 1, 0), radius = 1) {\n    this.start = start;\n    this.end = end;\n    this.radius = radius;\n  }\n  clone() {\n    return new Capsule(this.start.clone(), this.end.clone(), this.radius);\n  }\n  set(start, end, radius) {\n    this.start.copy(start);\n    this.end.copy(end);\n    this.radius = radius;\n  }\n  copy(capsule) {\n    this.start.copy(capsule.start);\n    this.end.copy(capsule.end);\n    this.radius = capsule.radius;\n  }\n  getCenter(target) {\n    return target.copy(this.end).add(this.start).multiplyScalar(0.5);\n  }\n  translate(v) {\n    this.start.add(v);\n    this.end.add(v);\n  }\n  checkAABBAxis(p1x, p1y, p2x, p2y, minx, maxx, miny, maxy, radius) {\n    return (minx - p1x < radius || minx - p2x < radius) && (p1x - maxx < radius || p2x - maxx < radius) && (miny - p1y < radius || miny - p2y < radius) && (p1y - maxy < radius || p2y - maxy < radius);\n  }\n  intersectsBox(box) {\n    return this.checkAABBAxis(\n      this.start.x,\n      this.start.y,\n      this.end.x,\n      this.end.y,\n      box.min.x,\n      box.max.x,\n      box.min.y,\n      box.max.y,\n      this.radius\n    ) && this.checkAABBAxis(\n      this.start.x,\n      this.start.z,\n      this.end.x,\n      this.end.z,\n      box.min.x,\n      box.max.x,\n      box.min.z,\n      box.max.z,\n      this.radius\n    ) && this.checkAABBAxis(\n      this.start.y,\n      this.start.z,\n      this.end.y,\n      this.end.z,\n      box.min.y,\n      box.max.y,\n      box.min.z,\n      box.max.z,\n      this.radius\n    );\n  }\n  lineLineMinimumPoints(line1, line2) {\n    const r = _v1.copy(line1.end).sub(line1.start);\n    const s = _v2.copy(line2.end).sub(line2.start);\n    const w = _v3.copy(line2.start).sub(line1.start);\n    const a = r.dot(s), b = r.dot(r), c = s.dot(s), d = s.dot(w), e = r.dot(w);\n    let t1, t2;\n    const divisor = b * c - a * a;\n    if (Math.abs(divisor) < EPS) {\n      const d1 = -d / c;\n      const d2 = (a - d) / c;\n      if (Math.abs(d1 - 0.5) < Math.abs(d2 - 0.5)) {\n        t1 = 0;\n        t2 = d1;\n      } else {\n        t1 = 1;\n        t2 = d2;\n      }\n    } else {\n      t1 = (d * a + e * c) / divisor;\n      t2 = (t1 * a - d) / c;\n    }\n    t2 = Math.max(0, Math.min(1, t2));\n    t1 = Math.max(0, Math.min(1, t1));\n    const point1 = r.multiplyScalar(t1).add(line1.start);\n    const point2 = s.multiplyScalar(t2).add(line2.start);\n    return [point1, point2];\n  }\n}\nexport {\n  Capsule\n};\n", "function init() {\n  const _p2 = [\n    151,\n    160,\n    137,\n    91,\n    90,\n    15,\n    131,\n    13,\n    201,\n    95,\n    96,\n    53,\n    194,\n    233,\n    7,\n    225,\n    140,\n    36,\n    103,\n    30,\n    69,\n    142,\n    8,\n    99,\n    37,\n    240,\n    21,\n    10,\n    23,\n    190,\n    6,\n    148,\n    247,\n    120,\n    234,\n    75,\n    0,\n    26,\n    197,\n    62,\n    94,\n    252,\n    219,\n    203,\n    117,\n    35,\n    11,\n    32,\n    57,\n    177,\n    33,\n    88,\n    237,\n    149,\n    56,\n    87,\n    174,\n    20,\n    125,\n    136,\n    171,\n    168,\n    68,\n    175,\n    74,\n    165,\n    71,\n    134,\n    139,\n    48,\n    27,\n    166,\n    77,\n    146,\n    158,\n    231,\n    83,\n    111,\n    229,\n    122,\n    60,\n    211,\n    133,\n    230,\n    220,\n    105,\n    92,\n    41,\n    55,\n    46,\n    245,\n    40,\n    244,\n    102,\n    143,\n    54,\n    65,\n    25,\n    63,\n    161,\n    1,\n    216,\n    80,\n    73,\n    209,\n    76,\n    132,\n    187,\n    208,\n    89,\n    18,\n    169,\n    200,\n    196,\n    135,\n    130,\n    116,\n    188,\n    159,\n    86,\n    164,\n    100,\n    109,\n    198,\n    173,\n    186,\n    3,\n    64,\n    52,\n    217,\n    226,\n    250,\n    124,\n    123,\n    5,\n    202,\n    38,\n    147,\n    118,\n    126,\n    255,\n    82,\n    85,\n    212,\n    207,\n    206,\n    59,\n    227,\n    47,\n    16,\n    58,\n    17,\n    182,\n    189,\n    28,\n    42,\n    223,\n    183,\n    170,\n    213,\n    119,\n    248,\n    152,\n    2,\n    44,\n    154,\n    163,\n    70,\n    221,\n    153,\n    101,\n    155,\n    167,\n    43,\n    172,\n    9,\n    129,\n    22,\n    39,\n    253,\n    19,\n    98,\n    108,\n    110,\n    79,\n    113,\n    224,\n    232,\n    178,\n    185,\n    112,\n    104,\n    218,\n    246,\n    97,\n    228,\n    251,\n    34,\n    242,\n    193,\n    238,\n    210,\n    144,\n    12,\n    191,\n    179,\n    162,\n    241,\n    81,\n    51,\n    145,\n    235,\n    249,\n    14,\n    239,\n    107,\n    49,\n    192,\n    214,\n    31,\n    181,\n    199,\n    106,\n    157,\n    184,\n    84,\n    204,\n    176,\n    115,\n    121,\n    50,\n    45,\n    127,\n    4,\n    150,\n    254,\n    138,\n    236,\n    205,\n    93,\n    222,\n    114,\n    67,\n    29,\n    24,\n    72,\n    243,\n    141,\n    128,\n    195,\n    78,\n    66,\n    215,\n    61,\n    156,\n    180\n  ];\n  for (let i = 0; i < 256; i++) {\n    _p2[256 + i] = _p2[i];\n  }\n  return _p2;\n}\nconst _p = /* @__PURE__ */ init();\nfunction fade(t) {\n  return t * t * t * (t * (t * 6 - 15) + 10);\n}\nfunction lerp(t, a, b) {\n  return a + t * (b - a);\n}\nfunction grad(hash, x, y, z) {\n  const h = hash & 15;\n  const u = h < 8 ? x : y, v = h < 4 ? y : h == 12 || h == 14 ? x : z;\n  return ((h & 1) == 0 ? u : -u) + ((h & 2) == 0 ? v : -v);\n}\nclass ImprovedNoise {\n  noise(x, y, z) {\n    const floorX = Math.floor(x), floorY = Math.floor(y), floorZ = Math.floor(z);\n    const X = floorX & 255, Y = floorY & 255, Z = floorZ & 255;\n    x -= floorX;\n    y -= floorY;\n    z -= floorZ;\n    const xMinus1 = x - 1, yMinus1 = y - 1, zMinus1 = z - 1;\n    const u = fade(x), v = fade(y), w = fade(z);\n    const A = _p[X] + Y, AA = _p[A] + Z, AB = _p[A + 1] + Z, B = _p[X + 1] + Y, BA = _p[B] + Z, BB = _p[B + 1] + Z;\n    return lerp(\n      w,\n      lerp(\n        v,\n        lerp(u, grad(_p[AA], x, y, z), grad(_p[BA], xMinus1, y, z)),\n        lerp(u, grad(_p[AB], x, yMinus1, z), grad(_p[BB], xMinus1, yMinus1, z))\n      ),\n      lerp(\n        v,\n        lerp(u, grad(_p[AA + 1], x, y, zMinus1), grad(_p[BA + 1], xMinus1, y, zMinus1)),\n        lerp(u, grad(_p[AB + 1], x, yMinus1, zMinus1), grad(_p[BB + 1], xMinus1, yMinus1, zMinus1))\n      )\n    );\n  }\n}\nexport {\n  ImprovedNoise\n};\n", "import { Vector3, Plane, Line3, Sphere, Box3, Triangle } from \"three\";\nimport { Capsule } from \"./Capsule.js\";\nconst _v1 = /* @__PURE__ */ new Vector3();\nconst _v2 = /* @__PURE__ */ new Vector3();\nconst _plane = /* @__PURE__ */ new Plane();\nconst _line1 = /* @__PURE__ */ new Line3();\nconst _line2 = /* @__PURE__ */ new Line3();\nconst _sphere = /* @__PURE__ */ new Sphere();\nconst _capsule = /* @__PURE__ */ new Capsule();\nclass Octree {\n  constructor(box) {\n    this.triangles = [];\n    this.box = box;\n    this.subTrees = [];\n  }\n  addTriangle(triangle) {\n    if (!this.bounds)\n      this.bounds = new Box3();\n    this.bounds.min.x = Math.min(this.bounds.min.x, triangle.a.x, triangle.b.x, triangle.c.x);\n    this.bounds.min.y = Math.min(this.bounds.min.y, triangle.a.y, triangle.b.y, triangle.c.y);\n    this.bounds.min.z = Math.min(this.bounds.min.z, triangle.a.z, triangle.b.z, triangle.c.z);\n    this.bounds.max.x = Math.max(this.bounds.max.x, triangle.a.x, triangle.b.x, triangle.c.x);\n    this.bounds.max.y = Math.max(this.bounds.max.y, triangle.a.y, triangle.b.y, triangle.c.y);\n    this.bounds.max.z = Math.max(this.bounds.max.z, triangle.a.z, triangle.b.z, triangle.c.z);\n    this.triangles.push(triangle);\n    return this;\n  }\n  calcBox() {\n    this.box = this.bounds.clone();\n    this.box.min.x -= 0.01;\n    this.box.min.y -= 0.01;\n    this.box.min.z -= 0.01;\n    return this;\n  }\n  split(level) {\n    if (!this.box)\n      return;\n    const subTrees = [];\n    const halfsize = _v2.copy(this.box.max).sub(this.box.min).multiplyScalar(0.5);\n    for (let x = 0; x < 2; x++) {\n      for (let y = 0; y < 2; y++) {\n        for (let z = 0; z < 2; z++) {\n          const box = new Box3();\n          const v = _v1.set(x, y, z);\n          box.min.copy(this.box.min).add(v.multiply(halfsize));\n          box.max.copy(box.min).add(halfsize);\n          subTrees.push(new Octree(box));\n        }\n      }\n    }\n    let triangle;\n    while (triangle = this.triangles.pop()) {\n      for (let i = 0; i < subTrees.length; i++) {\n        if (subTrees[i].box.intersectsTriangle(triangle)) {\n          subTrees[i].triangles.push(triangle);\n        }\n      }\n    }\n    for (let i = 0; i < subTrees.length; i++) {\n      const len = subTrees[i].triangles.length;\n      if (len > 8 && level < 16) {\n        subTrees[i].split(level + 1);\n      }\n      if (len !== 0) {\n        this.subTrees.push(subTrees[i]);\n      }\n    }\n    return this;\n  }\n  build() {\n    this.calcBox();\n    this.split(0);\n    return this;\n  }\n  getRayTriangles(ray, triangles) {\n    for (let i = 0; i < this.subTrees.length; i++) {\n      const subTree = this.subTrees[i];\n      if (!ray.intersectsBox(subTree.box))\n        continue;\n      if (subTree.triangles.length > 0) {\n        for (let j = 0; j < subTree.triangles.length; j++) {\n          if (triangles.indexOf(subTree.triangles[j]) === -1)\n            triangles.push(subTree.triangles[j]);\n        }\n      } else {\n        subTree.getRayTriangles(ray, triangles);\n      }\n    }\n    return triangles;\n  }\n  triangleCapsuleIntersect(capsule, triangle) {\n    triangle.getPlane(_plane);\n    const d1 = _plane.distanceToPoint(capsule.start) - capsule.radius;\n    const d2 = _plane.distanceToPoint(capsule.end) - capsule.radius;\n    if (d1 > 0 && d2 > 0 || d1 < -capsule.radius && d2 < -capsule.radius) {\n      return false;\n    }\n    const delta = Math.abs(d1 / (Math.abs(d1) + Math.abs(d2)));\n    const intersectPoint = _v1.copy(capsule.start).lerp(capsule.end, delta);\n    if (triangle.containsPoint(intersectPoint)) {\n      return { normal: _plane.normal.clone(), point: intersectPoint.clone(), depth: Math.abs(Math.min(d1, d2)) };\n    }\n    const r2 = capsule.radius * capsule.radius;\n    const line1 = _line1.set(capsule.start, capsule.end);\n    const lines = [\n      [triangle.a, triangle.b],\n      [triangle.b, triangle.c],\n      [triangle.c, triangle.a]\n    ];\n    for (let i = 0; i < lines.length; i++) {\n      const line2 = _line2.set(lines[i][0], lines[i][1]);\n      const [point1, point2] = capsule.lineLineMinimumPoints(line1, line2);\n      if (point1.distanceToSquared(point2) < r2) {\n        return {\n          normal: point1.clone().sub(point2).normalize(),\n          point: point2.clone(),\n          depth: capsule.radius - point1.distanceTo(point2)\n        };\n      }\n    }\n    return false;\n  }\n  triangleSphereIntersect(sphere, triangle) {\n    triangle.getPlane(_plane);\n    if (!sphere.intersectsPlane(_plane))\n      return false;\n    const depth = Math.abs(_plane.distanceToSphere(sphere));\n    const r2 = sphere.radius * sphere.radius - depth * depth;\n    const plainPoint = _plane.projectPoint(sphere.center, _v1);\n    if (triangle.containsPoint(sphere.center)) {\n      return {\n        normal: _plane.normal.clone(),\n        point: plainPoint.clone(),\n        depth: Math.abs(_plane.distanceToSphere(sphere))\n      };\n    }\n    const lines = [\n      [triangle.a, triangle.b],\n      [triangle.b, triangle.c],\n      [triangle.c, triangle.a]\n    ];\n    for (let i = 0; i < lines.length; i++) {\n      _line1.set(lines[i][0], lines[i][1]);\n      _line1.closestPointToPoint(plainPoint, true, _v2);\n      const d = _v2.distanceToSquared(sphere.center);\n      if (d < r2) {\n        return {\n          normal: sphere.center.clone().sub(_v2).normalize(),\n          point: _v2.clone(),\n          depth: sphere.radius - Math.sqrt(d)\n        };\n      }\n    }\n    return false;\n  }\n  getSphereTriangles(sphere, triangles) {\n    for (let i = 0; i < this.subTrees.length; i++) {\n      const subTree = this.subTrees[i];\n      if (!sphere.intersectsBox(subTree.box))\n        continue;\n      if (subTree.triangles.length > 0) {\n        for (let j = 0; j < subTree.triangles.length; j++) {\n          if (triangles.indexOf(subTree.triangles[j]) === -1)\n            triangles.push(subTree.triangles[j]);\n        }\n      } else {\n        subTree.getSphereTriangles(sphere, triangles);\n      }\n    }\n  }\n  getCapsuleTriangles(capsule, triangles) {\n    for (let i = 0; i < this.subTrees.length; i++) {\n      const subTree = this.subTrees[i];\n      if (!capsule.intersectsBox(subTree.box))\n        continue;\n      if (subTree.triangles.length > 0) {\n        for (let j = 0; j < subTree.triangles.length; j++) {\n          if (triangles.indexOf(subTree.triangles[j]) === -1)\n            triangles.push(subTree.triangles[j]);\n        }\n      } else {\n        subTree.getCapsuleTriangles(capsule, triangles);\n      }\n    }\n  }\n  sphereIntersect(sphere) {\n    _sphere.copy(sphere);\n    const triangles = [];\n    let result, hit = false;\n    this.getSphereTriangles(sphere, triangles);\n    for (let i = 0; i < triangles.length; i++) {\n      if (result = this.triangleSphereIntersect(_sphere, triangles[i])) {\n        hit = true;\n        _sphere.center.add(result.normal.multiplyScalar(result.depth));\n      }\n    }\n    if (hit) {\n      const collisionVector = _sphere.center.clone().sub(sphere.center);\n      const depth = collisionVector.length();\n      return { normal: collisionVector.normalize(), depth };\n    }\n    return false;\n  }\n  capsuleIntersect(capsule) {\n    _capsule.copy(capsule);\n    const triangles = [];\n    let result, hit = false;\n    this.getCapsuleTriangles(_capsule, triangles);\n    for (let i = 0; i < triangles.length; i++) {\n      if (result = this.triangleCapsuleIntersect(_capsule, triangles[i])) {\n        hit = true;\n        _capsule.translate(result.normal.multiplyScalar(result.depth));\n      }\n    }\n    if (hit) {\n      const collisionVector = _capsule.getCenter(new Vector3()).sub(capsule.getCenter(_v1));\n      const depth = collisionVector.length();\n      return { normal: collisionVector.normalize(), depth };\n    }\n    return false;\n  }\n  rayIntersect(ray) {\n    if (ray.direction.length() === 0)\n      return;\n    const triangles = [];\n    let triangle, position, distance = 1e100;\n    this.getRayTriangles(ray, triangles);\n    for (let i = 0; i < triangles.length; i++) {\n      const result = ray.intersectTriangle(triangles[i].a, triangles[i].b, triangles[i].c, true, _v1);\n      if (result) {\n        const newdistance = result.sub(ray.origin).length();\n        if (distance > newdistance) {\n          position = result.clone().add(ray.origin);\n          distance = newdistance;\n          triangle = triangles[i];\n        }\n      }\n    }\n    return distance < 1e100 ? { distance, triangle, position } : false;\n  }\n  fromGraphNode(group) {\n    group.updateWorldMatrix(true, true);\n    group.traverse((obj) => {\n      if (obj.isMesh === true) {\n        let geometry, isTemp = false;\n        if (obj.geometry.index !== null) {\n          isTemp = true;\n          geometry = obj.geometry.toNonIndexed();\n        } else {\n          geometry = obj.geometry;\n        }\n        const positionAttribute = geometry.getAttribute(\"position\");\n        for (let i = 0; i < positionAttribute.count; i += 3) {\n          const v1 = new Vector3().fromBufferAttribute(positionAttribute, i);\n          const v2 = new Vector3().fromBufferAttribute(positionAttribute, i + 1);\n          const v3 = new Vector3().fromBufferAttribute(positionAttribute, i + 2);\n          v1.applyMatrix4(obj.matrixWorld);\n          v2.applyMatrix4(obj.matrixWorld);\n          v3.applyMatrix4(obj.matrixWorld);\n          this.addTriangle(new Triangle(v1, v2, v3));\n        }\n        if (isTemp) {\n          geometry.dispose();\n        }\n      }\n    });\n    this.build();\n    return this;\n  }\n}\nexport {\n  Octree\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { EventDispatcher, Vector3, TOUCH, Spherical, Vector2, Quaternion, MOUSE, PerspectiveCamera, OrthographicCamera } from \"three\";\nvar STATE = /* @__PURE__ */ ((STATE2) => {\n  STATE2[STATE2[\"NONE\"] = -1] = \"NONE\";\n  STATE2[STATE2[\"ROTATE\"] = 0] = \"ROTATE\";\n  STATE2[STATE2[\"DOLLY\"] = 1] = \"DOLLY\";\n  STATE2[STATE2[\"PAN\"] = 2] = \"PAN\";\n  STATE2[STATE2[\"TOUCH_ROTATE\"] = 3] = \"TOUCH_ROTATE\";\n  STATE2[STATE2[\"TOUCH_PAN\"] = 4] = \"TOUCH_PAN\";\n  STATE2[STATE2[\"TOUCH_DOLLY_PAN\"] = 5] = \"TOUCH_DOLLY_PAN\";\n  STATE2[STATE2[\"TOUCH_DOLLY_ROTATE\"] = 6] = \"TOUCH_DOLLY_ROTATE\";\n  return STATE2;\n})(STATE || {});\nclass CameraControls extends EventDispatcher {\n  constructor(object, domElement) {\n    super();\n    __publicField(this, \"object\");\n    __publicField(this, \"domElement\");\n    /** Set to false to disable this control */\n    __publicField(this, \"enabled\", true);\n    /** \"target\" sets the location of focus, where the object orbits around */\n    __publicField(this, \"target\", new Vector3());\n    /** Set to true to enable trackball behavior */\n    __publicField(this, \"trackball\", false);\n    /** How far you can dolly in ( PerspectiveCamera only ) */\n    __publicField(this, \"minDistance\", 0);\n    /** How far you can dolly out ( PerspectiveCamera only ) */\n    __publicField(this, \"maxDistance\", Infinity);\n    // How far you can zoom in and out ( OrthographicCamera only )\n    __publicField(this, \"minZoom\", 0);\n    __publicField(this, \"maxZoom\", Infinity);\n    // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n    __publicField(this, \"minPolarAngle\", 0);\n    __publicField(this, \"maxPolarAngle\", Math.PI);\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n    __publicField(this, \"minAzimuthAngle\", -Infinity);\n    // radians\n    __publicField(this, \"maxAzimuthAngle\", Infinity);\n    // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n    __publicField(this, \"enableDamping\", false);\n    __publicField(this, \"dampingFactor\", 0.05);\n    /**\n     * This option enables dollying in and out; property named as \"zoom\" for backwards compatibility\n     * Set to false to disable zooming\n     */\n    __publicField(this, \"enableZoom\", true);\n    __publicField(this, \"zoomSpeed\", 1);\n    /** Set to false to disable rotating */\n    __publicField(this, \"enableRotate\", true);\n    __publicField(this, \"rotateSpeed\", 1);\n    /** Set to false to disable panning */\n    __publicField(this, \"enablePan\", true);\n    __publicField(this, \"panSpeed\", 1);\n    /** if true, pan in screen-space */\n    __publicField(this, \"screenSpacePanning\", false);\n    /** pixels moved per arrow key push */\n    __publicField(this, \"keyPanSpeed\", 7);\n    /**\n     * Set to true to automatically rotate around the target\n     * If auto-rotate is enabled, you must call controls.update() in your animation loop\n     * auto-rotate is not supported for trackball behavior\n     */\n    __publicField(this, \"autoRotate\", false);\n    __publicField(this, \"autoRotateSpeed\", 2);\n    // 30 seconds per round when fps is 60\n    /** Set to false to disable use of the keys */\n    __publicField(this, \"enableKeys\", true);\n    /** The four arrow keys */\n    __publicField(this, \"keys\", { LEFT: \"ArrowLeft\", UP: \"ArrowUp\", RIGHT: \"ArrowRight\", BOTTOM: \"ArrowDown\" });\n    __publicField(this, \"mouseButtons\");\n    /** Touch fingers */\n    __publicField(this, \"touches\", { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN });\n    // for reset\n    __publicField(this, \"target0\");\n    __publicField(this, \"position0\");\n    __publicField(this, \"quaternion0\");\n    __publicField(this, \"zoom0\");\n    // current position in spherical coordinates\n    __publicField(this, \"spherical\", new Spherical());\n    __publicField(this, \"sphericalDelta\", new Spherical());\n    __publicField(this, \"changeEvent\", { type: \"change\" });\n    __publicField(this, \"startEvent\", { type: \"start\" });\n    __publicField(this, \"endEvent\", { type: \"end\" });\n    __publicField(this, \"state\", -1);\n    __publicField(this, \"EPS\", 1e-6);\n    __publicField(this, \"scale\", 1);\n    __publicField(this, \"panOffset\", new Vector3());\n    __publicField(this, \"zoomChanged\", false);\n    __publicField(this, \"rotateStart\", new Vector2());\n    __publicField(this, \"rotateEnd\", new Vector2());\n    __publicField(this, \"rotateDelta\", new Vector2());\n    __publicField(this, \"panStart\", new Vector2());\n    __publicField(this, \"panEnd\", new Vector2());\n    __publicField(this, \"panDelta\", new Vector2());\n    __publicField(this, \"dollyStart\", new Vector2());\n    __publicField(this, \"dollyEnd\", new Vector2());\n    __publicField(this, \"dollyDelta\", new Vector2());\n    __publicField(this, \"offset\", new Vector3());\n    __publicField(this, \"lastPosition\", new Vector3());\n    __publicField(this, \"lastQuaternion\", new Quaternion());\n    __publicField(this, \"q\", new Quaternion());\n    __publicField(this, \"v\", new Vector3());\n    __publicField(this, \"vec\", new Vector3());\n    __publicField(this, \"quat\");\n    __publicField(this, \"quatInverse\");\n    __publicField(this, \"getPolarAngle\", () => this.spherical.phi);\n    __publicField(this, \"getAzimuthalAngle\", () => this.spherical.theta);\n    __publicField(this, \"saveState\", () => {\n      this.target0.copy(this.target);\n      this.position0.copy(this.object.position);\n      this.quaternion0.copy(this.object.quaternion);\n      this.zoom0 = this.object.zoom;\n    });\n    __publicField(this, \"reset\", () => {\n      this.target.copy(this.target0);\n      this.object.position.copy(this.position0);\n      this.object.quaternion.copy(this.quaternion0);\n      this.object.zoom = this.zoom0;\n      this.object.updateProjectionMatrix();\n      this.dispatchEvent(this.changeEvent);\n      this.update();\n      this.state = -1;\n    });\n    __publicField(this, \"dispose\", () => {\n      this.domElement.removeEventListener(\"contextmenu\", this.onContextMenu, false);\n      this.domElement.removeEventListener(\"mousedown\", this.onMouseDown, false);\n      this.domElement.removeEventListener(\"wheel\", this.onMouseWheel, false);\n      this.domElement.removeEventListener(\"touchstart\", this.onTouchStart, false);\n      this.domElement.removeEventListener(\"touchend\", this.onTouchEnd, false);\n      this.domElement.removeEventListener(\"touchmove\", this.onTouchMove, false);\n      document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n      this.domElement.removeEventListener(\"keydown\", this.onKeyDown, false);\n    });\n    __publicField(this, \"update\", () => {\n      const position = this.object.position;\n      this.offset.copy(position).sub(this.target);\n      if (this.trackball) {\n        if (this.sphericalDelta.theta) {\n          this.vec.set(0, 1, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.theta * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        }\n        if (this.sphericalDelta.phi) {\n          this.vec.set(1, 0, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.phi * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        }\n        this.offset.multiplyScalar(this.scale);\n        this.offset.clampLength(this.minDistance, this.maxDistance);\n      } else {\n        this.offset.applyQuaternion(this.quat);\n        if (this.autoRotate && this.state === -1) {\n          this.rotateLeft(this.getAutoRotationAngle());\n        }\n        this.spherical.setFromVector3(this.offset);\n        if (this.enableDamping) {\n          this.spherical.theta += this.sphericalDelta.theta * this.dampingFactor;\n          this.spherical.phi += this.sphericalDelta.phi * this.dampingFactor;\n        } else {\n          this.spherical.theta += this.sphericalDelta.theta;\n          this.spherical.phi += this.sphericalDelta.phi;\n        }\n        this.spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this.spherical.theta));\n        this.spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this.spherical.phi));\n        this.spherical.makeSafe();\n        this.spherical.radius *= this.scale;\n        this.spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this.spherical.radius));\n        this.offset.setFromSpherical(this.spherical);\n        this.offset.applyQuaternion(this.quatInverse);\n      }\n      if (this.enableDamping === true) {\n        this.target.addScaledVector(this.panOffset, this.dampingFactor);\n      } else {\n        this.target.add(this.panOffset);\n      }\n      position.copy(this.target).add(this.offset);\n      if (this.trackball === false) {\n        this.object.lookAt(this.target);\n      }\n      if (this.enableDamping === true) {\n        this.sphericalDelta.theta *= 1 - this.dampingFactor;\n        this.sphericalDelta.phi *= 1 - this.dampingFactor;\n        this.panOffset.multiplyScalar(1 - this.dampingFactor);\n      } else {\n        this.sphericalDelta.set(0, 0, 0);\n        this.panOffset.set(0, 0, 0);\n      }\n      this.scale = 1;\n      if (this.zoomChanged || this.lastPosition.distanceToSquared(this.object.position) > this.EPS || 8 * (1 - this.lastQuaternion.dot(this.object.quaternion)) > this.EPS) {\n        this.dispatchEvent(this.changeEvent);\n        this.lastPosition.copy(this.object.position);\n        this.lastQuaternion.copy(this.object.quaternion);\n        this.zoomChanged = false;\n        return true;\n      }\n      return false;\n    });\n    __publicField(this, \"getAutoRotationAngle\", () => 2 * Math.PI / 60 / 60 * this.autoRotateSpeed);\n    __publicField(this, \"getZoomScale\", () => Math.pow(0.95, this.zoomSpeed));\n    __publicField(this, \"rotateLeft\", (angle) => {\n      this.sphericalDelta.theta -= angle;\n    });\n    __publicField(this, \"rotateUp\", (angle) => {\n      this.sphericalDelta.phi -= angle;\n    });\n    __publicField(this, \"panLeft\", (distance, objectMatrix) => {\n      this.v.setFromMatrixColumn(objectMatrix, 0);\n      this.v.multiplyScalar(-distance);\n      this.panOffset.add(this.v);\n    });\n    __publicField(this, \"panUp\", (distance, objectMatrix) => {\n      if (this.screenSpacePanning === true) {\n        this.v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        this.v.setFromMatrixColumn(objectMatrix, 0);\n        this.v.crossVectors(this.object.up, this.v);\n      }\n      this.v.multiplyScalar(distance);\n      this.panOffset.add(this.v);\n    });\n    // deltaX and deltaY are in pixels; right and down are positive\n    __publicField(this, \"pan\", (deltaX, deltaY) => {\n      const element = this.domElement;\n      if (this.object instanceof PerspectiveCamera) {\n        const position = this.object.position;\n        this.offset.copy(position).sub(this.target);\n        let targetDistance = this.offset.length();\n        targetDistance *= Math.tan(this.object.fov / 2 * Math.PI / 180);\n        this.panLeft(2 * deltaX * targetDistance / element.clientHeight, this.object.matrix);\n        this.panUp(2 * deltaY * targetDistance / element.clientHeight, this.object.matrix);\n      } else if (this.object.isOrthographicCamera) {\n        this.panLeft(\n          deltaX * (this.object.right - this.object.left) / this.object.zoom / element.clientWidth,\n          this.object.matrix\n        );\n        this.panUp(\n          deltaY * (this.object.top - this.object.bottom) / this.object.zoom / element.clientHeight,\n          this.object.matrix\n        );\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - pan disabled.\");\n        this.enablePan = false;\n      }\n    });\n    __publicField(this, \"dollyIn\", (dollyScale) => {\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale /= dollyScale;\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        this.enableZoom = false;\n      }\n    });\n    __publicField(this, \"dollyOut\", (dollyScale) => {\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale *= dollyScale;\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        this.enableZoom = false;\n      }\n    });\n    // event callbacks - update the object state\n    __publicField(this, \"handleMouseDownRotate\", (event) => {\n      this.rotateStart.set(event.clientX, event.clientY);\n    });\n    // TODO: confirm if worthwhile to return the Vector2 instead of void\n    __publicField(this, \"handleMouseDownDolly\", (event) => {\n      this.dollyStart.set(event.clientX, event.clientY);\n    });\n    __publicField(this, \"handleMouseDownPan\", (event) => {\n      this.panStart.set(event.clientX, event.clientY);\n    });\n    __publicField(this, \"handleMouseMoveRotate\", (event) => {\n      this.rotateEnd.set(event.clientX, event.clientY);\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight);\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n      this.update();\n    });\n    __publicField(this, \"handleMouseMoveDolly\", (event) => {\n      this.dollyEnd.set(event.clientX, event.clientY);\n      this.dollyDelta.subVectors(this.dollyEnd, this.dollyStart);\n      if (this.dollyDelta.y > 0) {\n        this.dollyIn(this.getZoomScale());\n      } else if (this.dollyDelta.y < 0) {\n        this.dollyOut(this.getZoomScale());\n      }\n      this.dollyStart.copy(this.dollyEnd);\n      this.update();\n    });\n    __publicField(this, \"handleMouseMovePan\", (event) => {\n      this.panEnd.set(event.clientX, event.clientY);\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n      this.update();\n    });\n    __publicField(this, \"handleMouseWheel\", (event) => {\n      if (event.deltaY < 0) {\n        this.dollyOut(this.getZoomScale());\n      } else if (event.deltaY > 0) {\n        this.dollyIn(this.getZoomScale());\n      }\n      this.update();\n    });\n    __publicField(this, \"handleKeyDown\", (event) => {\n      let needsUpdate = false;\n      switch (event.code) {\n        case this.keys.UP:\n          this.pan(0, this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case this.keys.BOTTOM:\n          this.pan(0, -this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case this.keys.LEFT:\n          this.pan(this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n        case this.keys.RIGHT:\n          this.pan(-this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n      if (needsUpdate) {\n        event.preventDefault();\n        this.update();\n      }\n    });\n    __publicField(this, \"handleTouchStartRotate\", (event) => {\n      if (event.touches.length == 1) {\n        this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateStart.set(x, y);\n      }\n    });\n    __publicField(this, \"handleTouchStartPan\", (event) => {\n      if (event.touches.length == 1) {\n        this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panStart.set(x, y);\n      }\n    });\n    __publicField(this, \"handleTouchStartDolly\", (event) => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyStart.set(0, distance);\n    });\n    __publicField(this, \"handleTouchStartDollyPan\", (event) => {\n      if (this.enableZoom)\n        this.handleTouchStartDolly(event);\n      if (this.enablePan)\n        this.handleTouchStartPan(event);\n    });\n    __publicField(this, \"handleTouchStartDollyRotate\", (event) => {\n      if (this.enableZoom)\n        this.handleTouchStartDolly(event);\n      if (this.enableRotate)\n        this.handleTouchStartRotate(event);\n    });\n    __publicField(this, \"handleTouchMoveRotate\", (event) => {\n      if (event.touches.length == 1) {\n        this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateEnd.set(x, y);\n      }\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight);\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n    });\n    __publicField(this, \"handleTouchMovePan\", (event) => {\n      if (event.touches.length == 1) {\n        this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panEnd.set(x, y);\n      }\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n    });\n    __publicField(this, \"handleTouchMoveDolly\", (event) => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyEnd.set(0, distance);\n      this.dollyDelta.set(0, Math.pow(this.dollyEnd.y / this.dollyStart.y, this.zoomSpeed));\n      this.dollyIn(this.dollyDelta.y);\n      this.dollyStart.copy(this.dollyEnd);\n    });\n    __publicField(this, \"handleTouchMoveDollyPan\", (event) => {\n      if (this.enableZoom)\n        this.handleTouchMoveDolly(event);\n      if (this.enablePan)\n        this.handleTouchMovePan(event);\n    });\n    __publicField(this, \"handleTouchMoveDollyRotate\", (event) => {\n      if (this.enableZoom)\n        this.handleTouchMoveDolly(event);\n      if (this.enableRotate)\n        this.handleTouchMoveRotate(event);\n    });\n    //\n    // event handlers - FSM: listen for events and reset state\n    //\n    __publicField(this, \"onMouseDown\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      this.domElement.focus ? this.domElement.focus() : window.focus();\n      let mouseAction;\n      switch (event.button) {\n        case 0:\n          mouseAction = this.mouseButtons.LEFT;\n          break;\n        case 1:\n          mouseAction = this.mouseButtons.MIDDLE;\n          break;\n        case 2:\n          mouseAction = this.mouseButtons.RIGHT;\n          break;\n        default:\n          mouseAction = -1;\n      }\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (this.enableZoom === false)\n            return;\n          this.handleMouseDownDolly(event);\n          this.state = 1;\n          break;\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enablePan === false)\n              return;\n            this.handleMouseDownPan(event);\n            this.state = 2;\n          } else {\n            if (this.enableRotate === false)\n              return;\n            this.handleMouseDownRotate(event);\n            this.state = 0;\n          }\n          break;\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enableRotate === false)\n              return;\n            this.handleMouseDownRotate(event);\n            this.state = 0;\n          } else {\n            if (this.enablePan === false)\n              return;\n            this.handleMouseDownPan(event);\n            this.state = 2;\n          }\n          break;\n        default:\n          this.state = -1;\n      }\n      if (this.state !== -1) {\n        document.addEventListener(\"mousemove\", this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", this.onMouseUp, false);\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n    __publicField(this, \"onMouseMove\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      switch (this.state) {\n        case 0:\n          if (this.enableRotate === false)\n            return;\n          this.handleMouseMoveRotate(event);\n          break;\n        case 1:\n          if (this.enableZoom === false)\n            return;\n          this.handleMouseMoveDolly(event);\n          break;\n        case 2:\n          if (this.enablePan === false)\n            return;\n          this.handleMouseMovePan(event);\n          break;\n      }\n    });\n    __publicField(this, \"onMouseUp\", () => {\n      if (this.enabled === false)\n        return;\n      document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n      this.dispatchEvent(this.endEvent);\n      this.state = -1;\n    });\n    __publicField(this, \"onMouseWheel\", (event) => {\n      if (this.enabled === false || this.enableZoom === false || this.state !== -1 && this.state !== 0) {\n        return;\n      }\n      event.preventDefault();\n      this.dispatchEvent(this.startEvent);\n      this.handleMouseWheel(event);\n      this.dispatchEvent(this.endEvent);\n    });\n    __publicField(this, \"onKeyDown\", (event) => {\n      if (this.enabled === false || this.enableKeys === false || this.enablePan === false)\n        return;\n      this.handleKeyDown(event);\n    });\n    __publicField(this, \"onTouchStart\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      switch (event.touches.length) {\n        case 1:\n          switch (this.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (this.enableRotate === false)\n                return;\n              this.handleTouchStartRotate(event);\n              this.state = 3;\n              break;\n            case TOUCH.PAN:\n              if (this.enablePan === false)\n                return;\n              this.handleTouchStartPan(event);\n              this.state = 4;\n              break;\n            default:\n              this.state = -1;\n          }\n          break;\n        case 2:\n          switch (this.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (this.enableZoom === false && this.enablePan === false)\n                return;\n              this.handleTouchStartDollyPan(event);\n              this.state = 5;\n              break;\n            case TOUCH.DOLLY_ROTATE:\n              if (this.enableZoom === false && this.enableRotate === false)\n                return;\n              this.handleTouchStartDollyRotate(event);\n              this.state = 6;\n              break;\n            default:\n              this.state = -1;\n          }\n          break;\n        default:\n          this.state = -1;\n      }\n      if (this.state !== -1) {\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n    __publicField(this, \"onTouchMove\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      switch (this.state) {\n        case 3:\n          if (this.enableRotate === false)\n            return;\n          this.handleTouchMoveRotate(event);\n          this.update();\n          break;\n        case 4:\n          if (this.enablePan === false)\n            return;\n          this.handleTouchMovePan(event);\n          this.update();\n          break;\n        case 5:\n          if (this.enableZoom === false && this.enablePan === false)\n            return;\n          this.handleTouchMoveDollyPan(event);\n          this.update();\n          break;\n        case 6:\n          if (this.enableZoom === false && this.enableRotate === false)\n            return;\n          this.handleTouchMoveDollyRotate(event);\n          this.update();\n          break;\n        default:\n          this.state = -1;\n      }\n    });\n    __publicField(this, \"onTouchEnd\", () => {\n      if (this.enabled === false)\n        return;\n      this.dispatchEvent(this.endEvent);\n      this.state = -1;\n    });\n    __publicField(this, \"onContextMenu\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n    });\n    if (domElement === void 0) {\n      console.warn('THREE.CameraControls: The second parameter \"domElement\" is now mandatory.');\n    }\n    if (domElement instanceof Document) {\n      console.error(\n        'THREE.CameraControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.'\n      );\n    }\n    this.object = object;\n    this.domElement = domElement;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    };\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.quaternion0 = this.object.quaternion.clone();\n    this.zoom0 = this.object.zoom;\n    this.quat = new Quaternion().setFromUnitVectors(this.object.up, new Vector3(0, 1, 0));\n    this.quatInverse = this.quat.clone().invert();\n    this.lastPosition = new Vector3();\n    this.lastQuaternion = new Quaternion();\n    this.domElement.addEventListener(\"contextmenu\", this.onContextMenu, false);\n    this.domElement.addEventListener(\"mousedown\", this.onMouseDown, false);\n    this.domElement.addEventListener(\"wheel\", this.onMouseWheel, false);\n    this.domElement.addEventListener(\"touchstart\", this.onTouchStart, false);\n    this.domElement.addEventListener(\"touchend\", this.onTouchEnd, false);\n    this.domElement.addEventListener(\"touchmove\", this.onTouchMove, false);\n    this.domElement.addEventListener(\"keydown\", this.onKeyDown, false);\n    if (this.domElement.tabIndex === -1) {\n      this.domElement.tabIndex = 0;\n    }\n    this.object.lookAt(this.target);\n    this.update();\n    this.saveState();\n  }\n  handleMouseUp() {\n  }\n  handleTouchEnd() {\n  }\n}\nclass OrbitControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    __publicField(this, \"mouseButtons\");\n    __publicField(this, \"touches\");\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n}\nclass MapControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    __publicField(this, \"mouseButtons\");\n    __publicField(this, \"touches\");\n    this.mouseButtons = {\n      LEFT: MOUSE.PAN,\n      RIGHT: MOUSE.ROTATE\n    };\n    this.touches = {\n      ONE: TOUCH.PAN,\n      TWO: TOUCH.DOLLY_ROTATE\n    };\n  }\n}\nclass TrackballControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    __publicField(this, \"trackball\");\n    __publicField(this, \"screenSpacePanning\");\n    __publicField(this, \"autoRotate\");\n    __publicField(this, \"mouseButtons\");\n    __publicField(this, \"touches\");\n    this.trackball = true;\n    this.screenSpacePanning = true;\n    this.autoRotate = false;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n}\nexport {\n  CameraControls,\n  MapControlsExp,\n  OrbitControlsExp,\n  STATE,\n  TrackballControlsExp\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Vector3, EventDispatcher, Spherical, MathUtils } from \"three\";\nconst targetPosition = /* @__PURE__ */ new Vector3();\nclass FirstPersonControls extends EventDispatcher {\n  constructor(object, domElement) {\n    super();\n    __publicField(this, \"object\");\n    __publicField(this, \"domElement\");\n    __publicField(this, \"enabled\", true);\n    __publicField(this, \"movementSpeed\", 1);\n    __publicField(this, \"lookSpeed\", 5e-3);\n    __publicField(this, \"lookVertical\", true);\n    __publicField(this, \"autoForward\", false);\n    __publicField(this, \"activeLook\", true);\n    __publicField(this, \"heightSpeed\", false);\n    __publicField(this, \"heightCoef\", 1);\n    __publicField(this, \"heightMin\", 0);\n    __publicField(this, \"heightMax\", 1);\n    __publicField(this, \"constrainVertical\", false);\n    __publicField(this, \"verticalMin\", 0);\n    __publicField(this, \"verticalMax\", Math.PI);\n    __publicField(this, \"mouseDragOn\", false);\n    // internals\n    __publicField(this, \"autoSpeedFactor\", 0);\n    __publicField(this, \"mouseX\", 0);\n    __publicField(this, \"mouseY\", 0);\n    __publicField(this, \"moveForward\", false);\n    __publicField(this, \"moveBackward\", false);\n    __publicField(this, \"moveLeft\", false);\n    __publicField(this, \"moveRight\", false);\n    __publicField(this, \"moveUp\", false);\n    __publicField(this, \"moveDown\", false);\n    __publicField(this, \"viewHalfX\", 0);\n    __publicField(this, \"viewHalfY\", 0);\n    __publicField(this, \"lat\", 0);\n    __publicField(this, \"lon\", 0);\n    __publicField(this, \"lookDirection\", new Vector3());\n    __publicField(this, \"spherical\", new Spherical());\n    __publicField(this, \"target\", new Vector3());\n    __publicField(this, \"connect\", (domElement) => {\n      domElement.setAttribute(\"tabindex\", \"-1\");\n      domElement.style.touchAction = \"none\";\n      domElement.addEventListener(\"contextmenu\", this.contextmenu);\n      domElement.addEventListener(\"mousemove\", this.onMouseMove);\n      domElement.addEventListener(\"mousedown\", this.onMouseDown);\n      domElement.addEventListener(\"mouseup\", this.onMouseUp);\n      this.domElement = domElement;\n      window.addEventListener(\"keydown\", this.onKeyDown);\n      window.addEventListener(\"keyup\", this.onKeyUp);\n      this.handleResize();\n    });\n    __publicField(this, \"dispose\", () => {\n      var _a, _b, _c, _d;\n      (_a = this.domElement) == null ? void 0 : _a.removeEventListener(\"contextmenu\", this.contextmenu);\n      (_b = this.domElement) == null ? void 0 : _b.removeEventListener(\"mousedown\", this.onMouseDown);\n      (_c = this.domElement) == null ? void 0 : _c.removeEventListener(\"mousemove\", this.onMouseMove);\n      (_d = this.domElement) == null ? void 0 : _d.removeEventListener(\"mouseup\", this.onMouseUp);\n      window.removeEventListener(\"keydown\", this.onKeyDown);\n      window.removeEventListener(\"keyup\", this.onKeyUp);\n    });\n    __publicField(this, \"handleResize\", () => {\n      if (this.domElement) {\n        this.viewHalfX = this.domElement.offsetWidth / 2;\n        this.viewHalfY = this.domElement.offsetHeight / 2;\n      }\n    });\n    __publicField(this, \"onMouseDown\", (event) => {\n      var _a;\n      (_a = this.domElement) == null ? void 0 : _a.focus();\n      if (this.activeLook) {\n        switch (event.button) {\n          case 0:\n            this.moveForward = true;\n            break;\n          case 2:\n            this.moveBackward = true;\n            break;\n        }\n      }\n      this.mouseDragOn = true;\n    });\n    __publicField(this, \"onMouseUp\", (event) => {\n      if (this.activeLook) {\n        switch (event.button) {\n          case 0:\n            this.moveForward = false;\n            break;\n          case 2:\n            this.moveBackward = false;\n            break;\n        }\n      }\n      this.mouseDragOn = false;\n    });\n    __publicField(this, \"onMouseMove\", (event) => {\n      if (this.domElement) {\n        this.mouseX = event.pageX - this.domElement.offsetLeft - this.viewHalfX;\n        this.mouseY = event.pageY - this.domElement.offsetTop - this.viewHalfY;\n      }\n    });\n    __publicField(this, \"onKeyDown\", (event) => {\n      switch (event.code) {\n        case \"ArrowUp\":\n        case \"KeyW\":\n          this.moveForward = true;\n          break;\n        case \"ArrowLeft\":\n        case \"KeyA\":\n          this.moveLeft = true;\n          break;\n        case \"ArrowDown\":\n        case \"KeyS\":\n          this.moveBackward = true;\n          break;\n        case \"ArrowRight\":\n        case \"KeyD\":\n          this.moveRight = true;\n          break;\n        case \"KeyR\":\n          this.moveUp = true;\n          break;\n        case \"KeyF\":\n          this.moveDown = true;\n          break;\n      }\n    });\n    __publicField(this, \"onKeyUp\", (event) => {\n      switch (event.code) {\n        case \"ArrowUp\":\n        case \"KeyW\":\n          this.moveForward = false;\n          break;\n        case \"ArrowLeft\":\n        case \"KeyA\":\n          this.moveLeft = false;\n          break;\n        case \"ArrowDown\":\n        case \"KeyS\":\n          this.moveBackward = false;\n          break;\n        case \"ArrowRight\":\n        case \"KeyD\":\n          this.moveRight = false;\n          break;\n        case \"KeyR\":\n          this.moveUp = false;\n          break;\n        case \"KeyF\":\n          this.moveDown = false;\n          break;\n      }\n    });\n    __publicField(this, \"lookAt\", (x, y, z) => {\n      if (x instanceof Vector3) {\n        this.target.copy(x);\n      } else if (y && z) {\n        this.target.set(x, y, z);\n      }\n      this.object.lookAt(this.target);\n      this.setOrientation();\n      return this;\n    });\n    __publicField(this, \"update\", (delta) => {\n      if (!this.enabled)\n        return;\n      if (this.heightSpeed) {\n        const y = MathUtils.clamp(this.object.position.y, this.heightMin, this.heightMax);\n        const heightDelta = y - this.heightMin;\n        this.autoSpeedFactor = delta * (heightDelta * this.heightCoef);\n      } else {\n        this.autoSpeedFactor = 0;\n      }\n      const actualMoveSpeed = delta * this.movementSpeed;\n      if (this.moveForward || this.autoForward && !this.moveBackward) {\n        this.object.translateZ(-(actualMoveSpeed + this.autoSpeedFactor));\n      }\n      if (this.moveBackward)\n        this.object.translateZ(actualMoveSpeed);\n      if (this.moveLeft)\n        this.object.translateX(-actualMoveSpeed);\n      if (this.moveRight)\n        this.object.translateX(actualMoveSpeed);\n      if (this.moveUp)\n        this.object.translateY(actualMoveSpeed);\n      if (this.moveDown)\n        this.object.translateY(-actualMoveSpeed);\n      let actualLookSpeed = delta * this.lookSpeed;\n      if (!this.activeLook) {\n        actualLookSpeed = 0;\n      }\n      let verticalLookRatio = 1;\n      if (this.constrainVertical) {\n        verticalLookRatio = Math.PI / (this.verticalMax - this.verticalMin);\n      }\n      this.lon -= this.mouseX * actualLookSpeed;\n      if (this.lookVertical)\n        this.lat -= this.mouseY * actualLookSpeed * verticalLookRatio;\n      this.lat = Math.max(-85, Math.min(85, this.lat));\n      let phi = MathUtils.degToRad(90 - this.lat);\n      const theta = MathUtils.degToRad(this.lon);\n      if (this.constrainVertical) {\n        phi = MathUtils.mapLinear(phi, 0, Math.PI, this.verticalMin, this.verticalMax);\n      }\n      const position = this.object.position;\n      targetPosition.setFromSphericalCoords(1, phi, theta).add(position);\n      this.object.lookAt(targetPosition);\n    });\n    __publicField(this, \"contextmenu\", (event) => event.preventDefault());\n    __publicField(this, \"setOrientation\", () => {\n      this.lookDirection.set(0, 0, -1).applyQuaternion(this.object.quaternion);\n      this.spherical.setFromVector3(this.lookDirection);\n      this.lat = 90 - MathUtils.radToDeg(this.spherical.phi);\n      this.lon = MathUtils.radToDeg(this.spherical.theta);\n    });\n    this.object = object;\n    this.domElement = domElement;\n    this.setOrientation();\n    if (domElement)\n      this.connect(domElement);\n  }\n}\nexport {\n  FirstPersonControls\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Object3D, Raycaster, Vector3, Quaternion, Euler, Matrix4, MeshBasicMaterial, DoubleSide, LineBasicMaterial, CylinderGeometry, BoxGeometry, BufferGeometry, Float32BufferAttribute, Mesh, Line, OctahedronGeometry, PlaneGeometry, TorusGeometry, SphereGeometry, Color } from \"three\";\nclass TransformControls extends Object3D {\n  constructor(camera, domElement) {\n    super();\n    __publicField(this, \"isTransformControls\", true);\n    __publicField(this, \"visible\", false);\n    __publicField(this, \"domElement\");\n    __publicField(this, \"raycaster\", new Raycaster());\n    __publicField(this, \"gizmo\");\n    __publicField(this, \"plane\");\n    __publicField(this, \"tempVector\", new Vector3());\n    __publicField(this, \"tempVector2\", new Vector3());\n    __publicField(this, \"tempQuaternion\", new Quaternion());\n    __publicField(this, \"unit\", {\n      X: new Vector3(1, 0, 0),\n      Y: new Vector3(0, 1, 0),\n      Z: new Vector3(0, 0, 1)\n    });\n    __publicField(this, \"pointStart\", new Vector3());\n    __publicField(this, \"pointEnd\", new Vector3());\n    __publicField(this, \"offset\", new Vector3());\n    __publicField(this, \"rotationAxis\", new Vector3());\n    __publicField(this, \"startNorm\", new Vector3());\n    __publicField(this, \"endNorm\", new Vector3());\n    __publicField(this, \"rotationAngle\", 0);\n    __publicField(this, \"cameraPosition\", new Vector3());\n    __publicField(this, \"cameraQuaternion\", new Quaternion());\n    __publicField(this, \"cameraScale\", new Vector3());\n    __publicField(this, \"parentPosition\", new Vector3());\n    __publicField(this, \"parentQuaternion\", new Quaternion());\n    __publicField(this, \"parentQuaternionInv\", new Quaternion());\n    __publicField(this, \"parentScale\", new Vector3());\n    __publicField(this, \"worldPositionStart\", new Vector3());\n    __publicField(this, \"worldQuaternionStart\", new Quaternion());\n    __publicField(this, \"worldScaleStart\", new Vector3());\n    __publicField(this, \"worldPosition\", new Vector3());\n    __publicField(this, \"worldQuaternion\", new Quaternion());\n    __publicField(this, \"worldQuaternionInv\", new Quaternion());\n    __publicField(this, \"worldScale\", new Vector3());\n    __publicField(this, \"eye\", new Vector3());\n    __publicField(this, \"positionStart\", new Vector3());\n    __publicField(this, \"quaternionStart\", new Quaternion());\n    __publicField(this, \"scaleStart\", new Vector3());\n    __publicField(this, \"camera\");\n    __publicField(this, \"object\");\n    __publicField(this, \"enabled\", true);\n    __publicField(this, \"axis\", null);\n    __publicField(this, \"mode\", \"translate\");\n    __publicField(this, \"translationSnap\", null);\n    __publicField(this, \"rotationSnap\", null);\n    __publicField(this, \"scaleSnap\", null);\n    __publicField(this, \"space\", \"world\");\n    __publicField(this, \"size\", 1);\n    __publicField(this, \"dragging\", false);\n    __publicField(this, \"showX\", true);\n    __publicField(this, \"showY\", true);\n    __publicField(this, \"showZ\", true);\n    // events\n    __publicField(this, \"changeEvent\", { type: \"change\" });\n    __publicField(this, \"mouseDownEvent\", { type: \"mouseDown\", mode: this.mode });\n    __publicField(this, \"mouseUpEvent\", { type: \"mouseUp\", mode: this.mode });\n    __publicField(this, \"objectChangeEvent\", { type: \"objectChange\" });\n    __publicField(this, \"intersectObjectWithRay\", (object, raycaster, includeInvisible) => {\n      const allIntersections = raycaster.intersectObject(object, true);\n      for (let i = 0; i < allIntersections.length; i++) {\n        if (allIntersections[i].object.visible || includeInvisible) {\n          return allIntersections[i];\n        }\n      }\n      return false;\n    });\n    // Set current object\n    __publicField(this, \"attach\", (object) => {\n      this.object = object;\n      this.visible = true;\n      return this;\n    });\n    // Detatch from object\n    __publicField(this, \"detach\", () => {\n      this.object = void 0;\n      this.visible = false;\n      this.axis = null;\n      return this;\n    });\n    // Reset\n    __publicField(this, \"reset\", () => {\n      if (!this.enabled)\n        return this;\n      if (this.dragging) {\n        if (this.object !== void 0) {\n          this.object.position.copy(this.positionStart);\n          this.object.quaternion.copy(this.quaternionStart);\n          this.object.scale.copy(this.scaleStart);\n          this.dispatchEvent(this.changeEvent);\n          this.dispatchEvent(this.objectChangeEvent);\n          this.pointStart.copy(this.pointEnd);\n        }\n      }\n      return this;\n    });\n    __publicField(this, \"updateMatrixWorld\", () => {\n      if (this.object !== void 0) {\n        this.object.updateMatrixWorld();\n        if (this.object.parent === null) {\n          console.error(\"TransformControls: The attached 3D object must be a part of the scene graph.\");\n        } else {\n          this.object.parent.matrixWorld.decompose(this.parentPosition, this.parentQuaternion, this.parentScale);\n        }\n        this.object.matrixWorld.decompose(this.worldPosition, this.worldQuaternion, this.worldScale);\n        this.parentQuaternionInv.copy(this.parentQuaternion).invert();\n        this.worldQuaternionInv.copy(this.worldQuaternion).invert();\n      }\n      this.camera.updateMatrixWorld();\n      this.camera.matrixWorld.decompose(this.cameraPosition, this.cameraQuaternion, this.cameraScale);\n      this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize();\n      super.updateMatrixWorld();\n    });\n    __publicField(this, \"pointerHover\", (pointer) => {\n      if (this.object === void 0 || this.dragging === true)\n        return;\n      this.raycaster.setFromCamera(pointer, this.camera);\n      const intersect = this.intersectObjectWithRay(this.gizmo.picker[this.mode], this.raycaster);\n      if (intersect) {\n        this.axis = intersect.object.name;\n      } else {\n        this.axis = null;\n      }\n    });\n    __publicField(this, \"pointerDown\", (pointer) => {\n      if (this.object === void 0 || this.dragging === true || pointer.button !== 0)\n        return;\n      if (this.axis !== null) {\n        this.raycaster.setFromCamera(pointer, this.camera);\n        const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true);\n        if (planeIntersect) {\n          let space = this.space;\n          if (this.mode === \"scale\") {\n            space = \"local\";\n          } else if (this.axis === \"E\" || this.axis === \"XYZE\" || this.axis === \"XYZ\") {\n            space = \"world\";\n          }\n          if (space === \"local\" && this.mode === \"rotate\") {\n            const snap = this.rotationSnap;\n            if (this.axis === \"X\" && snap)\n              this.object.rotation.x = Math.round(this.object.rotation.x / snap) * snap;\n            if (this.axis === \"Y\" && snap)\n              this.object.rotation.y = Math.round(this.object.rotation.y / snap) * snap;\n            if (this.axis === \"Z\" && snap)\n              this.object.rotation.z = Math.round(this.object.rotation.z / snap) * snap;\n          }\n          this.object.updateMatrixWorld();\n          if (this.object.parent) {\n            this.object.parent.updateMatrixWorld();\n          }\n          this.positionStart.copy(this.object.position);\n          this.quaternionStart.copy(this.object.quaternion);\n          this.scaleStart.copy(this.object.scale);\n          this.object.matrixWorld.decompose(this.worldPositionStart, this.worldQuaternionStart, this.worldScaleStart);\n          this.pointStart.copy(planeIntersect.point).sub(this.worldPositionStart);\n        }\n        this.dragging = true;\n        this.mouseDownEvent.mode = this.mode;\n        this.dispatchEvent(this.mouseDownEvent);\n      }\n    });\n    __publicField(this, \"pointerMove\", (pointer) => {\n      const axis = this.axis;\n      const mode = this.mode;\n      const object = this.object;\n      let space = this.space;\n      if (mode === \"scale\") {\n        space = \"local\";\n      } else if (axis === \"E\" || axis === \"XYZE\" || axis === \"XYZ\") {\n        space = \"world\";\n      }\n      if (object === void 0 || axis === null || this.dragging === false || pointer.button !== -1)\n        return;\n      this.raycaster.setFromCamera(pointer, this.camera);\n      const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true);\n      if (!planeIntersect)\n        return;\n      this.pointEnd.copy(planeIntersect.point).sub(this.worldPositionStart);\n      if (mode === \"translate\") {\n        this.offset.copy(this.pointEnd).sub(this.pointStart);\n        if (space === \"local\" && axis !== \"XYZ\") {\n          this.offset.applyQuaternion(this.worldQuaternionInv);\n        }\n        if (axis.indexOf(\"X\") === -1)\n          this.offset.x = 0;\n        if (axis.indexOf(\"Y\") === -1)\n          this.offset.y = 0;\n        if (axis.indexOf(\"Z\") === -1)\n          this.offset.z = 0;\n        if (space === \"local\" && axis !== \"XYZ\") {\n          this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale);\n        } else {\n          this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale);\n        }\n        object.position.copy(this.offset).add(this.positionStart);\n        if (this.translationSnap) {\n          if (space === \"local\") {\n            object.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert());\n            if (axis.search(\"X\") !== -1) {\n              object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n            }\n            if (axis.search(\"Y\") !== -1) {\n              object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n            }\n            if (axis.search(\"Z\") !== -1) {\n              object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n            }\n            object.position.applyQuaternion(this.quaternionStart);\n          }\n          if (space === \"world\") {\n            if (object.parent) {\n              object.position.add(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n            if (axis.search(\"X\") !== -1) {\n              object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n            }\n            if (axis.search(\"Y\") !== -1) {\n              object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n            }\n            if (axis.search(\"Z\") !== -1) {\n              object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n            }\n            if (object.parent) {\n              object.position.sub(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n          }\n        }\n      } else if (mode === \"scale\") {\n        if (axis.search(\"XYZ\") !== -1) {\n          let d = this.pointEnd.length() / this.pointStart.length();\n          if (this.pointEnd.dot(this.pointStart) < 0)\n            d *= -1;\n          this.tempVector2.set(d, d, d);\n        } else {\n          this.tempVector.copy(this.pointStart);\n          this.tempVector2.copy(this.pointEnd);\n          this.tempVector.applyQuaternion(this.worldQuaternionInv);\n          this.tempVector2.applyQuaternion(this.worldQuaternionInv);\n          this.tempVector2.divide(this.tempVector);\n          if (axis.search(\"X\") === -1) {\n            this.tempVector2.x = 1;\n          }\n          if (axis.search(\"Y\") === -1) {\n            this.tempVector2.y = 1;\n          }\n          if (axis.search(\"Z\") === -1) {\n            this.tempVector2.z = 1;\n          }\n        }\n        object.scale.copy(this.scaleStart).multiply(this.tempVector2);\n        if (this.scaleSnap && this.object) {\n          if (axis.search(\"X\") !== -1) {\n            this.object.scale.x = Math.round(object.scale.x / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n          if (axis.search(\"Y\") !== -1) {\n            object.scale.y = Math.round(object.scale.y / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n          if (axis.search(\"Z\") !== -1) {\n            object.scale.z = Math.round(object.scale.z / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n        }\n      } else if (mode === \"rotate\") {\n        this.offset.copy(this.pointEnd).sub(this.pointStart);\n        const ROTATION_SPEED = 20 / this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld));\n        if (axis === \"E\") {\n          this.rotationAxis.copy(this.eye);\n          this.rotationAngle = this.pointEnd.angleTo(this.pointStart);\n          this.startNorm.copy(this.pointStart).normalize();\n          this.endNorm.copy(this.pointEnd).normalize();\n          this.rotationAngle *= this.endNorm.cross(this.startNorm).dot(this.eye) < 0 ? 1 : -1;\n        } else if (axis === \"XYZE\") {\n          this.rotationAxis.copy(this.offset).cross(this.eye).normalize();\n          this.rotationAngle = this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye)) * ROTATION_SPEED;\n        } else if (axis === \"X\" || axis === \"Y\" || axis === \"Z\") {\n          this.rotationAxis.copy(this.unit[axis]);\n          this.tempVector.copy(this.unit[axis]);\n          if (space === \"local\") {\n            this.tempVector.applyQuaternion(this.worldQuaternion);\n          }\n          this.rotationAngle = this.offset.dot(this.tempVector.cross(this.eye).normalize()) * ROTATION_SPEED;\n        }\n        if (this.rotationSnap) {\n          this.rotationAngle = Math.round(this.rotationAngle / this.rotationSnap) * this.rotationSnap;\n        }\n        if (space === \"local\" && axis !== \"E\" && axis !== \"XYZE\") {\n          object.quaternion.copy(this.quaternionStart);\n          object.quaternion.multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle)).normalize();\n        } else {\n          this.rotationAxis.applyQuaternion(this.parentQuaternionInv);\n          object.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle));\n          object.quaternion.multiply(this.quaternionStart).normalize();\n        }\n      }\n      this.dispatchEvent(this.changeEvent);\n      this.dispatchEvent(this.objectChangeEvent);\n    });\n    __publicField(this, \"pointerUp\", (pointer) => {\n      if (pointer.button !== 0)\n        return;\n      if (this.dragging && this.axis !== null) {\n        this.mouseUpEvent.mode = this.mode;\n        this.dispatchEvent(this.mouseUpEvent);\n      }\n      this.dragging = false;\n      this.axis = null;\n    });\n    __publicField(this, \"getPointer\", (event) => {\n      var _a, _b;\n      if (this.domElement && ((_a = this.domElement.ownerDocument) == null ? void 0 : _a.pointerLockElement)) {\n        return {\n          x: 0,\n          y: 0,\n          button: event.button\n        };\n      } else {\n        const pointer = event.changedTouches ? event.changedTouches[0] : event;\n        const rect = (_b = this.domElement) == null ? void 0 : _b.getBoundingClientRect();\n        return {\n          x: (pointer.clientX - rect.left) / rect.width * 2 - 1,\n          y: -(pointer.clientY - rect.top) / rect.height * 2 + 1,\n          button: event.button\n        };\n      }\n    });\n    __publicField(this, \"onPointerHover\", (event) => {\n      if (!this.enabled)\n        return;\n      switch (event.pointerType) {\n        case \"mouse\":\n        case \"pen\":\n          this.pointerHover(this.getPointer(event));\n          break;\n      }\n    });\n    __publicField(this, \"onPointerDown\", (event) => {\n      if (!this.enabled || !this.domElement)\n        return;\n      this.domElement.style.touchAction = \"none\";\n      this.domElement.ownerDocument.addEventListener(\"pointermove\", this.onPointerMove);\n      this.pointerHover(this.getPointer(event));\n      this.pointerDown(this.getPointer(event));\n    });\n    __publicField(this, \"onPointerMove\", (event) => {\n      if (!this.enabled)\n        return;\n      this.pointerMove(this.getPointer(event));\n    });\n    __publicField(this, \"onPointerUp\", (event) => {\n      if (!this.enabled || !this.domElement)\n        return;\n      this.domElement.style.touchAction = \"\";\n      this.domElement.ownerDocument.removeEventListener(\"pointermove\", this.onPointerMove);\n      this.pointerUp(this.getPointer(event));\n    });\n    __publicField(this, \"getMode\", () => this.mode);\n    __publicField(this, \"setMode\", (mode) => {\n      this.mode = mode;\n    });\n    __publicField(this, \"setTranslationSnap\", (translationSnap) => {\n      this.translationSnap = translationSnap;\n    });\n    __publicField(this, \"setRotationSnap\", (rotationSnap) => {\n      this.rotationSnap = rotationSnap;\n    });\n    __publicField(this, \"setScaleSnap\", (scaleSnap) => {\n      this.scaleSnap = scaleSnap;\n    });\n    __publicField(this, \"setSize\", (size) => {\n      this.size = size;\n    });\n    __publicField(this, \"setSpace\", (space) => {\n      this.space = space;\n    });\n    __publicField(this, \"update\", () => {\n      console.warn(\n        \"THREE.TransformControls: update function has no more functionality and therefore has been deprecated.\"\n      );\n    });\n    __publicField(this, \"connect\", (domElement) => {\n      if (domElement === document) {\n        console.error(\n          'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.'\n        );\n      }\n      this.domElement = domElement;\n      this.domElement.addEventListener(\"pointerdown\", this.onPointerDown);\n      this.domElement.addEventListener(\"pointermove\", this.onPointerHover);\n      this.domElement.ownerDocument.addEventListener(\"pointerup\", this.onPointerUp);\n    });\n    __publicField(this, \"dispose\", () => {\n      var _a, _b, _c, _d, _e, _f;\n      (_a = this.domElement) == null ? void 0 : _a.removeEventListener(\"pointerdown\", this.onPointerDown);\n      (_b = this.domElement) == null ? void 0 : _b.removeEventListener(\"pointermove\", this.onPointerHover);\n      (_d = (_c = this.domElement) == null ? void 0 : _c.ownerDocument) == null ? void 0 : _d.removeEventListener(\"pointermove\", this.onPointerMove);\n      (_f = (_e = this.domElement) == null ? void 0 : _e.ownerDocument) == null ? void 0 : _f.removeEventListener(\"pointerup\", this.onPointerUp);\n      this.traverse((child) => {\n        const mesh = child;\n        if (mesh.geometry) {\n          mesh.geometry.dispose();\n        }\n        if (mesh.material) {\n          mesh.material.dispose();\n        }\n      });\n    });\n    this.domElement = domElement;\n    this.camera = camera;\n    this.gizmo = new TransformControlsGizmo();\n    this.add(this.gizmo);\n    this.plane = new TransformControlsPlane();\n    this.add(this.plane);\n    const defineProperty = (propName, defaultValue) => {\n      let propValue = defaultValue;\n      Object.defineProperty(this, propName, {\n        get: function() {\n          return propValue !== void 0 ? propValue : defaultValue;\n        },\n        set: function(value) {\n          if (propValue !== value) {\n            propValue = value;\n            this.plane[propName] = value;\n            this.gizmo[propName] = value;\n            this.dispatchEvent({ type: propName + \"-changed\", value });\n            this.dispatchEvent(this.changeEvent);\n          }\n        }\n      });\n      this[propName] = defaultValue;\n      this.plane[propName] = defaultValue;\n      this.gizmo[propName] = defaultValue;\n    };\n    defineProperty(\"camera\", this.camera);\n    defineProperty(\"object\", this.object);\n    defineProperty(\"enabled\", this.enabled);\n    defineProperty(\"axis\", this.axis);\n    defineProperty(\"mode\", this.mode);\n    defineProperty(\"translationSnap\", this.translationSnap);\n    defineProperty(\"rotationSnap\", this.rotationSnap);\n    defineProperty(\"scaleSnap\", this.scaleSnap);\n    defineProperty(\"space\", this.space);\n    defineProperty(\"size\", this.size);\n    defineProperty(\"dragging\", this.dragging);\n    defineProperty(\"showX\", this.showX);\n    defineProperty(\"showY\", this.showY);\n    defineProperty(\"showZ\", this.showZ);\n    defineProperty(\"worldPosition\", this.worldPosition);\n    defineProperty(\"worldPositionStart\", this.worldPositionStart);\n    defineProperty(\"worldQuaternion\", this.worldQuaternion);\n    defineProperty(\"worldQuaternionStart\", this.worldQuaternionStart);\n    defineProperty(\"cameraPosition\", this.cameraPosition);\n    defineProperty(\"cameraQuaternion\", this.cameraQuaternion);\n    defineProperty(\"pointStart\", this.pointStart);\n    defineProperty(\"pointEnd\", this.pointEnd);\n    defineProperty(\"rotationAxis\", this.rotationAxis);\n    defineProperty(\"rotationAngle\", this.rotationAngle);\n    defineProperty(\"eye\", this.eye);\n    if (domElement !== void 0)\n      this.connect(domElement);\n  }\n}\nclass TransformControlsGizmo extends Object3D {\n  constructor() {\n    super();\n    __publicField(this, \"isTransformControlsGizmo\", true);\n    __publicField(this, \"type\", \"TransformControlsGizmo\");\n    __publicField(this, \"tempVector\", new Vector3(0, 0, 0));\n    __publicField(this, \"tempEuler\", new Euler());\n    __publicField(this, \"alignVector\", new Vector3(0, 1, 0));\n    __publicField(this, \"zeroVector\", new Vector3(0, 0, 0));\n    __publicField(this, \"lookAtMatrix\", new Matrix4());\n    __publicField(this, \"tempQuaternion\", new Quaternion());\n    __publicField(this, \"tempQuaternion2\", new Quaternion());\n    __publicField(this, \"identityQuaternion\", new Quaternion());\n    __publicField(this, \"unitX\", new Vector3(1, 0, 0));\n    __publicField(this, \"unitY\", new Vector3(0, 1, 0));\n    __publicField(this, \"unitZ\", new Vector3(0, 0, 1));\n    __publicField(this, \"gizmo\");\n    __publicField(this, \"picker\");\n    __publicField(this, \"helper\");\n    // these are set from parent class TransformControls\n    __publicField(this, \"rotationAxis\", new Vector3());\n    __publicField(this, \"cameraPosition\", new Vector3());\n    __publicField(this, \"worldPositionStart\", new Vector3());\n    __publicField(this, \"worldQuaternionStart\", new Quaternion());\n    __publicField(this, \"worldPosition\", new Vector3());\n    __publicField(this, \"worldQuaternion\", new Quaternion());\n    __publicField(this, \"eye\", new Vector3());\n    __publicField(this, \"camera\", null);\n    __publicField(this, \"enabled\", true);\n    __publicField(this, \"axis\", null);\n    __publicField(this, \"mode\", \"translate\");\n    __publicField(this, \"space\", \"world\");\n    __publicField(this, \"size\", 1);\n    __publicField(this, \"dragging\", false);\n    __publicField(this, \"showX\", true);\n    __publicField(this, \"showY\", true);\n    __publicField(this, \"showZ\", true);\n    // updateMatrixWorld will update transformations and appearance of individual handles\n    __publicField(this, \"updateMatrixWorld\", () => {\n      let space = this.space;\n      if (this.mode === \"scale\") {\n        space = \"local\";\n      }\n      const quaternion = space === \"local\" ? this.worldQuaternion : this.identityQuaternion;\n      this.gizmo[\"translate\"].visible = this.mode === \"translate\";\n      this.gizmo[\"rotate\"].visible = this.mode === \"rotate\";\n      this.gizmo[\"scale\"].visible = this.mode === \"scale\";\n      this.helper[\"translate\"].visible = this.mode === \"translate\";\n      this.helper[\"rotate\"].visible = this.mode === \"rotate\";\n      this.helper[\"scale\"].visible = this.mode === \"scale\";\n      let handles = [];\n      handles = handles.concat(this.picker[this.mode].children);\n      handles = handles.concat(this.gizmo[this.mode].children);\n      handles = handles.concat(this.helper[this.mode].children);\n      for (let i = 0; i < handles.length; i++) {\n        const handle = handles[i];\n        handle.visible = true;\n        handle.rotation.set(0, 0, 0);\n        handle.position.copy(this.worldPosition);\n        let factor;\n        if (this.camera.isOrthographicCamera) {\n          factor = (this.camera.top - this.camera.bottom) / this.camera.zoom;\n        } else {\n          factor = this.worldPosition.distanceTo(this.cameraPosition) * Math.min(1.9 * Math.tan(Math.PI * this.camera.fov / 360) / this.camera.zoom, 7);\n        }\n        handle.scale.set(1, 1, 1).multiplyScalar(factor * this.size / 7);\n        if (handle.tag === \"helper\") {\n          handle.visible = false;\n          if (handle.name === \"AXIS\") {\n            handle.position.copy(this.worldPositionStart);\n            handle.visible = !!this.axis;\n            if (this.axis === \"X\") {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, 0));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n              if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n            if (this.axis === \"Y\") {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, Math.PI / 2));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n              if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n            if (this.axis === \"Z\") {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n              if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n            if (this.axis === \"XYZE\") {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0));\n              this.alignVector.copy(this.rotationAxis);\n              handle.quaternion.setFromRotationMatrix(\n                this.lookAtMatrix.lookAt(this.zeroVector, this.alignVector, this.unitY)\n              );\n              handle.quaternion.multiply(this.tempQuaternion);\n              handle.visible = this.dragging;\n            }\n            if (this.axis === \"E\") {\n              handle.visible = false;\n            }\n          } else if (handle.name === \"START\") {\n            handle.position.copy(this.worldPositionStart);\n            handle.visible = this.dragging;\n          } else if (handle.name === \"END\") {\n            handle.position.copy(this.worldPosition);\n            handle.visible = this.dragging;\n          } else if (handle.name === \"DELTA\") {\n            handle.position.copy(this.worldPositionStart);\n            handle.quaternion.copy(this.worldQuaternionStart);\n            this.tempVector.set(1e-10, 1e-10, 1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1);\n            this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert());\n            handle.scale.copy(this.tempVector);\n            handle.visible = this.dragging;\n          } else {\n            handle.quaternion.copy(quaternion);\n            if (this.dragging) {\n              handle.position.copy(this.worldPositionStart);\n            } else {\n              handle.position.copy(this.worldPosition);\n            }\n            if (this.axis) {\n              handle.visible = this.axis.search(handle.name) !== -1;\n            }\n          }\n          continue;\n        }\n        handle.quaternion.copy(quaternion);\n        if (this.mode === \"translate\" || this.mode === \"scale\") {\n          const AXIS_HIDE_TRESHOLD = 0.99;\n          const PLANE_HIDE_TRESHOLD = 0.2;\n          const AXIS_FLIP_TRESHOLD = 0;\n          if (handle.name === \"X\" || handle.name === \"XYZX\") {\n            if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"Y\" || handle.name === \"XYZY\") {\n            if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"Z\" || handle.name === \"XYZZ\") {\n            if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"XY\") {\n            if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"YZ\") {\n            if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"XZ\") {\n            if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name.search(\"X\") !== -1) {\n            if (this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === \"fwd\") {\n                handle.visible = false;\n              } else {\n                handle.scale.x *= -1;\n              }\n            } else if (handle.tag === \"bwd\") {\n              handle.visible = false;\n            }\n          }\n          if (handle.name.search(\"Y\") !== -1) {\n            if (this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === \"fwd\") {\n                handle.visible = false;\n              } else {\n                handle.scale.y *= -1;\n              }\n            } else if (handle.tag === \"bwd\") {\n              handle.visible = false;\n            }\n          }\n          if (handle.name.search(\"Z\") !== -1) {\n            if (this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === \"fwd\") {\n                handle.visible = false;\n              } else {\n                handle.scale.z *= -1;\n              }\n            } else if (handle.tag === \"bwd\") {\n              handle.visible = false;\n            }\n          }\n        } else if (this.mode === \"rotate\") {\n          this.tempQuaternion2.copy(quaternion);\n          this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(quaternion).invert());\n          if (handle.name.search(\"E\") !== -1) {\n            handle.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye, this.zeroVector, this.unitY));\n          }\n          if (handle.name === \"X\") {\n            this.tempQuaternion.setFromAxisAngle(this.unitX, Math.atan2(-this.alignVector.y, this.alignVector.z));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n          if (handle.name === \"Y\") {\n            this.tempQuaternion.setFromAxisAngle(this.unitY, Math.atan2(this.alignVector.x, this.alignVector.z));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n          if (handle.name === \"Z\") {\n            this.tempQuaternion.setFromAxisAngle(this.unitZ, Math.atan2(this.alignVector.y, this.alignVector.x));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n        }\n        handle.visible = handle.visible && (handle.name.indexOf(\"X\") === -1 || this.showX);\n        handle.visible = handle.visible && (handle.name.indexOf(\"Y\") === -1 || this.showY);\n        handle.visible = handle.visible && (handle.name.indexOf(\"Z\") === -1 || this.showZ);\n        handle.visible = handle.visible && (handle.name.indexOf(\"E\") === -1 || this.showX && this.showY && this.showZ);\n        handle.material.tempOpacity = handle.material.tempOpacity || handle.material.opacity;\n        handle.material.tempColor = handle.material.tempColor || handle.material.color.clone();\n        handle.material.color.copy(handle.material.tempColor);\n        handle.material.opacity = handle.material.tempOpacity;\n        if (!this.enabled) {\n          handle.material.opacity *= 0.5;\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n        } else if (this.axis) {\n          if (handle.name === this.axis) {\n            handle.material.opacity = 1;\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else if (this.axis.split(\"\").some(function(a) {\n            return handle.name === a;\n          })) {\n            handle.material.opacity = 1;\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else {\n            handle.material.opacity *= 0.25;\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          }\n        }\n      }\n      super.updateMatrixWorld();\n    });\n    const gizmoMaterial = new MeshBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      side: DoubleSide,\n      fog: false,\n      toneMapped: false\n    });\n    const gizmoLineMaterial = new LineBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      linewidth: 1,\n      fog: false,\n      toneMapped: false\n    });\n    const matInvisible = gizmoMaterial.clone();\n    matInvisible.opacity = 0.15;\n    const matHelper = gizmoMaterial.clone();\n    matHelper.opacity = 0.33;\n    const matRed = gizmoMaterial.clone();\n    matRed.color.set(16711680);\n    const matGreen = gizmoMaterial.clone();\n    matGreen.color.set(65280);\n    const matBlue = gizmoMaterial.clone();\n    matBlue.color.set(255);\n    const matWhiteTransparent = gizmoMaterial.clone();\n    matWhiteTransparent.opacity = 0.25;\n    const matYellowTransparent = matWhiteTransparent.clone();\n    matYellowTransparent.color.set(16776960);\n    const matCyanTransparent = matWhiteTransparent.clone();\n    matCyanTransparent.color.set(65535);\n    const matMagentaTransparent = matWhiteTransparent.clone();\n    matMagentaTransparent.color.set(16711935);\n    const matYellow = gizmoMaterial.clone();\n    matYellow.color.set(16776960);\n    const matLineRed = gizmoLineMaterial.clone();\n    matLineRed.color.set(16711680);\n    const matLineGreen = gizmoLineMaterial.clone();\n    matLineGreen.color.set(65280);\n    const matLineBlue = gizmoLineMaterial.clone();\n    matLineBlue.color.set(255);\n    const matLineCyan = gizmoLineMaterial.clone();\n    matLineCyan.color.set(65535);\n    const matLineMagenta = gizmoLineMaterial.clone();\n    matLineMagenta.color.set(16711935);\n    const matLineYellow = gizmoLineMaterial.clone();\n    matLineYellow.color.set(16776960);\n    const matLineGray = gizmoLineMaterial.clone();\n    matLineGray.color.set(7895160);\n    const matLineYellowTransparent = matLineYellow.clone();\n    matLineYellowTransparent.opacity = 0.25;\n    const arrowGeometry = new CylinderGeometry(0, 0.05, 0.2, 12, 1, false);\n    const scaleHandleGeometry = new BoxGeometry(0.125, 0.125, 0.125);\n    const lineGeometry = new BufferGeometry();\n    lineGeometry.setAttribute(\"position\", new Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n    const CircleGeometry = (radius, arc) => {\n      const geometry = new BufferGeometry();\n      const vertices = [];\n      for (let i = 0; i <= 64 * arc; ++i) {\n        vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\n      }\n      geometry.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n      return geometry;\n    };\n    const TranslateHelperGeometry = () => {\n      const geometry = new BufferGeometry();\n      geometry.setAttribute(\"position\", new Float32BufferAttribute([0, 0, 0, 1, 1, 1], 3));\n      return geometry;\n    };\n    const gizmoTranslate = {\n      X: [\n        [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, -Math.PI / 2], null, \"fwd\"],\n        [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, Math.PI / 2], null, \"bwd\"],\n        [new Line(lineGeometry, matLineRed)]\n      ],\n      Y: [\n        [new Mesh(arrowGeometry, matGreen), [0, 1, 0], null, null, \"fwd\"],\n        [new Mesh(arrowGeometry, matGreen), [0, 1, 0], [Math.PI, 0, 0], null, \"bwd\"],\n        [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2]]\n      ],\n      Z: [\n        [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [Math.PI / 2, 0, 0], null, \"fwd\"],\n        [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [-Math.PI / 2, 0, 0], null, \"bwd\"],\n        [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0]]\n      ],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.1, 0), matWhiteTransparent.clone()), [0, 0, 0], [0, 0, 0]]],\n      XY: [\n        [new Mesh(new PlaneGeometry(0.295, 0.295), matYellowTransparent.clone()), [0.15, 0.15, 0]],\n        [new Line(lineGeometry, matLineYellow), [0.18, 0.3, 0], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineYellow), [0.3, 0.18, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]\n      ],\n      YZ: [\n        [new Mesh(new PlaneGeometry(0.295, 0.295), matCyanTransparent.clone()), [0, 0.15, 0.15], [0, Math.PI / 2, 0]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.18, 0.3], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.3, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]\n      ],\n      XZ: [\n        [\n          new Mesh(new PlaneGeometry(0.295, 0.295), matMagentaTransparent.clone()),\n          [0.15, 0, 0.15],\n          [-Math.PI / 2, 0, 0]\n        ],\n        [new Line(lineGeometry, matLineMagenta), [0.18, 0, 0.3], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineMagenta), [0.3, 0, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]\n      ]\n    };\n    const pickerTranslate = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0.6, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.2, 0), matInvisible)]],\n      XY: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0.2, 0]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]]\n    };\n    const helperTranslate = {\n      START: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, \"helper\"]],\n      END: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, \"helper\"]],\n      DELTA: [[new Line(TranslateHelperGeometry(), matHelper), null, null, null, \"helper\"]],\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], \"helper\"]],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], \"helper\"]],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], \"helper\"]]\n    };\n    const gizmoRotate = {\n      X: [\n        [new Line(CircleGeometry(1, 0.5), matLineRed)],\n        [new Mesh(new OctahedronGeometry(0.04, 0), matRed), [0, 0, 0.99], null, [1, 3, 1]]\n      ],\n      Y: [\n        [new Line(CircleGeometry(1, 0.5), matLineGreen), null, [0, 0, -Math.PI / 2]],\n        [new Mesh(new OctahedronGeometry(0.04, 0), matGreen), [0, 0, 0.99], null, [3, 1, 1]]\n      ],\n      Z: [\n        [new Line(CircleGeometry(1, 0.5), matLineBlue), null, [0, Math.PI / 2, 0]],\n        [new Mesh(new OctahedronGeometry(0.04, 0), matBlue), [0.99, 0, 0], null, [1, 3, 1]]\n      ],\n      E: [\n        [new Line(CircleGeometry(1.25, 1), matLineYellowTransparent), null, [0, Math.PI / 2, 0]],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [1.17, 0, 0],\n          [0, 0, -Math.PI / 2],\n          [1, 1, 1e-3]\n        ],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [-1.17, 0, 0],\n          [0, 0, Math.PI / 2],\n          [1, 1, 1e-3]\n        ],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [0, -1.17, 0],\n          [Math.PI, 0, 0],\n          [1, 1, 1e-3]\n        ],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [0, 1.17, 0],\n          [0, 0, 0],\n          [1, 1, 1e-3]\n        ]\n      ],\n      XYZE: [[new Line(CircleGeometry(1, 1), matLineGray), null, [0, Math.PI / 2, 0]]]\n    };\n    const helperRotate = {\n      AXIS: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], \"helper\"]]\n    };\n    const pickerRotate = {\n      X: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n      Y: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n      Z: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n      E: [[new Mesh(new TorusGeometry(1.25, 0.1, 2, 24), matInvisible)]],\n      XYZE: [[new Mesh(new SphereGeometry(0.7, 10, 8), matInvisible)]]\n    };\n    const gizmoScale = {\n      X: [\n        [new Mesh(scaleHandleGeometry, matRed), [0.8, 0, 0], [0, 0, -Math.PI / 2]],\n        [new Line(lineGeometry, matLineRed), null, null, [0.8, 1, 1]]\n      ],\n      Y: [\n        [new Mesh(scaleHandleGeometry, matGreen), [0, 0.8, 0]],\n        [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2], [0.8, 1, 1]]\n      ],\n      Z: [\n        [new Mesh(scaleHandleGeometry, matBlue), [0, 0, 0.8], [Math.PI / 2, 0, 0]],\n        [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0], [0.8, 1, 1]]\n      ],\n      XY: [\n        [new Mesh(scaleHandleGeometry, matYellowTransparent), [0.85, 0.85, 0], null, [2, 2, 0.2]],\n        [new Line(lineGeometry, matLineYellow), [0.855, 0.98, 0], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineYellow), [0.98, 0.855, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]\n      ],\n      YZ: [\n        [new Mesh(scaleHandleGeometry, matCyanTransparent), [0, 0.85, 0.85], null, [0.2, 2, 2]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.855, 0.98], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.98, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]\n      ],\n      XZ: [\n        [new Mesh(scaleHandleGeometry, matMagentaTransparent), [0.85, 0, 0.85], null, [2, 0.2, 2]],\n        [new Line(lineGeometry, matLineMagenta), [0.855, 0, 0.98], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineMagenta), [0.98, 0, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]\n      ],\n      XYZX: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 0, 1.1]]]\n    };\n    const pickerScale = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0.5, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0.5, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0, 0.5], [Math.PI / 2, 0, 0]]],\n      XY: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0.85, 0], null, [3, 3, 0.2]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0, 0.85, 0.85], null, [0.2, 3, 3]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0, 0.85], null, [3, 0.2, 3]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 0, 1.1]]]\n    };\n    const helperScale = {\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], \"helper\"]],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], \"helper\"]],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], \"helper\"]]\n    };\n    const setupGizmo = (gizmoMap) => {\n      const gizmo = new Object3D();\n      for (let name in gizmoMap) {\n        for (let i = gizmoMap[name].length; i--; ) {\n          const object = gizmoMap[name][i][0].clone();\n          const position = gizmoMap[name][i][1];\n          const rotation = gizmoMap[name][i][2];\n          const scale = gizmoMap[name][i][3];\n          const tag = gizmoMap[name][i][4];\n          object.name = name;\n          object.tag = tag;\n          if (position) {\n            object.position.set(position[0], position[1], position[2]);\n          }\n          if (rotation) {\n            object.rotation.set(rotation[0], rotation[1], rotation[2]);\n          }\n          if (scale) {\n            object.scale.set(scale[0], scale[1], scale[2]);\n          }\n          object.updateMatrix();\n          const tempGeometry = object.geometry.clone();\n          tempGeometry.applyMatrix4(object.matrix);\n          object.geometry = tempGeometry;\n          object.renderOrder = Infinity;\n          object.position.set(0, 0, 0);\n          object.rotation.set(0, 0, 0);\n          object.scale.set(1, 1, 1);\n          gizmo.add(object);\n        }\n      }\n      return gizmo;\n    };\n    this.gizmo = {};\n    this.picker = {};\n    this.helper = {};\n    this.add(this.gizmo[\"translate\"] = setupGizmo(gizmoTranslate));\n    this.add(this.gizmo[\"rotate\"] = setupGizmo(gizmoRotate));\n    this.add(this.gizmo[\"scale\"] = setupGizmo(gizmoScale));\n    this.add(this.picker[\"translate\"] = setupGizmo(pickerTranslate));\n    this.add(this.picker[\"rotate\"] = setupGizmo(pickerRotate));\n    this.add(this.picker[\"scale\"] = setupGizmo(pickerScale));\n    this.add(this.helper[\"translate\"] = setupGizmo(helperTranslate));\n    this.add(this.helper[\"rotate\"] = setupGizmo(helperRotate));\n    this.add(this.helper[\"scale\"] = setupGizmo(helperScale));\n    this.picker[\"translate\"].visible = false;\n    this.picker[\"rotate\"].visible = false;\n    this.picker[\"scale\"].visible = false;\n  }\n}\nclass TransformControlsPlane extends Mesh {\n  constructor() {\n    super(\n      new PlaneGeometry(1e5, 1e5, 2, 2),\n      new MeshBasicMaterial({\n        visible: false,\n        wireframe: true,\n        side: DoubleSide,\n        transparent: true,\n        opacity: 0.1,\n        toneMapped: false\n      })\n    );\n    __publicField(this, \"isTransformControlsPlane\", true);\n    __publicField(this, \"type\", \"TransformControlsPlane\");\n    __publicField(this, \"unitX\", new Vector3(1, 0, 0));\n    __publicField(this, \"unitY\", new Vector3(0, 1, 0));\n    __publicField(this, \"unitZ\", new Vector3(0, 0, 1));\n    __publicField(this, \"tempVector\", new Vector3());\n    __publicField(this, \"dirVector\", new Vector3());\n    __publicField(this, \"alignVector\", new Vector3());\n    __publicField(this, \"tempMatrix\", new Matrix4());\n    __publicField(this, \"identityQuaternion\", new Quaternion());\n    // these are set from parent class TransformControls\n    __publicField(this, \"cameraQuaternion\", new Quaternion());\n    __publicField(this, \"worldPosition\", new Vector3());\n    __publicField(this, \"worldQuaternion\", new Quaternion());\n    __publicField(this, \"eye\", new Vector3());\n    __publicField(this, \"axis\", null);\n    __publicField(this, \"mode\", \"translate\");\n    __publicField(this, \"space\", \"world\");\n    __publicField(this, \"updateMatrixWorld\", () => {\n      let space = this.space;\n      this.position.copy(this.worldPosition);\n      if (this.mode === \"scale\")\n        space = \"local\";\n      this.unitX.set(1, 0, 0).applyQuaternion(space === \"local\" ? this.worldQuaternion : this.identityQuaternion);\n      this.unitY.set(0, 1, 0).applyQuaternion(space === \"local\" ? this.worldQuaternion : this.identityQuaternion);\n      this.unitZ.set(0, 0, 1).applyQuaternion(space === \"local\" ? this.worldQuaternion : this.identityQuaternion);\n      this.alignVector.copy(this.unitY);\n      switch (this.mode) {\n        case \"translate\":\n        case \"scale\":\n          switch (this.axis) {\n            case \"X\":\n              this.alignVector.copy(this.eye).cross(this.unitX);\n              this.dirVector.copy(this.unitX).cross(this.alignVector);\n              break;\n            case \"Y\":\n              this.alignVector.copy(this.eye).cross(this.unitY);\n              this.dirVector.copy(this.unitY).cross(this.alignVector);\n              break;\n            case \"Z\":\n              this.alignVector.copy(this.eye).cross(this.unitZ);\n              this.dirVector.copy(this.unitZ).cross(this.alignVector);\n              break;\n            case \"XY\":\n              this.dirVector.copy(this.unitZ);\n              break;\n            case \"YZ\":\n              this.dirVector.copy(this.unitX);\n              break;\n            case \"XZ\":\n              this.alignVector.copy(this.unitZ);\n              this.dirVector.copy(this.unitY);\n              break;\n            case \"XYZ\":\n            case \"E\":\n              this.dirVector.set(0, 0, 0);\n              break;\n          }\n          break;\n        case \"rotate\":\n        default:\n          this.dirVector.set(0, 0, 0);\n      }\n      if (this.dirVector.length() === 0) {\n        this.quaternion.copy(this.cameraQuaternion);\n      } else {\n        this.tempMatrix.lookAt(this.tempVector.set(0, 0, 0), this.dirVector, this.alignVector);\n        this.quaternion.setFromRotationMatrix(this.tempMatrix);\n      }\n      super.updateMatrixWorld();\n    });\n  }\n}\nexport {\n  TransformControls,\n  TransformControlsGizmo,\n  TransformControlsPlane\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Euler, Vector3, EventDispatcher } from \"three\";\nconst _euler = /* @__PURE__ */ new Euler(0, 0, 0, \"YXZ\");\nconst _vector = /* @__PURE__ */ new Vector3();\nconst _changeEvent = { type: \"change\" };\nconst _lockEvent = { type: \"lock\" };\nconst _unlockEvent = { type: \"unlock\" };\nconst _PI_2 = Math.PI / 2;\nclass PointerLockControls extends EventDispatcher {\n  constructor(camera, domElement) {\n    super();\n    __publicField(this, \"camera\");\n    __publicField(this, \"domElement\");\n    __publicField(this, \"isLocked\");\n    __publicField(this, \"minPolarAngle\");\n    __publicField(this, \"maxPolarAngle\");\n    __publicField(this, \"pointerSpeed\");\n    __publicField(this, \"onMouseMove\", (event) => {\n      if (!this.domElement || this.isLocked === false)\n        return;\n      const movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n      const movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n      _euler.setFromQuaternion(this.camera.quaternion);\n      _euler.y -= movementX * 2e-3 * this.pointerSpeed;\n      _euler.x -= movementY * 2e-3 * this.pointerSpeed;\n      _euler.x = Math.max(_PI_2 - this.maxPolarAngle, Math.min(_PI_2 - this.minPolarAngle, _euler.x));\n      this.camera.quaternion.setFromEuler(_euler);\n      this.dispatchEvent(_changeEvent);\n    });\n    __publicField(this, \"onPointerlockChange\", () => {\n      if (!this.domElement)\n        return;\n      if (this.domElement.ownerDocument.pointerLockElement === this.domElement) {\n        this.dispatchEvent(_lockEvent);\n        this.isLocked = true;\n      } else {\n        this.dispatchEvent(_unlockEvent);\n        this.isLocked = false;\n      }\n    });\n    __publicField(this, \"onPointerlockError\", () => {\n      console.error(\"THREE.PointerLockControls: Unable to use Pointer Lock API\");\n    });\n    __publicField(this, \"connect\", (domElement) => {\n      this.domElement = domElement || this.domElement;\n      if (!this.domElement)\n        return;\n      this.domElement.ownerDocument.addEventListener(\"mousemove\", this.onMouseMove);\n      this.domElement.ownerDocument.addEventListener(\"pointerlockchange\", this.onPointerlockChange);\n      this.domElement.ownerDocument.addEventListener(\"pointerlockerror\", this.onPointerlockError);\n    });\n    __publicField(this, \"disconnect\", () => {\n      if (!this.domElement)\n        return;\n      this.domElement.ownerDocument.removeEventListener(\"mousemove\", this.onMouseMove);\n      this.domElement.ownerDocument.removeEventListener(\"pointerlockchange\", this.onPointerlockChange);\n      this.domElement.ownerDocument.removeEventListener(\"pointerlockerror\", this.onPointerlockError);\n    });\n    __publicField(this, \"dispose\", () => {\n      this.disconnect();\n    });\n    __publicField(this, \"getObject\", () => {\n      return this.camera;\n    });\n    __publicField(this, \"direction\", new Vector3(0, 0, -1));\n    __publicField(this, \"getDirection\", (v) => {\n      return v.copy(this.direction).applyQuaternion(this.camera.quaternion);\n    });\n    __publicField(this, \"moveForward\", (distance) => {\n      _vector.setFromMatrixColumn(this.camera.matrix, 0);\n      _vector.crossVectors(this.camera.up, _vector);\n      this.camera.position.addScaledVector(_vector, distance);\n    });\n    __publicField(this, \"moveRight\", (distance) => {\n      _vector.setFromMatrixColumn(this.camera.matrix, 0);\n      this.camera.position.addScaledVector(_vector, distance);\n    });\n    __publicField(this, \"lock\", () => {\n      if (this.domElement)\n        this.domElement.requestPointerLock();\n    });\n    __publicField(this, \"unlock\", () => {\n      if (this.domElement)\n        this.domElement.ownerDocument.exitPointerLock();\n    });\n    this.camera = camera;\n    this.domElement = domElement;\n    this.isLocked = false;\n    this.minPolarAngle = 0;\n    this.maxPolarAngle = Math.PI;\n    this.pointerSpeed = 1;\n    if (domElement)\n      this.connect(domElement);\n  }\n}\nexport {\n  PointerLockControls\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { EventDispatcher, Vector3, Euler, Quaternion, MathUtils } from \"three\";\nclass DeviceOrientationControls extends EventDispatcher {\n  // radians\n  constructor(object) {\n    super();\n    __publicField(this, \"object\");\n    __publicField(this, \"changeEvent\", { type: \"change\" });\n    __publicField(this, \"EPS\", 1e-6);\n    __publicField(this, \"enabled\", true);\n    __publicField(this, \"deviceOrientation\", { alpha: 0, beta: 0, gamma: 0 });\n    __publicField(this, \"screenOrientation\", 0);\n    __publicField(this, \"alphaOffset\", 0);\n    __publicField(this, \"onDeviceOrientationChangeEvent\", (event) => {\n      this.deviceOrientation = event;\n    });\n    __publicField(this, \"onScreenOrientationChangeEvent\", () => {\n      this.screenOrientation = window.orientation || 0;\n    });\n    // The angles alpha, beta and gamma form a set of intrinsic Tait-Bryan angles of type Z-X'-Y''\n    __publicField(this, \"zee\", new Vector3(0, 0, 1));\n    __publicField(this, \"euler\", new Euler());\n    __publicField(this, \"q0\", new Quaternion());\n    __publicField(this, \"q1\", new Quaternion(-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)));\n    // - PI/2 around the x-axis\n    __publicField(this, \"setObjectQuaternion\", (quaternion, alpha, beta, gamma, orient) => {\n      this.euler.set(beta, alpha, -gamma, \"YXZ\");\n      quaternion.setFromEuler(this.euler);\n      quaternion.multiply(this.q1);\n      quaternion.multiply(this.q0.setFromAxisAngle(this.zee, -orient));\n    });\n    __publicField(this, \"connect\", () => {\n      this.onScreenOrientationChangeEvent();\n      if (window.DeviceOrientationEvent !== void 0 && // @ts-ignore\n      typeof window.DeviceOrientationEvent.requestPermission === \"function\") {\n        window.DeviceOrientationEvent.requestPermission().then((response) => {\n          if (response == \"granted\") {\n            window.addEventListener(\"orientationchange\", this.onScreenOrientationChangeEvent);\n            window.addEventListener(\"deviceorientation\", this.onDeviceOrientationChangeEvent);\n          }\n        }).catch((error) => {\n          console.error(\"THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:\", error);\n        });\n      } else {\n        window.addEventListener(\"orientationchange\", this.onScreenOrientationChangeEvent);\n        window.addEventListener(\"deviceorientation\", this.onDeviceOrientationChangeEvent);\n      }\n      this.enabled = true;\n    });\n    __publicField(this, \"disconnect\", () => {\n      window.removeEventListener(\"orientationchange\", this.onScreenOrientationChangeEvent);\n      window.removeEventListener(\"deviceorientation\", this.onDeviceOrientationChangeEvent);\n      this.enabled = false;\n    });\n    __publicField(this, \"lastQuaternion\", new Quaternion());\n    __publicField(this, \"update\", () => {\n      if (this.enabled === false)\n        return;\n      const device = this.deviceOrientation;\n      if (device) {\n        const alpha = device.alpha ? MathUtils.degToRad(device.alpha) + this.alphaOffset : 0;\n        const beta = device.beta ? MathUtils.degToRad(device.beta) : 0;\n        const gamma = device.gamma ? MathUtils.degToRad(device.gamma) : 0;\n        const orient = this.screenOrientation ? MathUtils.degToRad(this.screenOrientation) : 0;\n        this.setObjectQuaternion(this.object.quaternion, alpha, beta, gamma, orient);\n        if (8 * (1 - this.lastQuaternion.dot(this.object.quaternion)) > this.EPS) {\n          this.lastQuaternion.copy(this.object.quaternion);\n          this.dispatchEvent(this.changeEvent);\n        }\n      }\n    });\n    __publicField(this, \"dispose\", () => this.disconnect());\n    this.object = object;\n    this.object.rotation.reorder(\"YXZ\");\n    this.connect();\n  }\n}\nexport {\n  DeviceOrientationControls\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { EventDispatcher, MOUSE, Vector3, Vector2, Quaternion } from \"three\";\nclass TrackballControls extends EventDispatcher {\n  constructor(object, domElement) {\n    super();\n    __publicField(this, \"enabled\", true);\n    __publicField(this, \"screen\", { left: 0, top: 0, width: 0, height: 0 });\n    __publicField(this, \"rotateSpeed\", 1);\n    __publicField(this, \"zoomSpeed\", 1.2);\n    __publicField(this, \"panSpeed\", 0.3);\n    __publicField(this, \"noRotate\", false);\n    __publicField(this, \"noZoom\", false);\n    __publicField(this, \"noPan\", false);\n    __publicField(this, \"staticMoving\", false);\n    __publicField(this, \"dynamicDampingFactor\", 0.2);\n    __publicField(this, \"minDistance\", 0);\n    __publicField(this, \"maxDistance\", Infinity);\n    __publicField(this, \"keys\", [\n      \"KeyA\",\n      \"KeyS\",\n      \"KeyD\"\n      /*D*/\n    ]);\n    __publicField(this, \"mouseButtons\", {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    });\n    __publicField(this, \"object\");\n    __publicField(this, \"domElement\");\n    __publicField(this, \"cursorZoom\", false);\n    __publicField(this, \"target\", new Vector3());\n    __publicField(this, \"mousePosition\", new Vector2());\n    // internals\n    __publicField(this, \"STATE\", {\n      NONE: -1,\n      ROTATE: 0,\n      ZOOM: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_ZOOM_PAN: 4\n    });\n    __publicField(this, \"EPS\", 1e-6);\n    __publicField(this, \"lastZoom\", 1);\n    __publicField(this, \"lastPosition\", new Vector3());\n    __publicField(this, \"cursorVector\", new Vector3());\n    __publicField(this, \"targetVector\", new Vector3());\n    __publicField(this, \"_state\", this.STATE.NONE);\n    __publicField(this, \"_keyState\", this.STATE.NONE);\n    __publicField(this, \"_eye\", new Vector3());\n    __publicField(this, \"_movePrev\", new Vector2());\n    __publicField(this, \"_moveCurr\", new Vector2());\n    __publicField(this, \"_lastAxis\", new Vector3());\n    __publicField(this, \"_lastAngle\", 0);\n    __publicField(this, \"_zoomStart\", new Vector2());\n    __publicField(this, \"_zoomEnd\", new Vector2());\n    __publicField(this, \"_touchZoomDistanceStart\", 0);\n    __publicField(this, \"_touchZoomDistanceEnd\", 0);\n    __publicField(this, \"_panStart\", new Vector2());\n    __publicField(this, \"_panEnd\", new Vector2());\n    __publicField(this, \"target0\");\n    __publicField(this, \"position0\");\n    __publicField(this, \"up0\");\n    __publicField(this, \"zoom0\");\n    // events\n    __publicField(this, \"changeEvent\", { type: \"change\" });\n    __publicField(this, \"startEvent\", { type: \"start\" });\n    __publicField(this, \"endEvent\", { type: \"end\" });\n    __publicField(this, \"onScreenVector\", new Vector2());\n    __publicField(this, \"getMouseOnScreen\", (pageX, pageY) => {\n      this.onScreenVector.set(\n        (pageX - this.screen.left) / this.screen.width,\n        (pageY - this.screen.top) / this.screen.height\n      );\n      return this.onScreenVector;\n    });\n    __publicField(this, \"onCircleVector\", new Vector2());\n    __publicField(this, \"getMouseOnCircle\", (pageX, pageY) => {\n      this.onCircleVector.set(\n        (pageX - this.screen.width * 0.5 - this.screen.left) / (this.screen.width * 0.5),\n        (this.screen.height + 2 * (this.screen.top - pageY)) / this.screen.width\n        // screen.width intentional\n      );\n      return this.onCircleVector;\n    });\n    __publicField(this, \"axis\", new Vector3());\n    __publicField(this, \"quaternion\", new Quaternion());\n    __publicField(this, \"eyeDirection\", new Vector3());\n    __publicField(this, \"objectUpDirection\", new Vector3());\n    __publicField(this, \"objectSidewaysDirection\", new Vector3());\n    __publicField(this, \"moveDirection\", new Vector3());\n    __publicField(this, \"angle\", 0);\n    __publicField(this, \"rotateCamera\", () => {\n      this.moveDirection.set(this._moveCurr.x - this._movePrev.x, this._moveCurr.y - this._movePrev.y, 0);\n      this.angle = this.moveDirection.length();\n      if (this.angle) {\n        this._eye.copy(this.object.position).sub(this.target);\n        this.eyeDirection.copy(this._eye).normalize();\n        this.objectUpDirection.copy(this.object.up).normalize();\n        this.objectSidewaysDirection.crossVectors(this.objectUpDirection, this.eyeDirection).normalize();\n        this.objectUpDirection.setLength(this._moveCurr.y - this._movePrev.y);\n        this.objectSidewaysDirection.setLength(this._moveCurr.x - this._movePrev.x);\n        this.moveDirection.copy(this.objectUpDirection.add(this.objectSidewaysDirection));\n        this.axis.crossVectors(this.moveDirection, this._eye).normalize();\n        this.angle *= this.rotateSpeed;\n        this.quaternion.setFromAxisAngle(this.axis, this.angle);\n        this._eye.applyQuaternion(this.quaternion);\n        this.object.up.applyQuaternion(this.quaternion);\n        this._lastAxis.copy(this.axis);\n        this._lastAngle = this.angle;\n      } else if (!this.staticMoving && this._lastAngle) {\n        this._lastAngle *= Math.sqrt(1 - this.dynamicDampingFactor);\n        this._eye.copy(this.object.position).sub(this.target);\n        this.quaternion.setFromAxisAngle(this._lastAxis, this._lastAngle);\n        this._eye.applyQuaternion(this.quaternion);\n        this.object.up.applyQuaternion(this.quaternion);\n      }\n      this._movePrev.copy(this._moveCurr);\n    });\n    __publicField(this, \"zoomCamera\", () => {\n      let factor;\n      if (this._state === this.STATE.TOUCH_ZOOM_PAN) {\n        factor = this._touchZoomDistanceStart / this._touchZoomDistanceEnd;\n        this._touchZoomDistanceStart = this._touchZoomDistanceEnd;\n        if (this.object.isPerspectiveCamera) {\n          this._eye.multiplyScalar(factor);\n        } else if (this.object.isOrthographicCamera) {\n          this.object.zoom /= factor;\n          this.object.updateProjectionMatrix();\n        } else {\n          console.warn(\"THREE.TrackballControls: Unsupported camera type\");\n        }\n      } else {\n        factor = 1 + (this._zoomEnd.y - this._zoomStart.y) * this.zoomSpeed;\n        if (Math.abs(factor - 1) > this.EPS && factor > 0) {\n          if (this.object.isPerspectiveCamera) {\n            if (factor > 1 && this._eye.length() >= this.maxDistance - this.EPS) {\n              factor = 1;\n            }\n            this._eye.multiplyScalar(factor);\n          } else if (this.object.isOrthographicCamera) {\n            if (factor > 1 && this.object.zoom < this.maxDistance * this.maxDistance) {\n              factor = 1;\n            }\n            this.object.zoom /= factor;\n          } else {\n            console.warn(\"THREE.TrackballControls: Unsupported camera type\");\n          }\n        }\n        if (this.staticMoving) {\n          this._zoomStart.copy(this._zoomEnd);\n        } else {\n          this._zoomStart.y += (this._zoomEnd.y - this._zoomStart.y) * this.dynamicDampingFactor;\n        }\n        if (this.cursorZoom) {\n          this.targetVector.copy(this.target).project(this.object);\n          let worldPos = this.cursorVector.set(this.mousePosition.x, this.mousePosition.y, this.targetVector.z).unproject(this.object);\n          this.target.lerpVectors(worldPos, this.target, factor);\n        }\n        if (this.object.isOrthographicCamera) {\n          this.object.updateProjectionMatrix();\n        }\n      }\n    });\n    __publicField(this, \"mouseChange\", new Vector2());\n    __publicField(this, \"objectUp\", new Vector3());\n    __publicField(this, \"pan\", new Vector3());\n    __publicField(this, \"panCamera\", () => {\n      if (!this.domElement)\n        return;\n      this.mouseChange.copy(this._panEnd).sub(this._panStart);\n      if (this.mouseChange.lengthSq() > this.EPS) {\n        if (this.object.isOrthographicCamera) {\n          const orthoObject = this.object;\n          const scale_x = (orthoObject.right - orthoObject.left) / this.object.zoom;\n          const scale_y = (orthoObject.top - orthoObject.bottom) / this.object.zoom;\n          this.mouseChange.x *= scale_x;\n          this.mouseChange.y *= scale_y;\n        } else {\n          this.mouseChange.multiplyScalar(this._eye.length() * this.panSpeed);\n        }\n        this.pan.copy(this._eye).cross(this.object.up).setLength(this.mouseChange.x);\n        this.pan.add(this.objectUp.copy(this.object.up).setLength(this.mouseChange.y));\n        this.object.position.add(this.pan);\n        this.target.add(this.pan);\n        if (this.staticMoving) {\n          this._panStart.copy(this._panEnd);\n        } else {\n          this._panStart.add(\n            this.mouseChange.subVectors(this._panEnd, this._panStart).multiplyScalar(this.dynamicDampingFactor)\n          );\n        }\n      }\n    });\n    __publicField(this, \"checkDistances\", () => {\n      if (!this.noZoom || !this.noPan) {\n        if (this._eye.lengthSq() > this.maxDistance * this.maxDistance) {\n          this.object.position.addVectors(this.target, this._eye.setLength(this.maxDistance));\n          this._zoomStart.copy(this._zoomEnd);\n        }\n        if (this._eye.lengthSq() < this.minDistance * this.minDistance) {\n          this.object.position.addVectors(this.target, this._eye.setLength(this.minDistance));\n          this._zoomStart.copy(this._zoomEnd);\n        }\n      }\n    });\n    __publicField(this, \"handleResize\", () => {\n      if (!this.domElement)\n        return;\n      const box = this.domElement.getBoundingClientRect();\n      const d = this.domElement.ownerDocument.documentElement;\n      this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n      this.screen.top = box.top + window.pageYOffset - d.clientTop;\n      this.screen.width = box.width;\n      this.screen.height = box.height;\n    });\n    __publicField(this, \"update\", () => {\n      this._eye.subVectors(this.object.position, this.target);\n      if (!this.noRotate) {\n        this.rotateCamera();\n      }\n      if (!this.noZoom) {\n        this.zoomCamera();\n      }\n      if (!this.noPan) {\n        this.panCamera();\n      }\n      this.object.position.addVectors(this.target, this._eye);\n      if (this.object.isPerspectiveCamera) {\n        this.checkDistances();\n        this.object.lookAt(this.target);\n        if (this.lastPosition.distanceToSquared(this.object.position) > this.EPS) {\n          this.dispatchEvent(this.changeEvent);\n          this.lastPosition.copy(this.object.position);\n        }\n      } else if (this.object.isOrthographicCamera) {\n        this.object.lookAt(this.target);\n        if (this.lastPosition.distanceToSquared(this.object.position) > this.EPS || this.lastZoom !== this.object.zoom) {\n          this.dispatchEvent(this.changeEvent);\n          this.lastPosition.copy(this.object.position);\n          this.lastZoom = this.object.zoom;\n        }\n      } else {\n        console.warn(\"THREE.TrackballControls: Unsupported camera type\");\n      }\n    });\n    __publicField(this, \"reset\", () => {\n      this._state = this.STATE.NONE;\n      this._keyState = this.STATE.NONE;\n      this.target.copy(this.target0);\n      this.object.position.copy(this.position0);\n      this.object.up.copy(this.up0);\n      this.object.zoom = this.zoom0;\n      this.object.updateProjectionMatrix();\n      this._eye.subVectors(this.object.position, this.target);\n      this.object.lookAt(this.target);\n      this.dispatchEvent(this.changeEvent);\n      this.lastPosition.copy(this.object.position);\n      this.lastZoom = this.object.zoom;\n    });\n    __publicField(this, \"keydown\", (event) => {\n      if (this.enabled === false)\n        return;\n      window.removeEventListener(\"keydown\", this.keydown);\n      if (this._keyState !== this.STATE.NONE) {\n        return;\n      } else if (event.code === this.keys[this.STATE.ROTATE] && !this.noRotate) {\n        this._keyState = this.STATE.ROTATE;\n      } else if (event.code === this.keys[this.STATE.ZOOM] && !this.noZoom) {\n        this._keyState = this.STATE.ZOOM;\n      } else if (event.code === this.keys[this.STATE.PAN] && !this.noPan) {\n        this._keyState = this.STATE.PAN;\n      }\n    });\n    __publicField(this, \"onPointerDown\", (event) => {\n      if (this.enabled === false)\n        return;\n      switch (event.pointerType) {\n        case \"mouse\":\n        case \"pen\":\n          this.onMouseDown(event);\n          break;\n      }\n    });\n    __publicField(this, \"onPointerMove\", (event) => {\n      if (this.enabled === false)\n        return;\n      switch (event.pointerType) {\n        case \"mouse\":\n        case \"pen\":\n          this.onMouseMove(event);\n          break;\n      }\n    });\n    __publicField(this, \"onPointerUp\", (event) => {\n      if (this.enabled === false)\n        return;\n      switch (event.pointerType) {\n        case \"mouse\":\n        case \"pen\":\n          this.onMouseUp();\n          break;\n      }\n    });\n    __publicField(this, \"keyup\", () => {\n      if (this.enabled === false)\n        return;\n      this._keyState = this.STATE.NONE;\n      window.addEventListener(\"keydown\", this.keydown);\n    });\n    __publicField(this, \"onMouseDown\", (event) => {\n      if (!this.domElement)\n        return;\n      if (this._state === this.STATE.NONE) {\n        switch (event.button) {\n          case this.mouseButtons.LEFT:\n            this._state = this.STATE.ROTATE;\n            break;\n          case this.mouseButtons.MIDDLE:\n            this._state = this.STATE.ZOOM;\n            break;\n          case this.mouseButtons.RIGHT:\n            this._state = this.STATE.PAN;\n            break;\n          default:\n            this._state = this.STATE.NONE;\n        }\n      }\n      const state = this._keyState !== this.STATE.NONE ? this._keyState : this._state;\n      if (state === this.STATE.ROTATE && !this.noRotate) {\n        this._moveCurr.copy(this.getMouseOnCircle(event.pageX, event.pageY));\n        this._movePrev.copy(this._moveCurr);\n      } else if (state === this.STATE.ZOOM && !this.noZoom) {\n        this._zoomStart.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n        this._zoomEnd.copy(this._zoomStart);\n      } else if (state === this.STATE.PAN && !this.noPan) {\n        this._panStart.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n        this._panEnd.copy(this._panStart);\n      }\n      this.domElement.ownerDocument.addEventListener(\"pointermove\", this.onPointerMove);\n      this.domElement.ownerDocument.addEventListener(\"pointerup\", this.onPointerUp);\n      this.dispatchEvent(this.startEvent);\n    });\n    __publicField(this, \"onMouseMove\", (event) => {\n      if (this.enabled === false)\n        return;\n      const state = this._keyState !== this.STATE.NONE ? this._keyState : this._state;\n      if (state === this.STATE.ROTATE && !this.noRotate) {\n        this._movePrev.copy(this._moveCurr);\n        this._moveCurr.copy(this.getMouseOnCircle(event.pageX, event.pageY));\n      } else if (state === this.STATE.ZOOM && !this.noZoom) {\n        this._zoomEnd.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n      } else if (state === this.STATE.PAN && !this.noPan) {\n        this._panEnd.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n      }\n    });\n    __publicField(this, \"onMouseUp\", () => {\n      if (!this.domElement)\n        return;\n      if (this.enabled === false)\n        return;\n      this._state = this.STATE.NONE;\n      this.domElement.ownerDocument.removeEventListener(\"pointermove\", this.onPointerMove);\n      this.domElement.ownerDocument.removeEventListener(\"pointerup\", this.onPointerUp);\n      this.dispatchEvent(this.endEvent);\n    });\n    __publicField(this, \"mousewheel\", (event) => {\n      if (this.enabled === false)\n        return;\n      if (this.noZoom === true)\n        return;\n      event.preventDefault();\n      switch (event.deltaMode) {\n        case 2:\n          this._zoomStart.y -= event.deltaY * 0.025;\n          break;\n        case 1:\n          this._zoomStart.y -= event.deltaY * 0.01;\n          break;\n        default:\n          this._zoomStart.y -= event.deltaY * 25e-5;\n          break;\n      }\n      this.mousePosition.x = event.offsetX / this.screen.width * 2 - 1;\n      this.mousePosition.y = -(event.offsetY / this.screen.height) * 2 + 1;\n      this.dispatchEvent(this.startEvent);\n      this.dispatchEvent(this.endEvent);\n    });\n    __publicField(this, \"touchstart\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      switch (event.touches.length) {\n        case 1:\n          this._state = this.STATE.TOUCH_ROTATE;\n          this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n          this._movePrev.copy(this._moveCurr);\n          break;\n        default:\n          this._state = this.STATE.TOUCH_ZOOM_PAN;\n          const dx = event.touches[0].pageX - event.touches[1].pageX;\n          const dy = event.touches[0].pageY - event.touches[1].pageY;\n          this._touchZoomDistanceEnd = this._touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy);\n          const x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n          const y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n          this._panStart.copy(this.getMouseOnScreen(x, y));\n          this._panEnd.copy(this._panStart);\n          break;\n      }\n      this.dispatchEvent(this.startEvent);\n    });\n    __publicField(this, \"touchmove\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      switch (event.touches.length) {\n        case 1:\n          this._movePrev.copy(this._moveCurr);\n          this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n          break;\n        default:\n          const dx = event.touches[0].pageX - event.touches[1].pageX;\n          const dy = event.touches[0].pageY - event.touches[1].pageY;\n          this._touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy);\n          const x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n          const y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n          this._panEnd.copy(this.getMouseOnScreen(x, y));\n          break;\n      }\n    });\n    __publicField(this, \"touchend\", (event) => {\n      if (this.enabled === false)\n        return;\n      switch (event.touches.length) {\n        case 0:\n          this._state = this.STATE.NONE;\n          break;\n        case 1:\n          this._state = this.STATE.TOUCH_ROTATE;\n          this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n          this._movePrev.copy(this._moveCurr);\n          break;\n      }\n      this.dispatchEvent(this.endEvent);\n    });\n    __publicField(this, \"contextmenu\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n    });\n    // https://github.com/mrdoob/three.js/issues/20575\n    __publicField(this, \"connect\", (domElement) => {\n      if (domElement === document) {\n        console.error(\n          'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.'\n        );\n      }\n      this.domElement = domElement;\n      this.domElement.addEventListener(\"contextmenu\", this.contextmenu);\n      this.domElement.addEventListener(\"pointerdown\", this.onPointerDown);\n      this.domElement.addEventListener(\"wheel\", this.mousewheel);\n      this.domElement.addEventListener(\"touchstart\", this.touchstart);\n      this.domElement.addEventListener(\"touchend\", this.touchend);\n      this.domElement.addEventListener(\"touchmove\", this.touchmove);\n      this.domElement.ownerDocument.addEventListener(\"pointermove\", this.onPointerMove);\n      this.domElement.ownerDocument.addEventListener(\"pointerup\", this.onPointerUp);\n      window.addEventListener(\"keydown\", this.keydown);\n      window.addEventListener(\"keyup\", this.keyup);\n      this.handleResize();\n    });\n    __publicField(this, \"dispose\", () => {\n      if (!this.domElement)\n        return;\n      this.domElement.removeEventListener(\"contextmenu\", this.contextmenu);\n      this.domElement.removeEventListener(\"pointerdown\", this.onPointerDown);\n      this.domElement.removeEventListener(\"wheel\", this.mousewheel);\n      this.domElement.removeEventListener(\"touchstart\", this.touchstart);\n      this.domElement.removeEventListener(\"touchend\", this.touchend);\n      this.domElement.removeEventListener(\"touchmove\", this.touchmove);\n      this.domElement.ownerDocument.removeEventListener(\"pointermove\", this.onPointerMove);\n      this.domElement.ownerDocument.removeEventListener(\"pointerup\", this.onPointerUp);\n      window.removeEventListener(\"keydown\", this.keydown);\n      window.removeEventListener(\"keyup\", this.keyup);\n    });\n    this.object = object;\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.up0 = this.object.up.clone();\n    this.zoom0 = this.object.zoom;\n    if (domElement !== void 0)\n      this.connect(domElement);\n    this.update();\n  }\n}\nexport {\n  TrackballControls\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { EventDispatcher, Vector3, MOUSE, TOUCH, Quaternion, Spherical, Vector2, PerspectiveCamera, OrthographicCamera } from \"three\";\nconst moduloWrapAround = (offset, capacity) => (offset % capacity + capacity) % capacity;\nclass OrbitControls extends EventDispatcher {\n  constructor(object, domElement) {\n    super();\n    __publicField(this, \"object\");\n    __publicField(this, \"domElement\");\n    // Set to false to disable this control\n    __publicField(this, \"enabled\", true);\n    // \"target\" sets the location of focus, where the object orbits around\n    __publicField(this, \"target\", new Vector3());\n    // How far you can dolly in and out ( PerspectiveCamera only )\n    __publicField(this, \"minDistance\", 0);\n    __publicField(this, \"maxDistance\", Infinity);\n    // How far you can zoom in and out ( OrthographicCamera only )\n    __publicField(this, \"minZoom\", 0);\n    __publicField(this, \"maxZoom\", Infinity);\n    // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n    __publicField(this, \"minPolarAngle\", 0);\n    // radians\n    __publicField(this, \"maxPolarAngle\", Math.PI);\n    // radians\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n    __publicField(this, \"minAzimuthAngle\", -Infinity);\n    // radians\n    __publicField(this, \"maxAzimuthAngle\", Infinity);\n    // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n    __publicField(this, \"enableDamping\", false);\n    __publicField(this, \"dampingFactor\", 0.05);\n    // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n    // Set to false to disable zooming\n    __publicField(this, \"enableZoom\", true);\n    __publicField(this, \"zoomSpeed\", 1);\n    // Set to false to disable rotating\n    __publicField(this, \"enableRotate\", true);\n    __publicField(this, \"rotateSpeed\", 1);\n    // Set to false to disable panning\n    __publicField(this, \"enablePan\", true);\n    __publicField(this, \"panSpeed\", 1);\n    __publicField(this, \"screenSpacePanning\", true);\n    // if false, pan orthogonal to world-space direction camera.up\n    __publicField(this, \"keyPanSpeed\", 7);\n    // pixels moved per arrow key push\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n    __publicField(this, \"autoRotate\", false);\n    __publicField(this, \"autoRotateSpeed\", 2);\n    // 30 seconds per orbit when fps is 60\n    __publicField(this, \"reverseOrbit\", false);\n    // true if you want to reverse the orbit to mouse drag from left to right = orbits left\n    __publicField(this, \"reverseHorizontalOrbit\", false);\n    // true if you want to reverse the horizontal orbit direction\n    __publicField(this, \"reverseVerticalOrbit\", false);\n    // true if you want to reverse the vertical orbit direction\n    // The four arrow keys\n    __publicField(this, \"keys\", { LEFT: \"ArrowLeft\", UP: \"ArrowUp\", RIGHT: \"ArrowRight\", BOTTOM: \"ArrowDown\" });\n    // Mouse buttons\n    __publicField(this, \"mouseButtons\", {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    });\n    // Touch fingers\n    __publicField(this, \"touches\", { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN });\n    __publicField(this, \"target0\");\n    __publicField(this, \"position0\");\n    __publicField(this, \"zoom0\");\n    // the target DOM element for key events\n    __publicField(this, \"_domElementKeyEvents\", null);\n    __publicField(this, \"getPolarAngle\");\n    __publicField(this, \"getAzimuthalAngle\");\n    __publicField(this, \"setPolarAngle\");\n    __publicField(this, \"setAzimuthalAngle\");\n    __publicField(this, \"getDistance\");\n    __publicField(this, \"listenToKeyEvents\");\n    __publicField(this, \"stopListenToKeyEvents\");\n    __publicField(this, \"saveState\");\n    __publicField(this, \"reset\");\n    __publicField(this, \"update\");\n    __publicField(this, \"connect\");\n    __publicField(this, \"dispose\");\n    this.object = object;\n    this.domElement = domElement;\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object.zoom;\n    this.getPolarAngle = () => spherical.phi;\n    this.getAzimuthalAngle = () => spherical.theta;\n    this.setPolarAngle = (value) => {\n      let phi = moduloWrapAround(value, 2 * Math.PI);\n      let currentPhi = spherical.phi;\n      if (currentPhi < 0)\n        currentPhi += 2 * Math.PI;\n      if (phi < 0)\n        phi += 2 * Math.PI;\n      let phiDist = Math.abs(phi - currentPhi);\n      if (2 * Math.PI - phiDist < phiDist) {\n        if (phi < currentPhi) {\n          phi += 2 * Math.PI;\n        } else {\n          currentPhi += 2 * Math.PI;\n        }\n      }\n      sphericalDelta.phi = phi - currentPhi;\n      scope.update();\n    };\n    this.setAzimuthalAngle = (value) => {\n      let theta = moduloWrapAround(value, 2 * Math.PI);\n      let currentTheta = spherical.theta;\n      if (currentTheta < 0)\n        currentTheta += 2 * Math.PI;\n      if (theta < 0)\n        theta += 2 * Math.PI;\n      let thetaDist = Math.abs(theta - currentTheta);\n      if (2 * Math.PI - thetaDist < thetaDist) {\n        if (theta < currentTheta) {\n          theta += 2 * Math.PI;\n        } else {\n          currentTheta += 2 * Math.PI;\n        }\n      }\n      sphericalDelta.theta = theta - currentTheta;\n      scope.update();\n    };\n    this.getDistance = () => scope.object.position.distanceTo(scope.target);\n    this.listenToKeyEvents = (domElement2) => {\n      domElement2.addEventListener(\"keydown\", onKeyDown);\n      this._domElementKeyEvents = domElement2;\n    };\n    this.stopListenToKeyEvents = () => {\n      this._domElementKeyEvents.removeEventListener(\"keydown\", onKeyDown);\n      this._domElementKeyEvents = null;\n    };\n    this.saveState = () => {\n      scope.target0.copy(scope.target);\n      scope.position0.copy(scope.object.position);\n      scope.zoom0 = scope.object.zoom;\n    };\n    this.reset = () => {\n      scope.target.copy(scope.target0);\n      scope.object.position.copy(scope.position0);\n      scope.object.zoom = scope.zoom0;\n      scope.object.updateProjectionMatrix();\n      scope.dispatchEvent(changeEvent);\n      scope.update();\n      state = STATE.NONE;\n    };\n    this.update = (() => {\n      const offset = new Vector3();\n      const up = new Vector3(0, 1, 0);\n      const quat = new Quaternion().setFromUnitVectors(object.up, up);\n      const quatInverse = quat.clone().invert();\n      const lastPosition = new Vector3();\n      const lastQuaternion = new Quaternion();\n      const twoPI = 2 * Math.PI;\n      return function update() {\n        const position = scope.object.position;\n        quat.setFromUnitVectors(object.up, up);\n        quatInverse.copy(quat).invert();\n        offset.copy(position).sub(scope.target);\n        offset.applyQuaternion(quat);\n        spherical.setFromVector3(offset);\n        if (scope.autoRotate && state === STATE.NONE) {\n          rotateLeft(getAutoRotationAngle());\n        }\n        if (scope.enableDamping) {\n          spherical.theta += sphericalDelta.theta * scope.dampingFactor;\n          spherical.phi += sphericalDelta.phi * scope.dampingFactor;\n        } else {\n          spherical.theta += sphericalDelta.theta;\n          spherical.phi += sphericalDelta.phi;\n        }\n        let min = scope.minAzimuthAngle;\n        let max = scope.maxAzimuthAngle;\n        if (isFinite(min) && isFinite(max)) {\n          if (min < -Math.PI)\n            min += twoPI;\n          else if (min > Math.PI)\n            min -= twoPI;\n          if (max < -Math.PI)\n            max += twoPI;\n          else if (max > Math.PI)\n            max -= twoPI;\n          if (min <= max) {\n            spherical.theta = Math.max(min, Math.min(max, spherical.theta));\n          } else {\n            spherical.theta = spherical.theta > (min + max) / 2 ? Math.max(min, spherical.theta) : Math.min(max, spherical.theta);\n          }\n        }\n        spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n        spherical.makeSafe();\n        spherical.radius *= scale;\n        spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));\n        if (scope.enableDamping === true) {\n          scope.target.addScaledVector(panOffset, scope.dampingFactor);\n        } else {\n          scope.target.add(panOffset);\n        }\n        offset.setFromSpherical(spherical);\n        offset.applyQuaternion(quatInverse);\n        position.copy(scope.target).add(offset);\n        scope.object.lookAt(scope.target);\n        if (scope.enableDamping === true) {\n          sphericalDelta.theta *= 1 - scope.dampingFactor;\n          sphericalDelta.phi *= 1 - scope.dampingFactor;\n          panOffset.multiplyScalar(1 - scope.dampingFactor);\n        } else {\n          sphericalDelta.set(0, 0, 0);\n          panOffset.set(0, 0, 0);\n        }\n        scale = 1;\n        if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n          scope.dispatchEvent(changeEvent);\n          lastPosition.copy(scope.object.position);\n          lastQuaternion.copy(scope.object.quaternion);\n          zoomChanged = false;\n          return true;\n        }\n        return false;\n      };\n    })();\n    this.connect = (domElement2) => {\n      if (domElement2 === document) {\n        console.error(\n          'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.'\n        );\n      }\n      scope.domElement = domElement2;\n      scope.domElement.style.touchAction = \"none\";\n      scope.domElement.addEventListener(\"contextmenu\", onContextMenu);\n      scope.domElement.addEventListener(\"pointerdown\", onPointerDown);\n      scope.domElement.addEventListener(\"pointercancel\", onPointerCancel);\n      scope.domElement.addEventListener(\"wheel\", onMouseWheel);\n    };\n    this.dispose = () => {\n      var _a, _b, _c, _d, _e, _f;\n      (_a = scope.domElement) == null ? void 0 : _a.removeEventListener(\"contextmenu\", onContextMenu);\n      (_b = scope.domElement) == null ? void 0 : _b.removeEventListener(\"pointerdown\", onPointerDown);\n      (_c = scope.domElement) == null ? void 0 : _c.removeEventListener(\"pointercancel\", onPointerCancel);\n      (_d = scope.domElement) == null ? void 0 : _d.removeEventListener(\"wheel\", onMouseWheel);\n      (_e = scope.domElement) == null ? void 0 : _e.ownerDocument.removeEventListener(\"pointermove\", onPointerMove);\n      (_f = scope.domElement) == null ? void 0 : _f.ownerDocument.removeEventListener(\"pointerup\", onPointerUp);\n      if (scope._domElementKeyEvents !== null) {\n        scope._domElementKeyEvents.removeEventListener(\"keydown\", onKeyDown);\n      }\n    };\n    const scope = this;\n    const changeEvent = { type: \"change\" };\n    const startEvent = { type: \"start\" };\n    const endEvent = { type: \"end\" };\n    const STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_PAN: 4,\n      TOUCH_DOLLY_PAN: 5,\n      TOUCH_DOLLY_ROTATE: 6\n    };\n    let state = STATE.NONE;\n    const EPS = 1e-6;\n    const spherical = new Spherical();\n    const sphericalDelta = new Spherical();\n    let scale = 1;\n    const panOffset = new Vector3();\n    let zoomChanged = false;\n    const rotateStart = new Vector2();\n    const rotateEnd = new Vector2();\n    const rotateDelta = new Vector2();\n    const panStart = new Vector2();\n    const panEnd = new Vector2();\n    const panDelta = new Vector2();\n    const dollyStart = new Vector2();\n    const dollyEnd = new Vector2();\n    const dollyDelta = new Vector2();\n    const pointers = [];\n    const pointerPositions = {};\n    function getAutoRotationAngle() {\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n    }\n    function getZoomScale() {\n      return Math.pow(0.95, scope.zoomSpeed);\n    }\n    function rotateLeft(angle) {\n      if (scope.reverseOrbit || scope.reverseHorizontalOrbit) {\n        sphericalDelta.theta += angle;\n      } else {\n        sphericalDelta.theta -= angle;\n      }\n    }\n    function rotateUp(angle) {\n      if (scope.reverseOrbit || scope.reverseVerticalOrbit) {\n        sphericalDelta.phi += angle;\n      } else {\n        sphericalDelta.phi -= angle;\n      }\n    }\n    const panLeft = (() => {\n      const v = new Vector3();\n      return function panLeft2(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 0);\n        v.multiplyScalar(-distance);\n        panOffset.add(v);\n      };\n    })();\n    const panUp = (() => {\n      const v = new Vector3();\n      return function panUp2(distance, objectMatrix) {\n        if (scope.screenSpacePanning === true) {\n          v.setFromMatrixColumn(objectMatrix, 1);\n        } else {\n          v.setFromMatrixColumn(objectMatrix, 0);\n          v.crossVectors(scope.object.up, v);\n        }\n        v.multiplyScalar(distance);\n        panOffset.add(v);\n      };\n    })();\n    const pan = (() => {\n      const offset = new Vector3();\n      return function pan2(deltaX, deltaY) {\n        const element = scope.domElement;\n        if (element && scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n          const position = scope.object.position;\n          offset.copy(position).sub(scope.target);\n          let targetDistance = offset.length();\n          targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180);\n          panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n          panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n        } else if (element && scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n          panLeft(\n            deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth,\n            scope.object.matrix\n          );\n          panUp(\n            deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight,\n            scope.object.matrix\n          );\n        } else {\n          console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.\");\n          scope.enablePan = false;\n        }\n      };\n    })();\n    function dollyOut(dollyScale) {\n      if (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n        scale /= dollyScale;\n      } else if (scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        scope.enableZoom = false;\n      }\n    }\n    function dollyIn(dollyScale) {\n      if (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n        scale *= dollyScale;\n      } else if (scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        scope.enableZoom = false;\n      }\n    }\n    function handleMouseDownRotate(event) {\n      rotateStart.set(event.clientX, event.clientY);\n    }\n    function handleMouseDownDolly(event) {\n      dollyStart.set(event.clientX, event.clientY);\n    }\n    function handleMouseDownPan(event) {\n      panStart.set(event.clientX, event.clientY);\n    }\n    function handleMouseMoveRotate(event) {\n      rotateEnd.set(event.clientX, event.clientY);\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n      if (element) {\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight);\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      }\n      rotateStart.copy(rotateEnd);\n      scope.update();\n    }\n    function handleMouseMoveDolly(event) {\n      dollyEnd.set(event.clientX, event.clientY);\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n      if (dollyDelta.y > 0) {\n        dollyOut(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyIn(getZoomScale());\n      }\n      dollyStart.copy(dollyEnd);\n      scope.update();\n    }\n    function handleMouseMovePan(event) {\n      panEnd.set(event.clientX, event.clientY);\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n      scope.update();\n    }\n    function handleMouseWheel(event) {\n      if (event.deltaY < 0) {\n        dollyIn(getZoomScale());\n      } else if (event.deltaY > 0) {\n        dollyOut(getZoomScale());\n      }\n      scope.update();\n    }\n    function handleKeyDown(event) {\n      let needsUpdate = false;\n      switch (event.code) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n      if (needsUpdate) {\n        event.preventDefault();\n        scope.update();\n      }\n    }\n    function handleTouchStartRotate() {\n      if (pointers.length == 1) {\n        rotateStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        rotateStart.set(x, y);\n      }\n    }\n    function handleTouchStartPan() {\n      if (pointers.length == 1) {\n        panStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        panStart.set(x, y);\n      }\n    }\n    function handleTouchStartDolly() {\n      const dx = pointers[0].pageX - pointers[1].pageX;\n      const dy = pointers[0].pageY - pointers[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyStart.set(0, distance);\n    }\n    function handleTouchStartDollyPan() {\n      if (scope.enableZoom)\n        handleTouchStartDolly();\n      if (scope.enablePan)\n        handleTouchStartPan();\n    }\n    function handleTouchStartDollyRotate() {\n      if (scope.enableZoom)\n        handleTouchStartDolly();\n      if (scope.enableRotate)\n        handleTouchStartRotate();\n    }\n    function handleTouchMoveRotate(event) {\n      if (pointers.length == 1) {\n        rotateEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        rotateEnd.set(x, y);\n      }\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n      if (element) {\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight);\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      }\n      rotateStart.copy(rotateEnd);\n    }\n    function handleTouchMovePan(event) {\n      if (pointers.length == 1) {\n        panEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        panEnd.set(x, y);\n      }\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n    }\n    function handleTouchMoveDolly(event) {\n      const position = getSecondPointerPosition(event);\n      const dx = event.pageX - position.x;\n      const dy = event.pageY - position.y;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyEnd.set(0, distance);\n      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n      dollyOut(dollyDelta.y);\n      dollyStart.copy(dollyEnd);\n    }\n    function handleTouchMoveDollyPan(event) {\n      if (scope.enableZoom)\n        handleTouchMoveDolly(event);\n      if (scope.enablePan)\n        handleTouchMovePan(event);\n    }\n    function handleTouchMoveDollyRotate(event) {\n      if (scope.enableZoom)\n        handleTouchMoveDolly(event);\n      if (scope.enableRotate)\n        handleTouchMoveRotate(event);\n    }\n    function onPointerDown(event) {\n      var _a, _b;\n      if (scope.enabled === false)\n        return;\n      if (pointers.length === 0) {\n        (_a = scope.domElement) == null ? void 0 : _a.ownerDocument.addEventListener(\"pointermove\", onPointerMove);\n        (_b = scope.domElement) == null ? void 0 : _b.ownerDocument.addEventListener(\"pointerup\", onPointerUp);\n      }\n      addPointer(event);\n      if (event.pointerType === \"touch\") {\n        onTouchStart(event);\n      } else {\n        onMouseDown(event);\n      }\n    }\n    function onPointerMove(event) {\n      if (scope.enabled === false)\n        return;\n      if (event.pointerType === \"touch\") {\n        onTouchMove(event);\n      } else {\n        onMouseMove(event);\n      }\n    }\n    function onPointerUp(event) {\n      var _a, _b, _c;\n      removePointer(event);\n      if (pointers.length === 0) {\n        (_a = scope.domElement) == null ? void 0 : _a.releasePointerCapture(event.pointerId);\n        (_b = scope.domElement) == null ? void 0 : _b.ownerDocument.removeEventListener(\"pointermove\", onPointerMove);\n        (_c = scope.domElement) == null ? void 0 : _c.ownerDocument.removeEventListener(\"pointerup\", onPointerUp);\n      }\n      scope.dispatchEvent(endEvent);\n      state = STATE.NONE;\n    }\n    function onPointerCancel(event) {\n      removePointer(event);\n    }\n    function onMouseDown(event) {\n      let mouseAction;\n      switch (event.button) {\n        case 0:\n          mouseAction = scope.mouseButtons.LEFT;\n          break;\n        case 1:\n          mouseAction = scope.mouseButtons.MIDDLE;\n          break;\n        case 2:\n          mouseAction = scope.mouseButtons.RIGHT;\n          break;\n        default:\n          mouseAction = -1;\n      }\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (scope.enableZoom === false)\n            return;\n          handleMouseDownDolly(event);\n          state = STATE.DOLLY;\n          break;\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enablePan === false)\n              return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          } else {\n            if (scope.enableRotate === false)\n              return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          }\n          break;\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enableRotate === false)\n              return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          } else {\n            if (scope.enablePan === false)\n              return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          }\n          break;\n        default:\n          state = STATE.NONE;\n      }\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n    function onMouseMove(event) {\n      if (scope.enabled === false)\n        return;\n      switch (state) {\n        case STATE.ROTATE:\n          if (scope.enableRotate === false)\n            return;\n          handleMouseMoveRotate(event);\n          break;\n        case STATE.DOLLY:\n          if (scope.enableZoom === false)\n            return;\n          handleMouseMoveDolly(event);\n          break;\n        case STATE.PAN:\n          if (scope.enablePan === false)\n            return;\n          handleMouseMovePan(event);\n          break;\n      }\n    }\n    function onMouseWheel(event) {\n      if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) {\n        return;\n      }\n      event.preventDefault();\n      scope.dispatchEvent(startEvent);\n      handleMouseWheel(event);\n      scope.dispatchEvent(endEvent);\n    }\n    function onKeyDown(event) {\n      if (scope.enabled === false || scope.enablePan === false)\n        return;\n      handleKeyDown(event);\n    }\n    function onTouchStart(event) {\n      trackPointer(event);\n      switch (pointers.length) {\n        case 1:\n          switch (scope.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (scope.enableRotate === false)\n                return;\n              handleTouchStartRotate();\n              state = STATE.TOUCH_ROTATE;\n              break;\n            case TOUCH.PAN:\n              if (scope.enablePan === false)\n                return;\n              handleTouchStartPan();\n              state = STATE.TOUCH_PAN;\n              break;\n            default:\n              state = STATE.NONE;\n          }\n          break;\n        case 2:\n          switch (scope.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (scope.enableZoom === false && scope.enablePan === false)\n                return;\n              handleTouchStartDollyPan();\n              state = STATE.TOUCH_DOLLY_PAN;\n              break;\n            case TOUCH.DOLLY_ROTATE:\n              if (scope.enableZoom === false && scope.enableRotate === false)\n                return;\n              handleTouchStartDollyRotate();\n              state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n            default:\n              state = STATE.NONE;\n          }\n          break;\n        default:\n          state = STATE.NONE;\n      }\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n    function onTouchMove(event) {\n      trackPointer(event);\n      switch (state) {\n        case STATE.TOUCH_ROTATE:\n          if (scope.enableRotate === false)\n            return;\n          handleTouchMoveRotate(event);\n          scope.update();\n          break;\n        case STATE.TOUCH_PAN:\n          if (scope.enablePan === false)\n            return;\n          handleTouchMovePan(event);\n          scope.update();\n          break;\n        case STATE.TOUCH_DOLLY_PAN:\n          if (scope.enableZoom === false && scope.enablePan === false)\n            return;\n          handleTouchMoveDollyPan(event);\n          scope.update();\n          break;\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (scope.enableZoom === false && scope.enableRotate === false)\n            return;\n          handleTouchMoveDollyRotate(event);\n          scope.update();\n          break;\n        default:\n          state = STATE.NONE;\n      }\n    }\n    function onContextMenu(event) {\n      if (scope.enabled === false)\n        return;\n      event.preventDefault();\n    }\n    function addPointer(event) {\n      pointers.push(event);\n    }\n    function removePointer(event) {\n      delete pointerPositions[event.pointerId];\n      for (let i = 0; i < pointers.length; i++) {\n        if (pointers[i].pointerId == event.pointerId) {\n          pointers.splice(i, 1);\n          return;\n        }\n      }\n    }\n    function trackPointer(event) {\n      let position = pointerPositions[event.pointerId];\n      if (position === void 0) {\n        position = new Vector2();\n        pointerPositions[event.pointerId] = position;\n      }\n      position.set(event.pageX, event.pageY);\n    }\n    function getSecondPointerPosition(event) {\n      const pointer = event.pointerId === pointers[0].pointerId ? pointers[1] : pointers[0];\n      return pointerPositions[pointer.pointerId];\n    }\n    if (domElement !== void 0)\n      this.connect(domElement);\n    this.update();\n  }\n}\nclass MapControls extends OrbitControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    this.screenSpacePanning = false;\n    this.mouseButtons.LEFT = MOUSE.PAN;\n    this.mouseButtons.RIGHT = MOUSE.ROTATE;\n    this.touches.ONE = TOUCH.PAN;\n    this.touches.TWO = TOUCH.DOLLY_ROTATE;\n  }\n}\nexport {\n  MapControls,\n  OrbitControls\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Matrix4, EventDispatcher, Vector2, Vector3, Quaternion, Group, EllipseCurve, BufferGeometry, PerspectiveCamera, MathUtils, OrthographicCamera, Box3, Sphere, GridHelper, LineBasicMaterial, Line, Raycaster } from \"three\";\nconst STATE = {\n  IDLE: Symbol(),\n  ROTATE: Symbol(),\n  PAN: Symbol(),\n  SCALE: Symbol(),\n  FOV: Symbol(),\n  FOCUS: Symbol(),\n  ZROTATE: Symbol(),\n  TOUCH_MULTI: Symbol(),\n  ANIMATION_FOCUS: Symbol(),\n  ANIMATION_ROTATE: Symbol()\n};\nconst INPUT = {\n  NONE: Symbol(),\n  ONE_FINGER: Symbol(),\n  ONE_FINGER_SWITCHED: Symbol(),\n  TWO_FINGER: Symbol(),\n  MULT_FINGER: Symbol(),\n  CURSOR: Symbol()\n};\nconst _center = {\n  x: 0,\n  y: 0\n};\nconst _transformation = {\n  camera: /* @__PURE__ */ new Matrix4(),\n  gizmos: /* @__PURE__ */ new Matrix4()\n};\nconst _changeEvent = { type: \"change\" };\nconst _startEvent = { type: \"start\" };\nconst _endEvent = { type: \"end\" };\nclass ArcballControls extends EventDispatcher {\n  constructor(camera, domElement = null, scene = null) {\n    super();\n    __publicField(this, \"camera\");\n    __publicField(this, \"domElement\");\n    __publicField(this, \"scene\");\n    __publicField(this, \"mouseActions\");\n    __publicField(this, \"_mouseOp\");\n    __publicField(this, \"_v2_1\");\n    __publicField(this, \"_v3_1\");\n    __publicField(this, \"_v3_2\");\n    __publicField(this, \"_m4_1\");\n    __publicField(this, \"_m4_2\");\n    __publicField(this, \"_quat\");\n    __publicField(this, \"_translationMatrix\");\n    __publicField(this, \"_rotationMatrix\");\n    __publicField(this, \"_scaleMatrix\");\n    __publicField(this, \"_rotationAxis\");\n    __publicField(this, \"_cameraMatrixState\");\n    __publicField(this, \"_cameraProjectionState\");\n    __publicField(this, \"_fovState\");\n    __publicField(this, \"_upState\");\n    __publicField(this, \"_zoomState\");\n    __publicField(this, \"_nearPos\");\n    __publicField(this, \"_farPos\");\n    __publicField(this, \"_gizmoMatrixState\");\n    __publicField(this, \"_up0\");\n    __publicField(this, \"_zoom0\");\n    __publicField(this, \"_fov0\");\n    __publicField(this, \"_initialNear\");\n    __publicField(this, \"_nearPos0\");\n    __publicField(this, \"_initialFar\");\n    __publicField(this, \"_farPos0\");\n    __publicField(this, \"_cameraMatrixState0\");\n    __publicField(this, \"_gizmoMatrixState0\");\n    __publicField(this, \"_button\");\n    __publicField(this, \"_touchStart\");\n    __publicField(this, \"_touchCurrent\");\n    __publicField(this, \"_input\");\n    __publicField(this, \"_switchSensibility\");\n    __publicField(this, \"_startFingerDistance\");\n    __publicField(this, \"_currentFingerDistance\");\n    __publicField(this, \"_startFingerRotation\");\n    __publicField(this, \"_currentFingerRotation\");\n    __publicField(this, \"_devPxRatio\");\n    __publicField(this, \"_downValid\");\n    __publicField(this, \"_nclicks\");\n    __publicField(this, \"_downEvents\");\n    __publicField(this, \"_clickStart\");\n    __publicField(this, \"_maxDownTime\");\n    __publicField(this, \"_maxInterval\");\n    __publicField(this, \"_posThreshold\");\n    __publicField(this, \"_movementThreshold\");\n    __publicField(this, \"_currentCursorPosition\");\n    __publicField(this, \"_startCursorPosition\");\n    __publicField(this, \"_grid\");\n    __publicField(this, \"_gridPosition\");\n    __publicField(this, \"_gizmos\");\n    __publicField(this, \"_curvePts\");\n    __publicField(this, \"_timeStart\");\n    __publicField(this, \"_animationId\");\n    __publicField(this, \"focusAnimationTime\");\n    __publicField(this, \"_timePrev\");\n    __publicField(this, \"_timeCurrent\");\n    __publicField(this, \"_anglePrev\");\n    __publicField(this, \"_angleCurrent\");\n    __publicField(this, \"_cursorPosPrev\");\n    __publicField(this, \"_cursorPosCurr\");\n    __publicField(this, \"_wPrev\");\n    __publicField(this, \"_wCurr\");\n    __publicField(this, \"adjustNearFar\");\n    __publicField(this, \"scaleFactor\");\n    __publicField(this, \"dampingFactor\");\n    __publicField(this, \"wMax\");\n    __publicField(this, \"enableAnimations\");\n    __publicField(this, \"enableGrid\");\n    __publicField(this, \"cursorZoom\");\n    __publicField(this, \"minFov\");\n    __publicField(this, \"maxFov\");\n    __publicField(this, \"enabled\");\n    __publicField(this, \"enablePan\");\n    __publicField(this, \"enableRotate\");\n    __publicField(this, \"enableZoom\");\n    __publicField(this, \"minDistance\");\n    __publicField(this, \"maxDistance\");\n    __publicField(this, \"minZoom\");\n    __publicField(this, \"maxZoom\");\n    __publicField(this, \"target\");\n    __publicField(this, \"_currentTarget\");\n    __publicField(this, \"_tbRadius\");\n    __publicField(this, \"_state\");\n    //listeners\n    __publicField(this, \"onWindowResize\", () => {\n      const scale = (this._gizmos.scale.x + this._gizmos.scale.y + this._gizmos.scale.z) / 3;\n      if (this.camera) {\n        const tbRadius = this.calculateTbRadius(this.camera);\n        if (tbRadius !== void 0) {\n          this._tbRadius = tbRadius;\n        }\n      }\n      const newRadius = this._tbRadius / scale;\n      const curve = new EllipseCurve(0, 0, newRadius, newRadius);\n      const points = curve.getPoints(this._curvePts);\n      const curveGeometry = new BufferGeometry().setFromPoints(points);\n      for (const gizmo in this._gizmos.children) {\n        const child = this._gizmos.children[gizmo];\n        child.geometry = curveGeometry;\n      }\n      this.dispatchEvent(_changeEvent);\n    });\n    __publicField(this, \"onContextMenu\", (event) => {\n      if (!this.enabled) {\n        return;\n      }\n      for (let i = 0; i < this.mouseActions.length; i++) {\n        if (this.mouseActions[i].mouse == 2) {\n          event.preventDefault();\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPointerCancel\", () => {\n      this._touchStart.splice(0, this._touchStart.length);\n      this._touchCurrent.splice(0, this._touchCurrent.length);\n      this._input = INPUT.NONE;\n    });\n    __publicField(this, \"onPointerDown\", (event) => {\n      if (event.button == 0 && event.isPrimary) {\n        this._downValid = true;\n        this._downEvents.push(event);\n      } else {\n        this._downValid = false;\n      }\n      if (event.pointerType == \"touch\" && this._input != INPUT.CURSOR) {\n        this._touchStart.push(event);\n        this._touchCurrent.push(event);\n        switch (this._input) {\n          case INPUT.NONE:\n            this._input = INPUT.ONE_FINGER;\n            this.onSinglePanStart(event, \"ROTATE\");\n            window.addEventListener(\"pointermove\", this.onPointerMove);\n            window.addEventListener(\"pointerup\", this.onPointerUp);\n            break;\n          case INPUT.ONE_FINGER:\n          case INPUT.ONE_FINGER_SWITCHED:\n            this._input = INPUT.TWO_FINGER;\n            this.onRotateStart();\n            this.onPinchStart();\n            this.onDoublePanStart();\n            break;\n          case INPUT.TWO_FINGER:\n            this._input = INPUT.MULT_FINGER;\n            this.onTriplePanStart();\n            break;\n        }\n      } else if (event.pointerType != \"touch\" && this._input == INPUT.NONE) {\n        let modifier = null;\n        if (event.ctrlKey || event.metaKey) {\n          modifier = \"CTRL\";\n        } else if (event.shiftKey) {\n          modifier = \"SHIFT\";\n        }\n        this._mouseOp = this.getOpFromAction(event.button, modifier);\n        if (this._mouseOp) {\n          window.addEventListener(\"pointermove\", this.onPointerMove);\n          window.addEventListener(\"pointerup\", this.onPointerUp);\n          this._input = INPUT.CURSOR;\n          this._button = event.button;\n          this.onSinglePanStart(event, this._mouseOp);\n        }\n      }\n    });\n    __publicField(this, \"onPointerMove\", (event) => {\n      if (event.pointerType == \"touch\" && this._input != INPUT.CURSOR) {\n        switch (this._input) {\n          case INPUT.ONE_FINGER:\n            this.updateTouchEvent(event);\n            this.onSinglePanMove(event, STATE.ROTATE);\n            break;\n          case INPUT.ONE_FINGER_SWITCHED:\n            const movement = this.calculatePointersDistance(this._touchCurrent[0], event) * this._devPxRatio;\n            if (movement >= this._switchSensibility) {\n              this._input = INPUT.ONE_FINGER;\n              this.updateTouchEvent(event);\n              this.onSinglePanStart(event, \"ROTATE\");\n              break;\n            }\n            break;\n          case INPUT.TWO_FINGER:\n            this.updateTouchEvent(event);\n            this.onRotateMove();\n            this.onPinchMove();\n            this.onDoublePanMove();\n            break;\n          case INPUT.MULT_FINGER:\n            this.updateTouchEvent(event);\n            this.onTriplePanMove();\n            break;\n        }\n      } else if (event.pointerType != \"touch\" && this._input == INPUT.CURSOR) {\n        let modifier = null;\n        if (event.ctrlKey || event.metaKey) {\n          modifier = \"CTRL\";\n        } else if (event.shiftKey) {\n          modifier = \"SHIFT\";\n        }\n        const mouseOpState = this.getOpStateFromAction(this._button, modifier);\n        if (mouseOpState) {\n          this.onSinglePanMove(event, mouseOpState);\n        }\n      }\n      if (this._downValid) {\n        const movement = this.calculatePointersDistance(this._downEvents[this._downEvents.length - 1], event) * this._devPxRatio;\n        if (movement > this._movementThreshold) {\n          this._downValid = false;\n        }\n      }\n    });\n    __publicField(this, \"onPointerUp\", (event) => {\n      if (event.pointerType == \"touch\" && this._input != INPUT.CURSOR) {\n        const nTouch = this._touchCurrent.length;\n        for (let i = 0; i < nTouch; i++) {\n          if (this._touchCurrent[i].pointerId == event.pointerId) {\n            this._touchCurrent.splice(i, 1);\n            this._touchStart.splice(i, 1);\n            break;\n          }\n        }\n        switch (this._input) {\n          case INPUT.ONE_FINGER:\n          case INPUT.ONE_FINGER_SWITCHED:\n            window.removeEventListener(\"pointermove\", this.onPointerMove);\n            window.removeEventListener(\"pointerup\", this.onPointerUp);\n            this._input = INPUT.NONE;\n            this.onSinglePanEnd();\n            break;\n          case INPUT.TWO_FINGER:\n            this.onDoublePanEnd();\n            this.onPinchEnd();\n            this.onRotateEnd();\n            this._input = INPUT.ONE_FINGER_SWITCHED;\n            break;\n          case INPUT.MULT_FINGER:\n            if (this._touchCurrent.length == 0) {\n              window.removeEventListener(\"pointermove\", this.onPointerMove);\n              window.removeEventListener(\"pointerup\", this.onPointerUp);\n              this._input = INPUT.NONE;\n              this.onTriplePanEnd();\n            }\n            break;\n        }\n      } else if (event.pointerType != \"touch\" && this._input == INPUT.CURSOR) {\n        window.removeEventListener(\"pointermove\", this.onPointerMove);\n        window.removeEventListener(\"pointerup\", this.onPointerUp);\n        this._input = INPUT.NONE;\n        this.onSinglePanEnd();\n        this._button = -1;\n      }\n      if (event.isPrimary) {\n        if (this._downValid) {\n          const downTime = event.timeStamp - this._downEvents[this._downEvents.length - 1].timeStamp;\n          if (downTime <= this._maxDownTime) {\n            if (this._nclicks == 0) {\n              this._nclicks = 1;\n              this._clickStart = performance.now();\n            } else {\n              const clickInterval = event.timeStamp - this._clickStart;\n              const movement = this.calculatePointersDistance(this._downEvents[1], this._downEvents[0]) * this._devPxRatio;\n              if (clickInterval <= this._maxInterval && movement <= this._posThreshold) {\n                this._nclicks = 0;\n                this._downEvents.splice(0, this._downEvents.length);\n                this.onDoubleTap(event);\n              } else {\n                this._nclicks = 1;\n                this._downEvents.shift();\n                this._clickStart = performance.now();\n              }\n            }\n          } else {\n            this._downValid = false;\n            this._nclicks = 0;\n            this._downEvents.splice(0, this._downEvents.length);\n          }\n        } else {\n          this._nclicks = 0;\n          this._downEvents.splice(0, this._downEvents.length);\n        }\n      }\n    });\n    __publicField(this, \"onWheel\", (event) => {\n      var _a, _b;\n      if (this.enabled && this.enableZoom && this.domElement) {\n        let modifier = null;\n        if (event.ctrlKey || event.metaKey) {\n          modifier = \"CTRL\";\n        } else if (event.shiftKey) {\n          modifier = \"SHIFT\";\n        }\n        const mouseOp = this.getOpFromAction(\"WHEEL\", modifier);\n        if (mouseOp) {\n          event.preventDefault();\n          this.dispatchEvent(_startEvent);\n          const notchDeltaY = 125;\n          let sgn = event.deltaY / notchDeltaY;\n          let size = 1;\n          if (sgn > 0) {\n            size = 1 / this.scaleFactor;\n          } else if (sgn < 0) {\n            size = this.scaleFactor;\n          }\n          switch (mouseOp) {\n            case \"ZOOM\":\n              this.updateTbState(STATE.SCALE, true);\n              if (sgn > 0) {\n                size = 1 / Math.pow(this.scaleFactor, sgn);\n              } else if (sgn < 0) {\n                size = Math.pow(this.scaleFactor, -sgn);\n              }\n              if (this.cursorZoom && this.enablePan) {\n                let scalePoint;\n                if (this.camera instanceof OrthographicCamera) {\n                  scalePoint = (_a = this.unprojectOnTbPlane(this.camera, event.clientX, event.clientY, this.domElement)) == null ? void 0 : _a.applyQuaternion(this.camera.quaternion).multiplyScalar(1 / this.camera.zoom).add(this._gizmos.position);\n                }\n                if (this.camera instanceof PerspectiveCamera) {\n                  scalePoint = (_b = this.unprojectOnTbPlane(this.camera, event.clientX, event.clientY, this.domElement)) == null ? void 0 : _b.applyQuaternion(this.camera.quaternion).add(this._gizmos.position);\n                }\n                if (scalePoint !== void 0)\n                  this.applyTransformMatrix(this.applyScale(size, scalePoint));\n              } else {\n                this.applyTransformMatrix(this.applyScale(size, this._gizmos.position));\n              }\n              if (this._grid) {\n                this.disposeGrid();\n                this.drawGrid();\n              }\n              this.updateTbState(STATE.IDLE, false);\n              this.dispatchEvent(_changeEvent);\n              this.dispatchEvent(_endEvent);\n              break;\n            case \"FOV\":\n              if (this.camera instanceof PerspectiveCamera) {\n                this.updateTbState(STATE.FOV, true);\n                if (event.deltaX != 0) {\n                  sgn = event.deltaX / notchDeltaY;\n                  size = 1;\n                  if (sgn > 0) {\n                    size = 1 / Math.pow(this.scaleFactor, sgn);\n                  } else if (sgn < 0) {\n                    size = Math.pow(this.scaleFactor, -sgn);\n                  }\n                }\n                this._v3_1.setFromMatrixPosition(this._cameraMatrixState);\n                const x = this._v3_1.distanceTo(this._gizmos.position);\n                let xNew = x / size;\n                xNew = MathUtils.clamp(xNew, this.minDistance, this.maxDistance);\n                const y = x * Math.tan(MathUtils.DEG2RAD * this.camera.fov * 0.5);\n                let newFov = MathUtils.RAD2DEG * (Math.atan(y / xNew) * 2);\n                if (newFov > this.maxFov) {\n                  newFov = this.maxFov;\n                } else if (newFov < this.minFov) {\n                  newFov = this.minFov;\n                }\n                const newDistance = y / Math.tan(MathUtils.DEG2RAD * (newFov / 2));\n                size = x / newDistance;\n                this.setFov(newFov);\n                this.applyTransformMatrix(this.applyScale(size, this._gizmos.position, false));\n              }\n              if (this._grid) {\n                this.disposeGrid();\n                this.drawGrid();\n              }\n              this.updateTbState(STATE.IDLE, false);\n              this.dispatchEvent(_changeEvent);\n              this.dispatchEvent(_endEvent);\n              break;\n          }\n        }\n      }\n    });\n    __publicField(this, \"onSinglePanStart\", (event, operation) => {\n      if (this.enabled && this.domElement) {\n        this.dispatchEvent(_startEvent);\n        this.setCenter(event.clientX, event.clientY);\n        switch (operation) {\n          case \"PAN\":\n            if (!this.enablePan)\n              return;\n            if (this._animationId != -1) {\n              cancelAnimationFrame(this._animationId);\n              this._animationId = -1;\n              this._timeStart = -1;\n              this.activateGizmos(false);\n              this.dispatchEvent(_changeEvent);\n            }\n            if (this.camera) {\n              this.updateTbState(STATE.PAN, true);\n              const rayDir = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement);\n              if (rayDir !== void 0) {\n                this._startCursorPosition.copy(rayDir);\n              }\n              if (this.enableGrid) {\n                this.drawGrid();\n                this.dispatchEvent(_changeEvent);\n              }\n            }\n            break;\n          case \"ROTATE\":\n            if (!this.enableRotate)\n              return;\n            if (this._animationId != -1) {\n              cancelAnimationFrame(this._animationId);\n              this._animationId = -1;\n              this._timeStart = -1;\n            }\n            if (this.camera) {\n              this.updateTbState(STATE.ROTATE, true);\n              const rayDir = this.unprojectOnTbSurface(this.camera, _center.x, _center.y, this.domElement, this._tbRadius);\n              if (rayDir !== void 0) {\n                this._startCursorPosition.copy(rayDir);\n              }\n              this.activateGizmos(true);\n              if (this.enableAnimations) {\n                this._timePrev = this._timeCurrent = performance.now();\n                this._angleCurrent = this._anglePrev = 0;\n                this._cursorPosPrev.copy(this._startCursorPosition);\n                this._cursorPosCurr.copy(this._cursorPosPrev);\n                this._wCurr = 0;\n                this._wPrev = this._wCurr;\n              }\n            }\n            this.dispatchEvent(_changeEvent);\n            break;\n          case \"FOV\":\n            if (!this.enableZoom)\n              return;\n            if (this.camera instanceof PerspectiveCamera) {\n              if (this._animationId != -1) {\n                cancelAnimationFrame(this._animationId);\n                this._animationId = -1;\n                this._timeStart = -1;\n                this.activateGizmos(false);\n                this.dispatchEvent(_changeEvent);\n              }\n              this.updateTbState(STATE.FOV, true);\n              this._startCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5);\n              this._currentCursorPosition.copy(this._startCursorPosition);\n            }\n            break;\n          case \"ZOOM\":\n            if (!this.enableZoom)\n              return;\n            if (this._animationId != -1) {\n              cancelAnimationFrame(this._animationId);\n              this._animationId = -1;\n              this._timeStart = -1;\n              this.activateGizmos(false);\n              this.dispatchEvent(_changeEvent);\n            }\n            this.updateTbState(STATE.SCALE, true);\n            this._startCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5);\n            this._currentCursorPosition.copy(this._startCursorPosition);\n            break;\n        }\n      }\n    });\n    __publicField(this, \"onSinglePanMove\", (event, opState) => {\n      if (this.enabled && this.domElement) {\n        const restart = opState != this._state;\n        this.setCenter(event.clientX, event.clientY);\n        switch (opState) {\n          case STATE.PAN:\n            if (this.enablePan && this.camera) {\n              if (restart) {\n                this.dispatchEvent(_endEvent);\n                this.dispatchEvent(_startEvent);\n                this.updateTbState(opState, true);\n                const rayDir = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement);\n                if (rayDir !== void 0) {\n                  this._startCursorPosition.copy(rayDir);\n                }\n                if (this.enableGrid) {\n                  this.drawGrid();\n                }\n                this.activateGizmos(false);\n              } else {\n                const rayDir = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement);\n                if (rayDir !== void 0) {\n                  this._currentCursorPosition.copy(rayDir);\n                }\n                this.applyTransformMatrix(this.pan(this._startCursorPosition, this._currentCursorPosition));\n              }\n            }\n            break;\n          case STATE.ROTATE:\n            if (this.enableRotate && this.camera) {\n              if (restart) {\n                this.dispatchEvent(_endEvent);\n                this.dispatchEvent(_startEvent);\n                this.updateTbState(opState, true);\n                const rayDir = this.unprojectOnTbSurface(\n                  this.camera,\n                  _center.x,\n                  _center.y,\n                  this.domElement,\n                  this._tbRadius\n                );\n                if (rayDir !== void 0) {\n                  this._startCursorPosition.copy(rayDir);\n                }\n                if (this.enableGrid) {\n                  this.disposeGrid();\n                }\n                this.activateGizmos(true);\n              } else {\n                const rayDir = this.unprojectOnTbSurface(\n                  this.camera,\n                  _center.x,\n                  _center.y,\n                  this.domElement,\n                  this._tbRadius\n                );\n                if (rayDir !== void 0) {\n                  this._currentCursorPosition.copy(rayDir);\n                }\n                const distance = this._startCursorPosition.distanceTo(this._currentCursorPosition);\n                const angle = this._startCursorPosition.angleTo(this._currentCursorPosition);\n                const amount = Math.max(distance / this._tbRadius, angle);\n                this.applyTransformMatrix(\n                  this.rotate(this.calculateRotationAxis(this._startCursorPosition, this._currentCursorPosition), amount)\n                );\n                if (this.enableAnimations) {\n                  this._timePrev = this._timeCurrent;\n                  this._timeCurrent = performance.now();\n                  this._anglePrev = this._angleCurrent;\n                  this._angleCurrent = amount;\n                  this._cursorPosPrev.copy(this._cursorPosCurr);\n                  this._cursorPosCurr.copy(this._currentCursorPosition);\n                  this._wPrev = this._wCurr;\n                  this._wCurr = this.calculateAngularSpeed(\n                    this._anglePrev,\n                    this._angleCurrent,\n                    this._timePrev,\n                    this._timeCurrent\n                  );\n                }\n              }\n            }\n            break;\n          case STATE.SCALE:\n            if (this.enableZoom) {\n              if (restart) {\n                this.dispatchEvent(_endEvent);\n                this.dispatchEvent(_startEvent);\n                this.updateTbState(opState, true);\n                this._startCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5);\n                this._currentCursorPosition.copy(this._startCursorPosition);\n                if (this.enableGrid) {\n                  this.disposeGrid();\n                }\n                this.activateGizmos(false);\n              } else {\n                const screenNotches = 8;\n                this._currentCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5);\n                const movement = this._currentCursorPosition.y - this._startCursorPosition.y;\n                let size = 1;\n                if (movement < 0) {\n                  size = 1 / Math.pow(this.scaleFactor, -movement * screenNotches);\n                } else if (movement > 0) {\n                  size = Math.pow(this.scaleFactor, movement * screenNotches);\n                }\n                this.applyTransformMatrix(this.applyScale(size, this._gizmos.position));\n              }\n            }\n            break;\n          case STATE.FOV:\n            if (this.enableZoom && this.camera instanceof PerspectiveCamera) {\n              if (restart) {\n                this.dispatchEvent(_endEvent);\n                this.dispatchEvent(_startEvent);\n                this.updateTbState(opState, true);\n                this._startCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5);\n                this._currentCursorPosition.copy(this._startCursorPosition);\n                if (this.enableGrid) {\n                  this.disposeGrid();\n                }\n                this.activateGizmos(false);\n              } else {\n                const screenNotches = 8;\n                this._currentCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5);\n                const movement = this._currentCursorPosition.y - this._startCursorPosition.y;\n                let size = 1;\n                if (movement < 0) {\n                  size = 1 / Math.pow(this.scaleFactor, -movement * screenNotches);\n                } else if (movement > 0) {\n                  size = Math.pow(this.scaleFactor, movement * screenNotches);\n                }\n                this._v3_1.setFromMatrixPosition(this._cameraMatrixState);\n                const x = this._v3_1.distanceTo(this._gizmos.position);\n                let xNew = x / size;\n                xNew = MathUtils.clamp(xNew, this.minDistance, this.maxDistance);\n                const y = x * Math.tan(MathUtils.DEG2RAD * this._fovState * 0.5);\n                let newFov = MathUtils.RAD2DEG * (Math.atan(y / xNew) * 2);\n                newFov = MathUtils.clamp(newFov, this.minFov, this.maxFov);\n                const newDistance = y / Math.tan(MathUtils.DEG2RAD * (newFov / 2));\n                size = x / newDistance;\n                this._v3_2.setFromMatrixPosition(this._gizmoMatrixState);\n                this.setFov(newFov);\n                this.applyTransformMatrix(this.applyScale(size, this._v3_2, false));\n                const direction = this._gizmos.position.clone().sub(this.camera.position).normalize().multiplyScalar(newDistance / x);\n                this._m4_1.makeTranslation(direction.x, direction.y, direction.z);\n              }\n            }\n            break;\n        }\n        this.dispatchEvent(_changeEvent);\n      }\n    });\n    __publicField(this, \"onSinglePanEnd\", () => {\n      if (this._state == STATE.ROTATE) {\n        if (!this.enableRotate) {\n          return;\n        }\n        if (this.enableAnimations) {\n          const deltaTime = performance.now() - this._timeCurrent;\n          if (deltaTime < 120) {\n            const w = Math.abs((this._wPrev + this._wCurr) / 2);\n            const self = this;\n            this._animationId = window.requestAnimationFrame(function(t) {\n              self.updateTbState(STATE.ANIMATION_ROTATE, true);\n              const rotationAxis = self.calculateRotationAxis(self._cursorPosPrev, self._cursorPosCurr);\n              self.onRotationAnim(t, rotationAxis, Math.min(w, self.wMax));\n            });\n          } else {\n            this.updateTbState(STATE.IDLE, false);\n            this.activateGizmos(false);\n            this.dispatchEvent(_changeEvent);\n          }\n        } else {\n          this.updateTbState(STATE.IDLE, false);\n          this.activateGizmos(false);\n          this.dispatchEvent(_changeEvent);\n        }\n      } else if (this._state == STATE.PAN || this._state == STATE.IDLE) {\n        this.updateTbState(STATE.IDLE, false);\n        if (this.enableGrid) {\n          this.disposeGrid();\n        }\n        this.activateGizmos(false);\n        this.dispatchEvent(_changeEvent);\n      }\n      this.dispatchEvent(_endEvent);\n    });\n    __publicField(this, \"onDoubleTap\", (event) => {\n      if (this.enabled && this.enablePan && this.scene && this.camera && this.domElement) {\n        this.dispatchEvent(_startEvent);\n        this.setCenter(event.clientX, event.clientY);\n        const hitP = this.unprojectOnObj(this.getCursorNDC(_center.x, _center.y, this.domElement), this.camera);\n        if (hitP && this.enableAnimations) {\n          const self = this;\n          if (this._animationId != -1) {\n            window.cancelAnimationFrame(this._animationId);\n          }\n          this._timeStart = -1;\n          this._animationId = window.requestAnimationFrame(function(t) {\n            self.updateTbState(STATE.ANIMATION_FOCUS, true);\n            self.onFocusAnim(t, hitP, self._cameraMatrixState, self._gizmoMatrixState);\n          });\n        } else if (hitP && !this.enableAnimations) {\n          this.updateTbState(STATE.FOCUS, true);\n          this.focus(hitP, this.scaleFactor);\n          this.updateTbState(STATE.IDLE, false);\n          this.dispatchEvent(_changeEvent);\n        }\n      }\n      this.dispatchEvent(_endEvent);\n    });\n    __publicField(this, \"onDoublePanStart\", () => {\n      if (this.enabled && this.enablePan && this.camera && this.domElement) {\n        this.dispatchEvent(_startEvent);\n        this.updateTbState(STATE.PAN, true);\n        this.setCenter(\n          (this._touchCurrent[0].clientX + this._touchCurrent[1].clientX) / 2,\n          (this._touchCurrent[0].clientY + this._touchCurrent[1].clientY) / 2\n        );\n        const rayDir = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement, true);\n        if (rayDir !== void 0) {\n          this._startCursorPosition.copy(rayDir);\n        }\n        this._currentCursorPosition.copy(this._startCursorPosition);\n        this.activateGizmos(false);\n      }\n    });\n    __publicField(this, \"onDoublePanMove\", () => {\n      if (this.enabled && this.enablePan && this.camera && this.domElement) {\n        this.setCenter(\n          (this._touchCurrent[0].clientX + this._touchCurrent[1].clientX) / 2,\n          (this._touchCurrent[0].clientY + this._touchCurrent[1].clientY) / 2\n        );\n        if (this._state != STATE.PAN) {\n          this.updateTbState(STATE.PAN, true);\n          this._startCursorPosition.copy(this._currentCursorPosition);\n        }\n        const rayDir = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement, true);\n        if (rayDir !== void 0)\n          this._currentCursorPosition.copy(rayDir);\n        this.applyTransformMatrix(this.pan(this._startCursorPosition, this._currentCursorPosition, true));\n        this.dispatchEvent(_changeEvent);\n      }\n    });\n    __publicField(this, \"onDoublePanEnd\", () => {\n      this.updateTbState(STATE.IDLE, false);\n      this.dispatchEvent(_endEvent);\n    });\n    __publicField(this, \"onRotateStart\", () => {\n      var _a;\n      if (this.enabled && this.enableRotate) {\n        this.dispatchEvent(_startEvent);\n        this.updateTbState(STATE.ZROTATE, true);\n        this._startFingerRotation = this.getAngle(this._touchCurrent[1], this._touchCurrent[0]) + this.getAngle(this._touchStart[1], this._touchStart[0]);\n        this._currentFingerRotation = this._startFingerRotation;\n        (_a = this.camera) == null ? void 0 : _a.getWorldDirection(this._rotationAxis);\n        if (!this.enablePan && !this.enableZoom) {\n          this.activateGizmos(true);\n        }\n      }\n    });\n    __publicField(this, \"onRotateMove\", () => {\n      var _a;\n      if (this.enabled && this.enableRotate && this.camera && this.domElement) {\n        this.setCenter(\n          (this._touchCurrent[0].clientX + this._touchCurrent[1].clientX) / 2,\n          (this._touchCurrent[0].clientY + this._touchCurrent[1].clientY) / 2\n        );\n        let rotationPoint;\n        if (this._state != STATE.ZROTATE) {\n          this.updateTbState(STATE.ZROTATE, true);\n          this._startFingerRotation = this._currentFingerRotation;\n        }\n        this._currentFingerRotation = this.getAngle(this._touchCurrent[1], this._touchCurrent[0]) + this.getAngle(this._touchStart[1], this._touchStart[0]);\n        if (!this.enablePan) {\n          rotationPoint = new Vector3().setFromMatrixPosition(this._gizmoMatrixState);\n        } else if (this.camera) {\n          this._v3_2.setFromMatrixPosition(this._gizmoMatrixState);\n          rotationPoint = (_a = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement)) == null ? void 0 : _a.applyQuaternion(this.camera.quaternion).multiplyScalar(1 / this.camera.zoom).add(this._v3_2);\n        }\n        const amount = MathUtils.DEG2RAD * (this._startFingerRotation - this._currentFingerRotation);\n        if (rotationPoint !== void 0) {\n          this.applyTransformMatrix(this.zRotate(rotationPoint, amount));\n        }\n        this.dispatchEvent(_changeEvent);\n      }\n    });\n    __publicField(this, \"onRotateEnd\", () => {\n      this.updateTbState(STATE.IDLE, false);\n      this.activateGizmos(false);\n      this.dispatchEvent(_endEvent);\n    });\n    __publicField(this, \"onPinchStart\", () => {\n      if (this.enabled && this.enableZoom) {\n        this.dispatchEvent(_startEvent);\n        this.updateTbState(STATE.SCALE, true);\n        this._startFingerDistance = this.calculatePointersDistance(this._touchCurrent[0], this._touchCurrent[1]);\n        this._currentFingerDistance = this._startFingerDistance;\n        this.activateGizmos(false);\n      }\n    });\n    __publicField(this, \"onPinchMove\", () => {\n      var _a, _b;\n      if (this.enabled && this.enableZoom && this.domElement) {\n        this.setCenter(\n          (this._touchCurrent[0].clientX + this._touchCurrent[1].clientX) / 2,\n          (this._touchCurrent[0].clientY + this._touchCurrent[1].clientY) / 2\n        );\n        const minDistance = 12;\n        if (this._state != STATE.SCALE) {\n          this._startFingerDistance = this._currentFingerDistance;\n          this.updateTbState(STATE.SCALE, true);\n        }\n        this._currentFingerDistance = Math.max(\n          this.calculatePointersDistance(this._touchCurrent[0], this._touchCurrent[1]),\n          minDistance * this._devPxRatio\n        );\n        const amount = this._currentFingerDistance / this._startFingerDistance;\n        let scalePoint;\n        if (!this.enablePan) {\n          scalePoint = this._gizmos.position;\n        } else {\n          if (this.camera instanceof OrthographicCamera) {\n            scalePoint = (_a = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement)) == null ? void 0 : _a.applyQuaternion(this.camera.quaternion).multiplyScalar(1 / this.camera.zoom).add(this._gizmos.position);\n          } else if (this.camera instanceof PerspectiveCamera) {\n            scalePoint = (_b = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement)) == null ? void 0 : _b.applyQuaternion(this.camera.quaternion).add(this._gizmos.position);\n          }\n        }\n        if (scalePoint !== void 0) {\n          this.applyTransformMatrix(this.applyScale(amount, scalePoint));\n        }\n        this.dispatchEvent(_changeEvent);\n      }\n    });\n    __publicField(this, \"onPinchEnd\", () => {\n      this.updateTbState(STATE.IDLE, false);\n      this.dispatchEvent(_endEvent);\n    });\n    __publicField(this, \"onTriplePanStart\", () => {\n      if (this.enabled && this.enableZoom && this.domElement) {\n        this.dispatchEvent(_startEvent);\n        this.updateTbState(STATE.SCALE, true);\n        let clientX = 0;\n        let clientY = 0;\n        const nFingers = this._touchCurrent.length;\n        for (let i = 0; i < nFingers; i++) {\n          clientX += this._touchCurrent[i].clientX;\n          clientY += this._touchCurrent[i].clientY;\n        }\n        this.setCenter(clientX / nFingers, clientY / nFingers);\n        this._startCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5);\n        this._currentCursorPosition.copy(this._startCursorPosition);\n      }\n    });\n    __publicField(this, \"onTriplePanMove\", () => {\n      if (this.enabled && this.enableZoom && this.camera && this.domElement) {\n        let clientX = 0;\n        let clientY = 0;\n        const nFingers = this._touchCurrent.length;\n        for (let i = 0; i < nFingers; i++) {\n          clientX += this._touchCurrent[i].clientX;\n          clientY += this._touchCurrent[i].clientY;\n        }\n        this.setCenter(clientX / nFingers, clientY / nFingers);\n        const screenNotches = 8;\n        this._currentCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5);\n        const movement = this._currentCursorPosition.y - this._startCursorPosition.y;\n        let size = 1;\n        if (movement < 0) {\n          size = 1 / Math.pow(this.scaleFactor, -movement * screenNotches);\n        } else if (movement > 0) {\n          size = Math.pow(this.scaleFactor, movement * screenNotches);\n        }\n        this._v3_1.setFromMatrixPosition(this._cameraMatrixState);\n        const x = this._v3_1.distanceTo(this._gizmos.position);\n        let xNew = x / size;\n        xNew = MathUtils.clamp(xNew, this.minDistance, this.maxDistance);\n        const y = x * Math.tan(MathUtils.DEG2RAD * this._fovState * 0.5);\n        let newFov = MathUtils.RAD2DEG * (Math.atan(y / xNew) * 2);\n        newFov = MathUtils.clamp(newFov, this.minFov, this.maxFov);\n        const newDistance = y / Math.tan(MathUtils.DEG2RAD * (newFov / 2));\n        size = x / newDistance;\n        this._v3_2.setFromMatrixPosition(this._gizmoMatrixState);\n        this.setFov(newFov);\n        this.applyTransformMatrix(this.applyScale(size, this._v3_2, false));\n        const direction = this._gizmos.position.clone().sub(this.camera.position).normalize().multiplyScalar(newDistance / x);\n        this._m4_1.makeTranslation(direction.x, direction.y, direction.z);\n        this.dispatchEvent(_changeEvent);\n      }\n    });\n    __publicField(this, \"onTriplePanEnd\", () => {\n      this.updateTbState(STATE.IDLE, false);\n      this.dispatchEvent(_endEvent);\n    });\n    /**\n     * Set _center's x/y coordinates\n     * @param {Number} clientX\n     * @param {Number} clientY\n     */\n    __publicField(this, \"setCenter\", (clientX, clientY) => {\n      _center.x = clientX;\n      _center.y = clientY;\n    });\n    /**\n     * Set default mouse actions\n     */\n    __publicField(this, \"initializeMouseActions\", () => {\n      this.setMouseAction(\"PAN\", 0, \"CTRL\");\n      this.setMouseAction(\"PAN\", 2);\n      this.setMouseAction(\"ROTATE\", 0);\n      this.setMouseAction(\"ZOOM\", \"WHEEL\");\n      this.setMouseAction(\"ZOOM\", 1);\n      this.setMouseAction(\"FOV\", \"WHEEL\", \"SHIFT\");\n      this.setMouseAction(\"FOV\", 1, \"SHIFT\");\n    });\n    /**\n     * Set a new mouse action by specifying the operation to be performed and a mouse/key combination. In case of conflict, replaces the existing one\n     * @param {String} operation The operation to be performed ('PAN', 'ROTATE', 'ZOOM', 'FOV)\n     * @param {*} mouse A mouse button (0, 1, 2) or 'WHEEL' for wheel notches\n     * @param {*} key The keyboard modifier ('CTRL', 'SHIFT') or null if key is not needed\n     * @returns {Boolean} True if the mouse action has been successfully added, false otherwise\n     */\n    __publicField(this, \"setMouseAction\", (operation, mouse, key = null) => {\n      const operationInput = [\"PAN\", \"ROTATE\", \"ZOOM\", \"FOV\"];\n      const mouseInput = [0, 1, 2, \"WHEEL\"];\n      const keyInput = [\"CTRL\", \"SHIFT\", null];\n      let state;\n      if (!operationInput.includes(operation) || !mouseInput.includes(mouse) || !keyInput.includes(key)) {\n        return false;\n      }\n      if (mouse == \"WHEEL\") {\n        if (operation != \"ZOOM\" && operation != \"FOV\") {\n          return false;\n        }\n      }\n      switch (operation) {\n        case \"PAN\":\n          state = STATE.PAN;\n          break;\n        case \"ROTATE\":\n          state = STATE.ROTATE;\n          break;\n        case \"ZOOM\":\n          state = STATE.SCALE;\n          break;\n        case \"FOV\":\n          state = STATE.FOV;\n          break;\n      }\n      const action = {\n        operation,\n        mouse,\n        key,\n        state\n      };\n      for (let i = 0; i < this.mouseActions.length; i++) {\n        if (this.mouseActions[i].mouse == action.mouse && this.mouseActions[i].key == action.key) {\n          this.mouseActions.splice(i, 1, action);\n          return true;\n        }\n      }\n      this.mouseActions.push(action);\n      return true;\n    });\n    /**\n     * Return the operation associated to a mouse/keyboard combination\n     * @param {*} mouse A mouse button (0, 1, 2) or 'WHEEL' for wheel notches\n     * @param {*} key The keyboard modifier ('CTRL', 'SHIFT') or null if key is not needed\n     * @returns The operation if it has been found, null otherwise\n     */\n    __publicField(this, \"getOpFromAction\", (mouse, key) => {\n      let action;\n      for (let i = 0; i < this.mouseActions.length; i++) {\n        action = this.mouseActions[i];\n        if (action.mouse == mouse && action.key == key) {\n          return action.operation;\n        }\n      }\n      if (key) {\n        for (let i = 0; i < this.mouseActions.length; i++) {\n          action = this.mouseActions[i];\n          if (action.mouse == mouse && action.key == null) {\n            return action.operation;\n          }\n        }\n      }\n      return null;\n    });\n    /**\n     * Get the operation associated to mouse and key combination and returns the corresponding FSA state\n     * @param {Number} mouse Mouse button\n     * @param {String} key Keyboard modifier\n     * @returns The FSA state obtained from the operation associated to mouse/keyboard combination\n     */\n    __publicField(this, \"getOpStateFromAction\", (mouse, key) => {\n      let action;\n      for (let i = 0; i < this.mouseActions.length; i++) {\n        action = this.mouseActions[i];\n        if (action.mouse == mouse && action.key == key) {\n          return action.state;\n        }\n      }\n      if (key) {\n        for (let i = 0; i < this.mouseActions.length; i++) {\n          action = this.mouseActions[i];\n          if (action.mouse == mouse && action.key == null) {\n            return action.state;\n          }\n        }\n      }\n      return null;\n    });\n    /**\n     * Calculate the angle between two pointers\n     * @param {PointerEvent} p1\n     * @param {PointerEvent} p2\n     * @returns {Number} The angle between two pointers in degrees\n     */\n    __publicField(this, \"getAngle\", (p1, p2) => {\n      return Math.atan2(p2.clientY - p1.clientY, p2.clientX - p1.clientX) * 180 / Math.PI;\n    });\n    /**\n     * Update a PointerEvent inside current pointerevents array\n     * @param {PointerEvent} event\n     */\n    __publicField(this, \"updateTouchEvent\", (event) => {\n      for (let i = 0; i < this._touchCurrent.length; i++) {\n        if (this._touchCurrent[i].pointerId == event.pointerId) {\n          this._touchCurrent.splice(i, 1, event);\n          break;\n        }\n      }\n    });\n    /**\n     * Calculate the angular speed\n     * @param {Number} p0 Position at t0\n     * @param {Number} p1 Position at t1\n     * @param {Number} t0 Initial time in milliseconds\n     * @param {Number} t1 Ending time in milliseconds\n     */\n    __publicField(this, \"calculateAngularSpeed\", (p0, p1, t0, t1) => {\n      const s = p1 - p0;\n      const t = (t1 - t0) / 1e3;\n      if (t == 0) {\n        return 0;\n      }\n      return s / t;\n    });\n    /**\n     * Calculate the distance between two pointers\n     * @param {PointerEvent} p0 The first pointer\n     * @param {PointerEvent} p1 The second pointer\n     * @returns {number} The distance between the two pointers\n     */\n    __publicField(this, \"calculatePointersDistance\", (p0, p1) => {\n      return Math.sqrt(Math.pow(p1.clientX - p0.clientX, 2) + Math.pow(p1.clientY - p0.clientY, 2));\n    });\n    /**\n     * Calculate the rotation axis as the vector perpendicular between two vectors\n     * @param {Vector3} vec1 The first vector\n     * @param {Vector3} vec2 The second vector\n     * @returns {Vector3} The normalized rotation axis\n     */\n    __publicField(this, \"calculateRotationAxis\", (vec1, vec2) => {\n      this._rotationMatrix.extractRotation(this._cameraMatrixState);\n      this._quat.setFromRotationMatrix(this._rotationMatrix);\n      this._rotationAxis.crossVectors(vec1, vec2).applyQuaternion(this._quat);\n      return this._rotationAxis.normalize().clone();\n    });\n    /**\n     * Calculate the trackball radius so that gizmo's diamater will be 2/3 of the minimum side of the camera frustum\n     * @param {Camera} camera\n     * @returns {Number} The trackball radius\n     */\n    __publicField(this, \"calculateTbRadius\", (camera) => {\n      const factor = 0.67;\n      const distance = camera.position.distanceTo(this._gizmos.position);\n      if (camera instanceof PerspectiveCamera) {\n        const halfFovV = MathUtils.DEG2RAD * camera.fov * 0.5;\n        const halfFovH = Math.atan(camera.aspect * Math.tan(halfFovV));\n        return Math.tan(Math.min(halfFovV, halfFovH)) * distance * factor;\n      } else if (camera instanceof OrthographicCamera) {\n        return Math.min(camera.top, camera.right) * factor;\n      }\n    });\n    /**\n     * Focus operation consist of positioning the point of interest in front of the camera and a slightly zoom in\n     * @param {Vector3} point The point of interest\n     * @param {Number} size Scale factor\n     * @param {Number} amount Amount of operation to be completed (used for focus animations, default is complete full operation)\n     */\n    __publicField(this, \"focus\", (point, size, amount = 1) => {\n      if (this.camera) {\n        const focusPoint = point.clone();\n        focusPoint.sub(this._gizmos.position).multiplyScalar(amount);\n        this._translationMatrix.makeTranslation(focusPoint.x, focusPoint.y, focusPoint.z);\n        const gizmoStateTemp = this._gizmoMatrixState.clone();\n        this._gizmoMatrixState.premultiply(this._translationMatrix);\n        this._gizmoMatrixState.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale);\n        const cameraStateTemp = this._cameraMatrixState.clone();\n        this._cameraMatrixState.premultiply(this._translationMatrix);\n        this._cameraMatrixState.decompose(this.camera.position, this.camera.quaternion, this.camera.scale);\n        if (this.enableZoom) {\n          this.applyTransformMatrix(this.applyScale(size, this._gizmos.position));\n        }\n        this._gizmoMatrixState.copy(gizmoStateTemp);\n        this._cameraMatrixState.copy(cameraStateTemp);\n      }\n    });\n    /**\n     * Draw a grid and add it to the scene\n     */\n    __publicField(this, \"drawGrid\", () => {\n      if (this.scene) {\n        const color = 8947848;\n        const multiplier = 3;\n        let size, divisions, maxLength, tick;\n        if (this.camera instanceof OrthographicCamera) {\n          const width = this.camera.right - this.camera.left;\n          const height = this.camera.bottom - this.camera.top;\n          maxLength = Math.max(width, height);\n          tick = maxLength / 20;\n          size = maxLength / this.camera.zoom * multiplier;\n          divisions = size / tick * this.camera.zoom;\n        } else if (this.camera instanceof PerspectiveCamera) {\n          const distance = this.camera.position.distanceTo(this._gizmos.position);\n          const halfFovV = MathUtils.DEG2RAD * this.camera.fov * 0.5;\n          const halfFovH = Math.atan(this.camera.aspect * Math.tan(halfFovV));\n          maxLength = Math.tan(Math.max(halfFovV, halfFovH)) * distance * 2;\n          tick = maxLength / 20;\n          size = maxLength * multiplier;\n          divisions = size / tick;\n        }\n        if (this._grid == null && this.camera) {\n          this._grid = new GridHelper(size, divisions, color, color);\n          this._grid.position.copy(this._gizmos.position);\n          this._gridPosition.copy(this._grid.position);\n          this._grid.quaternion.copy(this.camera.quaternion);\n          this._grid.rotateX(Math.PI * 0.5);\n          this.scene.add(this._grid);\n        }\n      }\n    });\n    __publicField(this, \"connect\", (domElement) => {\n      if (domElement === document) {\n        console.error(\n          'THREE.ArcballControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.'\n        );\n      }\n      this.domElement = domElement;\n      this.domElement.style.touchAction = \"none\";\n      this.domElement.addEventListener(\"contextmenu\", this.onContextMenu);\n      this.domElement.addEventListener(\"pointerdown\", this.onPointerDown);\n      this.domElement.addEventListener(\"pointercancel\", this.onPointerCancel);\n      this.domElement.addEventListener(\"wheel\", this.onWheel);\n    });\n    /**\n     * Remove all listeners, stop animations and clean scene\n     */\n    __publicField(this, \"dispose\", () => {\n      var _a, _b, _c, _d, _e;\n      if (this._animationId != -1) {\n        window.cancelAnimationFrame(this._animationId);\n      }\n      (_a = this.domElement) == null ? void 0 : _a.removeEventListener(\"pointerdown\", this.onPointerDown);\n      (_b = this.domElement) == null ? void 0 : _b.removeEventListener(\"pointercancel\", this.onPointerCancel);\n      (_c = this.domElement) == null ? void 0 : _c.removeEventListener(\"wheel\", this.onWheel);\n      (_d = this.domElement) == null ? void 0 : _d.removeEventListener(\"contextmenu\", this.onContextMenu);\n      window.removeEventListener(\"pointermove\", this.onPointerMove);\n      window.removeEventListener(\"pointerup\", this.onPointerUp);\n      window.removeEventListener(\"resize\", this.onWindowResize);\n      (_e = this.scene) == null ? void 0 : _e.remove(this._gizmos);\n      this.disposeGrid();\n    });\n    /**\n     * remove the grid from the scene\n     */\n    __publicField(this, \"disposeGrid\", () => {\n      if (this._grid && this.scene) {\n        this.scene.remove(this._grid);\n        this._grid = null;\n      }\n    });\n    /**\n     * Compute the easing out cubic function for ease out effect in animation\n     * @param {Number} t The absolute progress of the animation in the bound of 0 (beginning of the) and 1 (ending of animation)\n     * @returns {Number} Result of easing out cubic at time t\n     */\n    __publicField(this, \"easeOutCubic\", (t) => {\n      return 1 - Math.pow(1 - t, 3);\n    });\n    /**\n     * Make rotation gizmos more or less visible\n     * @param {Boolean} isActive If true, make gizmos more visible\n     */\n    __publicField(this, \"activateGizmos\", (isActive) => {\n      for (const gizmo of this._gizmos.children) {\n        ;\n        gizmo.material.setValues({ opacity: isActive ? 1 : 0.6 });\n      }\n    });\n    /**\n     * Calculate the cursor position in NDC\n     * @param {number} x Cursor horizontal coordinate within the canvas\n     * @param {number} y Cursor vertical coordinate within the canvas\n     * @param {HTMLElement} canvas The canvas where the renderer draws its output\n     * @returns {Vector2} Cursor normalized position inside the canvas\n     */\n    __publicField(this, \"getCursorNDC\", (cursorX, cursorY, canvas) => {\n      const canvasRect = canvas.getBoundingClientRect();\n      this._v2_1.setX((cursorX - canvasRect.left) / canvasRect.width * 2 - 1);\n      this._v2_1.setY((canvasRect.bottom - cursorY) / canvasRect.height * 2 - 1);\n      return this._v2_1.clone();\n    });\n    /**\n     * Calculate the cursor position inside the canvas x/y coordinates with the origin being in the center of the canvas\n     * @param {Number} x Cursor horizontal coordinate within the canvas\n     * @param {Number} y Cursor vertical coordinate within the canvas\n     * @param {HTMLElement} canvas The canvas where the renderer draws its output\n     * @returns {Vector2} Cursor position inside the canvas\n     */\n    __publicField(this, \"getCursorPosition\", (cursorX, cursorY, canvas) => {\n      this._v2_1.copy(this.getCursorNDC(cursorX, cursorY, canvas));\n      if (this.camera instanceof OrthographicCamera) {\n        this._v2_1.x *= (this.camera.right - this.camera.left) * 0.5;\n        this._v2_1.y *= (this.camera.top - this.camera.bottom) * 0.5;\n      }\n      return this._v2_1.clone();\n    });\n    /**\n     * Set the camera to be controlled\n     * @param {Camera} camera The virtual camera to be controlled\n     */\n    __publicField(this, \"setCamera\", (camera) => {\n      if (camera) {\n        camera.lookAt(this.target);\n        camera.updateMatrix();\n        if (camera instanceof PerspectiveCamera) {\n          this._fov0 = camera.fov;\n          this._fovState = camera.fov;\n        }\n        this._cameraMatrixState0.copy(camera.matrix);\n        this._cameraMatrixState.copy(this._cameraMatrixState0);\n        this._cameraProjectionState.copy(camera.projectionMatrix);\n        this._zoom0 = camera.zoom;\n        this._zoomState = this._zoom0;\n        this._initialNear = camera.near;\n        this._nearPos0 = camera.position.distanceTo(this.target) - camera.near;\n        this._nearPos = this._initialNear;\n        this._initialFar = camera.far;\n        this._farPos0 = camera.position.distanceTo(this.target) - camera.far;\n        this._farPos = this._initialFar;\n        this._up0.copy(camera.up);\n        this._upState.copy(camera.up);\n        this.camera = camera;\n        this.camera.updateProjectionMatrix();\n        const tbRadius = this.calculateTbRadius(camera);\n        if (tbRadius !== void 0) {\n          this._tbRadius = tbRadius;\n        }\n        this.makeGizmos(this.target, this._tbRadius);\n      }\n    });\n    /**\n     * Creates the rotation gizmos matching trackball center and radius\n     * @param {Vector3} tbCenter The trackball center\n     * @param {number} tbRadius The trackball radius\n     */\n    __publicField(this, \"makeGizmos\", (tbCenter, tbRadius) => {\n      const curve = new EllipseCurve(0, 0, tbRadius, tbRadius);\n      const points = curve.getPoints(this._curvePts);\n      const curveGeometry = new BufferGeometry().setFromPoints(points);\n      const curveMaterialX = new LineBasicMaterial({ color: 16744576, fog: false, transparent: true, opacity: 0.6 });\n      const curveMaterialY = new LineBasicMaterial({ color: 8454016, fog: false, transparent: true, opacity: 0.6 });\n      const curveMaterialZ = new LineBasicMaterial({ color: 8421631, fog: false, transparent: true, opacity: 0.6 });\n      const gizmoX = new Line(curveGeometry, curveMaterialX);\n      const gizmoY = new Line(curveGeometry, curveMaterialY);\n      const gizmoZ = new Line(curveGeometry, curveMaterialZ);\n      const rotation = Math.PI * 0.5;\n      gizmoX.rotation.x = rotation;\n      gizmoY.rotation.y = rotation;\n      this._gizmoMatrixState0.identity().setPosition(tbCenter);\n      this._gizmoMatrixState.copy(this._gizmoMatrixState0);\n      if (this.camera && this.camera.zoom != 1) {\n        const size = 1 / this.camera.zoom;\n        this._scaleMatrix.makeScale(size, size, size);\n        this._translationMatrix.makeTranslation(-tbCenter.x, -tbCenter.y, -tbCenter.z);\n        this._gizmoMatrixState.premultiply(this._translationMatrix).premultiply(this._scaleMatrix);\n        this._translationMatrix.makeTranslation(tbCenter.x, tbCenter.y, tbCenter.z);\n        this._gizmoMatrixState.premultiply(this._translationMatrix);\n      }\n      this._gizmoMatrixState.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale);\n      this._gizmos.clear();\n      this._gizmos.add(gizmoX);\n      this._gizmos.add(gizmoY);\n      this._gizmos.add(gizmoZ);\n    });\n    /**\n     * Perform animation for focus operation\n     * @param {Number} time Instant in which this function is called as performance.now()\n     * @param {Vector3} point Point of interest for focus operation\n     * @param {Matrix4} cameraMatrix Camera matrix\n     * @param {Matrix4} gizmoMatrix Gizmos matrix\n     */\n    __publicField(this, \"onFocusAnim\", (time, point, cameraMatrix, gizmoMatrix) => {\n      if (this._timeStart == -1) {\n        this._timeStart = time;\n      }\n      if (this._state == STATE.ANIMATION_FOCUS) {\n        const deltaTime = time - this._timeStart;\n        const animTime = deltaTime / this.focusAnimationTime;\n        this._gizmoMatrixState.copy(gizmoMatrix);\n        if (animTime >= 1) {\n          this._gizmoMatrixState.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale);\n          this.focus(point, this.scaleFactor);\n          this._timeStart = -1;\n          this.updateTbState(STATE.IDLE, false);\n          this.activateGizmos(false);\n          this.dispatchEvent(_changeEvent);\n        } else {\n          const amount = this.easeOutCubic(animTime);\n          const size = 1 - amount + this.scaleFactor * amount;\n          this._gizmoMatrixState.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale);\n          this.focus(point, size, amount);\n          this.dispatchEvent(_changeEvent);\n          const self = this;\n          this._animationId = window.requestAnimationFrame(function(t) {\n            self.onFocusAnim(t, point, cameraMatrix, gizmoMatrix.clone());\n          });\n        }\n      } else {\n        this._animationId = -1;\n        this._timeStart = -1;\n      }\n    });\n    /**\n     * Perform animation for rotation operation\n     * @param {Number} time Instant in which this function is called as performance.now()\n     * @param {Vector3} rotationAxis Rotation axis\n     * @param {number} w0 Initial angular velocity\n     */\n    __publicField(this, \"onRotationAnim\", (time, rotationAxis, w0) => {\n      if (this._timeStart == -1) {\n        this._anglePrev = 0;\n        this._angleCurrent = 0;\n        this._timeStart = time;\n      }\n      if (this._state == STATE.ANIMATION_ROTATE) {\n        const deltaTime = (time - this._timeStart) / 1e3;\n        const w = w0 + -this.dampingFactor * deltaTime;\n        if (w > 0) {\n          this._angleCurrent = 0.5 * -this.dampingFactor * Math.pow(deltaTime, 2) + w0 * deltaTime + 0;\n          this.applyTransformMatrix(this.rotate(rotationAxis, this._angleCurrent));\n          this.dispatchEvent(_changeEvent);\n          const self = this;\n          this._animationId = window.requestAnimationFrame(function(t) {\n            self.onRotationAnim(t, rotationAxis, w0);\n          });\n        } else {\n          this._animationId = -1;\n          this._timeStart = -1;\n          this.updateTbState(STATE.IDLE, false);\n          this.activateGizmos(false);\n          this.dispatchEvent(_changeEvent);\n        }\n      } else {\n        this._animationId = -1;\n        this._timeStart = -1;\n        if (this._state != STATE.ROTATE) {\n          this.activateGizmos(false);\n          this.dispatchEvent(_changeEvent);\n        }\n      }\n    });\n    /**\n     * Perform pan operation moving camera between two points\n     * @param {Vector3} p0 Initial point\n     * @param {Vector3} p1 Ending point\n     * @param {Boolean} adjust If movement should be adjusted considering camera distance (Perspective only)\n     */\n    __publicField(this, \"pan\", (p0, p1, adjust = false) => {\n      if (this.camera) {\n        const movement = p0.clone().sub(p1);\n        if (this.camera instanceof OrthographicCamera) {\n          movement.multiplyScalar(1 / this.camera.zoom);\n        }\n        if (this.camera instanceof PerspectiveCamera && adjust) {\n          this._v3_1.setFromMatrixPosition(this._cameraMatrixState0);\n          this._v3_2.setFromMatrixPosition(this._gizmoMatrixState0);\n          const distanceFactor = this._v3_1.distanceTo(this._v3_2) / this.camera.position.distanceTo(this._gizmos.position);\n          movement.multiplyScalar(1 / distanceFactor);\n        }\n        this._v3_1.set(movement.x, movement.y, 0).applyQuaternion(this.camera.quaternion);\n        this._m4_1.makeTranslation(this._v3_1.x, this._v3_1.y, this._v3_1.z);\n        this.setTransformationMatrices(this._m4_1, this._m4_1);\n      }\n      return _transformation;\n    });\n    /**\n     * Reset trackball\n     */\n    __publicField(this, \"reset\", () => {\n      if (this.camera) {\n        this.camera.zoom = this._zoom0;\n        if (this.camera instanceof PerspectiveCamera) {\n          this.camera.fov = this._fov0;\n        }\n        this.camera.near = this._nearPos;\n        this.camera.far = this._farPos;\n        this._cameraMatrixState.copy(this._cameraMatrixState0);\n        this._cameraMatrixState.decompose(this.camera.position, this.camera.quaternion, this.camera.scale);\n        this.camera.up.copy(this._up0);\n        this.camera.updateMatrix();\n        this.camera.updateProjectionMatrix();\n        this._gizmoMatrixState.copy(this._gizmoMatrixState0);\n        this._gizmoMatrixState0.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale);\n        this._gizmos.updateMatrix();\n        const tbRadius = this.calculateTbRadius(this.camera);\n        if (tbRadius !== void 0) {\n          this._tbRadius = tbRadius;\n        }\n        this.makeGizmos(this._gizmos.position, this._tbRadius);\n        this.camera.lookAt(this._gizmos.position);\n        this.updateTbState(STATE.IDLE, false);\n        this.dispatchEvent(_changeEvent);\n      }\n    });\n    /**\n     * Rotate the camera around an axis passing by trackball's center\n     * @param {Vector3} axis Rotation axis\n     * @param {number} angle Angle in radians\n     * @returns {Object} Object with 'camera' field containing transformation matrix resulting from the operation to be applied to the camera\n     */\n    __publicField(this, \"rotate\", (axis, angle) => {\n      const point = this._gizmos.position;\n      this._translationMatrix.makeTranslation(-point.x, -point.y, -point.z);\n      this._rotationMatrix.makeRotationAxis(axis, -angle);\n      this._m4_1.makeTranslation(point.x, point.y, point.z);\n      this._m4_1.multiply(this._rotationMatrix);\n      this._m4_1.multiply(this._translationMatrix);\n      this.setTransformationMatrices(this._m4_1);\n      return _transformation;\n    });\n    __publicField(this, \"copyState\", () => {\n      if (this.camera) {\n        const state = JSON.stringify(\n          this.camera instanceof OrthographicCamera ? {\n            arcballState: {\n              cameraFar: this.camera.far,\n              cameraMatrix: this.camera.matrix,\n              cameraNear: this.camera.near,\n              cameraUp: this.camera.up,\n              cameraZoom: this.camera.zoom,\n              gizmoMatrix: this._gizmos.matrix\n            }\n          } : {\n            arcballState: {\n              cameraFar: this.camera.far,\n              cameraFov: this.camera.fov,\n              cameraMatrix: this.camera.matrix,\n              cameraNear: this.camera.near,\n              cameraUp: this.camera.up,\n              cameraZoom: this.camera.zoom,\n              gizmoMatrix: this._gizmos.matrix\n            }\n          }\n        );\n        navigator.clipboard.writeText(state);\n      }\n    });\n    __publicField(this, \"pasteState\", () => {\n      const self = this;\n      navigator.clipboard.readText().then(function resolved(value) {\n        self.setStateFromJSON(value);\n      });\n    });\n    /**\n     * Save the current state of the control. This can later be recovered with .reset\n     */\n    __publicField(this, \"saveState\", () => {\n      if (!this.camera)\n        return;\n      this._cameraMatrixState0.copy(this.camera.matrix);\n      this._gizmoMatrixState0.copy(this._gizmos.matrix);\n      this._nearPos = this.camera.near;\n      this._farPos = this.camera.far;\n      this._zoom0 = this.camera.zoom;\n      this._up0.copy(this.camera.up);\n      if (this.camera instanceof PerspectiveCamera) {\n        this._fov0 = this.camera.fov;\n      }\n    });\n    /**\n     * Perform uniform scale operation around a given point\n     * @param {Number} size Scale factor\n     * @param {Vector3} point Point around which scale\n     * @param {Boolean} scaleGizmos If gizmos should be scaled (Perspective only)\n     * @returns {Object} Object with 'camera' and 'gizmo' fields containing transformation matrices resulting from the operation to be applied to the camera and gizmos\n     */\n    __publicField(this, \"applyScale\", (size, point, scaleGizmos = true) => {\n      if (!this.camera)\n        return;\n      const scalePoint = point.clone();\n      let sizeInverse = 1 / size;\n      if (this.camera instanceof OrthographicCamera) {\n        this.camera.zoom = this._zoomState;\n        this.camera.zoom *= size;\n        if (this.camera.zoom > this.maxZoom) {\n          this.camera.zoom = this.maxZoom;\n          sizeInverse = this._zoomState / this.maxZoom;\n        } else if (this.camera.zoom < this.minZoom) {\n          this.camera.zoom = this.minZoom;\n          sizeInverse = this._zoomState / this.minZoom;\n        }\n        this.camera.updateProjectionMatrix();\n        this._v3_1.setFromMatrixPosition(this._gizmoMatrixState);\n        this._scaleMatrix.makeScale(sizeInverse, sizeInverse, sizeInverse);\n        this._translationMatrix.makeTranslation(-this._v3_1.x, -this._v3_1.y, -this._v3_1.z);\n        this._m4_2.makeTranslation(this._v3_1.x, this._v3_1.y, this._v3_1.z).multiply(this._scaleMatrix);\n        this._m4_2.multiply(this._translationMatrix);\n        scalePoint.sub(this._v3_1);\n        const amount = scalePoint.clone().multiplyScalar(sizeInverse);\n        scalePoint.sub(amount);\n        this._m4_1.makeTranslation(scalePoint.x, scalePoint.y, scalePoint.z);\n        this._m4_2.premultiply(this._m4_1);\n        this.setTransformationMatrices(this._m4_1, this._m4_2);\n        return _transformation;\n      }\n      if (this.camera instanceof PerspectiveCamera) {\n        this._v3_1.setFromMatrixPosition(this._cameraMatrixState);\n        this._v3_2.setFromMatrixPosition(this._gizmoMatrixState);\n        let distance = this._v3_1.distanceTo(scalePoint);\n        let amount = distance - distance * sizeInverse;\n        const newDistance = distance - amount;\n        if (newDistance < this.minDistance) {\n          sizeInverse = this.minDistance / distance;\n          amount = distance - distance * sizeInverse;\n        } else if (newDistance > this.maxDistance) {\n          sizeInverse = this.maxDistance / distance;\n          amount = distance - distance * sizeInverse;\n        }\n        let direction = scalePoint.clone().sub(this._v3_1).normalize().multiplyScalar(amount);\n        this._m4_1.makeTranslation(direction.x, direction.y, direction.z);\n        if (scaleGizmos) {\n          const pos = this._v3_2;\n          distance = pos.distanceTo(scalePoint);\n          amount = distance - distance * sizeInverse;\n          direction = scalePoint.clone().sub(this._v3_2).normalize().multiplyScalar(amount);\n          this._translationMatrix.makeTranslation(pos.x, pos.y, pos.z);\n          this._scaleMatrix.makeScale(sizeInverse, sizeInverse, sizeInverse);\n          this._m4_2.makeTranslation(direction.x, direction.y, direction.z).multiply(this._translationMatrix);\n          this._m4_2.multiply(this._scaleMatrix);\n          this._translationMatrix.makeTranslation(-pos.x, -pos.y, -pos.z);\n          this._m4_2.multiply(this._translationMatrix);\n          this.setTransformationMatrices(this._m4_1, this._m4_2);\n        } else {\n          this.setTransformationMatrices(this._m4_1);\n        }\n        return _transformation;\n      }\n    });\n    /**\n     * Set camera fov\n     * @param {Number} value fov to be setted\n     */\n    __publicField(this, \"setFov\", (value) => {\n      if (this.camera instanceof PerspectiveCamera) {\n        this.camera.fov = MathUtils.clamp(value, this.minFov, this.maxFov);\n        this.camera.updateProjectionMatrix();\n      }\n    });\n    /**\n     * Set the trackball's center point\n     * @param {Number} x X coordinate\n     * @param {Number} y Y coordinate\n     * @param {Number} z Z coordinate\n     */\n    __publicField(this, \"setTarget\", (x, y, z) => {\n      if (this.camera) {\n        this.target.set(x, y, z);\n        this._gizmos.position.set(x, y, z);\n        const tbRadius = this.calculateTbRadius(this.camera);\n        if (tbRadius !== void 0) {\n          this._tbRadius = tbRadius;\n        }\n        this.makeGizmos(this.target, this._tbRadius);\n        this.camera.lookAt(this.target);\n      }\n    });\n    /**\n     * Rotate camera around its direction axis passing by a given point by a given angle\n     * @param {Vector3} point The point where the rotation axis is passing trough\n     * @param {Number} angle Angle in radians\n     * @returns The computed transormation matix\n     */\n    __publicField(this, \"zRotate\", (point, angle) => {\n      this._rotationMatrix.makeRotationAxis(this._rotationAxis, angle);\n      this._translationMatrix.makeTranslation(-point.x, -point.y, -point.z);\n      this._m4_1.makeTranslation(point.x, point.y, point.z);\n      this._m4_1.multiply(this._rotationMatrix);\n      this._m4_1.multiply(this._translationMatrix);\n      this._v3_1.setFromMatrixPosition(this._gizmoMatrixState).sub(point);\n      this._v3_2.copy(this._v3_1).applyAxisAngle(this._rotationAxis, angle);\n      this._v3_2.sub(this._v3_1);\n      this._m4_2.makeTranslation(this._v3_2.x, this._v3_2.y, this._v3_2.z);\n      this.setTransformationMatrices(this._m4_1, this._m4_2);\n      return _transformation;\n    });\n    /**\n     * Unproject the cursor on the 3D object surface\n     * @param {Vector2} cursor Cursor coordinates in NDC\n     * @param {Camera} camera Virtual camera\n     * @returns {Vector3} The point of intersection with the model, if exist, null otherwise\n     */\n    __publicField(this, \"unprojectOnObj\", (cursor, camera) => {\n      if (!this.scene)\n        return null;\n      const raycaster = new Raycaster();\n      raycaster.near = camera.near;\n      raycaster.far = camera.far;\n      raycaster.setFromCamera(cursor, camera);\n      const intersect = raycaster.intersectObjects(this.scene.children, true);\n      for (let i = 0; i < intersect.length; i++) {\n        if (intersect[i].object.uuid != this._gizmos.uuid && intersect[i].face) {\n          return intersect[i].point.clone();\n        }\n      }\n      return null;\n    });\n    /**\n     * Unproject the cursor on the trackball surface\n     * @param {Camera} camera The virtual camera\n     * @param {Number} cursorX Cursor horizontal coordinate on screen\n     * @param {Number} cursorY Cursor vertical coordinate on screen\n     * @param {HTMLElement} canvas The canvas where the renderer draws its output\n     * @param {number} tbRadius The trackball radius\n     * @returns {Vector3} The unprojected point on the trackball surface\n     */\n    __publicField(this, \"unprojectOnTbSurface\", (camera, cursorX, cursorY, canvas, tbRadius) => {\n      if (camera instanceof OrthographicCamera) {\n        this._v2_1.copy(this.getCursorPosition(cursorX, cursorY, canvas));\n        this._v3_1.set(this._v2_1.x, this._v2_1.y, 0);\n        const x2 = Math.pow(this._v2_1.x, 2);\n        const y2 = Math.pow(this._v2_1.y, 2);\n        const r2 = Math.pow(this._tbRadius, 2);\n        if (x2 + y2 <= r2 * 0.5) {\n          this._v3_1.setZ(Math.sqrt(r2 - (x2 + y2)));\n        } else {\n          this._v3_1.setZ(r2 * 0.5 / Math.sqrt(x2 + y2));\n        }\n        return this._v3_1;\n      }\n      if (camera instanceof PerspectiveCamera) {\n        this._v2_1.copy(this.getCursorNDC(cursorX, cursorY, canvas));\n        this._v3_1.set(this._v2_1.x, this._v2_1.y, -1);\n        this._v3_1.applyMatrix4(camera.projectionMatrixInverse);\n        const rayDir = this._v3_1.clone().normalize();\n        const cameraGizmoDistance = camera.position.distanceTo(this._gizmos.position);\n        const radius2 = Math.pow(tbRadius, 2);\n        const h = this._v3_1.z;\n        const l = Math.sqrt(Math.pow(this._v3_1.x, 2) + Math.pow(this._v3_1.y, 2));\n        if (l == 0) {\n          rayDir.set(this._v3_1.x, this._v3_1.y, tbRadius);\n          return rayDir;\n        }\n        const m = h / l;\n        const q = cameraGizmoDistance;\n        let a = Math.pow(m, 2) + 1;\n        let b = 2 * m * q;\n        let c = Math.pow(q, 2) - radius2;\n        let delta = Math.pow(b, 2) - 4 * a * c;\n        if (delta >= 0) {\n          this._v2_1.setX((-b - Math.sqrt(delta)) / (2 * a));\n          this._v2_1.setY(m * this._v2_1.x + q);\n          const angle = MathUtils.RAD2DEG * this._v2_1.angle();\n          if (angle >= 45) {\n            const rayLength2 = Math.sqrt(Math.pow(this._v2_1.x, 2) + Math.pow(cameraGizmoDistance - this._v2_1.y, 2));\n            rayDir.multiplyScalar(rayLength2);\n            rayDir.z += cameraGizmoDistance;\n            return rayDir;\n          }\n        }\n        a = m;\n        b = q;\n        c = -radius2 * 0.5;\n        delta = Math.pow(b, 2) - 4 * a * c;\n        this._v2_1.setX((-b - Math.sqrt(delta)) / (2 * a));\n        this._v2_1.setY(m * this._v2_1.x + q);\n        const rayLength = Math.sqrt(Math.pow(this._v2_1.x, 2) + Math.pow(cameraGizmoDistance - this._v2_1.y, 2));\n        rayDir.multiplyScalar(rayLength);\n        rayDir.z += cameraGizmoDistance;\n        return rayDir;\n      }\n    });\n    /**\n     * Unproject the cursor on the plane passing through the center of the trackball orthogonal to the camera\n     * @param {Camera} camera The virtual camera\n     * @param {Number} cursorX Cursor horizontal coordinate on screen\n     * @param {Number} cursorY Cursor vertical coordinate on screen\n     * @param {HTMLElement} canvas The canvas where the renderer draws its output\n     * @param {Boolean} initialDistance If initial distance between camera and gizmos should be used for calculations instead of current (Perspective only)\n     * @returns {Vector3} The unprojected point on the trackball plane\n     */\n    __publicField(this, \"unprojectOnTbPlane\", (camera, cursorX, cursorY, canvas, initialDistance = false) => {\n      if (camera instanceof OrthographicCamera) {\n        this._v2_1.copy(this.getCursorPosition(cursorX, cursorY, canvas));\n        this._v3_1.set(this._v2_1.x, this._v2_1.y, 0);\n        return this._v3_1.clone();\n      }\n      if (camera instanceof PerspectiveCamera) {\n        this._v2_1.copy(this.getCursorNDC(cursorX, cursorY, canvas));\n        this._v3_1.set(this._v2_1.x, this._v2_1.y, -1);\n        this._v3_1.applyMatrix4(camera.projectionMatrixInverse);\n        const rayDir = this._v3_1.clone().normalize();\n        const h = this._v3_1.z;\n        const l = Math.sqrt(Math.pow(this._v3_1.x, 2) + Math.pow(this._v3_1.y, 2));\n        let cameraGizmoDistance;\n        if (initialDistance) {\n          cameraGizmoDistance = this._v3_1.setFromMatrixPosition(this._cameraMatrixState0).distanceTo(this._v3_2.setFromMatrixPosition(this._gizmoMatrixState0));\n        } else {\n          cameraGizmoDistance = camera.position.distanceTo(this._gizmos.position);\n        }\n        if (l == 0) {\n          rayDir.set(0, 0, 0);\n          return rayDir;\n        }\n        const m = h / l;\n        const q = cameraGizmoDistance;\n        const x = -q / m;\n        const rayLength = Math.sqrt(Math.pow(q, 2) + Math.pow(x, 2));\n        rayDir.multiplyScalar(rayLength);\n        rayDir.z = 0;\n        return rayDir;\n      }\n    });\n    /**\n     * Update camera and gizmos state\n     */\n    __publicField(this, \"updateMatrixState\", () => {\n      if (!this.camera)\n        return;\n      this._cameraMatrixState.copy(this.camera.matrix);\n      this._gizmoMatrixState.copy(this._gizmos.matrix);\n      if (this.camera instanceof OrthographicCamera) {\n        this._cameraProjectionState.copy(this.camera.projectionMatrix);\n        this.camera.updateProjectionMatrix();\n        this._zoomState = this.camera.zoom;\n      }\n      if (this.camera instanceof PerspectiveCamera) {\n        this._fovState = this.camera.fov;\n      }\n    });\n    /**\n     * Update the trackball FSA\n     * @param {STATE} newState New state of the FSA\n     * @param {Boolean} updateMatrices If matriices state should be updated\n     */\n    __publicField(this, \"updateTbState\", (newState, updateMatrices) => {\n      this._state = newState;\n      if (updateMatrices) {\n        this.updateMatrixState();\n      }\n    });\n    __publicField(this, \"update\", () => {\n      const EPS = 1e-6;\n      if (!this.target.equals(this._currentTarget) && this.camera) {\n        this._gizmos.position.set(this.target.x, this.target.y, this.target.z);\n        const tbRadius = this.calculateTbRadius(this.camera);\n        if (tbRadius !== void 0) {\n          this._tbRadius = tbRadius;\n        }\n        this.makeGizmos(this.target, this._tbRadius);\n        this._currentTarget.copy(this.target);\n      }\n      if (!this.camera)\n        return;\n      if (this.camera instanceof OrthographicCamera) {\n        if (this.camera.zoom > this.maxZoom || this.camera.zoom < this.minZoom) {\n          const newZoom = MathUtils.clamp(this.camera.zoom, this.minZoom, this.maxZoom);\n          this.applyTransformMatrix(this.applyScale(newZoom / this.camera.zoom, this._gizmos.position, true));\n        }\n      }\n      if (this.camera instanceof PerspectiveCamera) {\n        const distance = this.camera.position.distanceTo(this._gizmos.position);\n        if (distance > this.maxDistance + EPS || distance < this.minDistance - EPS) {\n          const newDistance = MathUtils.clamp(distance, this.minDistance, this.maxDistance);\n          this.applyTransformMatrix(this.applyScale(newDistance / distance, this._gizmos.position));\n          this.updateMatrixState();\n        }\n        if (this.camera.fov < this.minFov || this.camera.fov > this.maxFov) {\n          this.camera.fov = MathUtils.clamp(this.camera.fov, this.minFov, this.maxFov);\n          this.camera.updateProjectionMatrix();\n        }\n        const oldRadius = this._tbRadius;\n        const tbRadius = this.calculateTbRadius(this.camera);\n        if (tbRadius !== void 0) {\n          this._tbRadius = tbRadius;\n        }\n        if (oldRadius < this._tbRadius - EPS || oldRadius > this._tbRadius + EPS) {\n          const scale = (this._gizmos.scale.x + this._gizmos.scale.y + this._gizmos.scale.z) / 3;\n          const newRadius = this._tbRadius / scale;\n          const curve = new EllipseCurve(0, 0, newRadius, newRadius);\n          const points = curve.getPoints(this._curvePts);\n          const curveGeometry = new BufferGeometry().setFromPoints(points);\n          for (const gizmo in this._gizmos.children) {\n            const child = this._gizmos.children[gizmo];\n            child.geometry = curveGeometry;\n          }\n        }\n      }\n      this.camera.lookAt(this._gizmos.position);\n    });\n    __publicField(this, \"setStateFromJSON\", (json) => {\n      const state = JSON.parse(json);\n      if (state.arcballState && this.camera) {\n        this._cameraMatrixState.fromArray(state.arcballState.cameraMatrix.elements);\n        this._cameraMatrixState.decompose(this.camera.position, this.camera.quaternion, this.camera.scale);\n        this.camera.up.copy(state.arcballState.cameraUp);\n        this.camera.near = state.arcballState.cameraNear;\n        this.camera.far = state.arcballState.cameraFar;\n        this.camera.zoom = state.arcballState.cameraZoom;\n        if (this.camera instanceof PerspectiveCamera) {\n          this.camera.fov = state.arcballState.cameraFov;\n        }\n        this._gizmoMatrixState.fromArray(state.arcballState.gizmoMatrix.elements);\n        this._gizmoMatrixState.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale);\n        this.camera.updateMatrix();\n        this.camera.updateProjectionMatrix();\n        this._gizmos.updateMatrix();\n        const tbRadius = this.calculateTbRadius(this.camera);\n        if (tbRadius !== void 0) {\n          this._tbRadius = tbRadius;\n        }\n        const gizmoTmp = new Matrix4().copy(this._gizmoMatrixState0);\n        this.makeGizmos(this._gizmos.position, this._tbRadius);\n        this._gizmoMatrixState0.copy(gizmoTmp);\n        this.camera.lookAt(this._gizmos.position);\n        this.updateTbState(STATE.IDLE, false);\n        this.dispatchEvent(_changeEvent);\n      }\n    });\n    this.camera = null;\n    this.domElement = domElement;\n    this.scene = scene;\n    this.mouseActions = [];\n    this._mouseOp = null;\n    this._v2_1 = new Vector2();\n    this._v3_1 = new Vector3();\n    this._v3_2 = new Vector3();\n    this._m4_1 = new Matrix4();\n    this._m4_2 = new Matrix4();\n    this._quat = new Quaternion();\n    this._translationMatrix = new Matrix4();\n    this._rotationMatrix = new Matrix4();\n    this._scaleMatrix = new Matrix4();\n    this._rotationAxis = new Vector3();\n    this._cameraMatrixState = new Matrix4();\n    this._cameraProjectionState = new Matrix4();\n    this._fovState = 1;\n    this._upState = new Vector3();\n    this._zoomState = 1;\n    this._nearPos = 0;\n    this._farPos = 0;\n    this._gizmoMatrixState = new Matrix4();\n    this._up0 = new Vector3();\n    this._zoom0 = 1;\n    this._fov0 = 0;\n    this._initialNear = 0;\n    this._nearPos0 = 0;\n    this._initialFar = 0;\n    this._farPos0 = 0;\n    this._cameraMatrixState0 = new Matrix4();\n    this._gizmoMatrixState0 = new Matrix4();\n    this._button = -1;\n    this._touchStart = [];\n    this._touchCurrent = [];\n    this._input = INPUT.NONE;\n    this._switchSensibility = 32;\n    this._startFingerDistance = 0;\n    this._currentFingerDistance = 0;\n    this._startFingerRotation = 0;\n    this._currentFingerRotation = 0;\n    this._devPxRatio = 0;\n    this._downValid = true;\n    this._nclicks = 0;\n    this._downEvents = [];\n    this._clickStart = 0;\n    this._maxDownTime = 250;\n    this._maxInterval = 300;\n    this._posThreshold = 24;\n    this._movementThreshold = 24;\n    this._currentCursorPosition = new Vector3();\n    this._startCursorPosition = new Vector3();\n    this._grid = null;\n    this._gridPosition = new Vector3();\n    this._gizmos = new Group();\n    this._curvePts = 128;\n    this._timeStart = -1;\n    this._animationId = -1;\n    this.focusAnimationTime = 500;\n    this._timePrev = 0;\n    this._timeCurrent = 0;\n    this._anglePrev = 0;\n    this._angleCurrent = 0;\n    this._cursorPosPrev = new Vector3();\n    this._cursorPosCurr = new Vector3();\n    this._wPrev = 0;\n    this._wCurr = 0;\n    this.adjustNearFar = false;\n    this.scaleFactor = 1.1;\n    this.dampingFactor = 25;\n    this.wMax = 20;\n    this.enableAnimations = true;\n    this.enableGrid = false;\n    this.cursorZoom = false;\n    this.minFov = 5;\n    this.maxFov = 90;\n    this.enabled = true;\n    this.enablePan = true;\n    this.enableRotate = true;\n    this.enableZoom = true;\n    this.minDistance = 0;\n    this.maxDistance = Infinity;\n    this.minZoom = 0;\n    this.maxZoom = Infinity;\n    this.target = new Vector3(0, 0, 0);\n    this._currentTarget = new Vector3(0, 0, 0);\n    this._tbRadius = 1;\n    this._state = STATE.IDLE;\n    this.setCamera(camera);\n    if (this.scene) {\n      this.scene.add(this._gizmos);\n    }\n    this._devPxRatio = window.devicePixelRatio;\n    this.initializeMouseActions();\n    if (this.domElement)\n      this.connect(this.domElement);\n    window.addEventListener(\"resize\", this.onWindowResize);\n  }\n  /**\n   * Apply a transformation matrix, to the camera and gizmos\n   * @param {Object} transformation Object containing matrices to apply to camera and gizmos\n   */\n  applyTransformMatrix(transformation) {\n    if ((transformation == null ? void 0 : transformation.camera) && this.camera) {\n      this._m4_1.copy(this._cameraMatrixState).premultiply(transformation.camera);\n      this._m4_1.decompose(this.camera.position, this.camera.quaternion, this.camera.scale);\n      this.camera.updateMatrix();\n      if (this._state == STATE.ROTATE || this._state == STATE.ZROTATE || this._state == STATE.ANIMATION_ROTATE) {\n        this.camera.up.copy(this._upState).applyQuaternion(this.camera.quaternion);\n      }\n    }\n    if (transformation == null ? void 0 : transformation.gizmos) {\n      this._m4_1.copy(this._gizmoMatrixState).premultiply(transformation.gizmos);\n      this._m4_1.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale);\n      this._gizmos.updateMatrix();\n    }\n    if ((this._state == STATE.SCALE || this._state == STATE.FOCUS || this._state == STATE.ANIMATION_FOCUS) && this.camera) {\n      const tbRadius = this.calculateTbRadius(this.camera);\n      if (tbRadius !== void 0) {\n        this._tbRadius = tbRadius;\n      }\n      if (this.adjustNearFar) {\n        const cameraDistance = this.camera.position.distanceTo(this._gizmos.position);\n        const bb = new Box3();\n        bb.setFromObject(this._gizmos);\n        const sphere = new Sphere();\n        bb.getBoundingSphere(sphere);\n        const adjustedNearPosition = Math.max(this._nearPos0, sphere.radius + sphere.center.length());\n        const regularNearPosition = cameraDistance - this._initialNear;\n        const minNearPos = Math.min(adjustedNearPosition, regularNearPosition);\n        this.camera.near = cameraDistance - minNearPos;\n        const adjustedFarPosition = Math.min(this._farPos0, -sphere.radius + sphere.center.length());\n        const regularFarPosition = cameraDistance - this._initialFar;\n        const minFarPos = Math.min(adjustedFarPosition, regularFarPosition);\n        this.camera.far = cameraDistance - minFarPos;\n        this.camera.updateProjectionMatrix();\n      } else {\n        let update = false;\n        if (this.camera.near != this._initialNear) {\n          this.camera.near = this._initialNear;\n          update = true;\n        }\n        if (this.camera.far != this._initialFar) {\n          this.camera.far = this._initialFar;\n          update = true;\n        }\n        if (update) {\n          this.camera.updateProjectionMatrix();\n        }\n      }\n    }\n  }\n  /**\n   * Set gizmos visibility\n   * @param {Boolean} value Value of gizmos visibility\n   */\n  setGizmosVisible(value) {\n    this._gizmos.visible = value;\n    this.dispatchEvent(_changeEvent);\n  }\n  /**\n   * Set values in transformation object\n   * @param {Matrix4} camera Transformation to be applied to the camera\n   * @param {Matrix4} gizmos Transformation to be applied to gizmos\n   */\n  setTransformationMatrices(camera = null, gizmos = null) {\n    if (camera) {\n      if (_transformation.camera) {\n        _transformation.camera.copy(camera);\n      } else {\n        _transformation.camera = camera.clone();\n      }\n    } else {\n      _transformation.camera = null;\n    }\n    if (gizmos) {\n      if (_transformation.gizmos) {\n        _transformation.gizmos.copy(gizmos);\n      } else {\n        _transformation.gizmos = gizmos.clone();\n      }\n    } else {\n      _transformation.gizmos = null;\n    }\n  }\n}\nexport {\n  ArcballControls\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { EventDispatcher, Quaternion, Vector3 } from \"three\";\nfunction contextmenu(event) {\n  event.preventDefault();\n}\nclass FlyControls extends EventDispatcher {\n  constructor(object, domElement) {\n    super();\n    __publicField(this, \"object\");\n    __publicField(this, \"domElement\", null);\n    __publicField(this, \"movementSpeed\", 1);\n    __publicField(this, \"rollSpeed\", 5e-3);\n    __publicField(this, \"dragToLook\", false);\n    __publicField(this, \"autoForward\", false);\n    __publicField(this, \"changeEvent\", { type: \"change\" });\n    __publicField(this, \"EPS\", 1e-6);\n    __publicField(this, \"tmpQuaternion\", new Quaternion());\n    __publicField(this, \"mouseStatus\", 0);\n    __publicField(this, \"movementSpeedMultiplier\", 1);\n    __publicField(this, \"moveState\", {\n      up: 0,\n      down: 0,\n      left: 0,\n      right: 0,\n      forward: 0,\n      back: 0,\n      pitchUp: 0,\n      pitchDown: 0,\n      yawLeft: 0,\n      yawRight: 0,\n      rollLeft: 0,\n      rollRight: 0\n    });\n    __publicField(this, \"moveVector\", new Vector3(0, 0, 0));\n    __publicField(this, \"rotationVector\", new Vector3(0, 0, 0));\n    __publicField(this, \"keydown\", (event) => {\n      if (event.altKey) {\n        return;\n      }\n      switch (event.code) {\n        case \"ShiftLeft\":\n        case \"ShiftRight\":\n          this.movementSpeedMultiplier = 0.1;\n          break;\n        case \"KeyW\":\n          this.moveState.forward = 1;\n          break;\n        case \"KeyS\":\n          this.moveState.back = 1;\n          break;\n        case \"KeyA\":\n          this.moveState.left = 1;\n          break;\n        case \"KeyD\":\n          this.moveState.right = 1;\n          break;\n        case \"KeyR\":\n          this.moveState.up = 1;\n          break;\n        case \"KeyF\":\n          this.moveState.down = 1;\n          break;\n        case \"ArrowUp\":\n          this.moveState.pitchUp = 1;\n          break;\n        case \"ArrowDown\":\n          this.moveState.pitchDown = 1;\n          break;\n        case \"ArrowLeft\":\n          this.moveState.yawLeft = 1;\n          break;\n        case \"ArrowRight\":\n          this.moveState.yawRight = 1;\n          break;\n        case \"KeyQ\":\n          this.moveState.rollLeft = 1;\n          break;\n        case \"KeyE\":\n          this.moveState.rollRight = 1;\n          break;\n      }\n      this.updateMovementVector();\n      this.updateRotationVector();\n    });\n    __publicField(this, \"keyup\", (event) => {\n      switch (event.code) {\n        case \"ShiftLeft\":\n        case \"ShiftRight\":\n          this.movementSpeedMultiplier = 1;\n          break;\n        case \"KeyW\":\n          this.moveState.forward = 0;\n          break;\n        case \"KeyS\":\n          this.moveState.back = 0;\n          break;\n        case \"KeyA\":\n          this.moveState.left = 0;\n          break;\n        case \"KeyD\":\n          this.moveState.right = 0;\n          break;\n        case \"KeyR\":\n          this.moveState.up = 0;\n          break;\n        case \"KeyF\":\n          this.moveState.down = 0;\n          break;\n        case \"ArrowUp\":\n          this.moveState.pitchUp = 0;\n          break;\n        case \"ArrowDown\":\n          this.moveState.pitchDown = 0;\n          break;\n        case \"ArrowLeft\":\n          this.moveState.yawLeft = 0;\n          break;\n        case \"ArrowRight\":\n          this.moveState.yawRight = 0;\n          break;\n        case \"KeyQ\":\n          this.moveState.rollLeft = 0;\n          break;\n        case \"KeyE\":\n          this.moveState.rollRight = 0;\n          break;\n      }\n      this.updateMovementVector();\n      this.updateRotationVector();\n    });\n    __publicField(this, \"pointerdown\", (event) => {\n      if (this.dragToLook) {\n        this.mouseStatus++;\n      } else {\n        switch (event.button) {\n          case 0:\n            this.moveState.forward = 1;\n            break;\n          case 2:\n            this.moveState.back = 1;\n            break;\n        }\n        this.updateMovementVector();\n      }\n    });\n    __publicField(this, \"pointermove\", (event) => {\n      if (!this.dragToLook || this.mouseStatus > 0) {\n        const container = this.getContainerDimensions();\n        const halfWidth = container.size[0] / 2;\n        const halfHeight = container.size[1] / 2;\n        this.moveState.yawLeft = -(event.pageX - container.offset[0] - halfWidth) / halfWidth;\n        this.moveState.pitchDown = (event.pageY - container.offset[1] - halfHeight) / halfHeight;\n        this.updateRotationVector();\n      }\n    });\n    __publicField(this, \"pointerup\", (event) => {\n      if (this.dragToLook) {\n        this.mouseStatus--;\n        this.moveState.yawLeft = this.moveState.pitchDown = 0;\n      } else {\n        switch (event.button) {\n          case 0:\n            this.moveState.forward = 0;\n            break;\n          case 2:\n            this.moveState.back = 0;\n            break;\n        }\n        this.updateMovementVector();\n      }\n      this.updateRotationVector();\n    });\n    __publicField(this, \"lastQuaternion\", new Quaternion());\n    __publicField(this, \"lastPosition\", new Vector3());\n    __publicField(this, \"update\", (delta) => {\n      const moveMult = delta * this.movementSpeed;\n      const rotMult = delta * this.rollSpeed;\n      this.object.translateX(this.moveVector.x * moveMult);\n      this.object.translateY(this.moveVector.y * moveMult);\n      this.object.translateZ(this.moveVector.z * moveMult);\n      this.tmpQuaternion.set(this.rotationVector.x * rotMult, this.rotationVector.y * rotMult, this.rotationVector.z * rotMult, 1).normalize();\n      this.object.quaternion.multiply(this.tmpQuaternion);\n      if (this.lastPosition.distanceToSquared(this.object.position) > this.EPS || 8 * (1 - this.lastQuaternion.dot(this.object.quaternion)) > this.EPS) {\n        this.dispatchEvent(this.changeEvent);\n        this.lastQuaternion.copy(this.object.quaternion);\n        this.lastPosition.copy(this.object.position);\n      }\n    });\n    __publicField(this, \"updateMovementVector\", () => {\n      const forward = this.moveState.forward || this.autoForward && !this.moveState.back ? 1 : 0;\n      this.moveVector.x = -this.moveState.left + this.moveState.right;\n      this.moveVector.y = -this.moveState.down + this.moveState.up;\n      this.moveVector.z = -forward + this.moveState.back;\n    });\n    __publicField(this, \"updateRotationVector\", () => {\n      this.rotationVector.x = -this.moveState.pitchDown + this.moveState.pitchUp;\n      this.rotationVector.y = -this.moveState.yawRight + this.moveState.yawLeft;\n      this.rotationVector.z = -this.moveState.rollRight + this.moveState.rollLeft;\n    });\n    __publicField(this, \"getContainerDimensions\", () => {\n      if (this.domElement != document && !(this.domElement instanceof Document)) {\n        return {\n          size: [this.domElement.offsetWidth, this.domElement.offsetHeight],\n          offset: [this.domElement.offsetLeft, this.domElement.offsetTop]\n        };\n      } else {\n        return {\n          size: [window.innerWidth, window.innerHeight],\n          offset: [0, 0]\n        };\n      }\n    });\n    // https://github.com/mrdoob/three.js/issues/20575\n    __publicField(this, \"connect\", (domElement) => {\n      this.domElement = domElement;\n      if (domElement && !(domElement instanceof Document)) {\n        domElement.setAttribute(\"tabindex\", -1);\n      }\n      this.domElement.addEventListener(\"contextmenu\", contextmenu);\n      this.domElement.addEventListener(\"pointermove\", this.pointermove);\n      this.domElement.addEventListener(\"pointerdown\", this.pointerdown);\n      this.domElement.addEventListener(\"pointerup\", this.pointerup);\n      window.addEventListener(\"keydown\", this.keydown);\n      window.addEventListener(\"keyup\", this.keyup);\n    });\n    __publicField(this, \"dispose\", () => {\n      this.domElement.removeEventListener(\"contextmenu\", contextmenu);\n      this.domElement.removeEventListener(\"pointermove\", this.pointermove);\n      this.domElement.removeEventListener(\"pointerdown\", this.pointerdown);\n      this.domElement.removeEventListener(\"pointerup\", this.pointerup);\n      window.removeEventListener(\"keydown\", this.keydown);\n      window.removeEventListener(\"keyup\", this.keyup);\n    });\n    this.object = object;\n    if (domElement !== void 0)\n      this.connect(domElement);\n    this.updateMovementVector();\n    this.updateRotationVector();\n  }\n}\nexport {\n  FlyControls\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { OrthographicCamera, PlaneGeometry, Mesh } from \"three\";\nclass Pass {\n  constructor() {\n    // if set to true, the pass is processed by the composer\n    __publicField(this, \"enabled\", true);\n    // if set to true, the pass indicates to swap read and write buffer after rendering\n    __publicField(this, \"needsSwap\", true);\n    // if set to true, the pass clears its buffer before rendering\n    __publicField(this, \"clear\", false);\n    // if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n    __publicField(this, \"renderToScreen\", false);\n  }\n  setSize(width, height) {\n  }\n  render(renderer, writeBuffer, readBuffer, deltaTime, maskActive) {\n    console.error(\"THREE.Pass: .render() must be implemented in derived pass.\");\n  }\n}\nclass FullScreenQuad {\n  constructor(material) {\n    __publicField(this, \"camera\", new OrthographicCamera(-1, 1, 1, -1, 0, 1));\n    __publicField(this, \"geometry\", new PlaneGeometry(2, 2));\n    __publicField(this, \"mesh\");\n    this.mesh = new Mesh(this.geometry, material);\n  }\n  get material() {\n    return this.mesh.material;\n  }\n  set material(value) {\n    this.mesh.material = value;\n  }\n  dispose() {\n    this.mesh.geometry.dispose();\n  }\n  render(renderer) {\n    renderer.render(this.mesh, this.camera);\n  }\n}\nexport {\n  FullScreenQuad,\n  Pass\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { ShaderMaterial, UniformsUtils } from \"three\";\nimport { Pass, FullScreenQuad } from \"./Pass.js\";\nclass ShaderPass extends Pass {\n  constructor(shader, textureID = \"tDiffuse\") {\n    super();\n    __publicField(this, \"textureID\");\n    __publicField(this, \"uniforms\");\n    __publicField(this, \"material\");\n    __publicField(this, \"fsQuad\");\n    this.textureID = textureID;\n    if (shader instanceof ShaderMaterial) {\n      this.uniforms = shader.uniforms;\n      this.material = shader;\n    } else {\n      this.uniforms = UniformsUtils.clone(shader.uniforms);\n      this.material = new ShaderMaterial({\n        defines: Object.assign({}, shader.defines),\n        uniforms: this.uniforms,\n        vertexShader: shader.vertexShader,\n        fragmentShader: shader.fragmentShader\n      });\n    }\n    this.fsQuad = new FullScreenQuad(this.material);\n  }\n  render(renderer, writeBuffer, readBuffer) {\n    if (this.uniforms[this.textureID]) {\n      this.uniforms[this.textureID].value = readBuffer.texture;\n    }\n    this.fsQuad.material = this.material;\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      this.fsQuad.render(renderer);\n    } else {\n      renderer.setRenderTarget(writeBuffer);\n      if (this.clear)\n        renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n      this.fsQuad.render(renderer);\n    }\n  }\n}\nexport {\n  ShaderPass\n};\n", "const HalftoneShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    shape: { value: 1 },\n    radius: { value: 4 },\n    rotateR: { value: Math.PI / 12 * 1 },\n    rotateG: { value: Math.PI / 12 * 2 },\n    rotateB: { value: Math.PI / 12 * 3 },\n    scatter: { value: 0 },\n    width: { value: 1 },\n    height: { value: 1 },\n    blending: { value: 1 },\n    blendingMode: { value: 1 },\n    greyscale: { value: false },\n    disable: { value: false }\n  },\n  vertexShader: [\n    \"varying vec2 vUV;\",\n    \"void main() {\",\n    \"\tvUV = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"#define SQRT2_MINUS_ONE 0.41421356\",\n    \"#define SQRT2_HALF_MINUS_ONE 0.20710678\",\n    \"#define PI2 6.28318531\",\n    \"#define SHAPE_DOT 1\",\n    \"#define SHAPE_ELLIPSE 2\",\n    \"#define SHAPE_LINE 3\",\n    \"#define SHAPE_SQUARE 4\",\n    \"#define BLENDING_LINEAR 1\",\n    \"#define BLENDING_MULTIPLY 2\",\n    \"#define BLENDING_ADD 3\",\n    \"#define BLENDING_LIGHTER 4\",\n    \"#define BLENDING_DARKER 5\",\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform float radius;\",\n    \"uniform float rotateR;\",\n    \"uniform float rotateG;\",\n    \"uniform float rotateB;\",\n    \"uniform float scatter;\",\n    \"uniform float width;\",\n    \"uniform float height;\",\n    \"uniform int shape;\",\n    \"uniform bool disable;\",\n    \"uniform float blending;\",\n    \"uniform int blendingMode;\",\n    \"varying vec2 vUV;\",\n    \"uniform bool greyscale;\",\n    \"const int samples = 8;\",\n    \"float blend( float a, float b, float t ) {\",\n    // linear blend\n    \"\treturn a * ( 1.0 - t ) + b * t;\",\n    \"}\",\n    \"float hypot( float x, float y ) {\",\n    // vector magnitude\n    \"\treturn sqrt( x * x + y * y );\",\n    \"}\",\n    \"float rand( vec2 seed ){\",\n    // get pseudo-random number\n    \"return fract( sin( dot( seed.xy, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 );\",\n    \"}\",\n    \"float distanceToDotRadius( float channel, vec2 coord, vec2 normal, vec2 p, float angle, float rad_max ) {\",\n    // apply shape-specific transforms\n    \"\tfloat dist = hypot( coord.x - p.x, coord.y - p.y );\",\n    \"\tfloat rad = channel;\",\n    \"\tif ( shape == SHAPE_DOT ) {\",\n    \"\t\trad = pow( abs( rad ), 1.125 ) * rad_max;\",\n    \"\t} else if ( shape == SHAPE_ELLIPSE ) {\",\n    \"\t\trad = pow( abs( rad ), 1.125 ) * rad_max;\",\n    \"\t\tif ( dist != 0.0 ) {\",\n    \"\t\t\tfloat dot_p = abs( ( p.x - coord.x ) / dist * normal.x + ( p.y - coord.y ) / dist * normal.y );\",\n    \"\t\t\tdist = ( dist * ( 1.0 - SQRT2_HALF_MINUS_ONE ) ) + dot_p * dist * SQRT2_MINUS_ONE;\",\n    \"\t\t}\",\n    \"\t} else if ( shape == SHAPE_LINE ) {\",\n    \"\t\trad = pow( abs( rad ), 1.5) * rad_max;\",\n    \"\t\tfloat dot_p = ( p.x - coord.x ) * normal.x + ( p.y - coord.y ) * normal.y;\",\n    \"\t\tdist = hypot( normal.x * dot_p, normal.y * dot_p );\",\n    \"\t} else if ( shape == SHAPE_SQUARE ) {\",\n    \"\t\tfloat theta = atan( p.y - coord.y, p.x - coord.x ) - angle;\",\n    \"\t\tfloat sin_t = abs( sin( theta ) );\",\n    \"\t\tfloat cos_t = abs( cos( theta ) );\",\n    \"\t\trad = pow( abs( rad ), 1.4 );\",\n    \"\t\trad = rad_max * ( rad + ( ( sin_t > cos_t ) ? rad - sin_t * rad : rad - cos_t * rad ) );\",\n    \"\t}\",\n    \"\treturn rad - dist;\",\n    \"}\",\n    \"struct Cell {\",\n    // grid sample positions\n    \"\tvec2 normal;\",\n    \"\tvec2 p1;\",\n    \"\tvec2 p2;\",\n    \"\tvec2 p3;\",\n    \"\tvec2 p4;\",\n    \"\tfloat samp2;\",\n    \"\tfloat samp1;\",\n    \"\tfloat samp3;\",\n    \"\tfloat samp4;\",\n    \"};\",\n    \"vec4 getSample( vec2 point ) {\",\n    // multi-sampled point\n    \"\tvec4 tex = texture2D( tDiffuse, vec2( point.x / width, point.y / height ) );\",\n    \"\tfloat base = rand( vec2( floor( point.x ), floor( point.y ) ) ) * PI2;\",\n    \"\tfloat step = PI2 / float( samples );\",\n    \"\tfloat dist = radius * 0.66;\",\n    \"\tfor ( int i = 0; i < samples; ++i ) {\",\n    \"\t\tfloat r = base + step * float( i );\",\n    \"\t\tvec2 coord = point + vec2( cos( r ) * dist, sin( r ) * dist );\",\n    \"\t\ttex += texture2D( tDiffuse, vec2( coord.x / width, coord.y / height ) );\",\n    \"\t}\",\n    \"\ttex /= float( samples ) + 1.0;\",\n    \"\treturn tex;\",\n    \"}\",\n    \"float getDotColour( Cell c, vec2 p, int channel, float angle, float aa ) {\",\n    // get colour for given point\n    \"\tfloat dist_c_1, dist_c_2, dist_c_3, dist_c_4, res;\",\n    \"\tif ( channel == 0 ) {\",\n    \"\t\tc.samp1 = getSample( c.p1 ).r;\",\n    \"\t\tc.samp2 = getSample( c.p2 ).r;\",\n    \"\t\tc.samp3 = getSample( c.p3 ).r;\",\n    \"\t\tc.samp4 = getSample( c.p4 ).r;\",\n    \"\t} else if (channel == 1) {\",\n    \"\t\tc.samp1 = getSample( c.p1 ).g;\",\n    \"\t\tc.samp2 = getSample( c.p2 ).g;\",\n    \"\t\tc.samp3 = getSample( c.p3 ).g;\",\n    \"\t\tc.samp4 = getSample( c.p4 ).g;\",\n    \"\t} else {\",\n    \"\t\tc.samp1 = getSample( c.p1 ).b;\",\n    \"\t\tc.samp3 = getSample( c.p3 ).b;\",\n    \"\t\tc.samp2 = getSample( c.p2 ).b;\",\n    \"\t\tc.samp4 = getSample( c.p4 ).b;\",\n    \"\t}\",\n    \"\tdist_c_1 = distanceToDotRadius( c.samp1, c.p1, c.normal, p, angle, radius );\",\n    \"\tdist_c_2 = distanceToDotRadius( c.samp2, c.p2, c.normal, p, angle, radius );\",\n    \"\tdist_c_3 = distanceToDotRadius( c.samp3, c.p3, c.normal, p, angle, radius );\",\n    \"\tdist_c_4 = distanceToDotRadius( c.samp4, c.p4, c.normal, p, angle, radius );\",\n    \"\tres = ( dist_c_1 > 0.0 ) ? clamp( dist_c_1 / aa, 0.0, 1.0 ) : 0.0;\",\n    \"\tres += ( dist_c_2 > 0.0 ) ? clamp( dist_c_2 / aa, 0.0, 1.0 ) : 0.0;\",\n    \"\tres += ( dist_c_3 > 0.0 ) ? clamp( dist_c_3 / aa, 0.0, 1.0 ) : 0.0;\",\n    \"\tres += ( dist_c_4 > 0.0 ) ? clamp( dist_c_4 / aa, 0.0, 1.0 ) : 0.0;\",\n    \"\tres = clamp( res, 0.0, 1.0 );\",\n    \"\treturn res;\",\n    \"}\",\n    \"Cell getReferenceCell( vec2 p, vec2 origin, float grid_angle, float step ) {\",\n    // get containing cell\n    \"\tCell c;\",\n    // calc grid\n    \"\tvec2 n = vec2( cos( grid_angle ), sin( grid_angle ) );\",\n    \"\tfloat threshold = step * 0.5;\",\n    \"\tfloat dot_normal = n.x * ( p.x - origin.x ) + n.y * ( p.y - origin.y );\",\n    \"\tfloat dot_line = -n.y * ( p.x - origin.x ) + n.x * ( p.y - origin.y );\",\n    \"\tvec2 offset = vec2( n.x * dot_normal, n.y * dot_normal );\",\n    \"\tfloat offset_normal = mod( hypot( offset.x, offset.y ), step );\",\n    \"\tfloat normal_dir = ( dot_normal < 0.0 ) ? 1.0 : -1.0;\",\n    \"\tfloat normal_scale = ( ( offset_normal < threshold ) ? -offset_normal : step - offset_normal ) * normal_dir;\",\n    \"\tfloat offset_line = mod( hypot( ( p.x - offset.x ) - origin.x, ( p.y - offset.y ) - origin.y ), step );\",\n    \"\tfloat line_dir = ( dot_line < 0.0 ) ? 1.0 : -1.0;\",\n    \"\tfloat line_scale = ( ( offset_line < threshold ) ? -offset_line : step - offset_line ) * line_dir;\",\n    // get closest corner\n    \"\tc.normal = n;\",\n    \"\tc.p1.x = p.x - n.x * normal_scale + n.y * line_scale;\",\n    \"\tc.p1.y = p.y - n.y * normal_scale - n.x * line_scale;\",\n    // scatter\n    \"\tif ( scatter != 0.0 ) {\",\n    \"\t\tfloat off_mag = scatter * threshold * 0.5;\",\n    \"\t\tfloat off_angle = rand( vec2( floor( c.p1.x ), floor( c.p1.y ) ) ) * PI2;\",\n    \"\t\tc.p1.x += cos( off_angle ) * off_mag;\",\n    \"\t\tc.p1.y += sin( off_angle ) * off_mag;\",\n    \"\t}\",\n    // find corners\n    \"\tfloat normal_step = normal_dir * ( ( offset_normal < threshold ) ? step : -step );\",\n    \"\tfloat line_step = line_dir * ( ( offset_line < threshold ) ? step : -step );\",\n    \"\tc.p2.x = c.p1.x - n.x * normal_step;\",\n    \"\tc.p2.y = c.p1.y - n.y * normal_step;\",\n    \"\tc.p3.x = c.p1.x + n.y * line_step;\",\n    \"\tc.p3.y = c.p1.y - n.x * line_step;\",\n    \"\tc.p4.x = c.p1.x - n.x * normal_step + n.y * line_step;\",\n    \"\tc.p4.y = c.p1.y - n.y * normal_step - n.x * line_step;\",\n    \"\treturn c;\",\n    \"}\",\n    \"float blendColour( float a, float b, float t ) {\",\n    // blend colours\n    \"\tif ( blendingMode == BLENDING_LINEAR ) {\",\n    \"\t\treturn blend( a, b, 1.0 - t );\",\n    \"\t} else if ( blendingMode == BLENDING_ADD ) {\",\n    \"\t\treturn blend( a, min( 1.0, a + b ), t );\",\n    \"\t} else if ( blendingMode == BLENDING_MULTIPLY ) {\",\n    \"\t\treturn blend( a, max( 0.0, a * b ), t );\",\n    \"\t} else if ( blendingMode == BLENDING_LIGHTER ) {\",\n    \"\t\treturn blend( a, max( a, b ), t );\",\n    \"\t} else if ( blendingMode == BLENDING_DARKER ) {\",\n    \"\t\treturn blend( a, min( a, b ), t );\",\n    \"\t} else {\",\n    \"\t\treturn blend( a, b, 1.0 - t );\",\n    \"\t}\",\n    \"}\",\n    \"void main() {\",\n    \"\tif ( ! disable ) {\",\n    // setup\n    \"\t\tvec2 p = vec2( vUV.x * width, vUV.y * height );\",\n    \"\t\tvec2 origin = vec2( 0, 0 );\",\n    \"\t\tfloat aa = ( radius < 2.5 ) ? radius * 0.5 : 1.25;\",\n    // get channel samples\n    \"\t\tCell cell_r = getReferenceCell( p, origin, rotateR, radius );\",\n    \"\t\tCell cell_g = getReferenceCell( p, origin, rotateG, radius );\",\n    \"\t\tCell cell_b = getReferenceCell( p, origin, rotateB, radius );\",\n    \"\t\tfloat r = getDotColour( cell_r, p, 0, rotateR, aa );\",\n    \"\t\tfloat g = getDotColour( cell_g, p, 1, rotateG, aa );\",\n    \"\t\tfloat b = getDotColour( cell_b, p, 2, rotateB, aa );\",\n    // blend with original\n    \"\t\tvec4 colour = texture2D( tDiffuse, vUV );\",\n    \"\t\tr = blendColour( r, colour.r, blending );\",\n    \"\t\tg = blendColour( g, colour.g, blending );\",\n    \"\t\tb = blendColour( b, colour.b, blending );\",\n    \"\t\tif ( greyscale ) {\",\n    \"\t\t\tr = g = b = (r + b + g) / 3.0;\",\n    \"\t\t}\",\n    \"\t\tgl_FragColor = vec4( r, g, b, 1.0 );\",\n    \"\t} else {\",\n    \"\t\tgl_FragColor = texture2D( tDiffuse, vUV );\",\n    \"\t}\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  HalftoneShader\n};\n", "import { Vector2 } from \"three\";\nconst SMAAEdgesShader = {\n  defines: {\n    SMAA_THRESHOLD: \"0.1\"\n  },\n  uniforms: {\n    tDiffuse: { value: null },\n    resolution: { value: /* @__PURE__ */ new Vector2(1 / 1024, 1 / 512) }\n  },\n  vertexShader: [\n    \"uniform vec2 resolution;\",\n    \"varying vec2 vUv;\",\n    \"varying vec4 vOffset[ 3 ];\",\n    \"void SMAAEdgeDetectionVS( vec2 texcoord ) {\",\n    \"\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 );\",\n    // WebGL port note: Changed sign in W component\n    \"\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 );\",\n    // WebGL port note: Changed sign in W component\n    \"\tvOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 );\",\n    // WebGL port note: Changed sign in W component\n    \"}\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tSMAAEdgeDetectionVS( vUv );\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"varying vec4 vOffset[ 3 ];\",\n    \"vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {\",\n    \"\tvec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );\",\n    // Calculate color deltas:\n    \"\tvec4 delta;\",\n    \"\tvec3 C = texture2D( colorTex, texcoord ).rgb;\",\n    \"\tvec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;\",\n    \"\tvec3 t = abs( C - Cleft );\",\n    \"\tdelta.x = max( max( t.r, t.g ), t.b );\",\n    \"\tvec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;\",\n    \"\tt = abs( C - Ctop );\",\n    \"\tdelta.y = max( max( t.r, t.g ), t.b );\",\n    // We do the usual threshold:\n    \"\tvec2 edges = step( threshold, delta.xy );\",\n    // Then discard if there is no edge:\n    \"\tif ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )\",\n    \"\t\tdiscard;\",\n    // Calculate right and bottom deltas:\n    \"\tvec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;\",\n    \"\tt = abs( C - Cright );\",\n    \"\tdelta.z = max( max( t.r, t.g ), t.b );\",\n    \"\tvec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;\",\n    \"\tt = abs( C - Cbottom );\",\n    \"\tdelta.w = max( max( t.r, t.g ), t.b );\",\n    // Calculate the maximum delta in the direct neighborhood:\n    \"\tfloat maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );\",\n    // Calculate left-left and top-top deltas:\n    \"\tvec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;\",\n    \"\tt = abs( C - Cleftleft );\",\n    \"\tdelta.z = max( max( t.r, t.g ), t.b );\",\n    \"\tvec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;\",\n    \"\tt = abs( C - Ctoptop );\",\n    \"\tdelta.w = max( max( t.r, t.g ), t.b );\",\n    // Calculate the final maximum delta:\n    \"\tmaxDelta = max( max( maxDelta, delta.z ), delta.w );\",\n    // Local contrast adaptation in action:\n    \"\tedges.xy *= step( 0.5 * maxDelta, delta.xy );\",\n    \"\treturn vec4( edges, 0.0, 0.0 );\",\n    \"}\",\n    \"void main() {\",\n    \"\tgl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nconst SMAAWeightsShader = {\n  defines: {\n    SMAA_MAX_SEARCH_STEPS: \"8\",\n    SMAA_AREATEX_MAX_DISTANCE: \"16\",\n    SMAA_AREATEX_PIXEL_SIZE: \"( 1.0 / vec2( 160.0, 560.0 ) )\",\n    SMAA_AREATEX_SUBTEX_SIZE: \"( 1.0 / 7.0 )\"\n  },\n  uniforms: {\n    tDiffuse: { value: null },\n    tArea: { value: null },\n    tSearch: { value: null },\n    resolution: { value: /* @__PURE__ */ new Vector2(1 / 1024, 1 / 512) }\n  },\n  vertexShader: [\n    \"uniform vec2 resolution;\",\n    \"varying vec2 vUv;\",\n    \"varying vec4 vOffset[ 3 ];\",\n    \"varying vec2 vPixcoord;\",\n    \"void SMAABlendingWeightCalculationVS( vec2 texcoord ) {\",\n    \"\tvPixcoord = texcoord / resolution;\",\n    // We will use these offsets for the searches later on (see @PSEUDO_GATHER4):\n    \"\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 );\",\n    // WebGL port note: Changed sign in Y and W components\n    \"\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 );\",\n    // WebGL port note: Changed sign in Y and W components\n    // And these for the searches, they indicate the ends of the loops:\n    \"\tvOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );\",\n    \"}\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tSMAABlendingWeightCalculationVS( vUv );\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )\",\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform sampler2D tArea;\",\n    \"uniform sampler2D tSearch;\",\n    \"uniform vec2 resolution;\",\n    \"varying vec2 vUv;\",\n    \"varying vec4 vOffset[3];\",\n    \"varying vec2 vPixcoord;\",\n    \"#if __VERSION__ == 100\",\n    \"vec2 round( vec2 x ) {\",\n    \"\treturn sign( x ) * floor( abs( x ) + 0.5 );\",\n    \"}\",\n    \"#endif\",\n    \"float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {\",\n    // Not required if searchTex accesses are set to point:\n    // float2 SEARCH_TEX_PIXEL_SIZE = 1.0 / float2(66.0, 33.0);\n    // e = float2(bias, 0.0) + 0.5 * SEARCH_TEX_PIXEL_SIZE +\n    //     e * float2(scale, 1.0) * float2(64.0, 32.0) * SEARCH_TEX_PIXEL_SIZE;\n    \"\te.r = bias + e.r * scale;\",\n    \"\treturn 255.0 * texture2D( searchTex, e, 0.0 ).r;\",\n    \"}\",\n    \"float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {\",\n    /**\n     * @PSEUDO_GATHER4\n     * This texcoord has been offset by (-0.25, -0.125) in the vertex shader to\n     * sample between edge, thus fetching four edges in a row.\n     * Sampling with different offsets in each direction allows to disambiguate\n     * which edges are active from the four fetched ones.\n     */\n    \"\tvec2 e = vec2( 0.0, 1.0 );\",\n    \"\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {\",\n    // WebGL port note: Changed while to for\n    \"\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;\",\n    \"\t\ttexcoord -= vec2( 2.0, 0.0 ) * resolution;\",\n    \"\t\tif ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;\",\n    \"\t}\",\n    // We correct the previous (-0.25, -0.125) offset we applied:\n    \"\ttexcoord.x += 0.25 * resolution.x;\",\n    // The searches are bias by 1, so adjust the coords accordingly:\n    \"\ttexcoord.x += resolution.x;\",\n    // Disambiguate the length added by the last step:\n    \"\ttexcoord.x += 2.0 * resolution.x;\",\n    // Undo last step\n    \"\ttexcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);\",\n    \"\treturn texcoord.x;\",\n    \"}\",\n    \"float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {\",\n    \"\tvec2 e = vec2( 0.0, 1.0 );\",\n    \"\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {\",\n    // WebGL port note: Changed while to for\n    \"\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;\",\n    \"\t\ttexcoord += vec2( 2.0, 0.0 ) * resolution;\",\n    \"\t\tif ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;\",\n    \"\t}\",\n    \"\ttexcoord.x -= 0.25 * resolution.x;\",\n    \"\ttexcoord.x -= resolution.x;\",\n    \"\ttexcoord.x -= 2.0 * resolution.x;\",\n    \"\ttexcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );\",\n    \"\treturn texcoord.x;\",\n    \"}\",\n    \"float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {\",\n    \"\tvec2 e = vec2( 1.0, 0.0 );\",\n    \"\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {\",\n    // WebGL port note: Changed while to for\n    \"\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;\",\n    \"\t\ttexcoord += vec2( 0.0, 2.0 ) * resolution;\",\n    // WebGL port note: Changed sign\n    \"\t\tif ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;\",\n    \"\t}\",\n    \"\ttexcoord.y -= 0.25 * resolution.y;\",\n    // WebGL port note: Changed sign\n    \"\ttexcoord.y -= resolution.y;\",\n    // WebGL port note: Changed sign\n    \"\ttexcoord.y -= 2.0 * resolution.y;\",\n    // WebGL port note: Changed sign\n    \"\ttexcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 );\",\n    // WebGL port note: Changed sign\n    \"\treturn texcoord.y;\",\n    \"}\",\n    \"float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {\",\n    \"\tvec2 e = vec2( 1.0, 0.0 );\",\n    \"\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {\",\n    // WebGL port note: Changed while to for\n    \"\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;\",\n    \"\t\ttexcoord -= vec2( 0.0, 2.0 ) * resolution;\",\n    // WebGL port note: Changed sign\n    \"\t\tif ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;\",\n    \"\t}\",\n    \"\ttexcoord.y += 0.25 * resolution.y;\",\n    // WebGL port note: Changed sign\n    \"\ttexcoord.y += resolution.y;\",\n    // WebGL port note: Changed sign\n    \"\ttexcoord.y += 2.0 * resolution.y;\",\n    // WebGL port note: Changed sign\n    \"\ttexcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 );\",\n    // WebGL port note: Changed sign\n    \"\treturn texcoord.y;\",\n    \"}\",\n    \"vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {\",\n    // Rounding prevents precision errors of bilinear filtering:\n    \"\tvec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;\",\n    // We do a scale and bias for mapping to texel space:\n    \"\ttexcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );\",\n    // Move to proper place, according to the subpixel offset:\n    \"\ttexcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;\",\n    \"\treturn texture2D( areaTex, texcoord, 0.0 ).rg;\",\n    \"}\",\n    \"vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {\",\n    \"\tvec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );\",\n    \"\tvec2 e = texture2D( edgesTex, texcoord ).rg;\",\n    \"\tif ( e.g > 0.0 ) {\",\n    // Edge at north\n    \"\t\tvec2 d;\",\n    // Find the distance to the left:\n    \"\t\tvec2 coords;\",\n    \"\t\tcoords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );\",\n    \"\t\tcoords.y = offset[ 1 ].y;\",\n    // offset[1].y = texcoord.y - 0.25 * resolution.y (@CROSSING_OFFSET)\n    \"\t\td.x = coords.x;\",\n    // Now fetch the left crossing edges, two at a time using bilinear\n    // filtering. Sampling at -0.25 (see @CROSSING_OFFSET) enables to\n    // discern what value each edge has:\n    \"\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).r;\",\n    // Find the distance to the right:\n    \"\t\tcoords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );\",\n    \"\t\td.y = coords.x;\",\n    // We want the distances to be in pixel units (doing this here allow to\n    // better interleave arithmetic and memory accesses):\n    \"\t\td = d / resolution.x - pixcoord.x;\",\n    // SMAAArea below needs a sqrt, as the areas texture is compressed\n    // quadratically:\n    \"\t\tvec2 sqrt_d = sqrt( abs( d ) );\",\n    // Fetch the right crossing edges:\n    \"\t\tcoords.y -= 1.0 * resolution.y;\",\n    // WebGL port note: Added\n    \"\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;\",\n    // Ok, we know how this pattern looks like, now it is time for getting\n    // the actual area:\n    \"\t\tweights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );\",\n    \"\t}\",\n    \"\tif ( e.r > 0.0 ) {\",\n    // Edge at west\n    \"\t\tvec2 d;\",\n    // Find the distance to the top:\n    \"\t\tvec2 coords;\",\n    \"\t\tcoords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );\",\n    \"\t\tcoords.x = offset[ 0 ].x;\",\n    // offset[1].x = texcoord.x - 0.25 * resolution.x;\n    \"\t\td.x = coords.y;\",\n    // Fetch the top crossing edges:\n    \"\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).g;\",\n    // Find the distance to the bottom:\n    \"\t\tcoords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );\",\n    \"\t\td.y = coords.y;\",\n    // We want the distances to be in pixel units:\n    \"\t\td = d / resolution.y - pixcoord.y;\",\n    // SMAAArea below needs a sqrt, as the areas texture is compressed\n    // quadratically:\n    \"\t\tvec2 sqrt_d = sqrt( abs( d ) );\",\n    // Fetch the bottom crossing edges:\n    \"\t\tcoords.y -= 1.0 * resolution.y;\",\n    // WebGL port note: Added\n    \"\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;\",\n    // Get the area for this direction:\n    \"\t\tweights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );\",\n    \"\t}\",\n    \"\treturn weights;\",\n    \"}\",\n    \"void main() {\",\n    \"\tgl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nconst SMAABlendShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    tColor: { value: null },\n    resolution: { value: /* @__PURE__ */ new Vector2(1 / 1024, 1 / 512) }\n  },\n  vertexShader: [\n    \"uniform vec2 resolution;\",\n    \"varying vec2 vUv;\",\n    \"varying vec4 vOffset[ 2 ];\",\n    \"void SMAANeighborhoodBlendingVS( vec2 texcoord ) {\",\n    \"\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 );\",\n    // WebGL port note: Changed sign in W component\n    \"\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 );\",\n    // WebGL port note: Changed sign in W component\n    \"}\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tSMAANeighborhoodBlendingVS( vUv );\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform sampler2D tColor;\",\n    \"uniform vec2 resolution;\",\n    \"varying vec2 vUv;\",\n    \"varying vec4 vOffset[ 2 ];\",\n    \"vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {\",\n    // Fetch the blending weights for current pixel:\n    \"\tvec4 a;\",\n    \"\ta.xz = texture2D( blendTex, texcoord ).xz;\",\n    \"\ta.y = texture2D( blendTex, offset[ 1 ].zw ).g;\",\n    \"\ta.w = texture2D( blendTex, offset[ 1 ].xy ).a;\",\n    // Is there any blending weight with a value greater than 0.0?\n    \"\tif ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {\",\n    \"\t\treturn texture2D( colorTex, texcoord, 0.0 );\",\n    \"\t} else {\",\n    // Up to 4 lines can be crossing a pixel (one through each edge). We\n    // favor blending by choosing the line with the maximum weight for each\n    // direction:\n    \"\t\tvec2 offset;\",\n    \"\t\toffset.x = a.a > a.b ? a.a : -a.b;\",\n    // left vs. right\n    \"\t\toffset.y = a.g > a.r ? -a.g : a.r;\",\n    // top vs. bottom // WebGL port note: Changed signs\n    // Then we go in the direction that has the maximum weight:\n    \"\t\tif ( abs( offset.x ) > abs( offset.y )) {\",\n    // horizontal vs. vertical\n    \"\t\t\toffset.y = 0.0;\",\n    \"\t\t} else {\",\n    \"\t\t\toffset.x = 0.0;\",\n    \"\t\t}\",\n    // Fetch the opposite color and lerp by hand:\n    \"\t\tvec4 C = texture2D( colorTex, texcoord, 0.0 );\",\n    \"\t\ttexcoord += sign( offset ) * resolution;\",\n    \"\t\tvec4 Cop = texture2D( colorTex, texcoord, 0.0 );\",\n    \"\t\tfloat s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );\",\n    // WebGL port note: Added gamma correction\n    \"\t\tC.xyz = pow(C.xyz, vec3(2.2));\",\n    \"\t\tCop.xyz = pow(Cop.xyz, vec3(2.2));\",\n    \"\t\tvec4 mixed = mix(C, Cop, s);\",\n    \"\t\tmixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));\",\n    \"\t\treturn mixed;\",\n    \"\t}\",\n    \"}\",\n    \"void main() {\",\n    \"\tgl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  SMAABlendShader,\n  SMAAEdgesShader,\n  SMAAWeightsShader\n};\n", "const FilmShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    time: { value: 0 },\n    nIntensity: { value: 0.5 },\n    sIntensity: { value: 0.05 },\n    sCount: { value: 4096 },\n    grayscale: { value: 1 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"#include <common>\",\n    // control parameter\n    \"uniform float time;\",\n    \"uniform bool grayscale;\",\n    // noise effect intensity value (0 = no effect, 1 = full effect)\n    \"uniform float nIntensity;\",\n    // scanlines effect intensity value (0 = no effect, 1 = full effect)\n    \"uniform float sIntensity;\",\n    // scanlines effect count value (0 = no effect, 4096 = full effect)\n    \"uniform float sCount;\",\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    // sample the source\n    \"\tvec4 cTextureScreen = texture2D( tDiffuse, vUv );\",\n    // make some noise\n    \"\tfloat dx = rand( vUv + time );\",\n    // add noise\n    \"\tvec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp( 0.1 + dx, 0.0, 1.0 );\",\n    // get us a sine and cosine\n    \"\tvec2 sc = vec2( sin( vUv.y * sCount ), cos( vUv.y * sCount ) );\",\n    // add scanlines\n    \"\tcResult += cTextureScreen.rgb * vec3( sc.x, sc.y, sc.x ) * sIntensity;\",\n    // interpolate between source and result by intensity\n    \"\tcResult = cTextureScreen.rgb + clamp( nIntensity, 0.0,1.0 ) * ( cResult - cTextureScreen.rgb );\",\n    // convert to grayscale if desired\n    \"\tif( grayscale ) {\",\n    \"\t\tcResult = vec3( cResult.r * 0.3 + cResult.g * 0.59 + cResult.b * 0.11 );\",\n    \"\t}\",\n    \"\tgl_FragColor =  vec4( cResult, cTextureScreen.a );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  FilmShader\n};\n", "const CopyShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    opacity: { value: 1 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float opacity;\",\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 texel = texture2D( tDiffuse, vUv );\",\n    \"\tgl_FragColor = opacity * texel;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  CopyShader\n};\n", "import { Vector2, Matrix4 } from \"three\";\nconst SSAOShader = {\n  defines: {\n    PERSPECTIVE_CAMERA: 1,\n    KERNEL_SIZE: 32\n  },\n  uniforms: {\n    tDiffuse: { value: null },\n    tNormal: { value: null },\n    tDepth: { value: null },\n    tNoise: { value: null },\n    kernel: { value: null },\n    cameraNear: { value: null },\n    cameraFar: { value: null },\n    resolution: { value: /* @__PURE__ */ new Vector2() },\n    cameraProjectionMatrix: { value: /* @__PURE__ */ new Matrix4() },\n    cameraInverseProjectionMatrix: { value: /* @__PURE__ */ new Matrix4() },\n    kernelRadius: { value: 8 },\n    minDistance: { value: 5e-3 },\n    maxDistance: { value: 0.05 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform sampler2D tNormal;\",\n    \"uniform sampler2D tDepth;\",\n    \"uniform sampler2D tNoise;\",\n    \"uniform vec3 kernel[ KERNEL_SIZE ];\",\n    \"uniform vec2 resolution;\",\n    \"uniform float cameraNear;\",\n    \"uniform float cameraFar;\",\n    \"uniform mat4 cameraProjectionMatrix;\",\n    \"uniform mat4 cameraInverseProjectionMatrix;\",\n    \"uniform float kernelRadius;\",\n    \"uniform float minDistance;\",\n    // avoid artifacts caused by neighbour fragments with minimal depth difference\n    \"uniform float maxDistance;\",\n    // avoid the influence of fragments which are too far away\n    \"varying vec2 vUv;\",\n    \"#include <packing>\",\n    \"float getDepth( const in vec2 screenPosition ) {\",\n    \"\treturn texture2D( tDepth, screenPosition ).x;\",\n    \"}\",\n    \"float getLinearDepth( const in vec2 screenPosition ) {\",\n    \"\t#if PERSPECTIVE_CAMERA == 1\",\n    \"\t\tfloat fragCoordZ = texture2D( tDepth, screenPosition ).x;\",\n    \"\t\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );\",\n    \"\t\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );\",\n    \"\t#else\",\n    \"\t\treturn texture2D( tDepth, screenPosition ).x;\",\n    \"\t#endif\",\n    \"}\",\n    \"float getViewZ( const in float depth ) {\",\n    \"\t#if PERSPECTIVE_CAMERA == 1\",\n    \"\t\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );\",\n    \"\t#else\",\n    \"\t\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );\",\n    \"\t#endif\",\n    \"}\",\n    \"vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {\",\n    \"\tfloat clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];\",\n    \"\tvec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );\",\n    \"\tclipPosition *= clipW; // unprojection.\",\n    \"\treturn ( cameraInverseProjectionMatrix * clipPosition ).xyz;\",\n    \"}\",\n    \"vec3 getViewNormal( const in vec2 screenPosition ) {\",\n    \"\treturn unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );\",\n    \"}\",\n    \"void main() {\",\n    \"\tfloat depth = getDepth( vUv );\",\n    \"\tfloat viewZ = getViewZ( depth );\",\n    \"\tvec3 viewPosition = getViewPosition( vUv, depth, viewZ );\",\n    \"\tvec3 viewNormal = getViewNormal( vUv );\",\n    \" vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );\",\n    \"\tvec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;\",\n    // compute matrix used to reorient a kernel vector\n    \"\tvec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );\",\n    \"\tvec3 bitangent = cross( viewNormal, tangent );\",\n    \"\tmat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );\",\n    \" float occlusion = 0.0;\",\n    \" for ( int i = 0; i < KERNEL_SIZE; i ++ ) {\",\n    \"\t\tvec3 sampleVector = kernelMatrix * kernel[ i ];\",\n    // reorient sample vector in view space\n    \"\t\tvec3 samplePoint = viewPosition + ( sampleVector * kernelRadius );\",\n    // calculate sample point\n    \"\t\tvec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 );\",\n    // project point and calculate NDC\n    \"\t\tsamplePointNDC /= samplePointNDC.w;\",\n    \"\t\tvec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5;\",\n    // compute uv coordinates\n    \"\t\tfloat realDepth = getLinearDepth( samplePointUv );\",\n    // get linear depth from depth texture\n    \"\t\tfloat sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar );\",\n    // compute linear depth of the sample view Z value\n    \"\t\tfloat delta = sampleDepth - realDepth;\",\n    \"\t\tif ( delta > minDistance && delta < maxDistance ) {\",\n    // if fragment is before sample point, increase occlusion\n    \"\t\t\tocclusion += 1.0;\",\n    \"\t\t}\",\n    \"\t}\",\n    \"\tocclusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );\",\n    \"\tgl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nconst SSAODepthShader = {\n  defines: {\n    PERSPECTIVE_CAMERA: 1\n  },\n  uniforms: {\n    tDepth: { value: null },\n    cameraNear: { value: null },\n    cameraFar: { value: null }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDepth;\",\n    \"uniform float cameraNear;\",\n    \"uniform float cameraFar;\",\n    \"varying vec2 vUv;\",\n    \"#include <packing>\",\n    \"float getLinearDepth( const in vec2 screenPosition ) {\",\n    \"\t#if PERSPECTIVE_CAMERA == 1\",\n    \"\t\tfloat fragCoordZ = texture2D( tDepth, screenPosition ).x;\",\n    \"\t\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );\",\n    \"\t\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );\",\n    \"\t#else\",\n    \"\t\treturn texture2D( tDepth, screenPosition ).x;\",\n    \"\t#endif\",\n    \"}\",\n    \"void main() {\",\n    \"\tfloat depth = getLinearDepth( vUv );\",\n    \"\tgl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nconst SSAOBlurShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    resolution: { value: /* @__PURE__ */ new Vector2() }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform vec2 resolution;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec2 texelSize = ( 1.0 / resolution );\",\n    \"\tfloat result = 0.0;\",\n    \"\tfor ( int i = - 2; i <= 2; i ++ ) {\",\n    \"\t\tfor ( int j = - 2; j <= 2; j ++ ) {\",\n    \"\t\t\tvec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;\",\n    \"\t\t\tresult += texture2D( tDiffuse, vUv + offset ).r;\",\n    \"\t\t}\",\n    \"\t}\",\n    \"\tgl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  SSAOBlurShader,\n  SSAODepthShader,\n  SSAOShader\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { DepthTexture, DepthStencilFormat, UnsignedInt248Type, WebGLRenderTarget, NearestFilter, ShaderMaterial, UniformsUtils, NoBlending, MeshNormalMaterial, DstColorFactor, ZeroFactor, AddEquation, DstAlphaFactor, Color, LuminanceFormat, CustomBlending, Vector3, MathUtils, DataTexture, RedFormat, FloatType, RepeatWrapping } from \"three\";\nimport { Pass, FullScreenQuad } from \"./Pass.js\";\nimport { SimplexNoise } from \"../math/SimplexNoise.js\";\nimport { SSAOShader, SSAOBlurShader, SSAODepthShader } from \"../shaders/SSAOShader.js\";\nimport { CopyShader } from \"../shaders/CopyShader.js\";\nconst _SSAOPass = class extends Pass {\n  constructor(scene, camera, width, height) {\n    super();\n    this.width = width !== void 0 ? width : 512;\n    this.height = height !== void 0 ? height : 512;\n    this.clear = true;\n    this.camera = camera;\n    this.scene = scene;\n    this.kernelRadius = 8;\n    this.kernelSize = 32;\n    this.kernel = [];\n    this.noiseTexture = null;\n    this.output = 0;\n    this.minDistance = 5e-3;\n    this.maxDistance = 0.1;\n    this._visibilityCache = /* @__PURE__ */ new Map();\n    this.generateSampleKernel();\n    this.generateRandomKernelRotations();\n    const depthTexture = new DepthTexture();\n    depthTexture.format = DepthStencilFormat;\n    depthTexture.type = UnsignedInt248Type;\n    this.beautyRenderTarget = new WebGLRenderTarget(this.width, this.height);\n    this.normalRenderTarget = new WebGLRenderTarget(this.width, this.height, {\n      minFilter: NearestFilter,\n      magFilter: NearestFilter,\n      depthTexture\n    });\n    this.ssaoRenderTarget = new WebGLRenderTarget(this.width, this.height);\n    this.blurRenderTarget = this.ssaoRenderTarget.clone();\n    if (SSAOShader === void 0) {\n      console.error(\"THREE.SSAOPass: The pass relies on SSAOShader.\");\n    }\n    this.ssaoMaterial = new ShaderMaterial({\n      defines: Object.assign({}, SSAOShader.defines),\n      uniforms: UniformsUtils.clone(SSAOShader.uniforms),\n      vertexShader: SSAOShader.vertexShader,\n      fragmentShader: SSAOShader.fragmentShader,\n      blending: NoBlending\n    });\n    this.ssaoMaterial.uniforms[\"tDiffuse\"].value = this.beautyRenderTarget.texture;\n    this.ssaoMaterial.uniforms[\"tNormal\"].value = this.normalRenderTarget.texture;\n    this.ssaoMaterial.uniforms[\"tDepth\"].value = this.normalRenderTarget.depthTexture;\n    this.ssaoMaterial.uniforms[\"tNoise\"].value = this.noiseTexture;\n    this.ssaoMaterial.uniforms[\"kernel\"].value = this.kernel;\n    this.ssaoMaterial.uniforms[\"cameraNear\"].value = this.camera.near;\n    this.ssaoMaterial.uniforms[\"cameraFar\"].value = this.camera.far;\n    this.ssaoMaterial.uniforms[\"resolution\"].value.set(this.width, this.height);\n    this.ssaoMaterial.uniforms[\"cameraProjectionMatrix\"].value.copy(this.camera.projectionMatrix);\n    this.ssaoMaterial.uniforms[\"cameraInverseProjectionMatrix\"].value.copy(this.camera.projectionMatrixInverse);\n    this.normalMaterial = new MeshNormalMaterial();\n    this.normalMaterial.blending = NoBlending;\n    this.blurMaterial = new ShaderMaterial({\n      defines: Object.assign({}, SSAOBlurShader.defines),\n      uniforms: UniformsUtils.clone(SSAOBlurShader.uniforms),\n      vertexShader: SSAOBlurShader.vertexShader,\n      fragmentShader: SSAOBlurShader.fragmentShader\n    });\n    this.blurMaterial.uniforms[\"tDiffuse\"].value = this.ssaoRenderTarget.texture;\n    this.blurMaterial.uniforms[\"resolution\"].value.set(this.width, this.height);\n    this.depthRenderMaterial = new ShaderMaterial({\n      defines: Object.assign({}, SSAODepthShader.defines),\n      uniforms: UniformsUtils.clone(SSAODepthShader.uniforms),\n      vertexShader: SSAODepthShader.vertexShader,\n      fragmentShader: SSAODepthShader.fragmentShader,\n      blending: NoBlending\n    });\n    this.depthRenderMaterial.uniforms[\"tDepth\"].value = this.normalRenderTarget.depthTexture;\n    this.depthRenderMaterial.uniforms[\"cameraNear\"].value = this.camera.near;\n    this.depthRenderMaterial.uniforms[\"cameraFar\"].value = this.camera.far;\n    this.copyMaterial = new ShaderMaterial({\n      uniforms: UniformsUtils.clone(CopyShader.uniforms),\n      vertexShader: CopyShader.vertexShader,\n      fragmentShader: CopyShader.fragmentShader,\n      transparent: true,\n      depthTest: false,\n      depthWrite: false,\n      blendSrc: DstColorFactor,\n      blendDst: ZeroFactor,\n      blendEquation: AddEquation,\n      blendSrcAlpha: DstAlphaFactor,\n      blendDstAlpha: ZeroFactor,\n      blendEquationAlpha: AddEquation\n    });\n    this.fsQuad = new FullScreenQuad(null);\n    this.originalClearColor = new Color();\n  }\n  dispose() {\n    this.beautyRenderTarget.dispose();\n    this.normalRenderTarget.dispose();\n    this.ssaoRenderTarget.dispose();\n    this.blurRenderTarget.dispose();\n    this.normalMaterial.dispose();\n    this.blurMaterial.dispose();\n    this.copyMaterial.dispose();\n    this.depthRenderMaterial.dispose();\n    this.fsQuad.dispose();\n  }\n  render(renderer, writeBuffer) {\n    if (renderer.capabilities.isWebGL2 === false)\n      this.noiseTexture.format = LuminanceFormat;\n    renderer.setRenderTarget(this.beautyRenderTarget);\n    renderer.clear();\n    renderer.render(this.scene, this.camera);\n    this.overrideVisibility();\n    this.renderOverride(renderer, this.normalMaterial, this.normalRenderTarget, 7829503, 1);\n    this.restoreVisibility();\n    this.ssaoMaterial.uniforms[\"kernelRadius\"].value = this.kernelRadius;\n    this.ssaoMaterial.uniforms[\"minDistance\"].value = this.minDistance;\n    this.ssaoMaterial.uniforms[\"maxDistance\"].value = this.maxDistance;\n    this.renderPass(renderer, this.ssaoMaterial, this.ssaoRenderTarget);\n    this.renderPass(renderer, this.blurMaterial, this.blurRenderTarget);\n    switch (this.output) {\n      case _SSAOPass.OUTPUT.SSAO:\n        this.copyMaterial.uniforms[\"tDiffuse\"].value = this.ssaoRenderTarget.texture;\n        this.copyMaterial.blending = NoBlending;\n        this.renderPass(renderer, this.copyMaterial, this.renderToScreen ? null : writeBuffer);\n        break;\n      case _SSAOPass.OUTPUT.Blur:\n        this.copyMaterial.uniforms[\"tDiffuse\"].value = this.blurRenderTarget.texture;\n        this.copyMaterial.blending = NoBlending;\n        this.renderPass(renderer, this.copyMaterial, this.renderToScreen ? null : writeBuffer);\n        break;\n      case _SSAOPass.OUTPUT.Beauty:\n        this.copyMaterial.uniforms[\"tDiffuse\"].value = this.beautyRenderTarget.texture;\n        this.copyMaterial.blending = NoBlending;\n        this.renderPass(renderer, this.copyMaterial, this.renderToScreen ? null : writeBuffer);\n        break;\n      case _SSAOPass.OUTPUT.Depth:\n        this.renderPass(renderer, this.depthRenderMaterial, this.renderToScreen ? null : writeBuffer);\n        break;\n      case _SSAOPass.OUTPUT.Normal:\n        this.copyMaterial.uniforms[\"tDiffuse\"].value = this.normalRenderTarget.texture;\n        this.copyMaterial.blending = NoBlending;\n        this.renderPass(renderer, this.copyMaterial, this.renderToScreen ? null : writeBuffer);\n        break;\n      case _SSAOPass.OUTPUT.Default:\n        this.copyMaterial.uniforms[\"tDiffuse\"].value = this.beautyRenderTarget.texture;\n        this.copyMaterial.blending = NoBlending;\n        this.renderPass(renderer, this.copyMaterial, this.renderToScreen ? null : writeBuffer);\n        this.copyMaterial.uniforms[\"tDiffuse\"].value = this.blurRenderTarget.texture;\n        this.copyMaterial.blending = CustomBlending;\n        this.renderPass(renderer, this.copyMaterial, this.renderToScreen ? null : writeBuffer);\n        break;\n      default:\n        console.warn(\"THREE.SSAOPass: Unknown output type.\");\n    }\n  }\n  renderPass(renderer, passMaterial, renderTarget, clearColor, clearAlpha) {\n    renderer.getClearColor(this.originalClearColor);\n    const originalClearAlpha = renderer.getClearAlpha();\n    const originalAutoClear = renderer.autoClear;\n    renderer.setRenderTarget(renderTarget);\n    renderer.autoClear = false;\n    if (clearColor !== void 0 && clearColor !== null) {\n      renderer.setClearColor(clearColor);\n      renderer.setClearAlpha(clearAlpha || 0);\n      renderer.clear();\n    }\n    this.fsQuad.material = passMaterial;\n    this.fsQuad.render(renderer);\n    renderer.autoClear = originalAutoClear;\n    renderer.setClearColor(this.originalClearColor);\n    renderer.setClearAlpha(originalClearAlpha);\n  }\n  renderOverride(renderer, overrideMaterial, renderTarget, clearColor, clearAlpha) {\n    renderer.getClearColor(this.originalClearColor);\n    const originalClearAlpha = renderer.getClearAlpha();\n    const originalAutoClear = renderer.autoClear;\n    renderer.setRenderTarget(renderTarget);\n    renderer.autoClear = false;\n    clearColor = overrideMaterial.clearColor || clearColor;\n    clearAlpha = overrideMaterial.clearAlpha || clearAlpha;\n    if (clearColor !== void 0 && clearColor !== null) {\n      renderer.setClearColor(clearColor);\n      renderer.setClearAlpha(clearAlpha || 0);\n      renderer.clear();\n    }\n    this.scene.overrideMaterial = overrideMaterial;\n    renderer.render(this.scene, this.camera);\n    this.scene.overrideMaterial = null;\n    renderer.autoClear = originalAutoClear;\n    renderer.setClearColor(this.originalClearColor);\n    renderer.setClearAlpha(originalClearAlpha);\n  }\n  setSize(width, height) {\n    this.width = width;\n    this.height = height;\n    this.beautyRenderTarget.setSize(width, height);\n    this.ssaoRenderTarget.setSize(width, height);\n    this.normalRenderTarget.setSize(width, height);\n    this.blurRenderTarget.setSize(width, height);\n    this.ssaoMaterial.uniforms[\"resolution\"].value.set(width, height);\n    this.ssaoMaterial.uniforms[\"cameraProjectionMatrix\"].value.copy(this.camera.projectionMatrix);\n    this.ssaoMaterial.uniforms[\"cameraInverseProjectionMatrix\"].value.copy(this.camera.projectionMatrixInverse);\n    this.blurMaterial.uniforms[\"resolution\"].value.set(width, height);\n  }\n  generateSampleKernel() {\n    const kernelSize = this.kernelSize;\n    const kernel = this.kernel;\n    for (let i = 0; i < kernelSize; i++) {\n      const sample = new Vector3();\n      sample.x = Math.random() * 2 - 1;\n      sample.y = Math.random() * 2 - 1;\n      sample.z = Math.random();\n      sample.normalize();\n      let scale = i / kernelSize;\n      scale = MathUtils.lerp(0.1, 1, scale * scale);\n      sample.multiplyScalar(scale);\n      kernel.push(sample);\n    }\n  }\n  generateRandomKernelRotations() {\n    const width = 4, height = 4;\n    if (SimplexNoise === void 0) {\n      console.error(\"THREE.SSAOPass: The pass relies on SimplexNoise.\");\n    }\n    const simplex = new SimplexNoise();\n    const size = width * height;\n    const data = new Float32Array(size);\n    for (let i = 0; i < size; i++) {\n      const x = Math.random() * 2 - 1;\n      const y = Math.random() * 2 - 1;\n      const z = 0;\n      data[i] = simplex.noise3d(x, y, z);\n    }\n    this.noiseTexture = new DataTexture(data, width, height, RedFormat, FloatType);\n    this.noiseTexture.wrapS = RepeatWrapping;\n    this.noiseTexture.wrapT = RepeatWrapping;\n    this.noiseTexture.needsUpdate = true;\n  }\n  overrideVisibility() {\n    const scene = this.scene;\n    const cache = this._visibilityCache;\n    scene.traverse(function(object) {\n      cache.set(object, object.visible);\n      if (object.isPoints || object.isLine)\n        object.visible = false;\n    });\n  }\n  restoreVisibility() {\n    const scene = this.scene;\n    const cache = this._visibilityCache;\n    scene.traverse(function(object) {\n      const visible = cache.get(object);\n      object.visible = visible;\n    });\n    cache.clear();\n  }\n};\nlet SSAOPass = _SSAOPass;\n__publicField(SSAOPass, \"OUTPUT\", {\n  Default: 0,\n  SSAO: 1,\n  Blur: 2,\n  Beauty: 3,\n  Depth: 4,\n  Normal: 5\n});\nexport {\n  SSAOPass\n};\n", "const BokehShader = {\n  defines: {\n    DEPTH_PACKING: 1,\n    PERSPECTIVE_CAMERA: 1\n  },\n  uniforms: {\n    tColor: { value: null },\n    tDepth: { value: null },\n    focus: { value: 1 },\n    aspect: { value: 1 },\n    aperture: { value: 0.025 },\n    maxblur: { value: 0.01 },\n    nearClip: { value: 1 },\n    farClip: { value: 1e3 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"#include <common>\",\n    \"varying vec2 vUv;\",\n    \"uniform sampler2D tColor;\",\n    \"uniform sampler2D tDepth;\",\n    \"uniform float maxblur;\",\n    // max blur amount\n    \"uniform float aperture;\",\n    // aperture - bigger values for shallower depth of field\n    \"uniform float nearClip;\",\n    \"uniform float farClip;\",\n    \"uniform float focus;\",\n    \"uniform float aspect;\",\n    \"#include <packing>\",\n    \"float getDepth( const in vec2 screenPosition ) {\",\n    \"\t#if DEPTH_PACKING == 1\",\n    \"\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );\",\n    \"\t#else\",\n    \"\treturn texture2D( tDepth, screenPosition ).x;\",\n    \"\t#endif\",\n    \"}\",\n    \"float getViewZ( const in float depth ) {\",\n    \"\t#if PERSPECTIVE_CAMERA == 1\",\n    \"\treturn perspectiveDepthToViewZ( depth, nearClip, farClip );\",\n    \"\t#else\",\n    \"\treturn orthographicDepthToViewZ( depth, nearClip, farClip );\",\n    \"\t#endif\",\n    \"}\",\n    \"void main() {\",\n    \"\tvec2 aspectcorrect = vec2( 1.0, aspect );\",\n    \"\tfloat viewZ = getViewZ( getDepth( vUv ) );\",\n    \"\tfloat factor = ( focus + viewZ );\",\n    // viewZ is <= 0, so this is a difference equation\n    \"\tvec2 dofblur = vec2 ( clamp( factor * aperture, -maxblur, maxblur ) );\",\n    \"\tvec2 dofblur9 = dofblur * 0.9;\",\n    \"\tvec2 dofblur7 = dofblur * 0.7;\",\n    \"\tvec2 dofblur4 = dofblur * 0.4;\",\n    \"\tvec4 col = vec4( 0.0 );\",\n    \"\tcol += texture2D( tColor, vUv.xy );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur9 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur9 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur9 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur9 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur9 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur9 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur9 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur9 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur7 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur7 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur7 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur7 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur7 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur7 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur7 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur7 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur4 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.4,   0.0  ) * aspectcorrect ) * dofblur4 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur4 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur4 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur4 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur4 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur4 );\",\n    \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur4 );\",\n    \"\tgl_FragColor = col / 41.0;\",\n    \"\tgl_FragColor.a = 1.0;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  BokehShader\n};\n", "const LuminosityShader = {\n  uniforms: {\n    tDiffuse: { value: null }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"#include <common>\",\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 texel = texture2D( tDiffuse, vUv );\",\n    \"\tfloat l = linearToRelativeLuminance( texel.rgb );\",\n    \"\tgl_FragColor = vec4( l, l, l, texel.w );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  LuminosityShader\n};\n", "const ToneMapShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    averageLuminance: { value: 1 },\n    luminanceMap: { value: null },\n    maxLuminance: { value: 16 },\n    minLuminance: { value: 0.01 },\n    middleGrey: { value: 0.6 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"#include <common>\",\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"uniform float middleGrey;\",\n    \"uniform float minLuminance;\",\n    \"uniform float maxLuminance;\",\n    \"#ifdef ADAPTED_LUMINANCE\",\n    \"\tuniform sampler2D luminanceMap;\",\n    \"#else\",\n    \"\tuniform float averageLuminance;\",\n    \"#endif\",\n    \"vec3 ToneMap( vec3 vColor ) {\",\n    \"\t#ifdef ADAPTED_LUMINANCE\",\n    // Get the calculated average luminance\n    \"\t\tfloat fLumAvg = texture2D(luminanceMap, vec2(0.5, 0.5)).r;\",\n    \"\t#else\",\n    \"\t\tfloat fLumAvg = averageLuminance;\",\n    \"\t#endif\",\n    // Calculate the luminance of the current pixel\n    \"\tfloat fLumPixel = linearToRelativeLuminance( vColor );\",\n    // Apply the modified operator (Eq. 4)\n    \"\tfloat fLumScaled = (fLumPixel * middleGrey) / max( minLuminance, fLumAvg );\",\n    \"\tfloat fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (maxLuminance * maxLuminance)))) / (1.0 + fLumScaled);\",\n    \"\treturn fLumCompressed * vColor;\",\n    \"}\",\n    \"void main() {\",\n    \"\tvec4 texel = texture2D( tDiffuse, vUv );\",\n    \"\tgl_FragColor = vec4( ToneMap( texel.xyz ), texel.w );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  ToneMapShader\n};\n", "import { Color } from \"three\";\nconst LuminosityHighPassShader = {\n  shaderID: \"luminosityHighPass\",\n  uniforms: {\n    tDiffuse: { value: null },\n    luminosityThreshold: { value: 1 },\n    smoothWidth: { value: 1 },\n    defaultColor: { value: /* @__PURE__ */ new Color(0) },\n    defaultOpacity: { value: 0 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform vec3 defaultColor;\",\n    \"uniform float defaultOpacity;\",\n    \"uniform float luminosityThreshold;\",\n    \"uniform float smoothWidth;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 texel = texture2D( tDiffuse, vUv );\",\n    \"\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\",\n    \"\tfloat v = dot( texel.xyz, luma );\",\n    \"\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\",\n    \"\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\",\n    \"\tgl_FragColor = mix( outputColor, texel, alpha );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  LuminosityHighPassShader\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Vector2, Color, WebGLRenderTarget, HalfFloatType, UniformsUtils, ShaderMaterial, Vector3, AdditiveBlending, MeshBasicMaterial } from \"three\";\nimport { Pass, FullScreenQuad } from \"./Pass.js\";\nimport { CopyShader } from \"../shaders/CopyShader.js\";\nimport { LuminosityHighPassShader } from \"../shaders/LuminosityHighPassShader.js\";\nconst _UnrealBloomPass = class extends Pass {\n  constructor(resolution, strength, radius, threshold) {\n    super();\n    this.strength = strength !== void 0 ? strength : 1;\n    this.radius = radius;\n    this.threshold = threshold;\n    this.resolution = resolution !== void 0 ? new Vector2(resolution.x, resolution.y) : new Vector2(256, 256);\n    this.clearColor = new Color(0, 0, 0);\n    this.renderTargetsHorizontal = [];\n    this.renderTargetsVertical = [];\n    this.nMips = 5;\n    let resx = Math.round(this.resolution.x / 2);\n    let resy = Math.round(this.resolution.y / 2);\n    this.renderTargetBright = new WebGLRenderTarget(resx, resy, { type: HalfFloatType });\n    this.renderTargetBright.texture.name = \"UnrealBloomPass.bright\";\n    this.renderTargetBright.texture.generateMipmaps = false;\n    for (let i = 0; i < this.nMips; i++) {\n      const renderTargetHorizonal = new WebGLRenderTarget(resx, resy, { type: HalfFloatType });\n      renderTargetHorizonal.texture.name = \"UnrealBloomPass.h\" + i;\n      renderTargetHorizonal.texture.generateMipmaps = false;\n      this.renderTargetsHorizontal.push(renderTargetHorizonal);\n      const renderTargetVertical = new WebGLRenderTarget(resx, resy, { type: HalfFloatType });\n      renderTargetVertical.texture.name = \"UnrealBloomPass.v\" + i;\n      renderTargetVertical.texture.generateMipmaps = false;\n      this.renderTargetsVertical.push(renderTargetVertical);\n      resx = Math.round(resx / 2);\n      resy = Math.round(resy / 2);\n    }\n    const highPassShader = LuminosityHighPassShader;\n    this.highPassUniforms = UniformsUtils.clone(highPassShader.uniforms);\n    this.highPassUniforms[\"luminosityThreshold\"].value = threshold;\n    this.highPassUniforms[\"smoothWidth\"].value = 0.01;\n    this.materialHighPassFilter = new ShaderMaterial({\n      uniforms: this.highPassUniforms,\n      vertexShader: highPassShader.vertexShader,\n      fragmentShader: highPassShader.fragmentShader,\n      defines: {}\n    });\n    this.separableBlurMaterials = [];\n    const kernelSizeArray = [3, 5, 7, 9, 11];\n    resx = Math.round(this.resolution.x / 2);\n    resy = Math.round(this.resolution.y / 2);\n    for (let i = 0; i < this.nMips; i++) {\n      this.separableBlurMaterials.push(this.getSeperableBlurMaterial(kernelSizeArray[i]));\n      this.separableBlurMaterials[i].uniforms[\"texSize\"].value = new Vector2(resx, resy);\n      resx = Math.round(resx / 2);\n      resy = Math.round(resy / 2);\n    }\n    this.compositeMaterial = this.getCompositeMaterial(this.nMips);\n    this.compositeMaterial.uniforms[\"blurTexture1\"].value = this.renderTargetsVertical[0].texture;\n    this.compositeMaterial.uniforms[\"blurTexture2\"].value = this.renderTargetsVertical[1].texture;\n    this.compositeMaterial.uniforms[\"blurTexture3\"].value = this.renderTargetsVertical[2].texture;\n    this.compositeMaterial.uniforms[\"blurTexture4\"].value = this.renderTargetsVertical[3].texture;\n    this.compositeMaterial.uniforms[\"blurTexture5\"].value = this.renderTargetsVertical[4].texture;\n    this.compositeMaterial.uniforms[\"bloomStrength\"].value = strength;\n    this.compositeMaterial.uniforms[\"bloomRadius\"].value = 0.1;\n    this.compositeMaterial.needsUpdate = true;\n    const bloomFactors = [1, 0.8, 0.6, 0.4, 0.2];\n    this.compositeMaterial.uniforms[\"bloomFactors\"].value = bloomFactors;\n    this.bloomTintColors = [\n      new Vector3(1, 1, 1),\n      new Vector3(1, 1, 1),\n      new Vector3(1, 1, 1),\n      new Vector3(1, 1, 1),\n      new Vector3(1, 1, 1)\n    ];\n    this.compositeMaterial.uniforms[\"bloomTintColors\"].value = this.bloomTintColors;\n    const copyShader = CopyShader;\n    this.copyUniforms = UniformsUtils.clone(copyShader.uniforms);\n    this.copyUniforms[\"opacity\"].value = 1;\n    this.materialCopy = new ShaderMaterial({\n      uniforms: this.copyUniforms,\n      vertexShader: copyShader.vertexShader,\n      fragmentShader: copyShader.fragmentShader,\n      blending: AdditiveBlending,\n      depthTest: false,\n      depthWrite: false,\n      transparent: true\n    });\n    this.enabled = true;\n    this.needsSwap = false;\n    this._oldClearColor = new Color();\n    this.oldClearAlpha = 1;\n    this.basic = new MeshBasicMaterial();\n    this.fsQuad = new FullScreenQuad(null);\n  }\n  dispose() {\n    for (let i = 0; i < this.renderTargetsHorizontal.length; i++) {\n      this.renderTargetsHorizontal[i].dispose();\n    }\n    for (let i = 0; i < this.renderTargetsVertical.length; i++) {\n      this.renderTargetsVertical[i].dispose();\n    }\n    this.renderTargetBright.dispose();\n    for (let i = 0; i < this.separableBlurMaterials.length; i++) {\n      this.separableBlurMaterials[i].dispose();\n    }\n    this.compositeMaterial.dispose();\n    this.materialCopy.dispose();\n    this.basic.dispose();\n    this.fsQuad.dispose();\n  }\n  setSize(width, height) {\n    let resx = Math.round(width / 2);\n    let resy = Math.round(height / 2);\n    this.renderTargetBright.setSize(resx, resy);\n    for (let i = 0; i < this.nMips; i++) {\n      this.renderTargetsHorizontal[i].setSize(resx, resy);\n      this.renderTargetsVertical[i].setSize(resx, resy);\n      this.separableBlurMaterials[i].uniforms[\"texSize\"].value = new Vector2(resx, resy);\n      resx = Math.round(resx / 2);\n      resy = Math.round(resy / 2);\n    }\n  }\n  render(renderer, writeBuffer, readBuffer, deltaTime, maskActive) {\n    renderer.getClearColor(this._oldClearColor);\n    this.oldClearAlpha = renderer.getClearAlpha();\n    const oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n    renderer.setClearColor(this.clearColor, 0);\n    if (maskActive)\n      renderer.state.buffers.stencil.setTest(false);\n    if (this.renderToScreen) {\n      this.fsQuad.material = this.basic;\n      this.basic.map = readBuffer.texture;\n      renderer.setRenderTarget(null);\n      renderer.clear();\n      this.fsQuad.render(renderer);\n    }\n    this.highPassUniforms[\"tDiffuse\"].value = readBuffer.texture;\n    this.highPassUniforms[\"luminosityThreshold\"].value = this.threshold;\n    this.fsQuad.material = this.materialHighPassFilter;\n    renderer.setRenderTarget(this.renderTargetBright);\n    renderer.clear();\n    this.fsQuad.render(renderer);\n    let inputRenderTarget = this.renderTargetBright;\n    for (let i = 0; i < this.nMips; i++) {\n      this.fsQuad.material = this.separableBlurMaterials[i];\n      this.separableBlurMaterials[i].uniforms[\"colorTexture\"].value = inputRenderTarget.texture;\n      this.separableBlurMaterials[i].uniforms[\"direction\"].value = _UnrealBloomPass.BlurDirectionX;\n      renderer.setRenderTarget(this.renderTargetsHorizontal[i]);\n      renderer.clear();\n      this.fsQuad.render(renderer);\n      this.separableBlurMaterials[i].uniforms[\"colorTexture\"].value = this.renderTargetsHorizontal[i].texture;\n      this.separableBlurMaterials[i].uniforms[\"direction\"].value = _UnrealBloomPass.BlurDirectionY;\n      renderer.setRenderTarget(this.renderTargetsVertical[i]);\n      renderer.clear();\n      this.fsQuad.render(renderer);\n      inputRenderTarget = this.renderTargetsVertical[i];\n    }\n    this.fsQuad.material = this.compositeMaterial;\n    this.compositeMaterial.uniforms[\"bloomStrength\"].value = this.strength;\n    this.compositeMaterial.uniforms[\"bloomRadius\"].value = this.radius;\n    this.compositeMaterial.uniforms[\"bloomTintColors\"].value = this.bloomTintColors;\n    renderer.setRenderTarget(this.renderTargetsHorizontal[0]);\n    renderer.clear();\n    this.fsQuad.render(renderer);\n    this.fsQuad.material = this.materialCopy;\n    this.copyUniforms[\"tDiffuse\"].value = this.renderTargetsHorizontal[0].texture;\n    if (maskActive)\n      renderer.state.buffers.stencil.setTest(true);\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      this.fsQuad.render(renderer);\n    } else {\n      renderer.setRenderTarget(readBuffer);\n      this.fsQuad.render(renderer);\n    }\n    renderer.setClearColor(this._oldClearColor, this.oldClearAlpha);\n    renderer.autoClear = oldAutoClear;\n  }\n  getSeperableBlurMaterial(kernelRadius) {\n    return new ShaderMaterial({\n      defines: {\n        KERNEL_RADIUS: kernelRadius,\n        SIGMA: kernelRadius\n      },\n      uniforms: {\n        colorTexture: { value: null },\n        texSize: { value: new Vector2(0.5, 0.5) },\n        direction: { value: new Vector2(0.5, 0.5) }\n      },\n      vertexShader: `varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}`,\n      fragmentShader: `#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat fSigma = float(SIGMA);\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = float(i);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\n\t\t\t\t\t\tweightSum += 2.0 * w;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}`\n    });\n  }\n  getCompositeMaterial(nMips) {\n    return new ShaderMaterial({\n      defines: {\n        NUM_MIPS: nMips\n      },\n      uniforms: {\n        blurTexture1: { value: null },\n        blurTexture2: { value: null },\n        blurTexture3: { value: null },\n        blurTexture4: { value: null },\n        blurTexture5: { value: null },\n        bloomStrength: { value: 1 },\n        bloomFactors: { value: null },\n        bloomTintColors: { value: null },\n        bloomRadius: { value: 0 }\n      },\n      vertexShader: `varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}`,\n      fragmentShader: `varying vec2 vUv;\n\t\t\t\tuniform sampler2D blurTexture1;\n\t\t\t\tuniform sampler2D blurTexture2;\n\t\t\t\tuniform sampler2D blurTexture3;\n\t\t\t\tuniform sampler2D blurTexture4;\n\t\t\t\tuniform sampler2D blurTexture5;\n\t\t\t\tuniform float bloomStrength;\n\t\t\t\tuniform float bloomRadius;\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\n\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\t\t\t\t}`\n    });\n  }\n};\nlet UnrealBloomPass = _UnrealBloomPass;\n__publicField(UnrealBloomPass, \"BlurDirectionX\", /* @__PURE__ */ new Vector2(1, 0));\n__publicField(UnrealBloomPass, \"BlurDirectionY\", /* @__PURE__ */ new Vector2(0, 1));\nexport {\n  UnrealBloomPass\n};\n", "import { Vector2, Matrix4 } from \"three\";\nconst SAOShader = {\n  defines: {\n    NUM_SAMPLES: 7,\n    NUM_RINGS: 4,\n    NORMAL_TEXTURE: 0,\n    DIFFUSE_TEXTURE: 0,\n    DEPTH_PACKING: 1,\n    PERSPECTIVE_CAMERA: 1\n  },\n  uniforms: {\n    tDepth: { value: null },\n    tDiffuse: { value: null },\n    tNormal: { value: null },\n    size: { value: /* @__PURE__ */ new Vector2(512, 512) },\n    cameraNear: { value: 1 },\n    cameraFar: { value: 100 },\n    cameraProjectionMatrix: { value: /* @__PURE__ */ new Matrix4() },\n    cameraInverseProjectionMatrix: { value: /* @__PURE__ */ new Matrix4() },\n    scale: { value: 1 },\n    intensity: { value: 0.1 },\n    bias: { value: 0.5 },\n    minResolution: { value: 0 },\n    kernelRadius: { value: 100 },\n    randomSeed: { value: 0 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"#include <common>\",\n    \"varying vec2 vUv;\",\n    \"#if DIFFUSE_TEXTURE == 1\",\n    \"uniform sampler2D tDiffuse;\",\n    \"#endif\",\n    \"uniform sampler2D tDepth;\",\n    \"#if NORMAL_TEXTURE == 1\",\n    \"uniform sampler2D tNormal;\",\n    \"#endif\",\n    \"uniform float cameraNear;\",\n    \"uniform float cameraFar;\",\n    \"uniform mat4 cameraProjectionMatrix;\",\n    \"uniform mat4 cameraInverseProjectionMatrix;\",\n    \"uniform float scale;\",\n    \"uniform float intensity;\",\n    \"uniform float bias;\",\n    \"uniform float kernelRadius;\",\n    \"uniform float minResolution;\",\n    \"uniform vec2 size;\",\n    \"uniform float randomSeed;\",\n    \"// RGBA depth\",\n    \"#include <packing>\",\n    \"vec4 getDefaultColor( const in vec2 screenPosition ) {\",\n    \"\t#if DIFFUSE_TEXTURE == 1\",\n    \"\treturn texture2D( tDiffuse, vUv );\",\n    \"\t#else\",\n    \"\treturn vec4( 1.0 );\",\n    \"\t#endif\",\n    \"}\",\n    \"float getDepth( const in vec2 screenPosition ) {\",\n    \"\t#if DEPTH_PACKING == 1\",\n    \"\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );\",\n    \"\t#else\",\n    \"\treturn texture2D( tDepth, screenPosition ).x;\",\n    \"\t#endif\",\n    \"}\",\n    \"float getViewZ( const in float depth ) {\",\n    \"\t#if PERSPECTIVE_CAMERA == 1\",\n    \"\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );\",\n    \"\t#else\",\n    \"\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );\",\n    \"\t#endif\",\n    \"}\",\n    \"vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {\",\n    \"\tfloat clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];\",\n    \"\tvec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );\",\n    \"\tclipPosition *= clipW; // unprojection.\",\n    \"\treturn ( cameraInverseProjectionMatrix * clipPosition ).xyz;\",\n    \"}\",\n    \"vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {\",\n    \"\t#if NORMAL_TEXTURE == 1\",\n    \"\treturn unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );\",\n    \"\t#else\",\n    \"\treturn normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );\",\n    \"\t#endif\",\n    \"}\",\n    \"float scaleDividedByCameraFar;\",\n    \"float minResolutionMultipliedByCameraFar;\",\n    \"float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {\",\n    \"\tvec3 viewDelta = sampleViewPosition - centerViewPosition;\",\n    \"\tfloat viewDistance = length( viewDelta );\",\n    \"\tfloat scaledScreenDistance = scaleDividedByCameraFar * viewDistance;\",\n    \"\treturn max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );\",\n    \"}\",\n    \"// moving costly divides into consts\",\n    \"const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );\",\n    \"const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );\",\n    \"float getAmbientOcclusion( const in vec3 centerViewPosition ) {\",\n    \"\t// precompute some variables require in getOcclusion.\",\n    \"\tscaleDividedByCameraFar = scale / cameraFar;\",\n    \"\tminResolutionMultipliedByCameraFar = minResolution * cameraFar;\",\n    \"\tvec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );\",\n    \"\t// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/\",\n    \"\tfloat angle = rand( vUv + randomSeed ) * PI2;\",\n    \"\tvec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;\",\n    \"\tvec2 radiusStep = radius;\",\n    \"\tfloat occlusionSum = 0.0;\",\n    \"\tfloat weightSum = 0.0;\",\n    \"\tfor( int i = 0; i < NUM_SAMPLES; i ++ ) {\",\n    \"\t\tvec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;\",\n    \"\t\tradius += radiusStep;\",\n    \"\t\tangle += ANGLE_STEP;\",\n    \"\t\tfloat sampleDepth = getDepth( sampleUv );\",\n    \"\t\tif( sampleDepth >= ( 1.0 - EPSILON ) ) {\",\n    \"\t\t\tcontinue;\",\n    \"\t\t}\",\n    \"\t\tfloat sampleViewZ = getViewZ( sampleDepth );\",\n    \"\t\tvec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );\",\n    \"\t\tocclusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );\",\n    \"\t\tweightSum += 1.0;\",\n    \"\t}\",\n    \"\tif( weightSum == 0.0 ) discard;\",\n    \"\treturn occlusionSum * ( intensity / weightSum );\",\n    \"}\",\n    \"void main() {\",\n    \"\tfloat centerDepth = getDepth( vUv );\",\n    \"\tif( centerDepth >= ( 1.0 - EPSILON ) ) {\",\n    \"\t\tdiscard;\",\n    \"\t}\",\n    \"\tfloat centerViewZ = getViewZ( centerDepth );\",\n    \"\tvec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );\",\n    \"\tfloat ambientOcclusion = getAmbientOcclusion( viewPosition );\",\n    \"\tgl_FragColor = getDefaultColor( vUv );\",\n    \"\tgl_FragColor.xyz *=  1.0 - ambientOcclusion;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  SAOShader\n};\n", "import { Vector2 } from \"three\";\nconst DepthLimitedBlurShader = {\n  defines: {\n    KERNEL_RADIUS: 4,\n    DEPTH_PACKING: 1,\n    PERSPECTIVE_CAMERA: 1\n  },\n  uniforms: {\n    tDiffuse: { value: null },\n    size: { value: /* @__PURE__ */ new Vector2(512, 512) },\n    sampleUvOffsets: { value: [/* @__PURE__ */ new Vector2(0, 0)] },\n    sampleWeights: { value: [1] },\n    tDepth: { value: null },\n    cameraNear: { value: 10 },\n    cameraFar: { value: 1e3 },\n    depthCutoff: { value: 10 }\n  },\n  vertexShader: [\n    \"#include <common>\",\n    \"uniform vec2 size;\",\n    \"varying vec2 vUv;\",\n    \"varying vec2 vInvSize;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tvInvSize = 1.0 / size;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"#include <common>\",\n    \"#include <packing>\",\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform sampler2D tDepth;\",\n    \"uniform float cameraNear;\",\n    \"uniform float cameraFar;\",\n    \"uniform float depthCutoff;\",\n    \"uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];\",\n    \"uniform float sampleWeights[ KERNEL_RADIUS + 1 ];\",\n    \"varying vec2 vUv;\",\n    \"varying vec2 vInvSize;\",\n    \"float getDepth( const in vec2 screenPosition ) {\",\n    \"\t#if DEPTH_PACKING == 1\",\n    \"\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );\",\n    \"\t#else\",\n    \"\treturn texture2D( tDepth, screenPosition ).x;\",\n    \"\t#endif\",\n    \"}\",\n    \"float getViewZ( const in float depth ) {\",\n    \"\t#if PERSPECTIVE_CAMERA == 1\",\n    \"\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );\",\n    \"\t#else\",\n    \"\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );\",\n    \"\t#endif\",\n    \"}\",\n    \"void main() {\",\n    \"\tfloat depth = getDepth( vUv );\",\n    \"\tif( depth >= ( 1.0 - EPSILON ) ) {\",\n    \"\t\tdiscard;\",\n    \"\t}\",\n    \"\tfloat centerViewZ = -getViewZ( depth );\",\n    \"\tbool rBreak = false, lBreak = false;\",\n    \"\tfloat weightSum = sampleWeights[0];\",\n    \"\tvec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;\",\n    \"\tfor( int i = 1; i <= KERNEL_RADIUS; i ++ ) {\",\n    \"\t\tfloat sampleWeight = sampleWeights[i];\",\n    \"\t\tvec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;\",\n    \"\t\tvec2 sampleUv = vUv + sampleUvOffset;\",\n    \"\t\tfloat viewZ = -getViewZ( getDepth( sampleUv ) );\",\n    \"\t\tif( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;\",\n    \"\t\tif( ! rBreak ) {\",\n    \"\t\t\tdiffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;\",\n    \"\t\t\tweightSum += sampleWeight;\",\n    \"\t\t}\",\n    \"\t\tsampleUv = vUv - sampleUvOffset;\",\n    \"\t\tviewZ = -getViewZ( getDepth( sampleUv ) );\",\n    \"\t\tif( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;\",\n    \"\t\tif( ! lBreak ) {\",\n    \"\t\t\tdiffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;\",\n    \"\t\t\tweightSum += sampleWeight;\",\n    \"\t\t}\",\n    \"\t}\",\n    \"\tgl_FragColor = diffuseSum / weightSum;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nconst BlurShaderUtils = {\n  createSampleWeights: (kernelRadius, stdDev) => {\n    const gaussian = (x, stdDev2) => {\n      return Math.exp(-(x * x) / (2 * (stdDev2 * stdDev2))) / (Math.sqrt(2 * Math.PI) * stdDev2);\n    };\n    const weights = [];\n    for (let i = 0; i <= kernelRadius; i++) {\n      weights.push(gaussian(i, stdDev));\n    }\n    return weights;\n  },\n  createSampleOffsets: (kernelRadius, uvIncrement) => {\n    const offsets = [];\n    for (let i = 0; i <= kernelRadius; i++) {\n      offsets.push(uvIncrement.clone().multiplyScalar(i));\n    }\n    return offsets;\n  },\n  configure: (shader, kernelRadius, stdDev, uvIncrement) => {\n    shader.defines[\"KERNEL_RADIUS\"] = kernelRadius;\n    shader.uniforms[\"sampleUvOffsets\"].value = BlurShaderUtils.createSampleOffsets(kernelRadius, uvIncrement);\n    shader.uniforms[\"sampleWeights\"].value = BlurShaderUtils.createSampleWeights(kernelRadius, stdDev);\n    shader.needsUpdate = true;\n  }\n};\nexport {\n  BlurShaderUtils,\n  DepthLimitedBlurShader\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Color, Vector2, WebGLRenderTarget, HalfFloatType, NearestFilter, DepthTexture, UnsignedShortType, MeshDepthMaterial, RGBADepthPacking, NoBlending, MeshNormalMaterial, ShaderMaterial, UniformsUtils, CustomBlending, DstColorFactor, ZeroFactor, AddEquation, DstAlphaFactor } from \"three\";\nimport { Pass, FullScreenQuad } from \"./Pass.js\";\nimport { SAOShader } from \"../shaders/SAOShader.js\";\nimport { DepthLimitedBlurShader, BlurShaderUtils } from \"../shaders/DepthLimitedBlurShader.js\";\nimport { CopyShader } from \"../shaders/CopyShader.js\";\nimport { UnpackDepthRGBAShader } from \"../shaders/UnpackDepthRGBAShader.js\";\nclass SAOPass extends Pass {\n  constructor(scene, camera, useDepthTexture = false, useNormals = false, resolution = new Vector2(256, 256)) {\n    super();\n    this.scene = scene;\n    this.camera = camera;\n    this.clear = true;\n    this.needsSwap = false;\n    this.supportsDepthTextureExtension = useDepthTexture;\n    this.supportsNormalTexture = useNormals;\n    this.originalClearColor = new Color();\n    this._oldClearColor = new Color();\n    this.oldClearAlpha = 1;\n    this.params = {\n      output: 0,\n      saoBias: 0.5,\n      saoIntensity: 0.18,\n      saoScale: 1,\n      saoKernelRadius: 100,\n      saoMinResolution: 0,\n      saoBlur: true,\n      saoBlurRadius: 8,\n      saoBlurStdDev: 4,\n      saoBlurDepthCutoff: 0.01\n    };\n    this.resolution = new Vector2(resolution.x, resolution.y);\n    this.saoRenderTarget = new WebGLRenderTarget(this.resolution.x, this.resolution.y, { type: HalfFloatType });\n    this.blurIntermediateRenderTarget = this.saoRenderTarget.clone();\n    this.beautyRenderTarget = this.saoRenderTarget.clone();\n    this.normalRenderTarget = new WebGLRenderTarget(this.resolution.x, this.resolution.y, {\n      minFilter: NearestFilter,\n      magFilter: NearestFilter,\n      type: HalfFloatType\n    });\n    this.depthRenderTarget = this.normalRenderTarget.clone();\n    let depthTexture;\n    if (this.supportsDepthTextureExtension) {\n      depthTexture = new DepthTexture();\n      depthTexture.type = UnsignedShortType;\n      this.beautyRenderTarget.depthTexture = depthTexture;\n      this.beautyRenderTarget.depthBuffer = true;\n    }\n    this.depthMaterial = new MeshDepthMaterial();\n    this.depthMaterial.depthPacking = RGBADepthPacking;\n    this.depthMaterial.blending = NoBlending;\n    this.normalMaterial = new MeshNormalMaterial();\n    this.normalMaterial.blending = NoBlending;\n    this.saoMaterial = new ShaderMaterial({\n      defines: Object.assign({}, SAOShader.defines),\n      fragmentShader: SAOShader.fragmentShader,\n      vertexShader: SAOShader.vertexShader,\n      uniforms: UniformsUtils.clone(SAOShader.uniforms)\n    });\n    this.saoMaterial.extensions.derivatives = true;\n    this.saoMaterial.defines[\"DEPTH_PACKING\"] = this.supportsDepthTextureExtension ? 0 : 1;\n    this.saoMaterial.defines[\"NORMAL_TEXTURE\"] = this.supportsNormalTexture ? 1 : 0;\n    this.saoMaterial.defines[\"PERSPECTIVE_CAMERA\"] = this.camera.isPerspectiveCamera ? 1 : 0;\n    this.saoMaterial.uniforms[\"tDepth\"].value = this.supportsDepthTextureExtension ? depthTexture : this.depthRenderTarget.texture;\n    this.saoMaterial.uniforms[\"tNormal\"].value = this.normalRenderTarget.texture;\n    this.saoMaterial.uniforms[\"size\"].value.set(this.resolution.x, this.resolution.y);\n    this.saoMaterial.uniforms[\"cameraInverseProjectionMatrix\"].value.copy(this.camera.projectionMatrixInverse);\n    this.saoMaterial.uniforms[\"cameraProjectionMatrix\"].value = this.camera.projectionMatrix;\n    this.saoMaterial.blending = NoBlending;\n    this.vBlurMaterial = new ShaderMaterial({\n      uniforms: UniformsUtils.clone(DepthLimitedBlurShader.uniforms),\n      defines: Object.assign({}, DepthLimitedBlurShader.defines),\n      vertexShader: DepthLimitedBlurShader.vertexShader,\n      fragmentShader: DepthLimitedBlurShader.fragmentShader\n    });\n    this.vBlurMaterial.defines[\"DEPTH_PACKING\"] = this.supportsDepthTextureExtension ? 0 : 1;\n    this.vBlurMaterial.defines[\"PERSPECTIVE_CAMERA\"] = this.camera.isPerspectiveCamera ? 1 : 0;\n    this.vBlurMaterial.uniforms[\"tDiffuse\"].value = this.saoRenderTarget.texture;\n    this.vBlurMaterial.uniforms[\"tDepth\"].value = this.supportsDepthTextureExtension ? depthTexture : this.depthRenderTarget.texture;\n    this.vBlurMaterial.uniforms[\"size\"].value.set(this.resolution.x, this.resolution.y);\n    this.vBlurMaterial.blending = NoBlending;\n    this.hBlurMaterial = new ShaderMaterial({\n      uniforms: UniformsUtils.clone(DepthLimitedBlurShader.uniforms),\n      defines: Object.assign({}, DepthLimitedBlurShader.defines),\n      vertexShader: DepthLimitedBlurShader.vertexShader,\n      fragmentShader: DepthLimitedBlurShader.fragmentShader\n    });\n    this.hBlurMaterial.defines[\"DEPTH_PACKING\"] = this.supportsDepthTextureExtension ? 0 : 1;\n    this.hBlurMaterial.defines[\"PERSPECTIVE_CAMERA\"] = this.camera.isPerspectiveCamera ? 1 : 0;\n    this.hBlurMaterial.uniforms[\"tDiffuse\"].value = this.blurIntermediateRenderTarget.texture;\n    this.hBlurMaterial.uniforms[\"tDepth\"].value = this.supportsDepthTextureExtension ? depthTexture : this.depthRenderTarget.texture;\n    this.hBlurMaterial.uniforms[\"size\"].value.set(this.resolution.x, this.resolution.y);\n    this.hBlurMaterial.blending = NoBlending;\n    this.materialCopy = new ShaderMaterial({\n      uniforms: UniformsUtils.clone(CopyShader.uniforms),\n      vertexShader: CopyShader.vertexShader,\n      fragmentShader: CopyShader.fragmentShader,\n      blending: NoBlending\n    });\n    this.materialCopy.transparent = true;\n    this.materialCopy.depthTest = false;\n    this.materialCopy.depthWrite = false;\n    this.materialCopy.blending = CustomBlending;\n    this.materialCopy.blendSrc = DstColorFactor;\n    this.materialCopy.blendDst = ZeroFactor;\n    this.materialCopy.blendEquation = AddEquation;\n    this.materialCopy.blendSrcAlpha = DstAlphaFactor;\n    this.materialCopy.blendDstAlpha = ZeroFactor;\n    this.materialCopy.blendEquationAlpha = AddEquation;\n    this.depthCopy = new ShaderMaterial({\n      uniforms: UniformsUtils.clone(UnpackDepthRGBAShader.uniforms),\n      vertexShader: UnpackDepthRGBAShader.vertexShader,\n      fragmentShader: UnpackDepthRGBAShader.fragmentShader,\n      blending: NoBlending\n    });\n    this.fsQuad = new FullScreenQuad(null);\n  }\n  render(renderer, writeBuffer, readBuffer) {\n    if (this.renderToScreen) {\n      this.materialCopy.blending = NoBlending;\n      this.materialCopy.uniforms[\"tDiffuse\"].value = readBuffer.texture;\n      this.materialCopy.needsUpdate = true;\n      this.renderPass(renderer, this.materialCopy, null);\n    }\n    if (this.params.output === 1) {\n      return;\n    }\n    renderer.getClearColor(this._oldClearColor);\n    this.oldClearAlpha = renderer.getClearAlpha();\n    const oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n    renderer.setRenderTarget(this.depthRenderTarget);\n    renderer.clear();\n    this.saoMaterial.uniforms[\"bias\"].value = this.params.saoBias;\n    this.saoMaterial.uniforms[\"intensity\"].value = this.params.saoIntensity;\n    this.saoMaterial.uniforms[\"scale\"].value = this.params.saoScale;\n    this.saoMaterial.uniforms[\"kernelRadius\"].value = this.params.saoKernelRadius;\n    this.saoMaterial.uniforms[\"minResolution\"].value = this.params.saoMinResolution;\n    this.saoMaterial.uniforms[\"cameraNear\"].value = this.camera.near;\n    this.saoMaterial.uniforms[\"cameraFar\"].value = this.camera.far;\n    const depthCutoff = this.params.saoBlurDepthCutoff * (this.camera.far - this.camera.near);\n    this.vBlurMaterial.uniforms[\"depthCutoff\"].value = depthCutoff;\n    this.hBlurMaterial.uniforms[\"depthCutoff\"].value = depthCutoff;\n    this.vBlurMaterial.uniforms[\"cameraNear\"].value = this.camera.near;\n    this.vBlurMaterial.uniforms[\"cameraFar\"].value = this.camera.far;\n    this.hBlurMaterial.uniforms[\"cameraNear\"].value = this.camera.near;\n    this.hBlurMaterial.uniforms[\"cameraFar\"].value = this.camera.far;\n    this.params.saoBlurRadius = Math.floor(this.params.saoBlurRadius);\n    if (this.prevStdDev !== this.params.saoBlurStdDev || this.prevNumSamples !== this.params.saoBlurRadius) {\n      BlurShaderUtils.configure(\n        this.vBlurMaterial,\n        this.params.saoBlurRadius,\n        this.params.saoBlurStdDev,\n        new Vector2(0, 1)\n      );\n      BlurShaderUtils.configure(\n        this.hBlurMaterial,\n        this.params.saoBlurRadius,\n        this.params.saoBlurStdDev,\n        new Vector2(1, 0)\n      );\n      this.prevStdDev = this.params.saoBlurStdDev;\n      this.prevNumSamples = this.params.saoBlurRadius;\n    }\n    renderer.setClearColor(0);\n    renderer.setRenderTarget(this.beautyRenderTarget);\n    renderer.clear();\n    renderer.render(this.scene, this.camera);\n    if (!this.supportsDepthTextureExtension) {\n      this.renderOverride(renderer, this.depthMaterial, this.depthRenderTarget, 0, 1);\n    }\n    if (this.supportsNormalTexture) {\n      this.renderOverride(renderer, this.normalMaterial, this.normalRenderTarget, 7829503, 1);\n    }\n    this.renderPass(renderer, this.saoMaterial, this.saoRenderTarget, 16777215, 1);\n    if (this.params.saoBlur) {\n      this.renderPass(renderer, this.vBlurMaterial, this.blurIntermediateRenderTarget, 16777215, 1);\n      this.renderPass(renderer, this.hBlurMaterial, this.saoRenderTarget, 16777215, 1);\n    }\n    let outputMaterial = this.materialCopy;\n    if (this.params.output === 3) {\n      if (this.supportsDepthTextureExtension) {\n        this.materialCopy.uniforms[\"tDiffuse\"].value = this.beautyRenderTarget.depthTexture;\n        this.materialCopy.needsUpdate = true;\n      } else {\n        this.depthCopy.uniforms[\"tDiffuse\"].value = this.depthRenderTarget.texture;\n        this.depthCopy.needsUpdate = true;\n        outputMaterial = this.depthCopy;\n      }\n    } else if (this.params.output === 4) {\n      this.materialCopy.uniforms[\"tDiffuse\"].value = this.normalRenderTarget.texture;\n      this.materialCopy.needsUpdate = true;\n    } else {\n      this.materialCopy.uniforms[\"tDiffuse\"].value = this.saoRenderTarget.texture;\n      this.materialCopy.needsUpdate = true;\n    }\n    if (this.params.output === 0) {\n      outputMaterial.blending = CustomBlending;\n    } else {\n      outputMaterial.blending = NoBlending;\n    }\n    this.renderPass(renderer, outputMaterial, this.renderToScreen ? null : readBuffer);\n    renderer.setClearColor(this._oldClearColor, this.oldClearAlpha);\n    renderer.autoClear = oldAutoClear;\n  }\n  renderPass(renderer, passMaterial, renderTarget, clearColor, clearAlpha) {\n    renderer.getClearColor(this.originalClearColor);\n    const originalClearAlpha = renderer.getClearAlpha();\n    const originalAutoClear = renderer.autoClear;\n    renderer.setRenderTarget(renderTarget);\n    renderer.autoClear = false;\n    if (clearColor !== void 0 && clearColor !== null) {\n      renderer.setClearColor(clearColor);\n      renderer.setClearAlpha(clearAlpha || 0);\n      renderer.clear();\n    }\n    this.fsQuad.material = passMaterial;\n    this.fsQuad.render(renderer);\n    renderer.autoClear = originalAutoClear;\n    renderer.setClearColor(this.originalClearColor);\n    renderer.setClearAlpha(originalClearAlpha);\n  }\n  renderOverride(renderer, overrideMaterial, renderTarget, clearColor, clearAlpha) {\n    renderer.getClearColor(this.originalClearColor);\n    const originalClearAlpha = renderer.getClearAlpha();\n    const originalAutoClear = renderer.autoClear;\n    renderer.setRenderTarget(renderTarget);\n    renderer.autoClear = false;\n    clearColor = overrideMaterial.clearColor || clearColor;\n    clearAlpha = overrideMaterial.clearAlpha || clearAlpha;\n    if (clearColor !== void 0 && clearColor !== null) {\n      renderer.setClearColor(clearColor);\n      renderer.setClearAlpha(clearAlpha || 0);\n      renderer.clear();\n    }\n    this.scene.overrideMaterial = overrideMaterial;\n    renderer.render(this.scene, this.camera);\n    this.scene.overrideMaterial = null;\n    renderer.autoClear = originalAutoClear;\n    renderer.setClearColor(this.originalClearColor);\n    renderer.setClearAlpha(originalClearAlpha);\n  }\n  setSize(width, height) {\n    this.beautyRenderTarget.setSize(width, height);\n    this.saoRenderTarget.setSize(width, height);\n    this.blurIntermediateRenderTarget.setSize(width, height);\n    this.normalRenderTarget.setSize(width, height);\n    this.depthRenderTarget.setSize(width, height);\n    this.saoMaterial.uniforms[\"size\"].value.set(width, height);\n    this.saoMaterial.uniforms[\"cameraInverseProjectionMatrix\"].value.copy(this.camera.projectionMatrixInverse);\n    this.saoMaterial.uniforms[\"cameraProjectionMatrix\"].value = this.camera.projectionMatrix;\n    this.saoMaterial.needsUpdate = true;\n    this.vBlurMaterial.uniforms[\"size\"].value.set(width, height);\n    this.vBlurMaterial.needsUpdate = true;\n    this.hBlurMaterial.uniforms[\"size\"].value.set(width, height);\n    this.hBlurMaterial.needsUpdate = true;\n  }\n  dispose() {\n    this.saoRenderTarget.dispose();\n    this.blurIntermediateRenderTarget.dispose();\n    this.beautyRenderTarget.dispose();\n    this.normalRenderTarget.dispose();\n    this.depthRenderTarget.dispose();\n    this.depthMaterial.dispose();\n    this.normalMaterial.dispose();\n    this.saoMaterial.dispose();\n    this.vBlurMaterial.dispose();\n    this.hBlurMaterial.dispose();\n    this.materialCopy.dispose();\n    this.depthCopy.dispose();\n    this.fsQuad.dispose();\n  }\n}\n__publicField(SAOPass, \"OUTPUT\", {\n  Beauty: 1,\n  Default: 0,\n  SAO: 2,\n  Depth: 3,\n  Normal: 4\n});\nexport {\n  SAOPass\n};\n", "const AfterimageShader = {\n  uniforms: {\n    damp: { value: 0.96 },\n    tOld: { value: null },\n    tNew: { value: null }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float damp;\",\n    \"uniform sampler2D tOld;\",\n    \"uniform sampler2D tNew;\",\n    \"varying vec2 vUv;\",\n    \"vec4 when_gt( vec4 x, float y ) {\",\n    \"\treturn max( sign( x - y ), 0.0 );\",\n    \"}\",\n    \"void main() {\",\n    \"\tvec4 texelOld = texture2D( tOld, vUv );\",\n    \"\tvec4 texelNew = texture2D( tNew, vUv );\",\n    \"\ttexelOld *= damp * when_gt( texelOld, 0.1 );\",\n    \"\tgl_FragColor = max(texelNew, texelOld);\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  AfterimageShader\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Pass } from \"./Pass.js\";\nclass MaskPass extends Pass {\n  constructor(scene, camera) {\n    super();\n    __publicField(this, \"scene\");\n    __publicField(this, \"camera\");\n    __publicField(this, \"inverse\");\n    this.scene = scene;\n    this.camera = camera;\n    this.clear = true;\n    this.needsSwap = false;\n    this.inverse = false;\n  }\n  render(renderer, writeBuffer, readBuffer) {\n    const context = renderer.getContext();\n    const state = renderer.state;\n    state.buffers.color.setMask(false);\n    state.buffers.depth.setMask(false);\n    state.buffers.color.setLocked(true);\n    state.buffers.depth.setLocked(true);\n    let writeValue, clearValue;\n    if (this.inverse) {\n      writeValue = 0;\n      clearValue = 1;\n    } else {\n      writeValue = 1;\n      clearValue = 0;\n    }\n    state.buffers.stencil.setTest(true);\n    state.buffers.stencil.setOp(context.REPLACE, context.REPLACE, context.REPLACE);\n    state.buffers.stencil.setFunc(context.ALWAYS, writeValue, 4294967295);\n    state.buffers.stencil.setClear(clearValue);\n    state.buffers.stencil.setLocked(true);\n    renderer.setRenderTarget(readBuffer);\n    if (this.clear)\n      renderer.clear();\n    renderer.render(this.scene, this.camera);\n    renderer.setRenderTarget(writeBuffer);\n    if (this.clear)\n      renderer.clear();\n    renderer.render(this.scene, this.camera);\n    state.buffers.color.setLocked(false);\n    state.buffers.depth.setLocked(false);\n    state.buffers.stencil.setLocked(false);\n    state.buffers.stencil.setFunc(context.EQUAL, 1, 4294967295);\n    state.buffers.stencil.setOp(context.KEEP, context.KEEP, context.KEEP);\n    state.buffers.stencil.setLocked(true);\n  }\n}\nclass ClearMaskPass extends Pass {\n  constructor() {\n    super();\n    this.needsSwap = false;\n  }\n  render(renderer) {\n    renderer.state.buffers.stencil.setLocked(false);\n    renderer.state.buffers.stencil.setTest(false);\n  }\n}\nexport {\n  ClearMaskPass,\n  MaskPass\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { LinearFilter, RGBAFormat, Vector2, WebGLRenderTarget, NoBlending, Clock } from \"three\";\nimport { CopyShader } from \"../shaders/CopyShader.js\";\nimport { ShaderPass } from \"./ShaderPass.js\";\nimport { MaskPass, ClearMaskPass } from \"./MaskPass.js\";\nclass EffectComposer {\n  constructor(renderer, renderTarget) {\n    __publicField(this, \"renderer\");\n    __publicField(this, \"_pixelRatio\");\n    __publicField(this, \"_width\");\n    __publicField(this, \"_height\");\n    __publicField(this, \"renderTarget1\");\n    __publicField(this, \"renderTarget2\");\n    __publicField(this, \"writeBuffer\");\n    __publicField(this, \"readBuffer\");\n    __publicField(this, \"renderToScreen\");\n    __publicField(this, \"passes\", []);\n    __publicField(this, \"copyPass\");\n    __publicField(this, \"clock\");\n    this.renderer = renderer;\n    if (renderTarget === void 0) {\n      const parameters = {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBAFormat\n      };\n      const size = renderer.getSize(new Vector2());\n      this._pixelRatio = renderer.getPixelRatio();\n      this._width = size.width;\n      this._height = size.height;\n      renderTarget = new WebGLRenderTarget(\n        this._width * this._pixelRatio,\n        this._height * this._pixelRatio,\n        parameters\n      );\n      renderTarget.texture.name = \"EffectComposer.rt1\";\n    } else {\n      this._pixelRatio = 1;\n      this._width = renderTarget.width;\n      this._height = renderTarget.height;\n    }\n    this.renderTarget1 = renderTarget;\n    this.renderTarget2 = renderTarget.clone();\n    this.renderTarget2.texture.name = \"EffectComposer.rt2\";\n    this.writeBuffer = this.renderTarget1;\n    this.readBuffer = this.renderTarget2;\n    this.renderToScreen = true;\n    if (CopyShader === void 0) {\n      console.error(\"THREE.EffectComposer relies on CopyShader\");\n    }\n    if (ShaderPass === void 0) {\n      console.error(\"THREE.EffectComposer relies on ShaderPass\");\n    }\n    this.copyPass = new ShaderPass(CopyShader);\n    this.copyPass.material.blending = NoBlending;\n    this.clock = new Clock();\n  }\n  swapBuffers() {\n    const tmp = this.readBuffer;\n    this.readBuffer = this.writeBuffer;\n    this.writeBuffer = tmp;\n  }\n  addPass(pass) {\n    this.passes.push(pass);\n    pass.setSize(this._width * this._pixelRatio, this._height * this._pixelRatio);\n  }\n  insertPass(pass, index) {\n    this.passes.splice(index, 0, pass);\n    pass.setSize(this._width * this._pixelRatio, this._height * this._pixelRatio);\n  }\n  removePass(pass) {\n    const index = this.passes.indexOf(pass);\n    if (index !== -1) {\n      this.passes.splice(index, 1);\n    }\n  }\n  isLastEnabledPass(passIndex) {\n    for (let i = passIndex + 1; i < this.passes.length; i++) {\n      if (this.passes[i].enabled) {\n        return false;\n      }\n    }\n    return true;\n  }\n  render(deltaTime) {\n    if (deltaTime === void 0) {\n      deltaTime = this.clock.getDelta();\n    }\n    const currentRenderTarget = this.renderer.getRenderTarget();\n    let maskActive = false;\n    const il = this.passes.length;\n    for (let i = 0; i < il; i++) {\n      const pass = this.passes[i];\n      if (pass.enabled === false)\n        continue;\n      pass.renderToScreen = this.renderToScreen && this.isLastEnabledPass(i);\n      pass.render(this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive);\n      if (pass.needsSwap) {\n        if (maskActive) {\n          const context = this.renderer.getContext();\n          const stencil = this.renderer.state.buffers.stencil;\n          stencil.setFunc(context.NOTEQUAL, 1, 4294967295);\n          this.copyPass.render(this.renderer, this.writeBuffer, this.readBuffer, deltaTime);\n          stencil.setFunc(context.EQUAL, 1, 4294967295);\n        }\n        this.swapBuffers();\n      }\n      if (MaskPass !== void 0) {\n        if (pass instanceof MaskPass) {\n          maskActive = true;\n        } else if (pass instanceof ClearMaskPass) {\n          maskActive = false;\n        }\n      }\n    }\n    this.renderer.setRenderTarget(currentRenderTarget);\n  }\n  reset(renderTarget) {\n    if (renderTarget === void 0) {\n      const size = this.renderer.getSize(new Vector2());\n      this._pixelRatio = this.renderer.getPixelRatio();\n      this._width = size.width;\n      this._height = size.height;\n      renderTarget = this.renderTarget1.clone();\n      renderTarget.setSize(this._width * this._pixelRatio, this._height * this._pixelRatio);\n    }\n    this.renderTarget1.dispose();\n    this.renderTarget2.dispose();\n    this.renderTarget1 = renderTarget;\n    this.renderTarget2 = renderTarget.clone();\n    this.writeBuffer = this.renderTarget1;\n    this.readBuffer = this.renderTarget2;\n  }\n  setSize(width, height) {\n    this._width = width;\n    this._height = height;\n    const effectiveWidth = this._width * this._pixelRatio;\n    const effectiveHeight = this._height * this._pixelRatio;\n    this.renderTarget1.setSize(effectiveWidth, effectiveHeight);\n    this.renderTarget2.setSize(effectiveWidth, effectiveHeight);\n    for (let i = 0; i < this.passes.length; i++) {\n      this.passes[i].setSize(effectiveWidth, effectiveHeight);\n    }\n  }\n  setPixelRatio(pixelRatio) {\n    this._pixelRatio = pixelRatio;\n    this.setSize(this._width, this._height);\n  }\n}\nexport {\n  EffectComposer\n};\n", "import { Vector2 } from \"three\";\nconst DotScreenShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    tSize: { value: /* @__PURE__ */ new Vector2(256, 256) },\n    center: { value: /* @__PURE__ */ new Vector2(0.5, 0.5) },\n    angle: { value: 1.57 },\n    scale: { value: 1 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform vec2 center;\",\n    \"uniform float angle;\",\n    \"uniform float scale;\",\n    \"uniform vec2 tSize;\",\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"float pattern() {\",\n    \"\tfloat s = sin( angle ), c = cos( angle );\",\n    \"\tvec2 tex = vUv * tSize - center;\",\n    \"\tvec2 point = vec2( c * tex.x - s * tex.y, s * tex.x + c * tex.y ) * scale;\",\n    \"\treturn ( sin( point.x ) * sin( point.y ) ) * 4.0;\",\n    \"}\",\n    \"void main() {\",\n    \"\tvec4 color = texture2D( tDiffuse, vUv );\",\n    \"\tfloat average = ( color.r + color.g + color.b ) / 3.0;\",\n    \"\tgl_FragColor = vec4( vec3( average * 10.0 - 5.0 + pattern() ), color.a );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  DotScreenShader\n};\n", "import { Vector2, Matrix4 } from \"three\";\nconst SSRShader = {\n  defines: {\n    MAX_STEP: 0,\n    isPerspectiveCamera: true,\n    isDistanceAttenuation: true,\n    isFresnel: true,\n    isInfiniteThick: false,\n    isSelective: false\n  },\n  uniforms: {\n    tDiffuse: { value: null },\n    tNormal: { value: null },\n    tMetalness: { value: null },\n    tDepth: { value: null },\n    cameraNear: { value: null },\n    cameraFar: { value: null },\n    resolution: { value: /* @__PURE__ */ new Vector2() },\n    cameraProjectionMatrix: { value: /* @__PURE__ */ new Matrix4() },\n    cameraInverseProjectionMatrix: { value: /* @__PURE__ */ new Matrix4() },\n    opacity: { value: 0.5 },\n    maxDistance: { value: 180 },\n    cameraRange: { value: 0 },\n    surfDist: { value: 7e-3 },\n    thickTolerance: { value: 0.03 }\n  },\n  vertexShader: (\n    /* glsl */\n    `\n\n    varying vec2 vUv;\n\n    void main() {\n\n\t\t\tvUv = uv;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n\n  `\n  ),\n  fragmentShader: (\n    /* glsl */\n    `\n\t\t// precision highp float;\n\t\tprecision highp sampler2D;\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D tDepth;\n\t\tuniform sampler2D tNormal;\n\t\tuniform sampler2D tMetalness;\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float cameraRange;\n\t\tuniform vec2 resolution;\n\t\tuniform float opacity;\n\t\tuniform float cameraNear;\n\t\tuniform float cameraFar;\n\t\tuniform float maxDistance;\n\t\tuniform float surfDist;\n\t\tuniform mat4 cameraProjectionMatrix;\n\t\tuniform mat4 cameraInverseProjectionMatrix;\n\t\tuniform float thickTolerance;\n\t\t#include <packing>\n\t\tfloat pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {\n\t\t\t//x0: point, x1: linePointA, x2: linePointB\n\t\t\t//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html\n\t\t\treturn length(cross(x0-x1,x0-x2))/length(x2-x1);\n\t\t}\n\t\tfloat pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){\n\t\t\t// https://mathworld.wolfram.com/Point-PlaneDistance.html\n\t\t\t//// https://en.wikipedia.org/wiki/Plane_(geometry)\n\t\t\t//// http://paulbourke.net/geometry/pointlineplane/\n\t\t\tfloat a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;\n\t\t\tfloat x0=point.x,y0=point.y,z0=point.z;\n\t\t\tfloat x=planePoint.x,y=planePoint.y,z=planePoint.z;\n\t\t\tfloat d=-(a*x+b*y+c*z);\n\t\t\tfloat distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);\n\t\t\treturn distance;\n\t\t}\n\t\tfloat getDepth( const in vec2 uv ) {\n\t\t\treturn texture2D( tDepth, uv ).x;\n\t\t}\n\t\tfloat getViewZ( const in float depth ) {\n\t\t\t#ifdef isPerspectiveCamera\n\t\t\t\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );\n\t\t\t#else\n\t\t\t\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );\n\t\t\t#endif\n\t\t}\n\t\tvec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {\n\t\t\tvec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc\n\t\t\tclipPosition *= clipW; //clip\n\t\t\treturn ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view\n\t\t}\n\t\tvec3 getViewNormal( const in vec2 uv ) {\n\t\t\treturn unpackRGBToNormal( texture2D( tNormal, uv ).xyz );\n\t\t}\n\t\tvec2 viewPositionToXY(vec3 viewPosition){\n\t\t\tvec2 xy;\n\t\t\tvec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);\n\t\t\txy=clip.xy;//clip\n\t\t\tfloat clipW=clip.w;\n\t\t\txy/=clipW;//NDC\n\t\t\txy=(xy+1.)/2.;//uv\n\t\t\txy*=resolution;//screen\n\t\t\treturn xy;\n\t\t}\n\t\tvoid main(){\n\t\t\t#ifdef isSelective\n\t\t\t\tfloat metalness=texture2D(tMetalness,vUv).r;\n\t\t\t\tif(metalness==0.) return;\n\t\t\t#endif\n\n\t\t\tfloat depth = getDepth( vUv );\n\t\t\tfloat viewZ = getViewZ( depth );\n\t\t\tif(-viewZ>=cameraFar) return;\n\n\t\t\tfloat clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];\n\t\t\tvec3 viewPosition=getViewPosition( vUv, depth, clipW );\n\n\t\t\tvec2 d0=gl_FragCoord.xy;\n\t\t\tvec2 d1;\n\n\t\t\tvec3 viewNormal=getViewNormal( vUv );\n\n\t\t\t#ifdef isPerspectiveCamera\n\t\t\t\tvec3 viewIncidenceDir=normalize(viewPosition);\n\t\t\t\tvec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);\n\t\t\t#else\n\t\t\t\tvec3 viewIncidenceDir=vec3(0,0,-1);\n\t\t\t\tvec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);\n\t\t\t#endif\n\n\t\t\tfloat maxReflectRayLen=maxDistance/dot(-viewIncidenceDir,viewNormal);\n\t\t\t// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html\n\t\t\t// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)\n\t\t\t// maxDistance/maxReflectRayLen=cos(theta)\n\t\t\t// maxDistance/maxReflectRayLen==dot(a,b)\n\t\t\t// maxReflectRayLen==maxDistance/dot(a,b)\n\n\t\t\tvec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;\n\t\t\t#ifdef isPerspectiveCamera\n\t\t\t\tif(d1viewPosition.z>-cameraNear){\n\t\t\t\t\t//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx\n\t\t\t\t\tfloat t=(-cameraNear-viewPosition.z)/viewReflectDir.z;\n\t\t\t\t\td1viewPosition=viewPosition+viewReflectDir*t;\n\t\t\t\t}\n\t\t\t#endif\n\t\t\td1=viewPositionToXY(d1viewPosition);\n\n\t\t\tfloat totalLen=length(d1-d0);\n\t\t\tfloat xLen=d1.x-d0.x;\n\t\t\tfloat yLen=d1.y-d0.y;\n\t\t\tfloat totalStep=max(abs(xLen),abs(yLen));\n\t\t\tfloat xSpan=xLen/totalStep;\n\t\t\tfloat ySpan=yLen/totalStep;\n\t\t\tfor(float i=0.;i<MAX_STEP;i++){\n\t\t\t\tif(i>=totalStep) break;\n\t\t\t\tvec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);\n\t\t\t\tif(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;\n\t\t\t\tfloat s=length(xy-d0)/totalLen;\n\t\t\t\tvec2 uv=xy/resolution;\n\n\t\t\t\tfloat d = getDepth(uv);\n\t\t\t\tfloat vZ = getViewZ( d );\n\t\t\t\tif(-vZ>=cameraFar) continue;\n\t\t\t\tfloat cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];\n\t\t\t\tvec3 vP=getViewPosition( uv, d, cW );\n\n\t\t\t\t#ifdef isPerspectiveCamera\n\t\t\t\t\t// https://www.comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf\n\t\t\t\t\tfloat recipVPZ=1./viewPosition.z;\n\t\t\t\t\tfloat viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));\n\t\t\t\t\tfloat sD=surfDist*cW;\n\t\t\t\t#else\n\t\t\t\t\tfloat viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);\n\t\t\t\t\tfloat sD=surfDist;\n\t\t\t\t#endif\n\t\t\t\tif(viewReflectRayZ-sD>vZ) continue;\n\n\t\t\t\t#ifdef isInfiniteThick\n\t\t\t\t\tif(viewReflectRayZ+thickTolerance*clipW<vP.z) break;\n\t\t\t\t#endif\n\t\t\t\tfloat away=pointToLineDistance(vP,viewPosition,d1viewPosition);\n\n\t\t\t\tfloat op=opacity;\n\n\t\t\t\tif(away<sD){\n\t\t\t\t\tvec3 vN=getViewNormal( uv );\n\t\t\t\t\tif(dot(viewReflectDir,vN)>=0.) continue;\n\t\t\t\t\tfloat distance=pointPlaneDistance(vP,viewPosition,viewNormal);\n\t\t\t\t\tif(distance>maxDistance) break;\n\t\t\t\t\t#ifdef isDistanceAttenuation\n\t\t\t\t\t\tfloat ratio=1.-(distance/maxDistance);\n\t\t\t\t\t\tfloat attenuation=ratio*ratio;\n\t\t\t\t\t\top=opacity*attenuation;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef isFresnel\n\t\t\t\t\t\tfloat fresnel=(dot(viewIncidenceDir,viewReflectDir)+1.)/2.;\n\t\t\t\t\t\top*=fresnel;\n\t\t\t\t\t#endif\n\t\t\t\t\tvec4 reflectColor=texture2D(tDiffuse,uv);\n\t\t\t\t\tgl_FragColor.xyz=reflectColor.xyz;\n\t\t\t\t\tgl_FragColor.a=op;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t`\n  )\n};\nconst SSRDepthShader = {\n  defines: {\n    PERSPECTIVE_CAMERA: 1\n  },\n  uniforms: {\n    tDepth: { value: null },\n    cameraNear: { value: null },\n    cameraFar: { value: null }\n  },\n  vertexShader: (\n    /* glsl */\n    `\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvUv = uv;\n    \tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n\n  `\n  ),\n  fragmentShader: (\n    /* glsl */\n    `\n\n    uniform sampler2D tDepth;\n\n    uniform float cameraNear;\n    uniform float cameraFar;\n\n    varying vec2 vUv;\n\n    #include <packing>\n\n\t\tfloat getLinearDepth( const in vec2 uv ) {\n\n\t\t\t#if PERSPECTIVE_CAMERA == 1\n\n\t\t\t\tfloat fragCoordZ = texture2D( tDepth, uv ).x;\n\t\t\t\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );\n\t\t\t\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );\n\n\t\t\t#else\n\n\t\t\t\treturn texture2D( tDepth, uv ).x;\n\n\t\t\t#endif\n\n\t\t}\n\n    void main() {\n\n    \tfloat depth = getLinearDepth( vUv );\n\t\t\tfloat d = 1.0 - depth;\n\t\t\t// d=(d-.999)*1000.;\n    \tgl_FragColor = vec4( vec3( d ), 1.0 );\n\n    }\n\n  `\n  )\n};\nconst SSRBlurShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    resolution: { value: /* @__PURE__ */ new Vector2() },\n    opacity: { value: 0.5 }\n  },\n  vertexShader: (\n    /* glsl */\n    `\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvUv = uv;\n    \tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n\n  `\n  ),\n  fragmentShader: (\n    /* glsl */\n    `\n\n    uniform sampler2D tDiffuse;\n    uniform vec2 resolution;\n    varying vec2 vUv;\n    void main() {\n\t\t\t//reverse engineering from PhotoShop blur filter, then change coefficient\n\n    \tvec2 texelSize = ( 1.0 / resolution );\n\n\t\t\tvec4 c=texture2D(tDiffuse,vUv);\n\n\t\t\tvec2 offset;\n\n\t\t\toffset=(vec2(-1,0))*texelSize;\n\t\t\tvec4 cl=texture2D(tDiffuse,vUv+offset);\n\n\t\t\toffset=(vec2(1,0))*texelSize;\n\t\t\tvec4 cr=texture2D(tDiffuse,vUv+offset);\n\n\t\t\toffset=(vec2(0,-1))*texelSize;\n\t\t\tvec4 cb=texture2D(tDiffuse,vUv+offset);\n\n\t\t\toffset=(vec2(0,1))*texelSize;\n\t\t\tvec4 ct=texture2D(tDiffuse,vUv+offset);\n\n\t\t\t// float coeCenter=.5;\n\t\t\t// float coeSide=.125;\n\t\t\tfloat coeCenter=.2;\n\t\t\tfloat coeSide=.2;\n\t\t\tfloat a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;\n\t\t\tvec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;\n\t\t\tgl_FragColor=vec4(rgb,a);\n\n\t\t}\n\t`\n  )\n};\nexport {\n  SSRBlurShader,\n  SSRDepthShader,\n  SSRShader\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Color, DepthTexture, UnsignedShortType, NearestFilter, WebGLRenderTarget, HalfFloatType, ShaderMaterial, UniformsUtils, NoBlending, MeshNormalMaterial, MeshBasicMaterial, SrcAlphaFactor, OneMinusSrcAlphaFactor, AddEquation, NormalBlending } from \"three\";\nimport { Pass, FullScreenQuad } from \"./Pass.js\";\nimport { SSRShader, SSRBlurShader, SSRDepthShader } from \"../shaders/SSRShader.js\";\nimport { CopyShader } from \"../shaders/CopyShader.js\";\nconst _SSRPass = class extends Pass {\n  constructor({ renderer, scene, camera, width, height, selects, bouncing = false, groundReflector }) {\n    super();\n    this.width = width !== void 0 ? width : 512;\n    this.height = height !== void 0 ? height : 512;\n    this.clear = true;\n    this.renderer = renderer;\n    this.scene = scene;\n    this.camera = camera;\n    this.groundReflector = groundReflector;\n    this.opacity = SSRShader.uniforms.opacity.value;\n    this.output = 0;\n    this.maxDistance = SSRShader.uniforms.maxDistance.value;\n    this.thickness = SSRShader.uniforms.thickness.value;\n    this.tempColor = new Color();\n    this._selects = selects;\n    this.selective = Array.isArray(this._selects);\n    Object.defineProperty(this, \"selects\", {\n      get() {\n        return this._selects;\n      },\n      set(val) {\n        if (this._selects === val)\n          return;\n        this._selects = val;\n        if (Array.isArray(val)) {\n          this.selective = true;\n          this.ssrMaterial.defines.SELECTIVE = true;\n          this.ssrMaterial.needsUpdate = true;\n        } else {\n          this.selective = false;\n          this.ssrMaterial.defines.SELECTIVE = false;\n          this.ssrMaterial.needsUpdate = true;\n        }\n      }\n    });\n    this._bouncing = bouncing;\n    Object.defineProperty(this, \"bouncing\", {\n      get() {\n        return this._bouncing;\n      },\n      set(val) {\n        if (this._bouncing === val)\n          return;\n        this._bouncing = val;\n        if (val) {\n          this.ssrMaterial.uniforms[\"tDiffuse\"].value = this.prevRenderTarget.texture;\n        } else {\n          this.ssrMaterial.uniforms[\"tDiffuse\"].value = this.beautyRenderTarget.texture;\n        }\n      }\n    });\n    this.blur = true;\n    this._distanceAttenuation = SSRShader.defines.DISTANCE_ATTENUATION;\n    Object.defineProperty(this, \"distanceAttenuation\", {\n      get() {\n        return this._distanceAttenuation;\n      },\n      set(val) {\n        if (this._distanceAttenuation === val)\n          return;\n        this._distanceAttenuation = val;\n        this.ssrMaterial.defines.DISTANCE_ATTENUATION = val;\n        this.ssrMaterial.needsUpdate = true;\n      }\n    });\n    this._fresnel = SSRShader.defines.FRESNEL;\n    Object.defineProperty(this, \"fresnel\", {\n      get() {\n        return this._fresnel;\n      },\n      set(val) {\n        if (this._fresnel === val)\n          return;\n        this._fresnel = val;\n        this.ssrMaterial.defines.FRESNEL = val;\n        this.ssrMaterial.needsUpdate = true;\n      }\n    });\n    this._infiniteThick = SSRShader.defines.INFINITE_THICK;\n    Object.defineProperty(this, \"infiniteThick\", {\n      get() {\n        return this._infiniteThick;\n      },\n      set(val) {\n        if (this._infiniteThick === val)\n          return;\n        this._infiniteThick = val;\n        this.ssrMaterial.defines.INFINITE_THICK = val;\n        this.ssrMaterial.needsUpdate = true;\n      }\n    });\n    const depthTexture = new DepthTexture();\n    depthTexture.type = UnsignedShortType;\n    depthTexture.minFilter = NearestFilter;\n    depthTexture.magFilter = NearestFilter;\n    this.beautyRenderTarget = new WebGLRenderTarget(this.width, this.height, {\n      minFilter: NearestFilter,\n      magFilter: NearestFilter,\n      type: HalfFloatType,\n      depthTexture,\n      depthBuffer: true\n    });\n    this.prevRenderTarget = new WebGLRenderTarget(this.width, this.height, {\n      minFilter: NearestFilter,\n      magFilter: NearestFilter\n    });\n    this.normalRenderTarget = new WebGLRenderTarget(this.width, this.height, {\n      minFilter: NearestFilter,\n      magFilter: NearestFilter,\n      type: HalfFloatType\n    });\n    this.metalnessRenderTarget = new WebGLRenderTarget(this.width, this.height, {\n      minFilter: NearestFilter,\n      magFilter: NearestFilter,\n      type: HalfFloatType\n    });\n    this.ssrRenderTarget = new WebGLRenderTarget(this.width, this.height, {\n      minFilter: NearestFilter,\n      magFilter: NearestFilter\n    });\n    this.blurRenderTarget = this.ssrRenderTarget.clone();\n    this.blurRenderTarget2 = this.ssrRenderTarget.clone();\n    this.ssrMaterial = new ShaderMaterial({\n      defines: Object.assign({}, SSRShader.defines, {\n        MAX_STEP: Math.sqrt(this.width * this.width + this.height * this.height)\n      }),\n      uniforms: UniformsUtils.clone(SSRShader.uniforms),\n      vertexShader: SSRShader.vertexShader,\n      fragmentShader: SSRShader.fragmentShader,\n      blending: NoBlending\n    });\n    this.ssrMaterial.uniforms[\"tDiffuse\"].value = this.beautyRenderTarget.texture;\n    this.ssrMaterial.uniforms[\"tNormal\"].value = this.normalRenderTarget.texture;\n    this.ssrMaterial.defines.SELECTIVE = this.selective;\n    this.ssrMaterial.needsUpdate = true;\n    this.ssrMaterial.uniforms[\"tMetalness\"].value = this.metalnessRenderTarget.texture;\n    this.ssrMaterial.uniforms[\"tDepth\"].value = this.beautyRenderTarget.depthTexture;\n    this.ssrMaterial.uniforms[\"cameraNear\"].value = this.camera.near;\n    this.ssrMaterial.uniforms[\"cameraFar\"].value = this.camera.far;\n    this.ssrMaterial.uniforms[\"thickness\"].value = this.thickness;\n    this.ssrMaterial.uniforms[\"resolution\"].value.set(this.width, this.height);\n    this.ssrMaterial.uniforms[\"cameraProjectionMatrix\"].value.copy(this.camera.projectionMatrix);\n    this.ssrMaterial.uniforms[\"cameraInverseProjectionMatrix\"].value.copy(this.camera.projectionMatrixInverse);\n    this.normalMaterial = new MeshNormalMaterial();\n    this.normalMaterial.blending = NoBlending;\n    this.metalnessOnMaterial = new MeshBasicMaterial({\n      color: \"white\"\n    });\n    this.metalnessOffMaterial = new MeshBasicMaterial({\n      color: \"black\"\n    });\n    this.blurMaterial = new ShaderMaterial({\n      defines: Object.assign({}, SSRBlurShader.defines),\n      uniforms: UniformsUtils.clone(SSRBlurShader.uniforms),\n      vertexShader: SSRBlurShader.vertexShader,\n      fragmentShader: SSRBlurShader.fragmentShader\n    });\n    this.blurMaterial.uniforms[\"tDiffuse\"].value = this.ssrRenderTarget.texture;\n    this.blurMaterial.uniforms[\"resolution\"].value.set(this.width, this.height);\n    this.blurMaterial2 = new ShaderMaterial({\n      defines: Object.assign({}, SSRBlurShader.defines),\n      uniforms: UniformsUtils.clone(SSRBlurShader.uniforms),\n      vertexShader: SSRBlurShader.vertexShader,\n      fragmentShader: SSRBlurShader.fragmentShader\n    });\n    this.blurMaterial2.uniforms[\"tDiffuse\"].value = this.blurRenderTarget.texture;\n    this.blurMaterial2.uniforms[\"resolution\"].value.set(this.width, this.height);\n    this.depthRenderMaterial = new ShaderMaterial({\n      defines: Object.assign({}, SSRDepthShader.defines),\n      uniforms: UniformsUtils.clone(SSRDepthShader.uniforms),\n      vertexShader: SSRDepthShader.vertexShader,\n      fragmentShader: SSRDepthShader.fragmentShader,\n      blending: NoBlending\n    });\n    this.depthRenderMaterial.uniforms[\"tDepth\"].value = this.beautyRenderTarget.depthTexture;\n    this.depthRenderMaterial.uniforms[\"cameraNear\"].value = this.camera.near;\n    this.depthRenderMaterial.uniforms[\"cameraFar\"].value = this.camera.far;\n    this.copyMaterial = new ShaderMaterial({\n      uniforms: UniformsUtils.clone(CopyShader.uniforms),\n      vertexShader: CopyShader.vertexShader,\n      fragmentShader: CopyShader.fragmentShader,\n      transparent: true,\n      depthTest: false,\n      depthWrite: false,\n      blendSrc: SrcAlphaFactor,\n      blendDst: OneMinusSrcAlphaFactor,\n      blendEquation: AddEquation,\n      blendSrcAlpha: SrcAlphaFactor,\n      blendDstAlpha: OneMinusSrcAlphaFactor,\n      blendEquationAlpha: AddEquation\n      // premultipliedAlpha:true,\n    });\n    this.fsQuad = new FullScreenQuad(null);\n    this.originalClearColor = new Color();\n  }\n  dispose() {\n    this.beautyRenderTarget.dispose();\n    this.prevRenderTarget.dispose();\n    this.normalRenderTarget.dispose();\n    this.metalnessRenderTarget.dispose();\n    this.ssrRenderTarget.dispose();\n    this.blurRenderTarget.dispose();\n    this.blurRenderTarget2.dispose();\n    this.normalMaterial.dispose();\n    this.metalnessOnMaterial.dispose();\n    this.metalnessOffMaterial.dispose();\n    this.blurMaterial.dispose();\n    this.blurMaterial2.dispose();\n    this.copyMaterial.dispose();\n    this.depthRenderMaterial.dispose();\n    this.fsQuad.dispose();\n  }\n  render(renderer, writeBuffer) {\n    renderer.setRenderTarget(this.beautyRenderTarget);\n    renderer.clear();\n    if (this.groundReflector) {\n      this.groundReflector.visible = false;\n      this.groundReflector.doRender(this.renderer, this.scene, this.camera);\n      this.groundReflector.visible = true;\n    }\n    renderer.render(this.scene, this.camera);\n    if (this.groundReflector)\n      this.groundReflector.visible = false;\n    this.renderOverride(renderer, this.normalMaterial, this.normalRenderTarget, 0, 0);\n    if (this.selective) {\n      this.renderMetalness(renderer, this.metalnessOnMaterial, this.metalnessRenderTarget, 0, 0);\n    }\n    this.ssrMaterial.uniforms[\"opacity\"].value = this.opacity;\n    this.ssrMaterial.uniforms[\"maxDistance\"].value = this.maxDistance;\n    this.ssrMaterial.uniforms[\"thickness\"].value = this.thickness;\n    this.renderPass(renderer, this.ssrMaterial, this.ssrRenderTarget);\n    if (this.blur) {\n      this.renderPass(renderer, this.blurMaterial, this.blurRenderTarget);\n      this.renderPass(renderer, this.blurMaterial2, this.blurRenderTarget2);\n    }\n    switch (this.output) {\n      case _SSRPass.OUTPUT.Default:\n        if (this.bouncing) {\n          this.copyMaterial.uniforms[\"tDiffuse\"].value = this.beautyRenderTarget.texture;\n          this.copyMaterial.blending = NoBlending;\n          this.renderPass(renderer, this.copyMaterial, this.prevRenderTarget);\n          if (this.blur)\n            this.copyMaterial.uniforms[\"tDiffuse\"].value = this.blurRenderTarget2.texture;\n          else\n            this.copyMaterial.uniforms[\"tDiffuse\"].value = this.ssrRenderTarget.texture;\n          this.copyMaterial.blending = NormalBlending;\n          this.renderPass(renderer, this.copyMaterial, this.prevRenderTarget);\n          this.copyMaterial.uniforms[\"tDiffuse\"].value = this.prevRenderTarget.texture;\n          this.copyMaterial.blending = NoBlending;\n          this.renderPass(renderer, this.copyMaterial, this.renderToScreen ? null : writeBuffer);\n        } else {\n          this.copyMaterial.uniforms[\"tDiffuse\"].value = this.beautyRenderTarget.texture;\n          this.copyMaterial.blending = NoBlending;\n          this.renderPass(renderer, this.copyMaterial, this.renderToScreen ? null : writeBuffer);\n          if (this.blur)\n            this.copyMaterial.uniforms[\"tDiffuse\"].value = this.blurRenderTarget2.texture;\n          else\n            this.copyMaterial.uniforms[\"tDiffuse\"].value = this.ssrRenderTarget.texture;\n          this.copyMaterial.blending = NormalBlending;\n          this.renderPass(renderer, this.copyMaterial, this.renderToScreen ? null : writeBuffer);\n        }\n        break;\n      case _SSRPass.OUTPUT.SSR:\n        if (this.blur)\n          this.copyMaterial.uniforms[\"tDiffuse\"].value = this.blurRenderTarget2.texture;\n        else\n          this.copyMaterial.uniforms[\"tDiffuse\"].value = this.ssrRenderTarget.texture;\n        this.copyMaterial.blending = NoBlending;\n        this.renderPass(renderer, this.copyMaterial, this.renderToScreen ? null : writeBuffer);\n        if (this.bouncing) {\n          if (this.blur)\n            this.copyMaterial.uniforms[\"tDiffuse\"].value = this.blurRenderTarget2.texture;\n          else\n            this.copyMaterial.uniforms[\"tDiffuse\"].value = this.beautyRenderTarget.texture;\n          this.copyMaterial.blending = NoBlending;\n          this.renderPass(renderer, this.copyMaterial, this.prevRenderTarget);\n          this.copyMaterial.uniforms[\"tDiffuse\"].value = this.ssrRenderTarget.texture;\n          this.copyMaterial.blending = NormalBlending;\n          this.renderPass(renderer, this.copyMaterial, this.prevRenderTarget);\n        }\n        break;\n      case _SSRPass.OUTPUT.Beauty:\n        this.copyMaterial.uniforms[\"tDiffuse\"].value = this.beautyRenderTarget.texture;\n        this.copyMaterial.blending = NoBlending;\n        this.renderPass(renderer, this.copyMaterial, this.renderToScreen ? null : writeBuffer);\n        break;\n      case _SSRPass.OUTPUT.Depth:\n        this.renderPass(renderer, this.depthRenderMaterial, this.renderToScreen ? null : writeBuffer);\n        break;\n      case _SSRPass.OUTPUT.Normal:\n        this.copyMaterial.uniforms[\"tDiffuse\"].value = this.normalRenderTarget.texture;\n        this.copyMaterial.blending = NoBlending;\n        this.renderPass(renderer, this.copyMaterial, this.renderToScreen ? null : writeBuffer);\n        break;\n      case _SSRPass.OUTPUT.Metalness:\n        this.copyMaterial.uniforms[\"tDiffuse\"].value = this.metalnessRenderTarget.texture;\n        this.copyMaterial.blending = NoBlending;\n        this.renderPass(renderer, this.copyMaterial, this.renderToScreen ? null : writeBuffer);\n        break;\n      default:\n        console.warn(\"THREE.SSRPass: Unknown output type.\");\n    }\n  }\n  renderPass(renderer, passMaterial, renderTarget, clearColor, clearAlpha) {\n    this.originalClearColor.copy(renderer.getClearColor(this.tempColor));\n    const originalClearAlpha = renderer.getClearAlpha(this.tempColor);\n    const originalAutoClear = renderer.autoClear;\n    renderer.setRenderTarget(renderTarget);\n    renderer.autoClear = false;\n    if (clearColor !== void 0 && clearColor !== null) {\n      renderer.setClearColor(clearColor);\n      renderer.setClearAlpha(clearAlpha || 0);\n      renderer.clear();\n    }\n    this.fsQuad.material = passMaterial;\n    this.fsQuad.render(renderer);\n    renderer.autoClear = originalAutoClear;\n    renderer.setClearColor(this.originalClearColor);\n    renderer.setClearAlpha(originalClearAlpha);\n  }\n  renderOverride(renderer, overrideMaterial, renderTarget, clearColor, clearAlpha) {\n    this.originalClearColor.copy(renderer.getClearColor(this.tempColor));\n    const originalClearAlpha = renderer.getClearAlpha(this.tempColor);\n    const originalAutoClear = renderer.autoClear;\n    renderer.setRenderTarget(renderTarget);\n    renderer.autoClear = false;\n    clearColor = overrideMaterial.clearColor || clearColor;\n    clearAlpha = overrideMaterial.clearAlpha || clearAlpha;\n    if (clearColor !== void 0 && clearColor !== null) {\n      renderer.setClearColor(clearColor);\n      renderer.setClearAlpha(clearAlpha || 0);\n      renderer.clear();\n    }\n    this.scene.overrideMaterial = overrideMaterial;\n    renderer.render(this.scene, this.camera);\n    this.scene.overrideMaterial = null;\n    renderer.autoClear = originalAutoClear;\n    renderer.setClearColor(this.originalClearColor);\n    renderer.setClearAlpha(originalClearAlpha);\n  }\n  renderMetalness(renderer, overrideMaterial, renderTarget, clearColor, clearAlpha) {\n    this.originalClearColor.copy(renderer.getClearColor(this.tempColor));\n    const originalClearAlpha = renderer.getClearAlpha(this.tempColor);\n    const originalAutoClear = renderer.autoClear;\n    renderer.setRenderTarget(renderTarget);\n    renderer.autoClear = false;\n    clearColor = overrideMaterial.clearColor || clearColor;\n    clearAlpha = overrideMaterial.clearAlpha || clearAlpha;\n    if (clearColor !== void 0 && clearColor !== null) {\n      renderer.setClearColor(clearColor);\n      renderer.setClearAlpha(clearAlpha || 0);\n      renderer.clear();\n    }\n    this.scene.traverseVisible((child) => {\n      child._SSRPassBackupMaterial = child.material;\n      if (this._selects.includes(child)) {\n        child.material = this.metalnessOnMaterial;\n      } else {\n        child.material = this.metalnessOffMaterial;\n      }\n    });\n    renderer.render(this.scene, this.camera);\n    this.scene.traverseVisible((child) => {\n      child.material = child._SSRPassBackupMaterial;\n    });\n    renderer.autoClear = originalAutoClear;\n    renderer.setClearColor(this.originalClearColor);\n    renderer.setClearAlpha(originalClearAlpha);\n  }\n  setSize(width, height) {\n    this.width = width;\n    this.height = height;\n    this.ssrMaterial.defines.MAX_STEP = Math.sqrt(width * width + height * height);\n    this.ssrMaterial.needsUpdate = true;\n    this.beautyRenderTarget.setSize(width, height);\n    this.prevRenderTarget.setSize(width, height);\n    this.ssrRenderTarget.setSize(width, height);\n    this.normalRenderTarget.setSize(width, height);\n    this.metalnessRenderTarget.setSize(width, height);\n    this.blurRenderTarget.setSize(width, height);\n    this.blurRenderTarget2.setSize(width, height);\n    this.ssrMaterial.uniforms[\"resolution\"].value.set(width, height);\n    this.ssrMaterial.uniforms[\"cameraProjectionMatrix\"].value.copy(this.camera.projectionMatrix);\n    this.ssrMaterial.uniforms[\"cameraInverseProjectionMatrix\"].value.copy(this.camera.projectionMatrixInverse);\n    this.blurMaterial.uniforms[\"resolution\"].value.set(width, height);\n    this.blurMaterial2.uniforms[\"resolution\"].value.set(width, height);\n  }\n};\nlet SSRPass = _SSRPass;\n__publicField(SSRPass, \"OUTPUT\", {\n  Default: 0,\n  SSR: 1,\n  Beauty: 3,\n  Depth: 4,\n  Normal: 5,\n  Metalness: 7\n});\nexport {\n  SSRPass\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Color } from \"three\";\nimport { Pass } from \"./Pass.js\";\nclass RenderPass extends Pass {\n  constructor(scene, camera, overrideMaterial, clearColor, clearAlpha = 0) {\n    super();\n    __publicField(this, \"scene\");\n    __publicField(this, \"camera\");\n    __publicField(this, \"overrideMaterial\");\n    __publicField(this, \"clearColor\");\n    __publicField(this, \"clearAlpha\");\n    __publicField(this, \"clearDepth\", false);\n    __publicField(this, \"_oldClearColor\", new Color());\n    this.scene = scene;\n    this.camera = camera;\n    this.overrideMaterial = overrideMaterial;\n    this.clearColor = clearColor;\n    this.clearAlpha = clearAlpha;\n    this.clear = true;\n    this.needsSwap = false;\n  }\n  render(renderer, writeBuffer, readBuffer) {\n    let oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n    let oldClearAlpha;\n    let oldOverrideMaterial = null;\n    if (this.overrideMaterial !== void 0) {\n      oldOverrideMaterial = this.scene.overrideMaterial;\n      this.scene.overrideMaterial = this.overrideMaterial;\n    }\n    if (this.clearColor) {\n      renderer.getClearColor(this._oldClearColor);\n      oldClearAlpha = renderer.getClearAlpha();\n      renderer.setClearColor(this.clearColor, this.clearAlpha);\n    }\n    if (this.clearDepth) {\n      renderer.clearDepth();\n    }\n    renderer.setRenderTarget(this.renderToScreen ? null : readBuffer);\n    if (this.clear)\n      renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n    renderer.render(this.scene, this.camera);\n    if (this.clearColor) {\n      renderer.setClearColor(this._oldClearColor, oldClearAlpha);\n    }\n    if (this.overrideMaterial !== void 0) {\n      this.scene.overrideMaterial = oldOverrideMaterial;\n    }\n    renderer.autoClear = oldAutoClear;\n  }\n}\nexport {\n  RenderPass\n};\n", "import { Vector2 } from \"three\";\nconst ConvolutionShader = {\n  defines: {\n    KERNEL_SIZE_FLOAT: \"25.0\",\n    KERNEL_SIZE_INT: \"25\"\n  },\n  uniforms: {\n    tDiffuse: { value: null },\n    uImageIncrement: { value: /* @__PURE__ */ new Vector2(1953125e-9, 0) },\n    cKernel: { value: [] }\n  },\n  vertexShader: [\n    \"uniform vec2 uImageIncrement;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float cKernel[ KERNEL_SIZE_INT ];\",\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform vec2 uImageIncrement;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec2 imageCoord = vUv;\",\n    \"\tvec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );\",\n    \"\tfor( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {\",\n    \"\t\tsum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];\",\n    \"\t\timageCoord += uImageIncrement;\",\n    \"\t}\",\n    \"\tgl_FragColor = sum;\",\n    \"}\"\n  ].join(\"\\n\"),\n  buildKernel: function(sigma) {\n    function gauss(x, sigma2) {\n      return Math.exp(-(x * x) / (2 * sigma2 * sigma2));\n    }\n    const kMaxKernelSize = 25;\n    const kernelSize = Math.min(2 * Math.ceil(sigma * 3) + 1, kMaxKernelSize);\n    const halfWidth = (kernelSize - 1) * 0.5;\n    const values = new Array(kernelSize);\n    let sum = 0;\n    for (let i = 0; i < kernelSize; ++i) {\n      values[i] = gauss(i - halfWidth, sigma);\n      sum += values[i];\n    }\n    for (let i = 0; i < kernelSize; ++i)\n      values[i] /= sum;\n    return values;\n  }\n};\nexport {\n  ConvolutionShader\n};\n", "import { Loader, LoaderUtils, FileLoader, Color, SpotLight, PointLight, DirectionalLight, MeshBasicMaterial, MeshPhysicalMaterial, Vector2, Matrix4, Vector3, Quaternion, InstancedMesh, Object3D, Interpolant, NearestFilter, LinearFilter, NearestMipmapNearestFilter, LinearMipmapNearestFilter, NearestMipmapLinearFilter, LinearMipmapLinearFilter, ClampToEdgeWrapping, MirroredRepeatWrapping, RepeatWrapping, REVISION, InterpolateLinear, InterpolateDiscrete, MeshStandardMaterial, FrontSide, TextureLoader, ImageBitmapLoader, BufferAttribute, InterleavedBuffer, InterleavedBufferAttribute, Texture, PointsMaterial, Material, LineBasicMaterial, DoubleSide, PropertyBinding, BufferGeometry, SkinnedMesh, Mesh, TriangleStripDrawMode, TriangleFanDrawMode, LineSegments, Line, LineLoop, Points, Group, PerspectiveCamera, MathUtils, OrthographicCamera, Skeleton, VectorKeyframeTrack, QuaternionKeyframeTrack, NumberKeyframeTrack, AnimationClip, Bone, Box3, Sphere } from \"three\";\nimport { toTrianglesDrawMode } from \"../utils/BufferGeometryUtils.js\";\nclass GLTFLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n    this.dracoLoader = null;\n    this.ktx2Loader = null;\n    this.meshoptDecoder = null;\n    this.pluginCallbacks = [];\n    this.register(function(parser) {\n      return new GLTFMaterialsClearcoatExtension(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFTextureBasisUExtension(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFTextureWebPExtension(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFTextureAVIFExtension(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFMaterialsSheenExtension(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFMaterialsTransmissionExtension(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFMaterialsVolumeExtension(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFMaterialsIorExtension(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFMaterialsEmissiveStrengthExtension(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFMaterialsSpecularExtension(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFMaterialsIridescenceExtension(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFMaterialsAnisotropyExtension(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFLightsExtension(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFMeshoptCompression(parser);\n    });\n    this.register(function(parser) {\n      return new GLTFMeshGpuInstancing(parser);\n    });\n  }\n  load(url, onLoad, onProgress, onError) {\n    const scope = this;\n    let resourcePath;\n    if (this.resourcePath !== \"\") {\n      resourcePath = this.resourcePath;\n    } else if (this.path !== \"\") {\n      resourcePath = this.path;\n    } else {\n      resourcePath = LoaderUtils.extractUrlBase(url);\n    }\n    this.manager.itemStart(url);\n    const _onError = function(e) {\n      if (onError) {\n        onError(e);\n      } else {\n        console.error(e);\n      }\n      scope.manager.itemError(url);\n      scope.manager.itemEnd(url);\n    };\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setResponseType(\"arraybuffer\");\n    loader.setRequestHeader(this.requestHeader);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(\n      url,\n      function(data) {\n        try {\n          scope.parse(\n            data,\n            resourcePath,\n            function(gltf) {\n              onLoad(gltf);\n              scope.manager.itemEnd(url);\n            },\n            _onError\n          );\n        } catch (e) {\n          _onError(e);\n        }\n      },\n      onProgress,\n      _onError\n    );\n  }\n  setDRACOLoader(dracoLoader) {\n    this.dracoLoader = dracoLoader;\n    return this;\n  }\n  setDDSLoader() {\n    throw new Error('THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".');\n  }\n  setKTX2Loader(ktx2Loader) {\n    this.ktx2Loader = ktx2Loader;\n    return this;\n  }\n  setMeshoptDecoder(meshoptDecoder) {\n    this.meshoptDecoder = meshoptDecoder;\n    return this;\n  }\n  register(callback) {\n    if (this.pluginCallbacks.indexOf(callback) === -1) {\n      this.pluginCallbacks.push(callback);\n    }\n    return this;\n  }\n  unregister(callback) {\n    if (this.pluginCallbacks.indexOf(callback) !== -1) {\n      this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1);\n    }\n    return this;\n  }\n  parse(data, path, onLoad, onError) {\n    let json;\n    const extensions = {};\n    const plugins = {};\n    if (typeof data === \"string\") {\n      json = JSON.parse(data);\n    } else if (data instanceof ArrayBuffer) {\n      const magic = LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4)));\n      if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\n        try {\n          extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);\n        } catch (error) {\n          if (onError)\n            onError(error);\n          return;\n        }\n        json = JSON.parse(extensions[EXTENSIONS.KHR_BINARY_GLTF].content);\n      } else {\n        json = JSON.parse(LoaderUtils.decodeText(new Uint8Array(data)));\n      }\n    } else {\n      json = data;\n    }\n    if (json.asset === void 0 || json.asset.version[0] < 2) {\n      if (onError)\n        onError(new Error(\"THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.\"));\n      return;\n    }\n    const parser = new GLTFParser(json, {\n      path: path || this.resourcePath || \"\",\n      crossOrigin: this.crossOrigin,\n      requestHeader: this.requestHeader,\n      manager: this.manager,\n      ktx2Loader: this.ktx2Loader,\n      meshoptDecoder: this.meshoptDecoder\n    });\n    parser.fileLoader.setRequestHeader(this.requestHeader);\n    for (let i = 0; i < this.pluginCallbacks.length; i++) {\n      const plugin = this.pluginCallbacks[i](parser);\n      plugins[plugin.name] = plugin;\n      extensions[plugin.name] = true;\n    }\n    if (json.extensionsUsed) {\n      for (let i = 0; i < json.extensionsUsed.length; ++i) {\n        const extensionName = json.extensionsUsed[i];\n        const extensionsRequired = json.extensionsRequired || [];\n        switch (extensionName) {\n          case EXTENSIONS.KHR_MATERIALS_UNLIT:\n            extensions[extensionName] = new GLTFMaterialsUnlitExtension();\n            break;\n          case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n            extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);\n            break;\n          case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n            extensions[extensionName] = new GLTFTextureTransformExtension();\n            break;\n          case EXTENSIONS.KHR_MESH_QUANTIZATION:\n            extensions[extensionName] = new GLTFMeshQuantizationExtension();\n            break;\n          default:\n            if (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === void 0) {\n              console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".');\n            }\n        }\n      }\n    }\n    parser.setExtensions(extensions);\n    parser.setPlugins(plugins);\n    parser.parse(onLoad, onError);\n  }\n  parseAsync(data, path) {\n    const scope = this;\n    return new Promise(function(resolve, reject) {\n      scope.parse(data, path, resolve, reject);\n    });\n  }\n}\nfunction GLTFRegistry() {\n  let objects = {};\n  return {\n    get: function(key) {\n      return objects[key];\n    },\n    add: function(key, object) {\n      objects[key] = object;\n    },\n    remove: function(key) {\n      delete objects[key];\n    },\n    removeAll: function() {\n      objects = {};\n    }\n  };\n}\nconst EXTENSIONS = {\n  KHR_BINARY_GLTF: \"KHR_binary_glTF\",\n  KHR_DRACO_MESH_COMPRESSION: \"KHR_draco_mesh_compression\",\n  KHR_LIGHTS_PUNCTUAL: \"KHR_lights_punctual\",\n  KHR_MATERIALS_CLEARCOAT: \"KHR_materials_clearcoat\",\n  KHR_MATERIALS_IOR: \"KHR_materials_ior\",\n  KHR_MATERIALS_SHEEN: \"KHR_materials_sheen\",\n  KHR_MATERIALS_SPECULAR: \"KHR_materials_specular\",\n  KHR_MATERIALS_TRANSMISSION: \"KHR_materials_transmission\",\n  KHR_MATERIALS_IRIDESCENCE: \"KHR_materials_iridescence\",\n  KHR_MATERIALS_ANISOTROPY: \"KHR_materials_anisotropy\",\n  KHR_MATERIALS_UNLIT: \"KHR_materials_unlit\",\n  KHR_MATERIALS_VOLUME: \"KHR_materials_volume\",\n  KHR_TEXTURE_BASISU: \"KHR_texture_basisu\",\n  KHR_TEXTURE_TRANSFORM: \"KHR_texture_transform\",\n  KHR_MESH_QUANTIZATION: \"KHR_mesh_quantization\",\n  KHR_MATERIALS_EMISSIVE_STRENGTH: \"KHR_materials_emissive_strength\",\n  EXT_TEXTURE_WEBP: \"EXT_texture_webp\",\n  EXT_TEXTURE_AVIF: \"EXT_texture_avif\",\n  EXT_MESHOPT_COMPRESSION: \"EXT_meshopt_compression\",\n  EXT_MESH_GPU_INSTANCING: \"EXT_mesh_gpu_instancing\"\n};\nclass GLTFLightsExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n    this.cache = { refs: {}, uses: {} };\n  }\n  _markDefs() {\n    const parser = this.parser;\n    const nodeDefs = this.parser.json.nodes || [];\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex];\n      if (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== void 0) {\n        parser._addNodeRef(this.cache, nodeDef.extensions[this.name].light);\n      }\n    }\n  }\n  _loadLight(lightIndex) {\n    const parser = this.parser;\n    const cacheKey = \"light:\" + lightIndex;\n    let dependency = parser.cache.get(cacheKey);\n    if (dependency)\n      return dependency;\n    const json = parser.json;\n    const extensions = json.extensions && json.extensions[this.name] || {};\n    const lightDefs = extensions.lights || [];\n    const lightDef = lightDefs[lightIndex];\n    let lightNode;\n    const color = new Color(16777215);\n    if (lightDef.color !== void 0)\n      color.fromArray(lightDef.color);\n    const range = lightDef.range !== void 0 ? lightDef.range : 0;\n    switch (lightDef.type) {\n      case \"directional\":\n        lightNode = new DirectionalLight(color);\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n      case \"point\":\n        lightNode = new PointLight(color);\n        lightNode.distance = range;\n        break;\n      case \"spot\":\n        lightNode = new SpotLight(color);\n        lightNode.distance = range;\n        lightDef.spot = lightDef.spot || {};\n        lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== void 0 ? lightDef.spot.innerConeAngle : 0;\n        lightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== void 0 ? lightDef.spot.outerConeAngle : Math.PI / 4;\n        lightNode.angle = lightDef.spot.outerConeAngle;\n        lightNode.penumbra = 1 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n      default:\n        throw new Error(\"THREE.GLTFLoader: Unexpected light type: \" + lightDef.type);\n    }\n    lightNode.position.set(0, 0, 0);\n    lightNode.decay = 2;\n    assignExtrasToUserData(lightNode, lightDef);\n    if (lightDef.intensity !== void 0)\n      lightNode.intensity = lightDef.intensity;\n    lightNode.name = parser.createUniqueName(lightDef.name || \"light_\" + lightIndex);\n    dependency = Promise.resolve(lightNode);\n    parser.cache.add(cacheKey, dependency);\n    return dependency;\n  }\n  getDependency(type, index) {\n    if (type !== \"light\")\n      return;\n    return this._loadLight(index);\n  }\n  createNodeAttachment(nodeIndex) {\n    const self2 = this;\n    const parser = this.parser;\n    const json = parser.json;\n    const nodeDef = json.nodes[nodeIndex];\n    const lightDef = nodeDef.extensions && nodeDef.extensions[this.name] || {};\n    const lightIndex = lightDef.light;\n    if (lightIndex === void 0)\n      return null;\n    return this._loadLight(lightIndex).then(function(light) {\n      return parser._getNodeRef(self2.cache, lightIndex, light);\n    });\n  }\n}\nclass GLTFMaterialsUnlitExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n  }\n  getMaterialType() {\n    return MeshBasicMaterial;\n  }\n  extendParams(materialParams, materialDef, parser) {\n    const pending = [];\n    materialParams.color = new Color(1, 1, 1);\n    materialParams.opacity = 1;\n    const metallicRoughness = materialDef.pbrMetallicRoughness;\n    if (metallicRoughness) {\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n      if (metallicRoughness.baseColorTexture !== void 0) {\n        pending.push(parser.assignTexture(materialParams, \"map\", metallicRoughness.baseColorTexture, 3001));\n      }\n    }\n    return Promise.all(pending);\n  }\n}\nclass GLTFMaterialsEmissiveStrengthExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH;\n  }\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n    const emissiveStrength = materialDef.extensions[this.name].emissiveStrength;\n    if (emissiveStrength !== void 0) {\n      materialParams.emissiveIntensity = emissiveStrength;\n    }\n    return Promise.resolve();\n  }\n}\nclass GLTFMaterialsClearcoatExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n  }\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name])\n      return null;\n    return MeshPhysicalMaterial;\n  }\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    if (extension.clearcoatFactor !== void 0) {\n      materialParams.clearcoat = extension.clearcoatFactor;\n    }\n    if (extension.clearcoatTexture !== void 0) {\n      pending.push(parser.assignTexture(materialParams, \"clearcoatMap\", extension.clearcoatTexture));\n    }\n    if (extension.clearcoatRoughnessFactor !== void 0) {\n      materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n    }\n    if (extension.clearcoatRoughnessTexture !== void 0) {\n      pending.push(parser.assignTexture(materialParams, \"clearcoatRoughnessMap\", extension.clearcoatRoughnessTexture));\n    }\n    if (extension.clearcoatNormalTexture !== void 0) {\n      pending.push(parser.assignTexture(materialParams, \"clearcoatNormalMap\", extension.clearcoatNormalTexture));\n      if (extension.clearcoatNormalTexture.scale !== void 0) {\n        const scale = extension.clearcoatNormalTexture.scale;\n        materialParams.clearcoatNormalScale = new Vector2(scale, scale);\n      }\n    }\n    return Promise.all(pending);\n  }\n}\nclass GLTFMaterialsIridescenceExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_IRIDESCENCE;\n  }\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name])\n      return null;\n    return MeshPhysicalMaterial;\n  }\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    if (extension.iridescenceFactor !== void 0) {\n      materialParams.iridescence = extension.iridescenceFactor;\n    }\n    if (extension.iridescenceTexture !== void 0) {\n      pending.push(parser.assignTexture(materialParams, \"iridescenceMap\", extension.iridescenceTexture));\n    }\n    if (extension.iridescenceIor !== void 0) {\n      materialParams.iridescenceIOR = extension.iridescenceIor;\n    }\n    if (materialParams.iridescenceThicknessRange === void 0) {\n      materialParams.iridescenceThicknessRange = [100, 400];\n    }\n    if (extension.iridescenceThicknessMinimum !== void 0) {\n      materialParams.iridescenceThicknessRange[0] = extension.iridescenceThicknessMinimum;\n    }\n    if (extension.iridescenceThicknessMaximum !== void 0) {\n      materialParams.iridescenceThicknessRange[1] = extension.iridescenceThicknessMaximum;\n    }\n    if (extension.iridescenceThicknessTexture !== void 0) {\n      pending.push(\n        parser.assignTexture(materialParams, \"iridescenceThicknessMap\", extension.iridescenceThicknessTexture)\n      );\n    }\n    return Promise.all(pending);\n  }\n}\nclass GLTFMaterialsSheenExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_SHEEN;\n  }\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name])\n      return null;\n    return MeshPhysicalMaterial;\n  }\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n    const pending = [];\n    materialParams.sheenColor = new Color(0, 0, 0);\n    materialParams.sheenRoughness = 0;\n    materialParams.sheen = 1;\n    const extension = materialDef.extensions[this.name];\n    if (extension.sheenColorFactor !== void 0) {\n      materialParams.sheenColor.fromArray(extension.sheenColorFactor);\n    }\n    if (extension.sheenRoughnessFactor !== void 0) {\n      materialParams.sheenRoughness = extension.sheenRoughnessFactor;\n    }\n    if (extension.sheenColorTexture !== void 0) {\n      pending.push(parser.assignTexture(materialParams, \"sheenColorMap\", extension.sheenColorTexture, 3001));\n    }\n    if (extension.sheenRoughnessTexture !== void 0) {\n      pending.push(parser.assignTexture(materialParams, \"sheenRoughnessMap\", extension.sheenRoughnessTexture));\n    }\n    return Promise.all(pending);\n  }\n}\nclass GLTFMaterialsTransmissionExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n  }\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name])\n      return null;\n    return MeshPhysicalMaterial;\n  }\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    if (extension.transmissionFactor !== void 0) {\n      materialParams.transmission = extension.transmissionFactor;\n    }\n    if (extension.transmissionTexture !== void 0) {\n      pending.push(parser.assignTexture(materialParams, \"transmissionMap\", extension.transmissionTexture));\n    }\n    return Promise.all(pending);\n  }\n}\nclass GLTFMaterialsVolumeExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n  }\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name])\n      return null;\n    return MeshPhysicalMaterial;\n  }\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    materialParams.thickness = extension.thicknessFactor !== void 0 ? extension.thicknessFactor : 0;\n    if (extension.thicknessTexture !== void 0) {\n      pending.push(parser.assignTexture(materialParams, \"thicknessMap\", extension.thicknessTexture));\n    }\n    materialParams.attenuationDistance = extension.attenuationDistance || Infinity;\n    const colorArray = extension.attenuationColor || [1, 1, 1];\n    materialParams.attenuationColor = new Color(colorArray[0], colorArray[1], colorArray[2]);\n    return Promise.all(pending);\n  }\n}\nclass GLTFMaterialsIorExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_IOR;\n  }\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name])\n      return null;\n    return MeshPhysicalMaterial;\n  }\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n    const extension = materialDef.extensions[this.name];\n    materialParams.ior = extension.ior !== void 0 ? extension.ior : 1.5;\n    return Promise.resolve();\n  }\n}\nclass GLTFMaterialsSpecularExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n  }\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name])\n      return null;\n    return MeshPhysicalMaterial;\n  }\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    materialParams.specularIntensity = extension.specularFactor !== void 0 ? extension.specularFactor : 1;\n    if (extension.specularTexture !== void 0) {\n      pending.push(parser.assignTexture(materialParams, \"specularIntensityMap\", extension.specularTexture));\n    }\n    const colorArray = extension.specularColorFactor || [1, 1, 1];\n    materialParams.specularColor = new Color(colorArray[0], colorArray[1], colorArray[2]);\n    if (extension.specularColorTexture !== void 0) {\n      pending.push(\n        parser.assignTexture(materialParams, \"specularColorMap\", extension.specularColorTexture, 3001)\n        // sRGBEncoding\n      );\n    }\n    return Promise.all(pending);\n  }\n}\nclass GLTFMaterialsAnisotropyExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_ANISOTROPY;\n  }\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name])\n      return null;\n    return MeshPhysicalMaterial;\n  }\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    if (extension.anisotropyStrength !== void 0) {\n      materialParams.anisotropy = extension.anisotropyStrength;\n    }\n    if (extension.anisotropyRotation !== void 0) {\n      materialParams.anisotropyRotation = extension.anisotropyRotation;\n    }\n    if (extension.anisotropyTexture !== void 0) {\n      pending.push(parser.assignTexture(materialParams, \"anisotropyMap\", extension.anisotropyTexture));\n    }\n    return Promise.all(pending);\n  }\n}\nclass GLTFTextureBasisUExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n  }\n  loadTexture(textureIndex) {\n    const parser = this.parser;\n    const json = parser.json;\n    const textureDef = json.textures[textureIndex];\n    if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n      return null;\n    }\n    const extension = textureDef.extensions[this.name];\n    const loader = parser.options.ktx2Loader;\n    if (!loader) {\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n        throw new Error(\"THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures\");\n      } else {\n        return null;\n      }\n    }\n    return parser.loadTextureImage(textureIndex, extension.source, loader);\n  }\n}\nclass GLTFTextureWebPExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n    this.isSupported = null;\n  }\n  loadTexture(textureIndex) {\n    const name = this.name;\n    const parser = this.parser;\n    const json = parser.json;\n    const textureDef = json.textures[textureIndex];\n    if (!textureDef.extensions || !textureDef.extensions[name]) {\n      return null;\n    }\n    const extension = textureDef.extensions[name];\n    const source = json.images[extension.source];\n    let loader = parser.textureLoader;\n    if (source.uri) {\n      const handler = parser.options.manager.getHandler(source.uri);\n      if (handler !== null)\n        loader = handler;\n    }\n    return this.detectSupport().then(function(isSupported) {\n      if (isSupported)\n        return parser.loadTextureImage(textureIndex, extension.source, loader);\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n        throw new Error(\"THREE.GLTFLoader: WebP required by asset but unsupported.\");\n      }\n      return parser.loadTexture(textureIndex);\n    });\n  }\n  detectSupport() {\n    if (!this.isSupported) {\n      this.isSupported = new Promise(function(resolve) {\n        const image = new Image();\n        image.src = \"data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA\";\n        image.onload = image.onerror = function() {\n          resolve(image.height === 1);\n        };\n      });\n    }\n    return this.isSupported;\n  }\n}\nclass GLTFTextureAVIFExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.EXT_TEXTURE_AVIF;\n    this.isSupported = null;\n  }\n  loadTexture(textureIndex) {\n    const name = this.name;\n    const parser = this.parser;\n    const json = parser.json;\n    const textureDef = json.textures[textureIndex];\n    if (!textureDef.extensions || !textureDef.extensions[name]) {\n      return null;\n    }\n    const extension = textureDef.extensions[name];\n    const source = json.images[extension.source];\n    let loader = parser.textureLoader;\n    if (source.uri) {\n      const handler = parser.options.manager.getHandler(source.uri);\n      if (handler !== null)\n        loader = handler;\n    }\n    return this.detectSupport().then(function(isSupported) {\n      if (isSupported)\n        return parser.loadTextureImage(textureIndex, extension.source, loader);\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n        throw new Error(\"THREE.GLTFLoader: AVIF required by asset but unsupported.\");\n      }\n      return parser.loadTexture(textureIndex);\n    });\n  }\n  detectSupport() {\n    if (!this.isSupported) {\n      this.isSupported = new Promise(function(resolve) {\n        const image = new Image();\n        image.src = \"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=\";\n        image.onload = image.onerror = function() {\n          resolve(image.height === 1);\n        };\n      });\n    }\n    return this.isSupported;\n  }\n}\nclass GLTFMeshoptCompression {\n  constructor(parser) {\n    this.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n    this.parser = parser;\n  }\n  loadBufferView(index) {\n    const json = this.parser.json;\n    const bufferView = json.bufferViews[index];\n    if (bufferView.extensions && bufferView.extensions[this.name]) {\n      const extensionDef = bufferView.extensions[this.name];\n      const buffer = this.parser.getDependency(\"buffer\", extensionDef.buffer);\n      const decoder = this.parser.options.meshoptDecoder;\n      if (!decoder || !decoder.supported) {\n        if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n          throw new Error(\"THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files\");\n        } else {\n          return null;\n        }\n      }\n      return buffer.then(function(res) {\n        const byteOffset = extensionDef.byteOffset || 0;\n        const byteLength = extensionDef.byteLength || 0;\n        const count = extensionDef.count;\n        const stride = extensionDef.byteStride;\n        const source = new Uint8Array(res, byteOffset, byteLength);\n        if (decoder.decodeGltfBufferAsync) {\n          return decoder.decodeGltfBufferAsync(count, stride, source, extensionDef.mode, extensionDef.filter).then(function(res2) {\n            return res2.buffer;\n          });\n        } else {\n          return decoder.ready.then(function() {\n            const result = new ArrayBuffer(count * stride);\n            decoder.decodeGltfBuffer(\n              new Uint8Array(result),\n              count,\n              stride,\n              source,\n              extensionDef.mode,\n              extensionDef.filter\n            );\n            return result;\n          });\n        }\n      });\n    } else {\n      return null;\n    }\n  }\n}\nclass GLTFMeshGpuInstancing {\n  constructor(parser) {\n    this.name = EXTENSIONS.EXT_MESH_GPU_INSTANCING;\n    this.parser = parser;\n  }\n  createNodeMesh(nodeIndex) {\n    const json = this.parser.json;\n    const nodeDef = json.nodes[nodeIndex];\n    if (!nodeDef.extensions || !nodeDef.extensions[this.name] || nodeDef.mesh === void 0) {\n      return null;\n    }\n    const meshDef = json.meshes[nodeDef.mesh];\n    for (const primitive of meshDef.primitives) {\n      if (primitive.mode !== WEBGL_CONSTANTS.TRIANGLES && primitive.mode !== WEBGL_CONSTANTS.TRIANGLE_STRIP && primitive.mode !== WEBGL_CONSTANTS.TRIANGLE_FAN && primitive.mode !== void 0) {\n        return null;\n      }\n    }\n    const extensionDef = nodeDef.extensions[this.name];\n    const attributesDef = extensionDef.attributes;\n    const pending = [];\n    const attributes = {};\n    for (const key in attributesDef) {\n      pending.push(\n        this.parser.getDependency(\"accessor\", attributesDef[key]).then((accessor) => {\n          attributes[key] = accessor;\n          return attributes[key];\n        })\n      );\n    }\n    if (pending.length < 1) {\n      return null;\n    }\n    pending.push(this.parser.createNodeMesh(nodeIndex));\n    return Promise.all(pending).then((results) => {\n      const nodeObject = results.pop();\n      const meshes = nodeObject.isGroup ? nodeObject.children : [nodeObject];\n      const count = results[0].count;\n      const instancedMeshes = [];\n      for (const mesh of meshes) {\n        const m = new Matrix4();\n        const p = new Vector3();\n        const q = new Quaternion();\n        const s = new Vector3(1, 1, 1);\n        const instancedMesh = new InstancedMesh(mesh.geometry, mesh.material, count);\n        for (let i = 0; i < count; i++) {\n          if (attributes.TRANSLATION) {\n            p.fromBufferAttribute(attributes.TRANSLATION, i);\n          }\n          if (attributes.ROTATION) {\n            q.fromBufferAttribute(attributes.ROTATION, i);\n          }\n          if (attributes.SCALE) {\n            s.fromBufferAttribute(attributes.SCALE, i);\n          }\n          instancedMesh.setMatrixAt(i, m.compose(p, q, s));\n        }\n        for (const attributeName in attributes) {\n          if (attributeName !== \"TRANSLATION\" && attributeName !== \"ROTATION\" && attributeName !== \"SCALE\") {\n            mesh.geometry.setAttribute(attributeName, attributes[attributeName]);\n          }\n        }\n        Object3D.prototype.copy.call(instancedMesh, mesh);\n        this.parser.assignFinalMaterial(instancedMesh);\n        instancedMeshes.push(instancedMesh);\n      }\n      if (nodeObject.isGroup) {\n        nodeObject.clear();\n        nodeObject.add(...instancedMeshes);\n        return nodeObject;\n      }\n      return instancedMeshes[0];\n    });\n  }\n}\nconst BINARY_EXTENSION_HEADER_MAGIC = \"glTF\";\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 1313821514, BIN: 5130562 };\nclass GLTFBinaryExtension {\n  constructor(data) {\n    this.name = EXTENSIONS.KHR_BINARY_GLTF;\n    this.content = null;\n    this.body = null;\n    const headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);\n    this.header = {\n      magic: LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4))),\n      version: headerView.getUint32(4, true),\n      length: headerView.getUint32(8, true)\n    };\n    if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\n      throw new Error(\"THREE.GLTFLoader: Unsupported glTF-Binary header.\");\n    } else if (this.header.version < 2) {\n      throw new Error(\"THREE.GLTFLoader: Legacy binary file detected.\");\n    }\n    const chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n    const chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);\n    let chunkIndex = 0;\n    while (chunkIndex < chunkContentsLength) {\n      const chunkLength = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n      const chunkType = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n      if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\n        const contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);\n        this.content = LoaderUtils.decodeText(contentArray);\n      } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\n        const byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n        this.body = data.slice(byteOffset, byteOffset + chunkLength);\n      }\n      chunkIndex += chunkLength;\n    }\n    if (this.content === null) {\n      throw new Error(\"THREE.GLTFLoader: JSON content not found.\");\n    }\n  }\n}\nclass GLTFDracoMeshCompressionExtension {\n  constructor(json, dracoLoader) {\n    if (!dracoLoader) {\n      throw new Error(\"THREE.GLTFLoader: No DRACOLoader instance provided.\");\n    }\n    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n    this.json = json;\n    this.dracoLoader = dracoLoader;\n    this.dracoLoader.preload();\n  }\n  decodePrimitive(primitive, parser) {\n    const json = this.json;\n    const dracoLoader = this.dracoLoader;\n    const bufferViewIndex = primitive.extensions[this.name].bufferView;\n    const gltfAttributeMap = primitive.extensions[this.name].attributes;\n    const threeAttributeMap = {};\n    const attributeNormalizedMap = {};\n    const attributeTypeMap = {};\n    for (const attributeName in gltfAttributeMap) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n      threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];\n    }\n    for (const attributeName in primitive.attributes) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n      if (gltfAttributeMap[attributeName] !== void 0) {\n        const accessorDef = json.accessors[primitive.attributes[attributeName]];\n        const componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\n        attributeTypeMap[threeAttributeName] = componentType.name;\n        attributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true;\n      }\n    }\n    return parser.getDependency(\"bufferView\", bufferViewIndex).then(function(bufferView) {\n      return new Promise(function(resolve) {\n        dracoLoader.decodeDracoFile(\n          bufferView,\n          function(geometry) {\n            for (const attributeName in geometry.attributes) {\n              const attribute = geometry.attributes[attributeName];\n              const normalized = attributeNormalizedMap[attributeName];\n              if (normalized !== void 0)\n                attribute.normalized = normalized;\n            }\n            resolve(geometry);\n          },\n          threeAttributeMap,\n          attributeTypeMap\n        );\n      });\n    });\n  }\n}\nclass GLTFTextureTransformExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n  }\n  extendTexture(texture, transform) {\n    if ((transform.texCoord === void 0 || transform.texCoord === texture.channel) && transform.offset === void 0 && transform.rotation === void 0 && transform.scale === void 0) {\n      return texture;\n    }\n    texture = texture.clone();\n    if (transform.texCoord !== void 0) {\n      texture.channel = transform.texCoord;\n    }\n    if (transform.offset !== void 0) {\n      texture.offset.fromArray(transform.offset);\n    }\n    if (transform.rotation !== void 0) {\n      texture.rotation = transform.rotation;\n    }\n    if (transform.scale !== void 0) {\n      texture.repeat.fromArray(transform.scale);\n    }\n    texture.needsUpdate = true;\n    return texture;\n  }\n}\nclass GLTFMeshQuantizationExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n  }\n}\nclass GLTFCubicSplineInterpolant extends Interpolant {\n  constructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    super(parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n  copySampleValue_(index) {\n    const result = this.resultBuffer, values = this.sampleValues, valueSize = this.valueSize, offset = index * valueSize * 3 + valueSize;\n    for (let i = 0; i !== valueSize; i++) {\n      result[i] = values[offset + i];\n    }\n    return result;\n  }\n  interpolate_(i1, t0, t, t1) {\n    const result = this.resultBuffer;\n    const values = this.sampleValues;\n    const stride = this.valueSize;\n    const stride2 = stride * 2;\n    const stride3 = stride * 3;\n    const td = t1 - t0;\n    const p = (t - t0) / td;\n    const pp = p * p;\n    const ppp = pp * p;\n    const offset1 = i1 * stride3;\n    const offset0 = offset1 - stride3;\n    const s2 = -2 * ppp + 3 * pp;\n    const s3 = ppp - pp;\n    const s0 = 1 - s2;\n    const s1 = s3 - pp + p;\n    for (let i = 0; i !== stride; i++) {\n      const p0 = values[offset0 + i + stride];\n      const m0 = values[offset0 + i + stride2] * td;\n      const p1 = values[offset1 + i + stride];\n      const m1 = values[offset1 + i] * td;\n      result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n    }\n    return result;\n  }\n}\nconst _q = /* @__PURE__ */ new Quaternion();\nclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\n  interpolate_(i1, t0, t, t1) {\n    const result = super.interpolate_(i1, t0, t, t1);\n    _q.fromArray(result).normalize().toArray(result);\n    return result;\n  }\n}\nconst WEBGL_CONSTANTS = {\n  FLOAT: 5126,\n  //FLOAT_MAT2: 35674,\n  FLOAT_MAT3: 35675,\n  FLOAT_MAT4: 35676,\n  FLOAT_VEC2: 35664,\n  FLOAT_VEC3: 35665,\n  FLOAT_VEC4: 35666,\n  LINEAR: 9729,\n  REPEAT: 10497,\n  SAMPLER_2D: 35678,\n  POINTS: 0,\n  LINES: 1,\n  LINE_LOOP: 2,\n  LINE_STRIP: 3,\n  TRIANGLES: 4,\n  TRIANGLE_STRIP: 5,\n  TRIANGLE_FAN: 6,\n  UNSIGNED_BYTE: 5121,\n  UNSIGNED_SHORT: 5123\n};\nconst WEBGL_COMPONENT_TYPES = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array\n};\nconst WEBGL_FILTERS = {\n  9728: NearestFilter,\n  9729: LinearFilter,\n  9984: NearestMipmapNearestFilter,\n  9985: LinearMipmapNearestFilter,\n  9986: NearestMipmapLinearFilter,\n  9987: LinearMipmapLinearFilter\n};\nconst WEBGL_WRAPPINGS = {\n  33071: ClampToEdgeWrapping,\n  33648: MirroredRepeatWrapping,\n  10497: RepeatWrapping\n};\nconst WEBGL_TYPE_SIZES = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16\n};\nconst ATTRIBUTES = {\n  POSITION: \"position\",\n  NORMAL: \"normal\",\n  TANGENT: \"tangent\",\n  // uv => uv1, 4 uv channels\n  // https://github.com/mrdoob/three.js/pull/25943\n  // https://github.com/mrdoob/three.js/pull/25788\n  ...REVISION.replace(/\\D+/g, \"\") >= 152 ? {\n    TEXCOORD_0: \"uv\",\n    TEXCOORD_1: \"uv1\",\n    TEXCOORD_2: \"uv2\",\n    TEXCOORD_3: \"uv3\"\n  } : {\n    TEXCOORD_0: \"uv\",\n    TEXCOORD_1: \"uv2\"\n  },\n  COLOR_0: \"color\",\n  WEIGHTS_0: \"skinWeight\",\n  JOINTS_0: \"skinIndex\"\n};\nconst PATH_PROPERTIES = {\n  scale: \"scale\",\n  translation: \"position\",\n  rotation: \"quaternion\",\n  weights: \"morphTargetInfluences\"\n};\nconst INTERPOLATION = {\n  CUBICSPLINE: void 0,\n  // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n  // keyframe track will be initialized with a default interpolation type, then modified.\n  LINEAR: InterpolateLinear,\n  STEP: InterpolateDiscrete\n};\nconst ALPHA_MODES = {\n  OPAQUE: \"OPAQUE\",\n  MASK: \"MASK\",\n  BLEND: \"BLEND\"\n};\nfunction createDefaultMaterial(cache) {\n  if (cache[\"DefaultMaterial\"] === void 0) {\n    cache[\"DefaultMaterial\"] = new MeshStandardMaterial({\n      color: 16777215,\n      emissive: 0,\n      metalness: 1,\n      roughness: 1,\n      transparent: false,\n      depthTest: true,\n      side: FrontSide\n    });\n  }\n  return cache[\"DefaultMaterial\"];\n}\nfunction addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\n  for (const name in objectDef.extensions) {\n    if (knownExtensions[name] === void 0) {\n      object.userData.gltfExtensions = object.userData.gltfExtensions || {};\n      object.userData.gltfExtensions[name] = objectDef.extensions[name];\n    }\n  }\n}\nfunction assignExtrasToUserData(object, gltfDef) {\n  if (gltfDef.extras !== void 0) {\n    if (typeof gltfDef.extras === \"object\") {\n      Object.assign(object.userData, gltfDef.extras);\n    } else {\n      console.warn(\"THREE.GLTFLoader: Ignoring primitive type .extras, \" + gltfDef.extras);\n    }\n  }\n}\nfunction addMorphTargets(geometry, targets, parser) {\n  let hasMorphPosition = false;\n  let hasMorphNormal = false;\n  let hasMorphColor = false;\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i];\n    if (target.POSITION !== void 0)\n      hasMorphPosition = true;\n    if (target.NORMAL !== void 0)\n      hasMorphNormal = true;\n    if (target.COLOR_0 !== void 0)\n      hasMorphColor = true;\n    if (hasMorphPosition && hasMorphNormal && hasMorphColor)\n      break;\n  }\n  if (!hasMorphPosition && !hasMorphNormal && !hasMorphColor)\n    return Promise.resolve(geometry);\n  const pendingPositionAccessors = [];\n  const pendingNormalAccessors = [];\n  const pendingColorAccessors = [];\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i];\n    if (hasMorphPosition) {\n      const pendingAccessor = target.POSITION !== void 0 ? parser.getDependency(\"accessor\", target.POSITION) : geometry.attributes.position;\n      pendingPositionAccessors.push(pendingAccessor);\n    }\n    if (hasMorphNormal) {\n      const pendingAccessor = target.NORMAL !== void 0 ? parser.getDependency(\"accessor\", target.NORMAL) : geometry.attributes.normal;\n      pendingNormalAccessors.push(pendingAccessor);\n    }\n    if (hasMorphColor) {\n      const pendingAccessor = target.COLOR_0 !== void 0 ? parser.getDependency(\"accessor\", target.COLOR_0) : geometry.attributes.color;\n      pendingColorAccessors.push(pendingAccessor);\n    }\n  }\n  return Promise.all([\n    Promise.all(pendingPositionAccessors),\n    Promise.all(pendingNormalAccessors),\n    Promise.all(pendingColorAccessors)\n  ]).then(function(accessors) {\n    const morphPositions = accessors[0];\n    const morphNormals = accessors[1];\n    const morphColors = accessors[2];\n    if (hasMorphPosition)\n      geometry.morphAttributes.position = morphPositions;\n    if (hasMorphNormal)\n      geometry.morphAttributes.normal = morphNormals;\n    if (hasMorphColor)\n      geometry.morphAttributes.color = morphColors;\n    geometry.morphTargetsRelative = true;\n    return geometry;\n  });\n}\nfunction updateMorphTargets(mesh, meshDef) {\n  mesh.updateMorphTargets();\n  if (meshDef.weights !== void 0) {\n    for (let i = 0, il = meshDef.weights.length; i < il; i++) {\n      mesh.morphTargetInfluences[i] = meshDef.weights[i];\n    }\n  }\n  if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\n    const targetNames = meshDef.extras.targetNames;\n    if (mesh.morphTargetInfluences.length === targetNames.length) {\n      mesh.morphTargetDictionary = {};\n      for (let i = 0, il = targetNames.length; i < il; i++) {\n        mesh.morphTargetDictionary[targetNames[i]] = i;\n      }\n    } else {\n      console.warn(\"THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.\");\n    }\n  }\n}\nfunction createPrimitiveKey(primitiveDef) {\n  let geometryKey;\n  const dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];\n  if (dracoExtension) {\n    geometryKey = \"draco:\" + dracoExtension.bufferView + \":\" + dracoExtension.indices + \":\" + createAttributesKey(dracoExtension.attributes);\n  } else {\n    geometryKey = primitiveDef.indices + \":\" + createAttributesKey(primitiveDef.attributes) + \":\" + primitiveDef.mode;\n  }\n  if (primitiveDef.targets !== void 0) {\n    for (let i = 0, il = primitiveDef.targets.length; i < il; i++) {\n      geometryKey += \":\" + createAttributesKey(primitiveDef.targets[i]);\n    }\n  }\n  return geometryKey;\n}\nfunction createAttributesKey(attributes) {\n  let attributesKey = \"\";\n  const keys = Object.keys(attributes).sort();\n  for (let i = 0, il = keys.length; i < il; i++) {\n    attributesKey += keys[i] + \":\" + attributes[keys[i]] + \";\";\n  }\n  return attributesKey;\n}\nfunction getNormalizedComponentScale(constructor) {\n  switch (constructor) {\n    case Int8Array:\n      return 1 / 127;\n    case Uint8Array:\n      return 1 / 255;\n    case Int16Array:\n      return 1 / 32767;\n    case Uint16Array:\n      return 1 / 65535;\n    default:\n      throw new Error(\"THREE.GLTFLoader: Unsupported normalized accessor component type.\");\n  }\n}\nfunction getImageURIMimeType(uri) {\n  if (uri.search(/\\.jpe?g($|\\?)/i) > 0 || uri.search(/^data\\:image\\/jpeg/) === 0)\n    return \"image/jpeg\";\n  if (uri.search(/\\.webp($|\\?)/i) > 0 || uri.search(/^data\\:image\\/webp/) === 0)\n    return \"image/webp\";\n  return \"image/png\";\n}\nconst _identityMatrix = /* @__PURE__ */ new Matrix4();\nclass GLTFParser {\n  constructor(json = {}, options = {}) {\n    this.json = json;\n    this.extensions = {};\n    this.plugins = {};\n    this.options = options;\n    this.cache = new GLTFRegistry();\n    this.associations = /* @__PURE__ */ new Map();\n    this.primitiveCache = {};\n    this.nodeCache = {};\n    this.meshCache = { refs: {}, uses: {} };\n    this.cameraCache = { refs: {}, uses: {} };\n    this.lightCache = { refs: {}, uses: {} };\n    this.sourceCache = {};\n    this.textureCache = {};\n    this.nodeNamesUsed = {};\n    let isSafari = false;\n    let isFirefox = false;\n    let firefoxVersion = -1;\n    if (typeof navigator !== \"undefined\" && typeof navigator.userAgent !== \"undefined\") {\n      isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent) === true;\n      isFirefox = navigator.userAgent.indexOf(\"Firefox\") > -1;\n      firefoxVersion = isFirefox ? navigator.userAgent.match(/Firefox\\/([0-9]+)\\./)[1] : -1;\n    }\n    if (typeof createImageBitmap === \"undefined\" || isSafari || isFirefox && firefoxVersion < 98) {\n      this.textureLoader = new TextureLoader(this.options.manager);\n    } else {\n      this.textureLoader = new ImageBitmapLoader(this.options.manager);\n    }\n    this.textureLoader.setCrossOrigin(this.options.crossOrigin);\n    this.textureLoader.setRequestHeader(this.options.requestHeader);\n    this.fileLoader = new FileLoader(this.options.manager);\n    this.fileLoader.setResponseType(\"arraybuffer\");\n    if (this.options.crossOrigin === \"use-credentials\") {\n      this.fileLoader.setWithCredentials(true);\n    }\n  }\n  setExtensions(extensions) {\n    this.extensions = extensions;\n  }\n  setPlugins(plugins) {\n    this.plugins = plugins;\n  }\n  parse(onLoad, onError) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions;\n    this.cache.removeAll();\n    this.nodeCache = {};\n    this._invokeAll(function(ext) {\n      return ext._markDefs && ext._markDefs();\n    });\n    Promise.all(\n      this._invokeAll(function(ext) {\n        return ext.beforeRoot && ext.beforeRoot();\n      })\n    ).then(function() {\n      return Promise.all([\n        parser.getDependencies(\"scene\"),\n        parser.getDependencies(\"animation\"),\n        parser.getDependencies(\"camera\")\n      ]);\n    }).then(function(dependencies) {\n      const result = {\n        scene: dependencies[0][json.scene || 0],\n        scenes: dependencies[0],\n        animations: dependencies[1],\n        cameras: dependencies[2],\n        asset: json.asset,\n        parser,\n        userData: {}\n      };\n      addUnknownExtensionsToUserData(extensions, result, json);\n      assignExtrasToUserData(result, json);\n      Promise.all(\n        parser._invokeAll(function(ext) {\n          return ext.afterRoot && ext.afterRoot(result);\n        })\n      ).then(function() {\n        onLoad(result);\n      });\n    }).catch(onError);\n  }\n  /**\n   * Marks the special nodes/meshes in json for efficient parse.\n   */\n  _markDefs() {\n    const nodeDefs = this.json.nodes || [];\n    const skinDefs = this.json.skins || [];\n    const meshDefs = this.json.meshes || [];\n    for (let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\n      const joints = skinDefs[skinIndex].joints;\n      for (let i = 0, il = joints.length; i < il; i++) {\n        nodeDefs[joints[i]].isBone = true;\n      }\n    }\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex];\n      if (nodeDef.mesh !== void 0) {\n        this._addNodeRef(this.meshCache, nodeDef.mesh);\n        if (nodeDef.skin !== void 0) {\n          meshDefs[nodeDef.mesh].isSkinnedMesh = true;\n        }\n      }\n      if (nodeDef.camera !== void 0) {\n        this._addNodeRef(this.cameraCache, nodeDef.camera);\n      }\n    }\n  }\n  /**\n   * Counts references to shared node / Object3D resources. These resources\n   * can be reused, or \"instantiated\", at multiple nodes in the scene\n   * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n   * be marked. Non-scenegraph resources (like Materials, Geometries, and\n   * Textures) can be reused directly and are not marked here.\n   *\n   * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n   */\n  _addNodeRef(cache, index) {\n    if (index === void 0)\n      return;\n    if (cache.refs[index] === void 0) {\n      cache.refs[index] = cache.uses[index] = 0;\n    }\n    cache.refs[index]++;\n  }\n  /** Returns a reference to a shared resource, cloning it if necessary. */\n  _getNodeRef(cache, index, object) {\n    if (cache.refs[index] <= 1)\n      return object;\n    const ref = object.clone();\n    const updateMappings = (original, clone) => {\n      const mappings = this.associations.get(original);\n      if (mappings != null) {\n        this.associations.set(clone, mappings);\n      }\n      for (const [i, child] of original.children.entries()) {\n        updateMappings(child, clone.children[i]);\n      }\n    };\n    updateMappings(object, ref);\n    ref.name += \"_instance_\" + cache.uses[index]++;\n    return ref;\n  }\n  _invokeOne(func) {\n    const extensions = Object.values(this.plugins);\n    extensions.push(this);\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i]);\n      if (result)\n        return result;\n    }\n    return null;\n  }\n  _invokeAll(func) {\n    const extensions = Object.values(this.plugins);\n    extensions.unshift(this);\n    const pending = [];\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i]);\n      if (result)\n        pending.push(result);\n    }\n    return pending;\n  }\n  /**\n   * Requests the specified dependency asynchronously, with caching.\n   * @param {string} type\n   * @param {number} index\n   * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n   */\n  getDependency(type, index) {\n    const cacheKey = type + \":\" + index;\n    let dependency = this.cache.get(cacheKey);\n    if (!dependency) {\n      switch (type) {\n        case \"scene\":\n          dependency = this.loadScene(index);\n          break;\n        case \"node\":\n          dependency = this._invokeOne(function(ext) {\n            return ext.loadNode && ext.loadNode(index);\n          });\n          break;\n        case \"mesh\":\n          dependency = this._invokeOne(function(ext) {\n            return ext.loadMesh && ext.loadMesh(index);\n          });\n          break;\n        case \"accessor\":\n          dependency = this.loadAccessor(index);\n          break;\n        case \"bufferView\":\n          dependency = this._invokeOne(function(ext) {\n            return ext.loadBufferView && ext.loadBufferView(index);\n          });\n          break;\n        case \"buffer\":\n          dependency = this.loadBuffer(index);\n          break;\n        case \"material\":\n          dependency = this._invokeOne(function(ext) {\n            return ext.loadMaterial && ext.loadMaterial(index);\n          });\n          break;\n        case \"texture\":\n          dependency = this._invokeOne(function(ext) {\n            return ext.loadTexture && ext.loadTexture(index);\n          });\n          break;\n        case \"skin\":\n          dependency = this.loadSkin(index);\n          break;\n        case \"animation\":\n          dependency = this._invokeOne(function(ext) {\n            return ext.loadAnimation && ext.loadAnimation(index);\n          });\n          break;\n        case \"camera\":\n          dependency = this.loadCamera(index);\n          break;\n        default:\n          dependency = this._invokeOne(function(ext) {\n            return ext != this && ext.getDependency && ext.getDependency(type, index);\n          });\n          if (!dependency) {\n            throw new Error(\"Unknown type: \" + type);\n          }\n          break;\n      }\n      this.cache.add(cacheKey, dependency);\n    }\n    return dependency;\n  }\n  /**\n   * Requests all dependencies of the specified type asynchronously, with caching.\n   * @param {string} type\n   * @return {Promise<Array<Object>>}\n   */\n  getDependencies(type) {\n    let dependencies = this.cache.get(type);\n    if (!dependencies) {\n      const parser = this;\n      const defs = this.json[type + (type === \"mesh\" ? \"es\" : \"s\")] || [];\n      dependencies = Promise.all(\n        defs.map(function(def, index) {\n          return parser.getDependency(type, index);\n        })\n      );\n      this.cache.add(type, dependencies);\n    }\n    return dependencies;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n  loadBuffer(bufferIndex) {\n    const bufferDef = this.json.buffers[bufferIndex];\n    const loader = this.fileLoader;\n    if (bufferDef.type && bufferDef.type !== \"arraybuffer\") {\n      throw new Error(\"THREE.GLTFLoader: \" + bufferDef.type + \" buffer type is not supported.\");\n    }\n    if (bufferDef.uri === void 0 && bufferIndex === 0) {\n      return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);\n    }\n    const options = this.options;\n    return new Promise(function(resolve, reject) {\n      loader.load(LoaderUtils.resolveURL(bufferDef.uri, options.path), resolve, void 0, function() {\n        reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'));\n      });\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferViewIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n  loadBufferView(bufferViewIndex) {\n    const bufferViewDef = this.json.bufferViews[bufferViewIndex];\n    return this.getDependency(\"buffer\", bufferViewDef.buffer).then(function(buffer) {\n      const byteLength = bufferViewDef.byteLength || 0;\n      const byteOffset = bufferViewDef.byteOffset || 0;\n      return buffer.slice(byteOffset, byteOffset + byteLength);\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n   * @param {number} accessorIndex\n   * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n   */\n  loadAccessor(accessorIndex) {\n    const parser = this;\n    const json = this.json;\n    const accessorDef = this.json.accessors[accessorIndex];\n    if (accessorDef.bufferView === void 0 && accessorDef.sparse === void 0) {\n      const itemSize = WEBGL_TYPE_SIZES[accessorDef.type];\n      const TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\n      const normalized = accessorDef.normalized === true;\n      const array = new TypedArray(accessorDef.count * itemSize);\n      return Promise.resolve(new BufferAttribute(array, itemSize, normalized));\n    }\n    const pendingBufferViews = [];\n    if (accessorDef.bufferView !== void 0) {\n      pendingBufferViews.push(this.getDependency(\"bufferView\", accessorDef.bufferView));\n    } else {\n      pendingBufferViews.push(null);\n    }\n    if (accessorDef.sparse !== void 0) {\n      pendingBufferViews.push(this.getDependency(\"bufferView\", accessorDef.sparse.indices.bufferView));\n      pendingBufferViews.push(this.getDependency(\"bufferView\", accessorDef.sparse.values.bufferView));\n    }\n    return Promise.all(pendingBufferViews).then(function(bufferViews) {\n      const bufferView = bufferViews[0];\n      const itemSize = WEBGL_TYPE_SIZES[accessorDef.type];\n      const TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\n      const elementBytes = TypedArray.BYTES_PER_ELEMENT;\n      const itemBytes = elementBytes * itemSize;\n      const byteOffset = accessorDef.byteOffset || 0;\n      const byteStride = accessorDef.bufferView !== void 0 ? json.bufferViews[accessorDef.bufferView].byteStride : void 0;\n      const normalized = accessorDef.normalized === true;\n      let array, bufferAttribute;\n      if (byteStride && byteStride !== itemBytes) {\n        const ibSlice = Math.floor(byteOffset / byteStride);\n        const ibCacheKey = \"InterleavedBuffer:\" + accessorDef.bufferView + \":\" + accessorDef.componentType + \":\" + ibSlice + \":\" + accessorDef.count;\n        let ib = parser.cache.get(ibCacheKey);\n        if (!ib) {\n          array = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes);\n          ib = new InterleavedBuffer(array, byteStride / elementBytes);\n          parser.cache.add(ibCacheKey, ib);\n        }\n        bufferAttribute = new InterleavedBufferAttribute(\n          ib,\n          itemSize,\n          byteOffset % byteStride / elementBytes,\n          normalized\n        );\n      } else {\n        if (bufferView === null) {\n          array = new TypedArray(accessorDef.count * itemSize);\n        } else {\n          array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);\n        }\n        bufferAttribute = new BufferAttribute(array, itemSize, normalized);\n      }\n      if (accessorDef.sparse !== void 0) {\n        const itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n        const TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];\n        const byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n        const byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n        const sparseIndices = new TypedArrayIndices(\n          bufferViews[1],\n          byteOffsetIndices,\n          accessorDef.sparse.count * itemSizeIndices\n        );\n        const sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);\n        if (bufferView !== null) {\n          bufferAttribute = new BufferAttribute(\n            bufferAttribute.array.slice(),\n            bufferAttribute.itemSize,\n            bufferAttribute.normalized\n          );\n        }\n        for (let i = 0, il = sparseIndices.length; i < il; i++) {\n          const index = sparseIndices[i];\n          bufferAttribute.setX(index, sparseValues[i * itemSize]);\n          if (itemSize >= 2)\n            bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);\n          if (itemSize >= 3)\n            bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);\n          if (itemSize >= 4)\n            bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);\n          if (itemSize >= 5)\n            throw new Error(\"THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.\");\n        }\n      }\n      return bufferAttribute;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n   * @param {number} textureIndex\n   * @return {Promise<THREE.Texture|null>}\n   */\n  loadTexture(textureIndex) {\n    const json = this.json;\n    const options = this.options;\n    const textureDef = json.textures[textureIndex];\n    const sourceIndex = textureDef.source;\n    const sourceDef = json.images[sourceIndex];\n    let loader = this.textureLoader;\n    if (sourceDef.uri) {\n      const handler = options.manager.getHandler(sourceDef.uri);\n      if (handler !== null)\n        loader = handler;\n    }\n    return this.loadTextureImage(textureIndex, sourceIndex, loader);\n  }\n  loadTextureImage(textureIndex, sourceIndex, loader) {\n    const parser = this;\n    const json = this.json;\n    const textureDef = json.textures[textureIndex];\n    const sourceDef = json.images[sourceIndex];\n    const cacheKey = (sourceDef.uri || sourceDef.bufferView) + \":\" + textureDef.sampler;\n    if (this.textureCache[cacheKey]) {\n      return this.textureCache[cacheKey];\n    }\n    const promise = this.loadImageSource(sourceIndex, loader).then(function(texture) {\n      texture.flipY = false;\n      texture.name = textureDef.name || sourceDef.name || \"\";\n      if (texture.name === \"\" && typeof sourceDef.uri === \"string\" && sourceDef.uri.startsWith(\"data:image/\") === false) {\n        texture.name = sourceDef.uri;\n      }\n      const samplers = json.samplers || {};\n      const sampler = samplers[textureDef.sampler] || {};\n      texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || LinearFilter;\n      texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || LinearMipmapLinearFilter;\n      texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || RepeatWrapping;\n      texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || RepeatWrapping;\n      parser.associations.set(texture, { textures: textureIndex });\n      return texture;\n    }).catch(function() {\n      return null;\n    });\n    this.textureCache[cacheKey] = promise;\n    return promise;\n  }\n  loadImageSource(sourceIndex, loader) {\n    const parser = this;\n    const json = this.json;\n    const options = this.options;\n    if (this.sourceCache[sourceIndex] !== void 0) {\n      return this.sourceCache[sourceIndex].then((texture) => texture.clone());\n    }\n    const sourceDef = json.images[sourceIndex];\n    const URL = self.URL || self.webkitURL;\n    let sourceURI = sourceDef.uri || \"\";\n    let isObjectURL = false;\n    if (sourceDef.bufferView !== void 0) {\n      sourceURI = parser.getDependency(\"bufferView\", sourceDef.bufferView).then(function(bufferView) {\n        isObjectURL = true;\n        const blob = new Blob([bufferView], { type: sourceDef.mimeType });\n        sourceURI = URL.createObjectURL(blob);\n        return sourceURI;\n      });\n    } else if (sourceDef.uri === void 0) {\n      throw new Error(\"THREE.GLTFLoader: Image \" + sourceIndex + \" is missing URI and bufferView\");\n    }\n    const promise = Promise.resolve(sourceURI).then(function(sourceURI2) {\n      return new Promise(function(resolve, reject) {\n        let onLoad = resolve;\n        if (loader.isImageBitmapLoader === true) {\n          onLoad = function(imageBitmap) {\n            const texture = new Texture(imageBitmap);\n            texture.needsUpdate = true;\n            resolve(texture);\n          };\n        }\n        loader.load(LoaderUtils.resolveURL(sourceURI2, options.path), onLoad, void 0, reject);\n      });\n    }).then(function(texture) {\n      if (isObjectURL === true) {\n        URL.revokeObjectURL(sourceURI);\n      }\n      texture.userData.mimeType = sourceDef.mimeType || getImageURIMimeType(sourceDef.uri);\n      return texture;\n    }).catch(function(error) {\n      console.error(\"THREE.GLTFLoader: Couldn't load texture\", sourceURI);\n      throw error;\n    });\n    this.sourceCache[sourceIndex] = promise;\n    return promise;\n  }\n  /**\n   * Asynchronously assigns a texture to the given material parameters.\n   * @param {Object} materialParams\n   * @param {string} mapName\n   * @param {Object} mapDef\n   * @return {Promise<Texture>}\n   */\n  assignTexture(materialParams, mapName, mapDef, encoding) {\n    const parser = this;\n    return this.getDependency(\"texture\", mapDef.index).then(function(texture) {\n      if (!texture)\n        return null;\n      if (mapDef.texCoord !== void 0 && mapDef.texCoord > 0) {\n        texture = texture.clone();\n        texture.channel = mapDef.texCoord;\n      }\n      if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\n        const transform = mapDef.extensions !== void 0 ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : void 0;\n        if (transform) {\n          const gltfReference = parser.associations.get(texture);\n          texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);\n          parser.associations.set(texture, gltfReference);\n        }\n      }\n      if (encoding !== void 0) {\n        if (\"colorSpace\" in texture)\n          texture.colorSpace = encoding === 3001 ? \"srgb\" : \"srgb-linear\";\n        else\n          texture.encoding = encoding;\n      }\n      materialParams[mapName] = texture;\n      return texture;\n    });\n  }\n  /**\n   * Assigns final material to a Mesh, Line, or Points instance. The instance\n   * already has a material (generated from the glTF material options alone)\n   * but reuse of the same glTF material may require multiple threejs materials\n   * to accommodate different primitive types, defines, etc. New materials will\n   * be created if necessary, and reused from a cache.\n   * @param  {Object3D} mesh Mesh, Line, or Points instance.\n   */\n  assignFinalMaterial(mesh) {\n    const geometry = mesh.geometry;\n    let material = mesh.material;\n    const useDerivativeTangents = geometry.attributes.tangent === void 0;\n    const useVertexColors = geometry.attributes.color !== void 0;\n    const useFlatShading = geometry.attributes.normal === void 0;\n    if (mesh.isPoints) {\n      const cacheKey = \"PointsMaterial:\" + material.uuid;\n      let pointsMaterial = this.cache.get(cacheKey);\n      if (!pointsMaterial) {\n        pointsMaterial = new PointsMaterial();\n        Material.prototype.copy.call(pointsMaterial, material);\n        pointsMaterial.color.copy(material.color);\n        pointsMaterial.map = material.map;\n        pointsMaterial.sizeAttenuation = false;\n        this.cache.add(cacheKey, pointsMaterial);\n      }\n      material = pointsMaterial;\n    } else if (mesh.isLine) {\n      const cacheKey = \"LineBasicMaterial:\" + material.uuid;\n      let lineMaterial = this.cache.get(cacheKey);\n      if (!lineMaterial) {\n        lineMaterial = new LineBasicMaterial();\n        Material.prototype.copy.call(lineMaterial, material);\n        lineMaterial.color.copy(material.color);\n        lineMaterial.map = material.map;\n        this.cache.add(cacheKey, lineMaterial);\n      }\n      material = lineMaterial;\n    }\n    if (useDerivativeTangents || useVertexColors || useFlatShading) {\n      let cacheKey = \"ClonedMaterial:\" + material.uuid + \":\";\n      if (useDerivativeTangents)\n        cacheKey += \"derivative-tangents:\";\n      if (useVertexColors)\n        cacheKey += \"vertex-colors:\";\n      if (useFlatShading)\n        cacheKey += \"flat-shading:\";\n      let cachedMaterial = this.cache.get(cacheKey);\n      if (!cachedMaterial) {\n        cachedMaterial = material.clone();\n        if (useVertexColors)\n          cachedMaterial.vertexColors = true;\n        if (useFlatShading)\n          cachedMaterial.flatShading = true;\n        if (useDerivativeTangents) {\n          if (cachedMaterial.normalScale)\n            cachedMaterial.normalScale.y *= -1;\n          if (cachedMaterial.clearcoatNormalScale)\n            cachedMaterial.clearcoatNormalScale.y *= -1;\n        }\n        this.cache.add(cacheKey, cachedMaterial);\n        this.associations.set(cachedMaterial, this.associations.get(material));\n      }\n      material = cachedMaterial;\n    }\n    mesh.material = material;\n  }\n  getMaterialType() {\n    return MeshStandardMaterial;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n   * @param {number} materialIndex\n   * @return {Promise<Material>}\n   */\n  loadMaterial(materialIndex) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions;\n    const materialDef = json.materials[materialIndex];\n    let materialType;\n    const materialParams = {};\n    const materialExtensions = materialDef.extensions || {};\n    const pending = [];\n    if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\n      const kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];\n      materialType = kmuExtension.getMaterialType();\n      pending.push(kmuExtension.extendParams(materialParams, materialDef, parser));\n    } else {\n      const metallicRoughness = materialDef.pbrMetallicRoughness || {};\n      materialParams.color = new Color(1, 1, 1);\n      materialParams.opacity = 1;\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n      if (metallicRoughness.baseColorTexture !== void 0) {\n        pending.push(parser.assignTexture(materialParams, \"map\", metallicRoughness.baseColorTexture, 3001));\n      }\n      materialParams.metalness = metallicRoughness.metallicFactor !== void 0 ? metallicRoughness.metallicFactor : 1;\n      materialParams.roughness = metallicRoughness.roughnessFactor !== void 0 ? metallicRoughness.roughnessFactor : 1;\n      if (metallicRoughness.metallicRoughnessTexture !== void 0) {\n        pending.push(parser.assignTexture(materialParams, \"metalnessMap\", metallicRoughness.metallicRoughnessTexture));\n        pending.push(parser.assignTexture(materialParams, \"roughnessMap\", metallicRoughness.metallicRoughnessTexture));\n      }\n      materialType = this._invokeOne(function(ext) {\n        return ext.getMaterialType && ext.getMaterialType(materialIndex);\n      });\n      pending.push(\n        Promise.all(\n          this._invokeAll(function(ext) {\n            return ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams);\n          })\n        )\n      );\n    }\n    if (materialDef.doubleSided === true) {\n      materialParams.side = DoubleSide;\n    }\n    const alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n    if (alphaMode === ALPHA_MODES.BLEND) {\n      materialParams.transparent = true;\n      materialParams.depthWrite = false;\n    } else {\n      materialParams.transparent = false;\n      if (alphaMode === ALPHA_MODES.MASK) {\n        materialParams.alphaTest = materialDef.alphaCutoff !== void 0 ? materialDef.alphaCutoff : 0.5;\n      }\n    }\n    if (materialDef.normalTexture !== void 0 && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, \"normalMap\", materialDef.normalTexture));\n      materialParams.normalScale = new Vector2(1, 1);\n      if (materialDef.normalTexture.scale !== void 0) {\n        const scale = materialDef.normalTexture.scale;\n        materialParams.normalScale.set(scale, scale);\n      }\n    }\n    if (materialDef.occlusionTexture !== void 0 && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, \"aoMap\", materialDef.occlusionTexture));\n      if (materialDef.occlusionTexture.strength !== void 0) {\n        materialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n      }\n    }\n    if (materialDef.emissiveFactor !== void 0 && materialType !== MeshBasicMaterial) {\n      materialParams.emissive = new Color().fromArray(materialDef.emissiveFactor);\n    }\n    if (materialDef.emissiveTexture !== void 0 && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, \"emissiveMap\", materialDef.emissiveTexture, 3001));\n    }\n    return Promise.all(pending).then(function() {\n      const material = new materialType(materialParams);\n      if (materialDef.name)\n        material.name = materialDef.name;\n      assignExtrasToUserData(material, materialDef);\n      parser.associations.set(material, { materials: materialIndex });\n      if (materialDef.extensions)\n        addUnknownExtensionsToUserData(extensions, material, materialDef);\n      return material;\n    });\n  }\n  /** When Object3D instances are targeted by animation, they need unique names. */\n  createUniqueName(originalName) {\n    const sanitizedName = PropertyBinding.sanitizeNodeName(originalName || \"\");\n    if (sanitizedName in this.nodeNamesUsed) {\n      return sanitizedName + \"_\" + ++this.nodeNamesUsed[sanitizedName];\n    } else {\n      this.nodeNamesUsed[sanitizedName] = 0;\n      return sanitizedName;\n    }\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n   *\n   * Creates BufferGeometries from primitives.\n   *\n   * @param {Array<GLTF.Primitive>} primitives\n   * @return {Promise<Array<BufferGeometry>>}\n   */\n  loadGeometries(primitives) {\n    const parser = this;\n    const extensions = this.extensions;\n    const cache = this.primitiveCache;\n    function createDracoPrimitive(primitive) {\n      return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(primitive, parser).then(function(geometry) {\n        return addPrimitiveAttributes(geometry, primitive, parser);\n      });\n    }\n    const pending = [];\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const primitive = primitives[i];\n      const cacheKey = createPrimitiveKey(primitive);\n      const cached = cache[cacheKey];\n      if (cached) {\n        pending.push(cached.promise);\n      } else {\n        let geometryPromise;\n        if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\n          geometryPromise = createDracoPrimitive(primitive);\n        } else {\n          geometryPromise = addPrimitiveAttributes(new BufferGeometry(), primitive, parser);\n        }\n        cache[cacheKey] = { primitive, promise: geometryPromise };\n        pending.push(geometryPromise);\n      }\n    }\n    return Promise.all(pending);\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n   * @param {number} meshIndex\n   * @return {Promise<Group|Mesh|SkinnedMesh>}\n   */\n  loadMesh(meshIndex) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions;\n    const meshDef = json.meshes[meshIndex];\n    const primitives = meshDef.primitives;\n    const pending = [];\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const material = primitives[i].material === void 0 ? createDefaultMaterial(this.cache) : this.getDependency(\"material\", primitives[i].material);\n      pending.push(material);\n    }\n    pending.push(parser.loadGeometries(primitives));\n    return Promise.all(pending).then(function(results) {\n      const materials = results.slice(0, results.length - 1);\n      const geometries = results[results.length - 1];\n      const meshes = [];\n      for (let i = 0, il = geometries.length; i < il; i++) {\n        const geometry = geometries[i];\n        const primitive = primitives[i];\n        let mesh;\n        const material = materials[i];\n        if (primitive.mode === WEBGL_CONSTANTS.TRIANGLES || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN || primitive.mode === void 0) {\n          mesh = meshDef.isSkinnedMesh === true ? new SkinnedMesh(geometry, material) : new Mesh(geometry, material);\n          if (mesh.isSkinnedMesh === true) {\n            mesh.normalizeSkinWeights();\n          }\n          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleStripDrawMode);\n          } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleFanDrawMode);\n          }\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\n          mesh = new LineSegments(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\n          mesh = new Line(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\n          mesh = new LineLoop(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\n          mesh = new Points(geometry, material);\n        } else {\n          throw new Error(\"THREE.GLTFLoader: Primitive mode unsupported: \" + primitive.mode);\n        }\n        if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\n          updateMorphTargets(mesh, meshDef);\n        }\n        mesh.name = parser.createUniqueName(meshDef.name || \"mesh_\" + meshIndex);\n        assignExtrasToUserData(mesh, meshDef);\n        if (primitive.extensions)\n          addUnknownExtensionsToUserData(extensions, mesh, primitive);\n        parser.assignFinalMaterial(mesh);\n        meshes.push(mesh);\n      }\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        parser.associations.set(meshes[i], {\n          meshes: meshIndex,\n          primitives: i\n        });\n      }\n      if (meshes.length === 1) {\n        if (meshDef.extensions)\n          addUnknownExtensionsToUserData(extensions, meshes[0], meshDef);\n        return meshes[0];\n      }\n      const group = new Group();\n      if (meshDef.extensions)\n        addUnknownExtensionsToUserData(extensions, group, meshDef);\n      parser.associations.set(group, { meshes: meshIndex });\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        group.add(meshes[i]);\n      }\n      return group;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n   * @param {number} cameraIndex\n   * @return {Promise<THREE.Camera>}\n   */\n  loadCamera(cameraIndex) {\n    let camera;\n    const cameraDef = this.json.cameras[cameraIndex];\n    const params = cameraDef[cameraDef.type];\n    if (!params) {\n      console.warn(\"THREE.GLTFLoader: Missing camera parameters.\");\n      return;\n    }\n    if (cameraDef.type === \"perspective\") {\n      camera = new PerspectiveCamera(\n        MathUtils.radToDeg(params.yfov),\n        params.aspectRatio || 1,\n        params.znear || 1,\n        params.zfar || 2e6\n      );\n    } else if (cameraDef.type === \"orthographic\") {\n      camera = new OrthographicCamera(-params.xmag, params.xmag, params.ymag, -params.ymag, params.znear, params.zfar);\n    }\n    if (cameraDef.name)\n      camera.name = this.createUniqueName(cameraDef.name);\n    assignExtrasToUserData(camera, cameraDef);\n    return Promise.resolve(camera);\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n   * @param {number} skinIndex\n   * @return {Promise<Skeleton>}\n   */\n  loadSkin(skinIndex) {\n    const skinDef = this.json.skins[skinIndex];\n    const pending = [];\n    for (let i = 0, il = skinDef.joints.length; i < il; i++) {\n      pending.push(this._loadNodeShallow(skinDef.joints[i]));\n    }\n    if (skinDef.inverseBindMatrices !== void 0) {\n      pending.push(this.getDependency(\"accessor\", skinDef.inverseBindMatrices));\n    } else {\n      pending.push(null);\n    }\n    return Promise.all(pending).then(function(results) {\n      const inverseBindMatrices = results.pop();\n      const jointNodes = results;\n      const bones = [];\n      const boneInverses = [];\n      for (let i = 0, il = jointNodes.length; i < il; i++) {\n        const jointNode = jointNodes[i];\n        if (jointNode) {\n          bones.push(jointNode);\n          const mat = new Matrix4();\n          if (inverseBindMatrices !== null) {\n            mat.fromArray(inverseBindMatrices.array, i * 16);\n          }\n          boneInverses.push(mat);\n        } else {\n          console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinDef.joints[i]);\n        }\n      }\n      return new Skeleton(bones, boneInverses);\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n   * @param {number} animationIndex\n   * @return {Promise<AnimationClip>}\n   */\n  loadAnimation(animationIndex) {\n    const json = this.json;\n    const animationDef = json.animations[animationIndex];\n    const animationName = animationDef.name ? animationDef.name : \"animation_\" + animationIndex;\n    const pendingNodes = [];\n    const pendingInputAccessors = [];\n    const pendingOutputAccessors = [];\n    const pendingSamplers = [];\n    const pendingTargets = [];\n    for (let i = 0, il = animationDef.channels.length; i < il; i++) {\n      const channel = animationDef.channels[i];\n      const sampler = animationDef.samplers[channel.sampler];\n      const target = channel.target;\n      const name = target.node;\n      const input = animationDef.parameters !== void 0 ? animationDef.parameters[sampler.input] : sampler.input;\n      const output = animationDef.parameters !== void 0 ? animationDef.parameters[sampler.output] : sampler.output;\n      if (target.node === void 0)\n        continue;\n      pendingNodes.push(this.getDependency(\"node\", name));\n      pendingInputAccessors.push(this.getDependency(\"accessor\", input));\n      pendingOutputAccessors.push(this.getDependency(\"accessor\", output));\n      pendingSamplers.push(sampler);\n      pendingTargets.push(target);\n    }\n    return Promise.all([\n      Promise.all(pendingNodes),\n      Promise.all(pendingInputAccessors),\n      Promise.all(pendingOutputAccessors),\n      Promise.all(pendingSamplers),\n      Promise.all(pendingTargets)\n    ]).then(function(dependencies) {\n      const nodes = dependencies[0];\n      const inputAccessors = dependencies[1];\n      const outputAccessors = dependencies[2];\n      const samplers = dependencies[3];\n      const targets = dependencies[4];\n      const tracks = [];\n      for (let i = 0, il = nodes.length; i < il; i++) {\n        const node = nodes[i];\n        const inputAccessor = inputAccessors[i];\n        const outputAccessor = outputAccessors[i];\n        const sampler = samplers[i];\n        const target = targets[i];\n        if (node === void 0)\n          continue;\n        node.updateMatrix();\n        let TypedKeyframeTrack;\n        switch (PATH_PROPERTIES[target.path]) {\n          case PATH_PROPERTIES.weights:\n            TypedKeyframeTrack = NumberKeyframeTrack;\n            break;\n          case PATH_PROPERTIES.rotation:\n            TypedKeyframeTrack = QuaternionKeyframeTrack;\n            break;\n          case PATH_PROPERTIES.position:\n          case PATH_PROPERTIES.scale:\n          default:\n            TypedKeyframeTrack = VectorKeyframeTrack;\n            break;\n        }\n        const targetName = node.name ? node.name : node.uuid;\n        const interpolation = sampler.interpolation !== void 0 ? INTERPOLATION[sampler.interpolation] : InterpolateLinear;\n        const targetNames = [];\n        if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\n          node.traverse(function(object) {\n            if (object.morphTargetInfluences) {\n              targetNames.push(object.name ? object.name : object.uuid);\n            }\n          });\n        } else {\n          targetNames.push(targetName);\n        }\n        let outputArray = outputAccessor.array;\n        if (outputAccessor.normalized) {\n          const scale = getNormalizedComponentScale(outputArray.constructor);\n          const scaled = new Float32Array(outputArray.length);\n          for (let j = 0, jl = outputArray.length; j < jl; j++) {\n            scaled[j] = outputArray[j] * scale;\n          }\n          outputArray = scaled;\n        }\n        for (let j = 0, jl = targetNames.length; j < jl; j++) {\n          const track = new TypedKeyframeTrack(\n            targetNames[j] + \".\" + PATH_PROPERTIES[target.path],\n            inputAccessor.array,\n            outputArray,\n            interpolation\n          );\n          if (sampler.interpolation === \"CUBICSPLINE\") {\n            track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\n              const interpolantType = this instanceof QuaternionKeyframeTrack ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant;\n              return new interpolantType(this.times, this.values, this.getValueSize() / 3, result);\n            };\n            track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n          }\n          tracks.push(track);\n        }\n      }\n      return new AnimationClip(animationName, void 0, tracks);\n    });\n  }\n  createNodeMesh(nodeIndex) {\n    const json = this.json;\n    const parser = this;\n    const nodeDef = json.nodes[nodeIndex];\n    if (nodeDef.mesh === void 0)\n      return null;\n    return parser.getDependency(\"mesh\", nodeDef.mesh).then(function(mesh) {\n      const node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh);\n      if (nodeDef.weights !== void 0) {\n        node.traverse(function(o) {\n          if (!o.isMesh)\n            return;\n          for (let i = 0, il = nodeDef.weights.length; i < il; i++) {\n            o.morphTargetInfluences[i] = nodeDef.weights[i];\n          }\n        });\n      }\n      return node;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n   * @param {number} nodeIndex\n   * @return {Promise<Object3D>}\n   */\n  loadNode(nodeIndex) {\n    const json = this.json;\n    const parser = this;\n    const nodeDef = json.nodes[nodeIndex];\n    const nodePending = parser._loadNodeShallow(nodeIndex);\n    const childPending = [];\n    const childrenDef = nodeDef.children || [];\n    for (let i = 0, il = childrenDef.length; i < il; i++) {\n      childPending.push(parser.getDependency(\"node\", childrenDef[i]));\n    }\n    const skeletonPending = nodeDef.skin === void 0 ? Promise.resolve(null) : parser.getDependency(\"skin\", nodeDef.skin);\n    return Promise.all([nodePending, Promise.all(childPending), skeletonPending]).then(function(results) {\n      const node = results[0];\n      const children = results[1];\n      const skeleton = results[2];\n      if (skeleton !== null) {\n        node.traverse(function(mesh) {\n          if (!mesh.isSkinnedMesh)\n            return;\n          mesh.bind(skeleton, _identityMatrix);\n        });\n      }\n      for (let i = 0, il = children.length; i < il; i++) {\n        node.add(children[i]);\n      }\n      return node;\n    });\n  }\n  // ._loadNodeShallow() parses a single node.\n  // skin and child nodes are created and added in .loadNode() (no '_' prefix).\n  _loadNodeShallow(nodeIndex) {\n    const json = this.json;\n    const extensions = this.extensions;\n    const parser = this;\n    if (this.nodeCache[nodeIndex] !== void 0) {\n      return this.nodeCache[nodeIndex];\n    }\n    const nodeDef = json.nodes[nodeIndex];\n    const nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : \"\";\n    const pending = [];\n    const meshPromise = parser._invokeOne(function(ext) {\n      return ext.createNodeMesh && ext.createNodeMesh(nodeIndex);\n    });\n    if (meshPromise) {\n      pending.push(meshPromise);\n    }\n    if (nodeDef.camera !== void 0) {\n      pending.push(\n        parser.getDependency(\"camera\", nodeDef.camera).then(function(camera) {\n          return parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera);\n        })\n      );\n    }\n    parser._invokeAll(function(ext) {\n      return ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex);\n    }).forEach(function(promise) {\n      pending.push(promise);\n    });\n    this.nodeCache[nodeIndex] = Promise.all(pending).then(function(objects) {\n      let node;\n      if (nodeDef.isBone === true) {\n        node = new Bone();\n      } else if (objects.length > 1) {\n        node = new Group();\n      } else if (objects.length === 1) {\n        node = objects[0];\n      } else {\n        node = new Object3D();\n      }\n      if (node !== objects[0]) {\n        for (let i = 0, il = objects.length; i < il; i++) {\n          node.add(objects[i]);\n        }\n      }\n      if (nodeDef.name) {\n        node.userData.name = nodeDef.name;\n        node.name = nodeName;\n      }\n      assignExtrasToUserData(node, nodeDef);\n      if (nodeDef.extensions)\n        addUnknownExtensionsToUserData(extensions, node, nodeDef);\n      if (nodeDef.matrix !== void 0) {\n        const matrix = new Matrix4();\n        matrix.fromArray(nodeDef.matrix);\n        node.applyMatrix4(matrix);\n      } else {\n        if (nodeDef.translation !== void 0) {\n          node.position.fromArray(nodeDef.translation);\n        }\n        if (nodeDef.rotation !== void 0) {\n          node.quaternion.fromArray(nodeDef.rotation);\n        }\n        if (nodeDef.scale !== void 0) {\n          node.scale.fromArray(nodeDef.scale);\n        }\n      }\n      if (!parser.associations.has(node)) {\n        parser.associations.set(node, {});\n      }\n      parser.associations.get(node).nodes = nodeIndex;\n      return node;\n    });\n    return this.nodeCache[nodeIndex];\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n   * @param {number} sceneIndex\n   * @return {Promise<Group>}\n   */\n  loadScene(sceneIndex) {\n    const extensions = this.extensions;\n    const sceneDef = this.json.scenes[sceneIndex];\n    const parser = this;\n    const scene = new Group();\n    if (sceneDef.name)\n      scene.name = parser.createUniqueName(sceneDef.name);\n    assignExtrasToUserData(scene, sceneDef);\n    if (sceneDef.extensions)\n      addUnknownExtensionsToUserData(extensions, scene, sceneDef);\n    const nodeIds = sceneDef.nodes || [];\n    const pending = [];\n    for (let i = 0, il = nodeIds.length; i < il; i++) {\n      pending.push(parser.getDependency(\"node\", nodeIds[i]));\n    }\n    return Promise.all(pending).then(function(nodes) {\n      for (let i = 0, il = nodes.length; i < il; i++) {\n        scene.add(nodes[i]);\n      }\n      const reduceAssociations = (node) => {\n        const reducedAssociations = /* @__PURE__ */ new Map();\n        for (const [key, value] of parser.associations) {\n          if (key instanceof Material || key instanceof Texture) {\n            reducedAssociations.set(key, value);\n          }\n        }\n        node.traverse((node2) => {\n          const mappings = parser.associations.get(node2);\n          if (mappings != null) {\n            reducedAssociations.set(node2, mappings);\n          }\n        });\n        return reducedAssociations;\n      };\n      parser.associations = reduceAssociations(scene);\n      return scene;\n    });\n  }\n}\nfunction computeBounds(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes;\n  const box = new Box3();\n  if (attributes.POSITION !== void 0) {\n    const accessor = parser.json.accessors[attributes.POSITION];\n    const min = accessor.min;\n    const max = accessor.max;\n    if (min !== void 0 && max !== void 0) {\n      box.set(new Vector3(min[0], min[1], min[2]), new Vector3(max[0], max[1], max[2]));\n      if (accessor.normalized) {\n        const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\n        box.min.multiplyScalar(boxScale);\n        box.max.multiplyScalar(boxScale);\n      }\n    } else {\n      console.warn(\"THREE.GLTFLoader: Missing min/max properties for accessor POSITION.\");\n      return;\n    }\n  } else {\n    return;\n  }\n  const targets = primitiveDef.targets;\n  if (targets !== void 0) {\n    const maxDisplacement = new Vector3();\n    const vector = new Vector3();\n    for (let i = 0, il = targets.length; i < il; i++) {\n      const target = targets[i];\n      if (target.POSITION !== void 0) {\n        const accessor = parser.json.accessors[target.POSITION];\n        const min = accessor.min;\n        const max = accessor.max;\n        if (min !== void 0 && max !== void 0) {\n          vector.setX(Math.max(Math.abs(min[0]), Math.abs(max[0])));\n          vector.setY(Math.max(Math.abs(min[1]), Math.abs(max[1])));\n          vector.setZ(Math.max(Math.abs(min[2]), Math.abs(max[2])));\n          if (accessor.normalized) {\n            const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\n            vector.multiplyScalar(boxScale);\n          }\n          maxDisplacement.max(vector);\n        } else {\n          console.warn(\"THREE.GLTFLoader: Missing min/max properties for accessor POSITION.\");\n        }\n      }\n    }\n    box.expandByVector(maxDisplacement);\n  }\n  geometry.boundingBox = box;\n  const sphere = new Sphere();\n  box.getCenter(sphere.center);\n  sphere.radius = box.min.distanceTo(box.max) / 2;\n  geometry.boundingSphere = sphere;\n}\nfunction addPrimitiveAttributes(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes;\n  const pending = [];\n  function assignAttributeAccessor(accessorIndex, attributeName) {\n    return parser.getDependency(\"accessor\", accessorIndex).then(function(accessor) {\n      geometry.setAttribute(attributeName, accessor);\n    });\n  }\n  for (const gltfAttributeName in attributes) {\n    const threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase();\n    if (threeAttributeName in geometry.attributes)\n      continue;\n    pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));\n  }\n  if (primitiveDef.indices !== void 0 && !geometry.index) {\n    const accessor = parser.getDependency(\"accessor\", primitiveDef.indices).then(function(accessor2) {\n      geometry.setIndex(accessor2);\n    });\n    pending.push(accessor);\n  }\n  assignExtrasToUserData(geometry, primitiveDef);\n  computeBounds(geometry, primitiveDef, parser);\n  return Promise.all(pending).then(function() {\n    return primitiveDef.targets !== void 0 ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry;\n  });\n}\nexport {\n  GLTFLoader\n};\n", "import * as THREE from \"three\";\nconst PINCH_MAX = 0.05;\nconst PINCH_THRESHOLD = 0.02;\nconst PINCH_MIN = 0.01;\nconst POINTER_ADVANCE_MAX = 0.02;\nconst POINTER_OPACITY_MAX = 1;\nconst POINTER_OPACITY_MIN = 0.4;\nconst POINTER_FRONT_RADIUS = 2e-3;\nconst POINTER_REAR_RADIUS = 0.01;\nconst POINTER_REAR_RADIUS_MIN = 3e-3;\nconst POINTER_LENGTH = 0.035;\nconst POINTER_SEGMENTS = 16;\nconst POINTER_RINGS = 12;\nconst POINTER_HEMISPHERE_ANGLE = 110;\nconst YAXIS = /* @__PURE__ */ new THREE.Vector3(0, 1, 0);\nconst ZAXIS = /* @__PURE__ */ new THREE.Vector3(0, 0, 1);\nconst CURSOR_RADIUS = 0.02;\nconst CURSOR_MAX_DISTANCE = 1.5;\nclass OculusHandPointerModel extends THREE.Object3D {\n  constructor(hand, controller) {\n    super();\n    this.hand = hand;\n    this.controller = controller;\n    this.motionController = null;\n    this.envMap = null;\n    this.mesh = null;\n    this.pointerGeometry = null;\n    this.pointerMesh = null;\n    this.pointerObject = null;\n    this.pinched = false;\n    this.attached = false;\n    this.cursorObject = null;\n    this.raycaster = null;\n    this._onConnected = this._onConnected.bind(this);\n    this._onDisconnected = this._onDisconnected.bind(this);\n    this.hand.addEventListener(\"connected\", this._onConnected);\n    this.hand.addEventListener(\"disconnected\", this._onDisconnected);\n  }\n  _onConnected(event) {\n    const xrInputSource = event.data;\n    if (xrInputSource.hand) {\n      this.visible = true;\n      this.xrInputSource = xrInputSource;\n      this.createPointer();\n    }\n  }\n  _onDisconnected() {\n    var _a, _b;\n    this.visible = false;\n    this.xrInputSource = null;\n    (_a = this.pointerGeometry) == null ? void 0 : _a.dispose();\n    (_b = this.pointerMesh) == null ? void 0 : _b.material.dispose();\n    this.clear();\n  }\n  _drawVerticesRing(vertices, baseVector, ringIndex) {\n    const segmentVector = baseVector.clone();\n    for (var i = 0; i < POINTER_SEGMENTS; i++) {\n      segmentVector.applyAxisAngle(ZAXIS, Math.PI * 2 / POINTER_SEGMENTS);\n      const vid = ringIndex * POINTER_SEGMENTS + i;\n      vertices[3 * vid] = segmentVector.x;\n      vertices[3 * vid + 1] = segmentVector.y;\n      vertices[3 * vid + 2] = segmentVector.z;\n    }\n  }\n  _updatePointerVertices(rearRadius) {\n    const vertices = this.pointerGeometry.attributes.position.array;\n    const frontFaceBase = new THREE.Vector3(POINTER_FRONT_RADIUS, 0, -1 * (POINTER_LENGTH - rearRadius));\n    this._drawVerticesRing(vertices, frontFaceBase, 0);\n    const rearBase = new THREE.Vector3(\n      Math.sin(Math.PI * POINTER_HEMISPHERE_ANGLE / 180) * rearRadius,\n      Math.cos(Math.PI * POINTER_HEMISPHERE_ANGLE / 180) * rearRadius,\n      0\n    );\n    for (var i = 0; i < POINTER_RINGS; i++) {\n      this._drawVerticesRing(vertices, rearBase, i + 1);\n      rearBase.applyAxisAngle(YAXIS, Math.PI * POINTER_HEMISPHERE_ANGLE / 180 / (POINTER_RINGS * -2));\n    }\n    const frontCenterIndex = POINTER_SEGMENTS * (1 + POINTER_RINGS);\n    const rearCenterIndex = POINTER_SEGMENTS * (1 + POINTER_RINGS) + 1;\n    const frontCenter = new THREE.Vector3(0, 0, -1 * (POINTER_LENGTH - rearRadius));\n    vertices[frontCenterIndex * 3] = frontCenter.x;\n    vertices[frontCenterIndex * 3 + 1] = frontCenter.y;\n    vertices[frontCenterIndex * 3 + 2] = frontCenter.z;\n    const rearCenter = new THREE.Vector3(0, 0, rearRadius);\n    vertices[rearCenterIndex * 3] = rearCenter.x;\n    vertices[rearCenterIndex * 3 + 1] = rearCenter.y;\n    vertices[rearCenterIndex * 3 + 2] = rearCenter.z;\n    this.pointerGeometry.setAttribute(\"position\", new THREE.Float32BufferAttribute(vertices, 3));\n  }\n  createPointer() {\n    var i, j;\n    const vertices = new Array(((POINTER_RINGS + 1) * POINTER_SEGMENTS + 2) * 3).fill(0);\n    const indices = [];\n    this.pointerGeometry = new THREE.BufferGeometry();\n    this.pointerGeometry.setAttribute(\"position\", new THREE.Float32BufferAttribute(vertices, 3));\n    this._updatePointerVertices(POINTER_REAR_RADIUS);\n    for (i = 0; i < POINTER_RINGS; i++) {\n      for (j = 0; j < POINTER_SEGMENTS - 1; j++) {\n        indices.push(i * POINTER_SEGMENTS + j, i * POINTER_SEGMENTS + j + 1, (i + 1) * POINTER_SEGMENTS + j);\n        indices.push(i * POINTER_SEGMENTS + j + 1, (i + 1) * POINTER_SEGMENTS + j + 1, (i + 1) * POINTER_SEGMENTS + j);\n      }\n      indices.push((i + 1) * POINTER_SEGMENTS - 1, i * POINTER_SEGMENTS, (i + 2) * POINTER_SEGMENTS - 1);\n      indices.push(i * POINTER_SEGMENTS, (i + 1) * POINTER_SEGMENTS, (i + 2) * POINTER_SEGMENTS - 1);\n    }\n    const frontCenterIndex = POINTER_SEGMENTS * (1 + POINTER_RINGS);\n    const rearCenterIndex = POINTER_SEGMENTS * (1 + POINTER_RINGS) + 1;\n    for (i = 0; i < POINTER_SEGMENTS - 1; i++) {\n      indices.push(frontCenterIndex, i + 1, i);\n      indices.push(rearCenterIndex, i + POINTER_SEGMENTS * POINTER_RINGS, i + POINTER_SEGMENTS * POINTER_RINGS + 1);\n    }\n    indices.push(frontCenterIndex, 0, POINTER_SEGMENTS - 1);\n    indices.push(rearCenterIndex, POINTER_SEGMENTS * (POINTER_RINGS + 1) - 1, POINTER_SEGMENTS * POINTER_RINGS);\n    const material = new THREE.MeshBasicMaterial();\n    material.transparent = true;\n    material.opacity = POINTER_OPACITY_MIN;\n    this.pointerGeometry.setIndex(indices);\n    this.pointerMesh = new THREE.Mesh(this.pointerGeometry, material);\n    this.pointerMesh.position.set(0, 0, -1 * POINTER_REAR_RADIUS);\n    this.pointerObject = new THREE.Object3D();\n    this.pointerObject.add(this.pointerMesh);\n    this.raycaster = new THREE.Raycaster();\n    const cursorGeometry = new THREE.SphereGeometry(CURSOR_RADIUS, 10, 10);\n    const cursorMaterial = new THREE.MeshBasicMaterial();\n    cursorMaterial.transparent = true;\n    cursorMaterial.opacity = POINTER_OPACITY_MIN;\n    this.cursorObject = new THREE.Mesh(cursorGeometry, cursorMaterial);\n    this.pointerObject.add(this.cursorObject);\n    this.add(this.pointerObject);\n  }\n  _updateRaycaster() {\n    if (this.raycaster) {\n      const pointerMatrix = this.pointerObject.matrixWorld;\n      const tempMatrix = new THREE.Matrix4();\n      tempMatrix.identity().extractRotation(pointerMatrix);\n      this.raycaster.ray.origin.setFromMatrixPosition(pointerMatrix);\n      this.raycaster.ray.direction.set(0, 0, -1).applyMatrix4(tempMatrix);\n    }\n  }\n  _updatePointer() {\n    this.pointerObject.visible = this.controller.visible;\n    const indexTip = this.hand.joints[\"index-finger-tip\"];\n    const thumbTip = this.hand.joints[\"thumb-tip\"];\n    const distance = indexTip.position.distanceTo(thumbTip.position);\n    const position = indexTip.position.clone().add(thumbTip.position).multiplyScalar(0.5);\n    this.pointerObject.position.copy(position);\n    this.pointerObject.quaternion.copy(this.controller.quaternion);\n    this.pinched = distance <= PINCH_THRESHOLD;\n    const pinchScale = (distance - PINCH_MIN) / (PINCH_MAX - PINCH_MIN);\n    const focusScale = (distance - PINCH_MIN) / (PINCH_THRESHOLD - PINCH_MIN);\n    if (pinchScale > 1) {\n      this._updatePointerVertices(POINTER_REAR_RADIUS);\n      this.pointerMesh.position.set(0, 0, -1 * POINTER_REAR_RADIUS);\n      this.pointerMesh.material.opacity = POINTER_OPACITY_MIN;\n    } else if (pinchScale > 0) {\n      const rearRadius = (POINTER_REAR_RADIUS - POINTER_REAR_RADIUS_MIN) * pinchScale + POINTER_REAR_RADIUS_MIN;\n      this._updatePointerVertices(rearRadius);\n      if (focusScale < 1) {\n        this.pointerMesh.position.set(0, 0, -1 * rearRadius - (1 - focusScale) * POINTER_ADVANCE_MAX);\n        this.pointerMesh.material.opacity = POINTER_OPACITY_MIN + (1 - focusScale) * (POINTER_OPACITY_MAX - POINTER_OPACITY_MIN);\n      } else {\n        this.pointerMesh.position.set(0, 0, -1 * rearRadius);\n        this.pointerMesh.material.opacity = POINTER_OPACITY_MIN;\n      }\n    } else {\n      this._updatePointerVertices(POINTER_REAR_RADIUS_MIN);\n      this.pointerMesh.position.set(0, 0, -1 * POINTER_REAR_RADIUS_MIN - POINTER_ADVANCE_MAX);\n      this.pointerMesh.material.opacity = POINTER_OPACITY_MAX;\n    }\n    this.cursorObject.material.opacity = this.pointerMesh.material.opacity;\n  }\n  updateMatrixWorld(force) {\n    super.updateMatrixWorld(force);\n    if (this.pointerGeometry) {\n      this._updatePointer();\n      this._updateRaycaster();\n    }\n  }\n  isPinched() {\n    return this.pinched;\n  }\n  setAttached(attached) {\n    this.attached = attached;\n  }\n  isAttached() {\n    return this.attached;\n  }\n  intersectObject(object, recursive = true) {\n    if (this.raycaster) {\n      return this.raycaster.intersectObject(object, recursive);\n    }\n  }\n  intersectObjects(objects, recursive = true) {\n    if (this.raycaster) {\n      return this.raycaster.intersectObjects(objects, recursive);\n    }\n  }\n  checkIntersections(objects, recursive = false) {\n    if (this.raycaster && !this.attached) {\n      const intersections = this.raycaster.intersectObjects(objects, recursive);\n      const direction = new THREE.Vector3(0, 0, -1);\n      if (intersections.length > 0) {\n        const intersection = intersections[0];\n        const distance = intersection.distance;\n        this.cursorObject.position.copy(direction.multiplyScalar(distance));\n      } else {\n        this.cursorObject.position.copy(direction.multiplyScalar(CURSOR_MAX_DISTANCE));\n      }\n    }\n  }\n  setCursor(distance) {\n    const direction = new THREE.Vector3(0, 0, -1);\n    if (this.raycaster && !this.attached) {\n      this.cursorObject.position.copy(direction.multiplyScalar(distance));\n    }\n  }\n  dispose() {\n    this._onDisconnected();\n    this.hand.removeEventListener(\"connected\", this._onConnected);\n    this.hand.removeEventListener(\"disconnected\", this._onDisconnected);\n  }\n}\nexport {\n  OculusHandPointerModel\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst _VRButton = class {\n  static createButton(renderer, sessionInit = {}) {\n    const button = document.createElement(\"button\");\n    function showEnterVR() {\n      let currentSession = null;\n      async function onSessionStarted(session) {\n        session.addEventListener(\"end\", onSessionEnded);\n        await renderer.xr.setSession(session);\n        button.textContent = \"EXIT VR\";\n        currentSession = session;\n      }\n      function onSessionEnded() {\n        currentSession.removeEventListener(\"end\", onSessionEnded);\n        button.textContent = \"ENTER VR\";\n        currentSession = null;\n      }\n      button.style.display = \"\";\n      button.style.cursor = \"pointer\";\n      button.style.left = \"calc(50% - 50px)\";\n      button.style.width = \"100px\";\n      button.textContent = \"ENTER VR\";\n      button.onmouseenter = () => {\n        button.style.opacity = \"1.0\";\n      };\n      button.onmouseleave = () => {\n        button.style.opacity = \"0.5\";\n      };\n      button.onclick = () => {\n        var _a;\n        if (currentSession === null) {\n          const optionalFeatures = [sessionInit.optionalFeatures, \"local-floor\", \"bounded-floor\", \"hand-tracking\"].flat().filter(Boolean);\n          (_a = navigator.xr) == null ? void 0 : _a.requestSession(\"immersive-vr\", { ...sessionInit, optionalFeatures }).then(onSessionStarted);\n        } else {\n          currentSession.end();\n        }\n      };\n    }\n    function disableButton() {\n      button.style.display = \"\";\n      button.style.cursor = \"auto\";\n      button.style.left = \"calc(50% - 75px)\";\n      button.style.width = \"150px\";\n      button.onmouseenter = null;\n      button.onmouseleave = null;\n      button.onclick = null;\n    }\n    function showWebXRNotFound() {\n      disableButton();\n      button.textContent = \"VR NOT SUPPORTED\";\n    }\n    function stylizeElement(element) {\n      element.style.position = \"absolute\";\n      element.style.bottom = \"20px\";\n      element.style.padding = \"12px 6px\";\n      element.style.border = \"1px solid #fff\";\n      element.style.borderRadius = \"4px\";\n      element.style.background = \"rgba(0,0,0,0.1)\";\n      element.style.color = \"#fff\";\n      element.style.font = \"normal 13px sans-serif\";\n      element.style.textAlign = \"center\";\n      element.style.opacity = \"0.5\";\n      element.style.outline = \"none\";\n      element.style.zIndex = \"999\";\n    }\n    if (\"xr\" in navigator) {\n      stylizeElement(button);\n      button.id = \"VRButton\";\n      button.style.display = \"none\";\n      navigator.xr.isSessionSupported(\"immersive-vr\").then((supported) => {\n        supported ? showEnterVR() : showWebXRNotFound();\n        if (supported && _VRButton.xrSessionIsGranted) {\n          button.click();\n        }\n      });\n      return button;\n    } else {\n      const message = document.createElement(\"a\");\n      if (window.isSecureContext === false) {\n        message.href = document.location.href.replace(/^http:/, \"https:\");\n        message.innerHTML = \"WEBXR NEEDS HTTPS\";\n      } else {\n        message.href = \"https://immersiveweb.dev/\";\n        message.innerHTML = \"WEBXR NOT AVAILABLE\";\n      }\n      message.style.left = \"calc(50% - 90px)\";\n      message.style.width = \"180px\";\n      message.style.textDecoration = \"none\";\n      stylizeElement(message);\n      return message;\n    }\n  }\n  static registerSessionGrantedListener() {\n    if (\"xr\" in navigator) {\n      ;\n      navigator.xr.addEventListener(\"sessiongranted\", () => {\n        _VRButton.xrSessionIsGranted = true;\n      });\n    }\n  }\n};\nlet VRButton = _VRButton;\n__publicField(VRButton, \"xrSessionIsGranted\", false);\nexport {\n  VRButton\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst MotionControllerConstants = {\n  Handedness: {\n    NONE: \"none\",\n    LEFT: \"left\",\n    RIGHT: \"right\"\n  },\n  ComponentState: {\n    DEFAULT: \"default\",\n    TOUCHED: \"touched\",\n    PRESSED: \"pressed\"\n  },\n  ComponentProperty: {\n    BUTTON: \"button\",\n    X_AXIS: \"xAxis\",\n    Y_AXIS: \"yAxis\",\n    STATE: \"state\"\n  },\n  ComponentType: {\n    TRIGGER: \"trigger\",\n    SQUEEZE: \"squeeze\",\n    TOUCHPAD: \"touchpad\",\n    THUMBSTICK: \"thumbstick\",\n    BUTTON: \"button\"\n  },\n  ButtonTouchThreshold: 0.05,\n  AxisTouchThreshold: 0.1,\n  VisualResponseProperty: {\n    TRANSFORM: \"transform\",\n    VISIBILITY: \"visibility\"\n  }\n};\nasync function fetchJsonFile(path) {\n  const response = await fetch(path);\n  if (!response.ok) {\n    throw new Error(response.statusText);\n  } else {\n    return response.json();\n  }\n}\nasync function fetchProfilesList(basePath) {\n  if (!basePath) {\n    throw new Error(\"No basePath supplied\");\n  }\n  const profileListFileName = \"profilesList.json\";\n  const profilesList = await fetchJsonFile(`${basePath}/${profileListFileName}`);\n  return profilesList;\n}\nasync function fetchProfile(xrInputSource, basePath, defaultProfile = null, getAssetPath = true) {\n  if (!xrInputSource) {\n    throw new Error(\"No xrInputSource supplied\");\n  }\n  if (!basePath) {\n    throw new Error(\"No basePath supplied\");\n  }\n  const supportedProfilesList = await fetchProfilesList(basePath);\n  let match = void 0;\n  xrInputSource.profiles.some((profileId) => {\n    const supportedProfile = supportedProfilesList[profileId];\n    if (supportedProfile) {\n      match = {\n        profileId,\n        profilePath: `${basePath}/${supportedProfile.path}`,\n        deprecated: !!supportedProfile.deprecated\n      };\n    }\n    return !!match;\n  });\n  if (!match) {\n    if (!defaultProfile) {\n      throw new Error(\"No matching profile name found\");\n    }\n    const supportedProfile = supportedProfilesList[defaultProfile];\n    if (!supportedProfile) {\n      throw new Error(`No matching profile name found and default profile \"${defaultProfile}\" missing.`);\n    }\n    match = {\n      profileId: defaultProfile,\n      profilePath: `${basePath}/${supportedProfile.path}`,\n      deprecated: !!supportedProfile.deprecated\n    };\n  }\n  const profile = await fetchJsonFile(match.profilePath);\n  let assetPath = void 0;\n  if (getAssetPath) {\n    let layout;\n    if (xrInputSource.handedness === \"any\") {\n      layout = profile.layouts[Object.keys(profile.layouts)[0]];\n    } else {\n      layout = profile.layouts[xrInputSource.handedness];\n    }\n    if (!layout) {\n      throw new Error(`No matching handedness, ${xrInputSource.handedness}, in profile ${match.profileId}`);\n    }\n    if (layout.assetPath) {\n      assetPath = match.profilePath.replace(\"profile.json\", layout.assetPath);\n    }\n  }\n  return { profile, assetPath };\n}\nconst defaultComponentValues = {\n  xAxis: 0,\n  yAxis: 0,\n  button: 0,\n  state: MotionControllerConstants.ComponentState.DEFAULT\n};\nfunction normalizeAxes(x = 0, y = 0) {\n  let xAxis = x;\n  let yAxis = y;\n  const hypotenuse = Math.sqrt(x * x + y * y);\n  if (hypotenuse > 1) {\n    const theta = Math.atan2(y, x);\n    xAxis = Math.cos(theta);\n    yAxis = Math.sin(theta);\n  }\n  const result = {\n    normalizedXAxis: xAxis * 0.5 + 0.5,\n    normalizedYAxis: yAxis * 0.5 + 0.5\n  };\n  return result;\n}\nclass VisualResponse {\n  constructor(visualResponseDescription) {\n    __publicField(this, \"value\");\n    __publicField(this, \"componentProperty\");\n    __publicField(this, \"states\");\n    __publicField(this, \"valueNodeName\");\n    __publicField(this, \"valueNodeProperty\");\n    __publicField(this, \"minNodeName\");\n    __publicField(this, \"maxNodeName\");\n    __publicField(this, \"valueNode\");\n    __publicField(this, \"minNode\");\n    __publicField(this, \"maxNode\");\n    this.componentProperty = visualResponseDescription.componentProperty;\n    this.states = visualResponseDescription.states;\n    this.valueNodeName = visualResponseDescription.valueNodeName;\n    this.valueNodeProperty = visualResponseDescription.valueNodeProperty;\n    if (this.valueNodeProperty === MotionControllerConstants.VisualResponseProperty.TRANSFORM) {\n      this.minNodeName = visualResponseDescription.minNodeName;\n      this.maxNodeName = visualResponseDescription.maxNodeName;\n    }\n    this.value = 0;\n    this.updateFromComponent(defaultComponentValues);\n  }\n  /**\n   * Computes the visual response's interpolation weight based on component state\n   * @param {Object} componentValues - The component from which to update\n   * @param {number | undefined} xAxis - The reported X axis value of the component\n   * @param {number | undefined} yAxis - The reported Y axis value of the component\n   * @param {number | undefined} button - The reported value of the component's button\n   * @param {string} state - The component's active state\n   */\n  updateFromComponent({\n    xAxis,\n    yAxis,\n    button,\n    state\n  }) {\n    const { normalizedXAxis, normalizedYAxis } = normalizeAxes(xAxis, yAxis);\n    switch (this.componentProperty) {\n      case MotionControllerConstants.ComponentProperty.X_AXIS:\n        this.value = this.states.includes(state) ? normalizedXAxis : 0.5;\n        break;\n      case MotionControllerConstants.ComponentProperty.Y_AXIS:\n        this.value = this.states.includes(state) ? normalizedYAxis : 0.5;\n        break;\n      case MotionControllerConstants.ComponentProperty.BUTTON:\n        this.value = this.states.includes(state) && button ? button : 0;\n        break;\n      case MotionControllerConstants.ComponentProperty.STATE:\n        if (this.valueNodeProperty === MotionControllerConstants.VisualResponseProperty.VISIBILITY) {\n          this.value = this.states.includes(state);\n        } else {\n          this.value = this.states.includes(state) ? 1 : 0;\n        }\n        break;\n      default:\n        throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`);\n    }\n  }\n}\nclass Component {\n  /**\n   * @param {string} componentId - Id of the component\n   * @param {InputProfileComponent} componentDescription - Description of the component to be created\n   */\n  constructor(componentId, componentDescription) {\n    __publicField(this, \"id\");\n    __publicField(this, \"values\");\n    __publicField(this, \"type\");\n    __publicField(this, \"gamepadIndices\");\n    __publicField(this, \"rootNodeName\");\n    __publicField(this, \"visualResponses\");\n    __publicField(this, \"touchPointNodeName\");\n    __publicField(this, \"touchPointNode\");\n    if (!componentId || !componentDescription || !componentDescription.visualResponses || !componentDescription.gamepadIndices || Object.keys(componentDescription.gamepadIndices).length === 0) {\n      throw new Error(\"Invalid arguments supplied\");\n    }\n    this.id = componentId;\n    this.type = componentDescription.type;\n    this.rootNodeName = componentDescription.rootNodeName;\n    this.touchPointNodeName = componentDescription.touchPointNodeName;\n    this.visualResponses = {};\n    Object.keys(componentDescription.visualResponses).forEach((responseName) => {\n      const visualResponse = new VisualResponse(componentDescription.visualResponses[responseName]);\n      this.visualResponses[responseName] = visualResponse;\n    });\n    this.gamepadIndices = Object.assign({}, componentDescription.gamepadIndices);\n    this.values = {\n      state: MotionControllerConstants.ComponentState.DEFAULT,\n      button: this.gamepadIndices.button !== void 0 ? 0 : void 0,\n      xAxis: this.gamepadIndices.xAxis !== void 0 ? 0 : void 0,\n      yAxis: this.gamepadIndices.yAxis !== void 0 ? 0 : void 0\n    };\n  }\n  get data() {\n    const data = { id: this.id, ...this.values };\n    return data;\n  }\n  /**\n   * @description Poll for updated data based on current gamepad state\n   * @param {Object} gamepad - The gamepad object from which the component data should be polled\n   */\n  updateFromGamepad(gamepad) {\n    this.values.state = MotionControllerConstants.ComponentState.DEFAULT;\n    if (this.gamepadIndices.button !== void 0 && gamepad.buttons.length > this.gamepadIndices.button) {\n      const gamepadButton = gamepad.buttons[this.gamepadIndices.button];\n      this.values.button = gamepadButton.value;\n      this.values.button = this.values.button < 0 ? 0 : this.values.button;\n      this.values.button = this.values.button > 1 ? 1 : this.values.button;\n      if (gamepadButton.pressed || this.values.button === 1) {\n        this.values.state = MotionControllerConstants.ComponentState.PRESSED;\n      } else if (gamepadButton.touched || this.values.button > MotionControllerConstants.ButtonTouchThreshold) {\n        this.values.state = MotionControllerConstants.ComponentState.TOUCHED;\n      }\n    }\n    if (this.gamepadIndices.xAxis !== void 0 && gamepad.axes.length > this.gamepadIndices.xAxis) {\n      this.values.xAxis = gamepad.axes[this.gamepadIndices.xAxis];\n      this.values.xAxis = this.values.xAxis < -1 ? -1 : this.values.xAxis;\n      this.values.xAxis = this.values.xAxis > 1 ? 1 : this.values.xAxis;\n      if (this.values.state === MotionControllerConstants.ComponentState.DEFAULT && Math.abs(this.values.xAxis) > MotionControllerConstants.AxisTouchThreshold) {\n        this.values.state = MotionControllerConstants.ComponentState.TOUCHED;\n      }\n    }\n    if (this.gamepadIndices.yAxis !== void 0 && gamepad.axes.length > this.gamepadIndices.yAxis) {\n      this.values.yAxis = gamepad.axes[this.gamepadIndices.yAxis];\n      this.values.yAxis = this.values.yAxis < -1 ? -1 : this.values.yAxis;\n      this.values.yAxis = this.values.yAxis > 1 ? 1 : this.values.yAxis;\n      if (this.values.state === MotionControllerConstants.ComponentState.DEFAULT && Math.abs(this.values.yAxis) > MotionControllerConstants.AxisTouchThreshold) {\n        this.values.state = MotionControllerConstants.ComponentState.TOUCHED;\n      }\n    }\n    Object.values(this.visualResponses).forEach((visualResponse) => {\n      visualResponse.updateFromComponent(this.values);\n    });\n  }\n}\nclass MotionController {\n  /**\n   * @param {XRInputSource} xrInputSource - The XRInputSource to build the MotionController around\n   * @param {Profile} profile - The best matched profile description for the supplied xrInputSource\n   * @param {string} assetUrl\n   */\n  constructor(xrInputSource, profile, assetUrl) {\n    __publicField(this, \"xrInputSource\");\n    __publicField(this, \"assetUrl\");\n    __publicField(this, \"layoutDescription\");\n    __publicField(this, \"id\");\n    __publicField(this, \"components\");\n    if (!xrInputSource) {\n      throw new Error(\"No xrInputSource supplied\");\n    }\n    if (!profile) {\n      throw new Error(\"No profile supplied\");\n    }\n    if (!profile.layouts[xrInputSource.handedness]) {\n      throw new Error(\"No layout for \" + xrInputSource.handedness + \" handedness\");\n    }\n    this.xrInputSource = xrInputSource;\n    this.assetUrl = assetUrl;\n    this.id = profile.profileId;\n    this.layoutDescription = profile.layouts[xrInputSource.handedness];\n    this.components = {};\n    Object.keys(this.layoutDescription.components).forEach((componentId) => {\n      const componentDescription = this.layoutDescription.components[componentId];\n      this.components[componentId] = new Component(componentId, componentDescription);\n    });\n    this.updateFromGamepad();\n  }\n  get gripSpace() {\n    return this.xrInputSource.gripSpace;\n  }\n  get targetRaySpace() {\n    return this.xrInputSource.targetRaySpace;\n  }\n  /**\n   * @description Returns a subset of component data for simplified debugging\n   */\n  get data() {\n    const data = [];\n    Object.values(this.components).forEach((component) => {\n      data.push(component.data);\n    });\n    return data;\n  }\n  /**\n   * @description Poll for updated data based on current gamepad state\n   */\n  updateFromGamepad() {\n    Object.values(this.components).forEach((component) => {\n      component.updateFromGamepad(this.xrInputSource.gamepad);\n    });\n  }\n}\nexport {\n  MotionController,\n  MotionControllerConstants,\n  fetchProfile,\n  fetchProfilesList\n};\n", "import { Matrix4, Vector3, SphereGeometry, BoxGeometry, MeshStandardMaterial, InstancedMesh, DynamicDrawUsage } from \"three\";\nconst _matrix = /* @__PURE__ */ new Matrix4();\nconst _vector = /* @__PURE__ */ new Vector3();\nclass XRHandPrimitiveModel {\n  constructor(handModel, controller, path, handedness, options) {\n    this.controller = controller;\n    this.handModel = handModel;\n    this.envMap = null;\n    let geometry;\n    if (!options || !options.primitive || options.primitive === \"sphere\") {\n      geometry = new SphereGeometry(1, 10, 10);\n    } else if (options.primitive === \"box\") {\n      geometry = new BoxGeometry(1, 1, 1);\n    }\n    const material = new MeshStandardMaterial();\n    this.handMesh = new InstancedMesh(geometry, material, 30);\n    this.handMesh.instanceMatrix.setUsage(DynamicDrawUsage);\n    this.handMesh.castShadow = true;\n    this.handMesh.receiveShadow = true;\n    this.handModel.add(this.handMesh);\n    this.joints = [\n      \"wrist\",\n      \"thumb-metacarpal\",\n      \"thumb-phalanx-proximal\",\n      \"thumb-phalanx-distal\",\n      \"thumb-tip\",\n      \"index-finger-metacarpal\",\n      \"index-finger-phalanx-proximal\",\n      \"index-finger-phalanx-intermediate\",\n      \"index-finger-phalanx-distal\",\n      \"index-finger-tip\",\n      \"middle-finger-metacarpal\",\n      \"middle-finger-phalanx-proximal\",\n      \"middle-finger-phalanx-intermediate\",\n      \"middle-finger-phalanx-distal\",\n      \"middle-finger-tip\",\n      \"ring-finger-metacarpal\",\n      \"ring-finger-phalanx-proximal\",\n      \"ring-finger-phalanx-intermediate\",\n      \"ring-finger-phalanx-distal\",\n      \"ring-finger-tip\",\n      \"pinky-finger-metacarpal\",\n      \"pinky-finger-phalanx-proximal\",\n      \"pinky-finger-phalanx-intermediate\",\n      \"pinky-finger-phalanx-distal\",\n      \"pinky-finger-tip\"\n    ];\n  }\n  updateMesh() {\n    const defaultRadius = 8e-3;\n    const joints = this.controller.joints;\n    let count = 0;\n    for (let i = 0; i < this.joints.length; i++) {\n      const joint = joints[this.joints[i]];\n      if (joint.visible) {\n        _vector.setScalar(joint.jointRadius || defaultRadius);\n        _matrix.compose(joint.position, joint.quaternion, _vector);\n        this.handMesh.setMatrixAt(i, _matrix);\n        count++;\n      }\n    }\n    this.handMesh.count = count;\n    this.handMesh.instanceMatrix.needsUpdate = true;\n  }\n}\nexport {\n  XRHandPrimitiveModel\n};\n", "import { Vector3, BoxGeometry } from \"three\";\nconst tempNormal = /* @__PURE__ */ new Vector3();\nfunction getUv(faceDirVector, normal, uvAxis, projectionAxis, radius, sideLength) {\n  const totArcLength = 2 * Math.PI * radius / 4;\n  const centerLength = Math.max(sideLength - 2 * radius, 0);\n  const halfArc = Math.PI / 4;\n  tempNormal.copy(normal);\n  tempNormal[projectionAxis] = 0;\n  tempNormal.normalize();\n  const arcUvRatio = 0.5 * totArcLength / (totArcLength + centerLength);\n  const arcAngleRatio = 1 - tempNormal.angleTo(faceDirVector) / halfArc;\n  if (Math.sign(tempNormal[uvAxis]) === 1) {\n    return arcAngleRatio * arcUvRatio;\n  } else {\n    const lenUv = centerLength / (totArcLength + centerLength);\n    return lenUv + arcUvRatio + arcUvRatio * (1 - arcAngleRatio);\n  }\n}\nclass RoundedBoxGeometry extends BoxGeometry {\n  constructor(width = 1, height = 1, depth = 1, segments = 2, radius = 0.1) {\n    segments = segments * 2 + 1;\n    radius = Math.min(width / 2, height / 2, depth / 2, radius);\n    super(1, 1, 1, segments, segments, segments);\n    if (segments === 1)\n      return;\n    const geometry2 = this.toNonIndexed();\n    this.index = null;\n    this.attributes.position = geometry2.attributes.position;\n    this.attributes.normal = geometry2.attributes.normal;\n    this.attributes.uv = geometry2.attributes.uv;\n    const position = new Vector3();\n    const normal = new Vector3();\n    const box = new Vector3(width, height, depth).divideScalar(2).subScalar(radius);\n    const positions = this.attributes.position.array;\n    const normals = this.attributes.normal.array;\n    const uvs = this.attributes.uv.array;\n    const faceTris = positions.length / 6;\n    const faceDirVector = new Vector3();\n    const halfSegmentSize = 0.5 / segments;\n    for (let i = 0, j = 0; i < positions.length; i += 3, j += 2) {\n      position.fromArray(positions, i);\n      normal.copy(position);\n      normal.x -= Math.sign(normal.x) * halfSegmentSize;\n      normal.y -= Math.sign(normal.y) * halfSegmentSize;\n      normal.z -= Math.sign(normal.z) * halfSegmentSize;\n      normal.normalize();\n      positions[i + 0] = box.x * Math.sign(position.x) + normal.x * radius;\n      positions[i + 1] = box.y * Math.sign(position.y) + normal.y * radius;\n      positions[i + 2] = box.z * Math.sign(position.z) + normal.z * radius;\n      normals[i + 0] = normal.x;\n      normals[i + 1] = normal.y;\n      normals[i + 2] = normal.z;\n      const side = Math.floor(i / faceTris);\n      switch (side) {\n        case 0:\n          faceDirVector.set(1, 0, 0);\n          uvs[j + 0] = getUv(faceDirVector, normal, \"z\", \"y\", radius, depth);\n          uvs[j + 1] = 1 - getUv(faceDirVector, normal, \"y\", \"z\", radius, height);\n          break;\n        case 1:\n          faceDirVector.set(-1, 0, 0);\n          uvs[j + 0] = 1 - getUv(faceDirVector, normal, \"z\", \"y\", radius, depth);\n          uvs[j + 1] = 1 - getUv(faceDirVector, normal, \"y\", \"z\", radius, height);\n          break;\n        case 2:\n          faceDirVector.set(0, 1, 0);\n          uvs[j + 0] = 1 - getUv(faceDirVector, normal, \"x\", \"z\", radius, width);\n          uvs[j + 1] = getUv(faceDirVector, normal, \"z\", \"x\", radius, depth);\n          break;\n        case 3:\n          faceDirVector.set(0, -1, 0);\n          uvs[j + 0] = 1 - getUv(faceDirVector, normal, \"x\", \"z\", radius, width);\n          uvs[j + 1] = 1 - getUv(faceDirVector, normal, \"z\", \"x\", radius, depth);\n          break;\n        case 4:\n          faceDirVector.set(0, 0, 1);\n          uvs[j + 0] = 1 - getUv(faceDirVector, normal, \"x\", \"y\", radius, width);\n          uvs[j + 1] = 1 - getUv(faceDirVector, normal, \"y\", \"x\", radius, height);\n          break;\n        case 5:\n          faceDirVector.set(0, 0, -1);\n          uvs[j + 0] = getUv(faceDirVector, normal, \"x\", \"y\", radius, width);\n          uvs[j + 1] = 1 - getUv(faceDirVector, normal, \"y\", \"x\", radius, height);\n          break;\n      }\n    }\n  }\n}\nexport {\n  RoundedBoxGeometry\n};\n", "import { BufferGeometry, Vector3, Matrix4, Float32BufferAttribute } from \"three\";\nclass DecalGeometry extends BufferGeometry {\n  constructor(mesh, position, orientation, size) {\n    super();\n    const vertices = [];\n    const normals = [];\n    const uvs = [];\n    const plane = new Vector3();\n    const projectorMatrix = new Matrix4();\n    projectorMatrix.makeRotationFromEuler(orientation);\n    projectorMatrix.setPosition(position);\n    const projectorMatrixInverse = new Matrix4();\n    projectorMatrixInverse.copy(projectorMatrix).invert();\n    generate();\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    this.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n    function generate() {\n      let i;\n      let decalVertices = [];\n      const vertex = new Vector3();\n      const normal = new Vector3();\n      if (mesh.geometry.isGeometry === true) {\n        console.error(\"THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.\");\n        return;\n      }\n      const geometry = mesh.geometry;\n      const positionAttribute = geometry.attributes.position;\n      const normalAttribute = geometry.attributes.normal;\n      if (geometry.index !== null) {\n        const index = geometry.index;\n        for (i = 0; i < index.count; i++) {\n          vertex.fromBufferAttribute(positionAttribute, index.getX(i));\n          normal.fromBufferAttribute(normalAttribute, index.getX(i));\n          pushDecalVertex(decalVertices, vertex, normal);\n        }\n      } else {\n        for (i = 0; i < positionAttribute.count; i++) {\n          vertex.fromBufferAttribute(positionAttribute, i);\n          normal.fromBufferAttribute(normalAttribute, i);\n          pushDecalVertex(decalVertices, vertex, normal);\n        }\n      }\n      decalVertices = clipGeometry(decalVertices, plane.set(1, 0, 0));\n      decalVertices = clipGeometry(decalVertices, plane.set(-1, 0, 0));\n      decalVertices = clipGeometry(decalVertices, plane.set(0, 1, 0));\n      decalVertices = clipGeometry(decalVertices, plane.set(0, -1, 0));\n      decalVertices = clipGeometry(decalVertices, plane.set(0, 0, 1));\n      decalVertices = clipGeometry(decalVertices, plane.set(0, 0, -1));\n      for (i = 0; i < decalVertices.length; i++) {\n        const decalVertex = decalVertices[i];\n        uvs.push(0.5 + decalVertex.position.x / size.x, 0.5 + decalVertex.position.y / size.y);\n        decalVertex.position.applyMatrix4(projectorMatrix);\n        vertices.push(decalVertex.position.x, decalVertex.position.y, decalVertex.position.z);\n        normals.push(decalVertex.normal.x, decalVertex.normal.y, decalVertex.normal.z);\n      }\n    }\n    function pushDecalVertex(decalVertices, vertex, normal) {\n      vertex.applyMatrix4(mesh.matrixWorld);\n      vertex.applyMatrix4(projectorMatrixInverse);\n      normal.transformDirection(mesh.matrixWorld);\n      decalVertices.push(new DecalVertex(vertex.clone(), normal.clone()));\n    }\n    function clipGeometry(inVertices, plane2) {\n      const outVertices = [];\n      const s = 0.5 * Math.abs(size.dot(plane2));\n      for (let i = 0; i < inVertices.length; i += 3) {\n        let v1Out, v2Out, v3Out, total = 0;\n        let nV1, nV2, nV3, nV4;\n        const d1 = inVertices[i + 0].position.dot(plane2) - s;\n        const d2 = inVertices[i + 1].position.dot(plane2) - s;\n        const d3 = inVertices[i + 2].position.dot(plane2) - s;\n        v1Out = d1 > 0;\n        v2Out = d2 > 0;\n        v3Out = d3 > 0;\n        total = (v1Out ? 1 : 0) + (v2Out ? 1 : 0) + (v3Out ? 1 : 0);\n        switch (total) {\n          case 0: {\n            outVertices.push(inVertices[i]);\n            outVertices.push(inVertices[i + 1]);\n            outVertices.push(inVertices[i + 2]);\n            break;\n          }\n          case 1: {\n            if (v1Out) {\n              nV1 = inVertices[i + 1];\n              nV2 = inVertices[i + 2];\n              nV3 = clip(inVertices[i], nV1, plane2, s);\n              nV4 = clip(inVertices[i], nV2, plane2, s);\n            }\n            if (v2Out) {\n              nV1 = inVertices[i];\n              nV2 = inVertices[i + 2];\n              nV3 = clip(inVertices[i + 1], nV1, plane2, s);\n              nV4 = clip(inVertices[i + 1], nV2, plane2, s);\n              outVertices.push(nV3);\n              outVertices.push(nV2.clone());\n              outVertices.push(nV1.clone());\n              outVertices.push(nV2.clone());\n              outVertices.push(nV3.clone());\n              outVertices.push(nV4);\n              break;\n            }\n            if (v3Out) {\n              nV1 = inVertices[i];\n              nV2 = inVertices[i + 1];\n              nV3 = clip(inVertices[i + 2], nV1, plane2, s);\n              nV4 = clip(inVertices[i + 2], nV2, plane2, s);\n            }\n            outVertices.push(nV1.clone());\n            outVertices.push(nV2.clone());\n            outVertices.push(nV3);\n            outVertices.push(nV4);\n            outVertices.push(nV3.clone());\n            outVertices.push(nV2.clone());\n            break;\n          }\n          case 2: {\n            if (!v1Out) {\n              nV1 = inVertices[i].clone();\n              nV2 = clip(nV1, inVertices[i + 1], plane2, s);\n              nV3 = clip(nV1, inVertices[i + 2], plane2, s);\n              outVertices.push(nV1);\n              outVertices.push(nV2);\n              outVertices.push(nV3);\n            }\n            if (!v2Out) {\n              nV1 = inVertices[i + 1].clone();\n              nV2 = clip(nV1, inVertices[i + 2], plane2, s);\n              nV3 = clip(nV1, inVertices[i], plane2, s);\n              outVertices.push(nV1);\n              outVertices.push(nV2);\n              outVertices.push(nV3);\n            }\n            if (!v3Out) {\n              nV1 = inVertices[i + 2].clone();\n              nV2 = clip(nV1, inVertices[i], plane2, s);\n              nV3 = clip(nV1, inVertices[i + 1], plane2, s);\n              outVertices.push(nV1);\n              outVertices.push(nV2);\n              outVertices.push(nV3);\n            }\n            break;\n          }\n          case 3: {\n            break;\n          }\n        }\n      }\n      return outVertices;\n    }\n    function clip(v0, v1, p, s) {\n      const d0 = v0.position.dot(p) - s;\n      const d1 = v1.position.dot(p) - s;\n      const s0 = d0 / (d0 - d1);\n      const v = new DecalVertex(\n        new Vector3(\n          v0.position.x + s0 * (v1.position.x - v0.position.x),\n          v0.position.y + s0 * (v1.position.y - v0.position.y),\n          v0.position.z + s0 * (v1.position.z - v0.position.z)\n        ),\n        new Vector3(\n          v0.normal.x + s0 * (v1.normal.x - v0.normal.x),\n          v0.normal.y + s0 * (v1.normal.y - v0.normal.y),\n          v0.normal.z + s0 * (v1.normal.z - v0.normal.z)\n        )\n      );\n      return v;\n    }\n  }\n}\nclass DecalVertex {\n  constructor(position, normal) {\n    this.position = position;\n    this.normal = normal;\n  }\n  clone() {\n    return new this.constructor(this.position.clone(), this.normal.clone());\n  }\n}\nexport {\n  DecalGeometry,\n  DecalVertex\n};\n", "import { ExtrudeGeometry } from \"three\";\nclass TextGeometry extends ExtrudeGeometry {\n  constructor(text, parameters = {}) {\n    const {\n      bevelEnabled = false,\n      bevelSize = 8,\n      bevelThickness = 10,\n      font,\n      height = 50,\n      size = 100,\n      lineHeight = 1,\n      letterSpacing = 0,\n      ...rest\n    } = parameters;\n    if (font === void 0) {\n      super();\n    } else {\n      const shapes = font.generateShapes(text, size, { lineHeight, letterSpacing });\n      super(shapes, { ...rest, bevelEnabled, bevelSize, bevelThickness, depth: height });\n    }\n    this.type = \"TextGeometry\";\n  }\n}\nexport {\n  TextGeometry as TextBufferGeometry,\n  TextGeometry\n};\n", "import { Matrix4, Vector3 } from \"three\";\nconst inverseProjectionMatrix = /* @__PURE__ */ new Matrix4();\nclass CSMFrustum {\n  constructor(data) {\n    data = data || {};\n    this.vertices = {\n      near: [new Vector3(), new Vector3(), new Vector3(), new Vector3()],\n      far: [new Vector3(), new Vector3(), new Vector3(), new Vector3()]\n    };\n    if (data.projectionMatrix !== void 0) {\n      this.setFromProjectionMatrix(data.projectionMatrix, data.maxFar || 1e4);\n    }\n  }\n  setFromProjectionMatrix(projectionMatrix, maxFar) {\n    const isOrthographic = projectionMatrix.elements[2 * 4 + 3] === 0;\n    inverseProjectionMatrix.copy(projectionMatrix).invert();\n    this.vertices.near[0].set(1, 1, -1);\n    this.vertices.near[1].set(1, -1, -1);\n    this.vertices.near[2].set(-1, -1, -1);\n    this.vertices.near[3].set(-1, 1, -1);\n    this.vertices.near.forEach(function(v) {\n      v.applyMatrix4(inverseProjectionMatrix);\n    });\n    this.vertices.far[0].set(1, 1, 1);\n    this.vertices.far[1].set(1, -1, 1);\n    this.vertices.far[2].set(-1, -1, 1);\n    this.vertices.far[3].set(-1, 1, 1);\n    this.vertices.far.forEach(function(v) {\n      v.applyMatrix4(inverseProjectionMatrix);\n      const absZ = Math.abs(v.z);\n      if (isOrthographic) {\n        v.z *= Math.min(maxFar / absZ, 1);\n      } else {\n        v.multiplyScalar(Math.min(maxFar / absZ, 1));\n      }\n    });\n    return this.vertices;\n  }\n  split(breaks, target) {\n    while (breaks.length > target.length) {\n      target.push(new CSMFrustum());\n    }\n    target.length = breaks.length;\n    for (let i = 0; i < breaks.length; i++) {\n      const cascade = target[i];\n      if (i === 0) {\n        for (let j = 0; j < 4; j++) {\n          cascade.vertices.near[j].copy(this.vertices.near[j]);\n        }\n      } else {\n        for (let j = 0; j < 4; j++) {\n          cascade.vertices.near[j].lerpVectors(this.vertices.near[j], this.vertices.far[j], breaks[i - 1]);\n        }\n      }\n      if (i === breaks.length - 1) {\n        for (let j = 0; j < 4; j++) {\n          cascade.vertices.far[j].copy(this.vertices.far[j]);\n        }\n      } else {\n        for (let j = 0; j < 4; j++) {\n          cascade.vertices.far[j].lerpVectors(this.vertices.near[j], this.vertices.far[j], breaks[i]);\n        }\n      }\n    }\n  }\n  toSpace(cameraMatrix, target) {\n    for (let i = 0; i < 4; i++) {\n      target.vertices.near[i].copy(this.vertices.near[i]).applyMatrix4(cameraMatrix);\n      target.vertices.far[i].copy(this.vertices.far[i]).applyMatrix4(cameraMatrix);\n    }\n  }\n}\nexport {\n  CSMFrustum\n};\n", "import { Matrix4, Vector3, Box3, DirectionalLight, MathUtils, ShaderChunk, Vector2 } from \"three\";\nimport { CSMFrustum } from \"./CSMFrustum.js\";\nimport { CSMShader } from \"./CSMShader.js\";\nconst _cameraToLightMatrix = /* @__PURE__ */ new Matrix4();\nconst _lightSpaceFrustum = /* @__PURE__ */ new CSMFrustum();\nconst _center = /* @__PURE__ */ new Vector3();\nconst _bbox = /* @__PURE__ */ new Box3();\nconst _uniformArray = [];\nconst _logArray = [];\nclass CSM {\n  constructor(data) {\n    data = data || {};\n    this.camera = data.camera;\n    this.parent = data.parent;\n    this.cascades = data.cascades || 3;\n    this.maxFar = data.maxFar || 1e5;\n    this.mode = data.mode || \"practical\";\n    this.shadowMapSize = data.shadowMapSize || 2048;\n    this.shadowBias = data.shadowBias || 1e-6;\n    this.lightDirection = data.lightDirection || new Vector3(1, -1, 1).normalize();\n    this.lightIntensity = data.lightIntensity || 1;\n    this.lightNear = data.lightNear || 1;\n    this.lightFar = data.lightFar || 2e3;\n    this.lightMargin = data.lightMargin || 200;\n    this.customSplitsCallback = data.customSplitsCallback;\n    this.fade = false;\n    this.mainFrustum = new CSMFrustum();\n    this.frustums = [];\n    this.breaks = [];\n    this.lights = [];\n    this.shaders = /* @__PURE__ */ new Map();\n    this.createLights();\n    this.updateFrustums();\n    this.injectInclude();\n  }\n  createLights() {\n    for (let i = 0; i < this.cascades; i++) {\n      const light = new DirectionalLight(16777215, this.lightIntensity);\n      light.castShadow = true;\n      light.shadow.mapSize.width = this.shadowMapSize;\n      light.shadow.mapSize.height = this.shadowMapSize;\n      light.shadow.camera.near = this.lightNear;\n      light.shadow.camera.far = this.lightFar;\n      light.shadow.bias = this.shadowBias;\n      this.parent.add(light);\n      this.parent.add(light.target);\n      this.lights.push(light);\n    }\n  }\n  initCascades() {\n    const camera = this.camera;\n    camera.updateProjectionMatrix();\n    this.mainFrustum.setFromProjectionMatrix(camera.projectionMatrix, this.maxFar);\n    this.mainFrustum.split(this.breaks, this.frustums);\n  }\n  updateShadowBounds() {\n    const frustums = this.frustums;\n    for (let i = 0; i < frustums.length; i++) {\n      const light = this.lights[i];\n      const shadowCam = light.shadow.camera;\n      const frustum = this.frustums[i];\n      const nearVerts = frustum.vertices.near;\n      const farVerts = frustum.vertices.far;\n      const point1 = farVerts[0];\n      let point2;\n      if (point1.distanceTo(farVerts[2]) > point1.distanceTo(nearVerts[2])) {\n        point2 = farVerts[2];\n      } else {\n        point2 = nearVerts[2];\n      }\n      let squaredBBWidth = point1.distanceTo(point2);\n      if (this.fade) {\n        const camera = this.camera;\n        const far = Math.max(camera.far, this.maxFar);\n        const linearDepth = frustum.vertices.far[0].z / (far - camera.near);\n        const margin = 0.25 * Math.pow(linearDepth, 2) * (far - camera.near);\n        squaredBBWidth += margin;\n      }\n      shadowCam.left = -squaredBBWidth / 2;\n      shadowCam.right = squaredBBWidth / 2;\n      shadowCam.top = squaredBBWidth / 2;\n      shadowCam.bottom = -squaredBBWidth / 2;\n      shadowCam.updateProjectionMatrix();\n    }\n  }\n  getBreaks() {\n    const camera = this.camera;\n    const far = Math.min(camera.far, this.maxFar);\n    this.breaks.length = 0;\n    switch (this.mode) {\n      case \"uniform\":\n        uniformSplit(this.cascades, camera.near, far, this.breaks);\n        break;\n      case \"logarithmic\":\n        logarithmicSplit(this.cascades, camera.near, far, this.breaks);\n        break;\n      case \"practical\":\n        practicalSplit(this.cascades, camera.near, far, 0.5, this.breaks);\n        break;\n      case \"custom\":\n        if (this.customSplitsCallback === void 0)\n          console.error(\"CSM: Custom split scheme callback not defined.\");\n        this.customSplitsCallback(this.cascades, camera.near, far, this.breaks);\n        break;\n    }\n    function uniformSplit(amount, near, far2, target) {\n      for (let i = 1; i < amount; i++) {\n        target.push((near + (far2 - near) * i / amount) / far2);\n      }\n      target.push(1);\n    }\n    function logarithmicSplit(amount, near, far2, target) {\n      for (let i = 1; i < amount; i++) {\n        target.push(near * (far2 / near) ** (i / amount) / far2);\n      }\n      target.push(1);\n    }\n    function practicalSplit(amount, near, far2, lambda, target) {\n      _uniformArray.length = 0;\n      _logArray.length = 0;\n      logarithmicSplit(amount, near, far2, _logArray);\n      uniformSplit(amount, near, far2, _uniformArray);\n      for (let i = 1; i < amount; i++) {\n        target.push(MathUtils.lerp(_uniformArray[i - 1], _logArray[i - 1], lambda));\n      }\n      target.push(1);\n    }\n  }\n  update() {\n    const camera = this.camera;\n    const frustums = this.frustums;\n    for (let i = 0; i < frustums.length; i++) {\n      const light = this.lights[i];\n      const shadowCam = light.shadow.camera;\n      const texelWidth = (shadowCam.right - shadowCam.left) / this.shadowMapSize;\n      const texelHeight = (shadowCam.top - shadowCam.bottom) / this.shadowMapSize;\n      light.shadow.camera.updateMatrixWorld(true);\n      _cameraToLightMatrix.multiplyMatrices(light.shadow.camera.matrixWorldInverse, camera.matrixWorld);\n      frustums[i].toSpace(_cameraToLightMatrix, _lightSpaceFrustum);\n      const nearVerts = _lightSpaceFrustum.vertices.near;\n      const farVerts = _lightSpaceFrustum.vertices.far;\n      _bbox.makeEmpty();\n      for (let j = 0; j < 4; j++) {\n        _bbox.expandByPoint(nearVerts[j]);\n        _bbox.expandByPoint(farVerts[j]);\n      }\n      _bbox.getCenter(_center);\n      _center.z = _bbox.max.z + this.lightMargin;\n      _center.x = Math.floor(_center.x / texelWidth) * texelWidth;\n      _center.y = Math.floor(_center.y / texelHeight) * texelHeight;\n      _center.applyMatrix4(light.shadow.camera.matrixWorld);\n      light.position.copy(_center);\n      light.target.position.copy(_center);\n      light.target.position.x += this.lightDirection.x;\n      light.target.position.y += this.lightDirection.y;\n      light.target.position.z += this.lightDirection.z;\n    }\n  }\n  injectInclude() {\n    ShaderChunk.lights_fragment_begin = CSMShader.lights_fragment_begin;\n    ShaderChunk.lights_pars_begin = CSMShader.lights_pars_begin;\n  }\n  setupMaterial(material) {\n    material.defines = material.defines || {};\n    material.defines.USE_CSM = 1;\n    material.defines.CSM_CASCADES = this.cascades;\n    if (this.fade) {\n      material.defines.CSM_FADE = \"\";\n    }\n    const breaksVec2 = [];\n    const scope = this;\n    const shaders = this.shaders;\n    material.onBeforeCompile = function(shader) {\n      const far = Math.min(scope.camera.far, scope.maxFar);\n      scope.getExtendedBreaks(breaksVec2);\n      shader.uniforms.CSM_cascades = { value: breaksVec2 };\n      shader.uniforms.cameraNear = { value: scope.camera.near };\n      shader.uniforms.shadowFar = { value: far };\n      shaders.set(material, shader);\n    };\n    shaders.set(material, null);\n  }\n  updateUniforms() {\n    const far = Math.min(this.camera.far, this.maxFar);\n    const shaders = this.shaders;\n    shaders.forEach(function(shader, material) {\n      if (shader !== null) {\n        const uniforms = shader.uniforms;\n        this.getExtendedBreaks(uniforms.CSM_cascades.value);\n        uniforms.cameraNear.value = this.camera.near;\n        uniforms.shadowFar.value = far;\n      }\n      if (!this.fade && \"CSM_FADE\" in material.defines) {\n        delete material.defines.CSM_FADE;\n        material.needsUpdate = true;\n      } else if (this.fade && !(\"CSM_FADE\" in material.defines)) {\n        material.defines.CSM_FADE = \"\";\n        material.needsUpdate = true;\n      }\n    }, this);\n  }\n  getExtendedBreaks(target) {\n    while (target.length < this.breaks.length) {\n      target.push(new Vector2());\n    }\n    target.length = this.breaks.length;\n    for (let i = 0; i < this.cascades; i++) {\n      const amount = this.breaks[i];\n      const prev = this.breaks[i - 1] || 0;\n      target[i].x = prev;\n      target[i].y = amount;\n    }\n  }\n  updateFrustums() {\n    this.getBreaks();\n    this.initCascades();\n    this.updateShadowBounds();\n    this.updateUniforms();\n  }\n  remove() {\n    for (let i = 0; i < this.lights.length; i++) {\n      this.parent.remove(this.lights[i]);\n    }\n  }\n  dispose() {\n    const shaders = this.shaders;\n    shaders.forEach(function(shader, material) {\n      delete material.onBeforeCompile;\n      delete material.defines.USE_CSM;\n      delete material.defines.CSM_CASCADES;\n      delete material.defines.CSM_FADE;\n      if (shader !== null) {\n        delete shader.uniforms.CSM_cascades;\n        delete shader.uniforms.cameraNear;\n        delete shader.uniforms.shadowFar;\n      }\n      material.needsUpdate = true;\n    });\n    shaders.clear();\n  }\n}\nexport {\n  CSM\n};\n", "const ACESFilmicToneMappingShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    exposure: { value: 1 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"#define saturate(a) clamp( a, 0.0, 1.0 )\",\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform float exposure;\",\n    \"varying vec2 vUv;\",\n    \"vec3 RRTAndODTFit( vec3 v ) {\",\n    \"\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\",\n    \"\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\",\n    \"\treturn a / b;\",\n    \"}\",\n    \"vec3 ACESFilmicToneMapping( vec3 color ) {\",\n    // sRGB => XYZ => D65_2_D60 => AP1 => RRT_SAT\n    \"\tconst mat3 ACESInputMat = mat3(\",\n    \"\t\tvec3( 0.59719, 0.07600, 0.02840 ),\",\n    // transposed from source\n    \"\t\tvec3( 0.35458, 0.90834, 0.13383 ),\",\n    \"\t\tvec3( 0.04823, 0.01566, 0.83777 )\",\n    \"\t);\",\n    // ODT_SAT => XYZ => D60_2_D65 => sRGB\n    \"\tconst mat3 ACESOutputMat = mat3(\",\n    \"\t\tvec3(  1.60475, -0.10208, -0.00327 ),\",\n    // transposed from source\n    \"\t\tvec3( -0.53108,  1.10813, -0.07276 ),\",\n    \"\t\tvec3( -0.07367, -0.00605,  1.07602 )\",\n    \"\t);\",\n    \"\tcolor = ACESInputMat * color;\",\n    // Apply RRT and ODT\n    \"\tcolor = RRTAndODTFit( color );\",\n    \"\tcolor = ACESOutputMat * color;\",\n    // Clamp to [0, 1]\n    \"\treturn saturate( color );\",\n    \"}\",\n    \"void main() {\",\n    \"\tvec4 tex = texture2D( tDiffuse, vUv );\",\n    \"\ttex.rgb *= exposure / 0.6;\",\n    // pre-exposed, outside of the tone mapping function\n    \"\tgl_FragColor = vec4( ACESFilmicToneMapping( tex.rgb ), tex.a );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  ACESFilmicToneMappingShader\n};\n", "const BasicShader = {\n  uniforms: {},\n  vertexShader: [\n    \"void main() {\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\"void main() {\", \"\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 0.5 );\", \"}\"].join(\"\\n\")\n};\nexport {\n  BasicShader\n};\n", "const BleachBypassShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    opacity: { value: 1 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float opacity;\",\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 base = texture2D( tDiffuse, vUv );\",\n    \"\tvec3 lumCoeff = vec3( 0.25, 0.65, 0.1 );\",\n    \"\tfloat lum = dot( lumCoeff, base.rgb );\",\n    \"\tvec3 blend = vec3( lum );\",\n    \"\tfloat L = min( 1.0, max( 0.0, 10.0 * ( lum - 0.45 ) ) );\",\n    \"\tvec3 result1 = 2.0 * base.rgb * blend;\",\n    \"\tvec3 result2 = 1.0 - 2.0 * ( 1.0 - blend ) * ( 1.0 - base.rgb );\",\n    \"\tvec3 newColor = mix( result1, result2, L );\",\n    \"\tfloat A2 = opacity * base.a;\",\n    \"\tvec3 mixRGB = A2 * newColor.rgb;\",\n    \"\tmixRGB += ( ( 1.0 - A2 ) * base.rgb );\",\n    \"\tgl_FragColor = vec4( mixRGB, base.a );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  BleachBypassShader\n};\n", "const BlendShader = {\n  uniforms: {\n    tDiffuse1: { value: null },\n    tDiffuse2: { value: null },\n    mixRatio: { value: 0.5 },\n    opacity: { value: 1 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float opacity;\",\n    \"uniform float mixRatio;\",\n    \"uniform sampler2D tDiffuse1;\",\n    \"uniform sampler2D tDiffuse2;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 texel1 = texture2D( tDiffuse1, vUv );\",\n    \"\tvec4 texel2 = texture2D( tDiffuse2, vUv );\",\n    \"\tgl_FragColor = opacity * mix( texel1, texel2, mixRatio );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  BlendShader\n};\n", "const BrightnessContrastShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    brightness: { value: 0 },\n    contrast: { value: 0 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform float brightness;\",\n    \"uniform float contrast;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tgl_FragColor = texture2D( tDiffuse, vUv );\",\n    \"\tgl_FragColor.rgb += brightness;\",\n    \"\tif (contrast > 0.0) {\",\n    \"\t\tgl_FragColor.rgb = (gl_FragColor.rgb - 0.5) / (1.0 - contrast) + 0.5;\",\n    \"\t} else {\",\n    \"\t\tgl_FragColor.rgb = (gl_FragColor.rgb - 0.5) * (1.0 + contrast) + 0.5;\",\n    \"\t}\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  BrightnessContrastShader\n};\n", "import { Vector3 } from \"three\";\nconst ColorCorrectionShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    powRGB: { value: /* @__PURE__ */ new Vector3(2, 2, 2) },\n    mulRGB: { value: /* @__PURE__ */ new Vector3(1, 1, 1) },\n    addRGB: { value: /* @__PURE__ */ new Vector3(0, 0, 0) }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform vec3 powRGB;\",\n    \"uniform vec3 mulRGB;\",\n    \"uniform vec3 addRGB;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tgl_FragColor = texture2D( tDiffuse, vUv );\",\n    \"\tgl_FragColor.rgb = mulRGB * pow( ( gl_FragColor.rgb + addRGB ), powRGB );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  ColorCorrectionShader\n};\n", "import { Color } from \"three\";\nconst ColorifyShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    color: { value: /* @__PURE__ */ new Color(16777215) }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform vec3 color;\",\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 texel = texture2D( tDiffuse, vUv );\",\n    \"\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\",\n    \"\tfloat v = dot( texel.xyz, luma );\",\n    \"\tgl_FragColor = vec4( v * color, texel.w );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  ColorifyShader\n};\n", "const DOFMipMapShader = {\n  uniforms: {\n    tColor: { value: null },\n    tDepth: { value: null },\n    focus: { value: 1 },\n    maxblur: { value: 1 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float focus;\",\n    \"uniform float maxblur;\",\n    \"uniform sampler2D tColor;\",\n    \"uniform sampler2D tDepth;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 depth = texture2D( tDepth, vUv );\",\n    \"\tfloat factor = depth.x - focus;\",\n    \"\tvec4 col = texture2D( tColor, vUv, 2.0 * maxblur * abs( focus - depth.x ) );\",\n    \"\tgl_FragColor = col;\",\n    \"\tgl_FragColor.a = 1.0;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  DOFMipMapShader\n};\n", "import { Vector2 } from \"three\";\nconst FXAAShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    resolution: { value: /* @__PURE__ */ new Vector2(1 / 1024, 1 / 512) }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"precision highp float;\",\n    \"\",\n    \"uniform sampler2D tDiffuse;\",\n    \"\",\n    \"uniform vec2 resolution;\",\n    \"\",\n    \"varying vec2 vUv;\",\n    \"\",\n    \"// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)\",\n    \"\",\n    \"//----------------------------------------------------------------------------------\",\n    \"// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag\",\n    \"// SDK Version: v3.00\",\n    \"// Email:       gameworks@nvidia.com\",\n    \"// Site:        http://developer.nvidia.com/\",\n    \"//\",\n    \"// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.\",\n    \"//\",\n    \"// Redistribution and use in source and binary forms, with or without\",\n    \"// modification, are permitted provided that the following conditions\",\n    \"// are met:\",\n    \"//  * Redistributions of source code must retain the above copyright\",\n    \"//    notice, this list of conditions and the following disclaimer.\",\n    \"//  * Redistributions in binary form must reproduce the above copyright\",\n    \"//    notice, this list of conditions and the following disclaimer in the\",\n    \"//    documentation and/or other materials provided with the distribution.\",\n    \"//  * Neither the name of NVIDIA CORPORATION nor the names of its\",\n    \"//    contributors may be used to endorse or promote products derived\",\n    \"//    from this software without specific prior written permission.\",\n    \"//\",\n    \"// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY\",\n    \"// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\",\n    \"// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\",\n    \"// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\",\n    \"// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\",\n    \"// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\",\n    \"// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\",\n    \"// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\",\n    \"// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\",\n    \"// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\",\n    \"// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\",\n    \"//\",\n    \"//----------------------------------------------------------------------------------\",\n    \"\",\n    \"#define FXAA_PC 1\",\n    \"#define FXAA_GLSL_100 1\",\n    \"#define FXAA_QUALITY_PRESET 12\",\n    \"\",\n    \"#define FXAA_GREEN_AS_LUMA 1\",\n    \"\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#ifndef FXAA_PC_CONSOLE\",\n    \"    //\",\n    \"    // The console algorithm for PC is included\",\n    \"    // for developers targeting really low spec machines.\",\n    \"    // Likely better to just run FXAA_PC, and use a really low preset.\",\n    \"    //\",\n    \"    #define FXAA_PC_CONSOLE 0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#ifndef FXAA_GLSL_120\",\n    \"    #define FXAA_GLSL_120 0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#ifndef FXAA_GLSL_130\",\n    \"    #define FXAA_GLSL_130 0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#ifndef FXAA_HLSL_3\",\n    \"    #define FXAA_HLSL_3 0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#ifndef FXAA_HLSL_4\",\n    \"    #define FXAA_HLSL_4 0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#ifndef FXAA_HLSL_5\",\n    \"    #define FXAA_HLSL_5 0\",\n    \"#endif\",\n    \"/*==========================================================================*/\",\n    \"#ifndef FXAA_GREEN_AS_LUMA\",\n    \"    //\",\n    \"    // For those using non-linear color,\",\n    \"    // and either not able to get luma in alpha, or not wanting to,\",\n    \"    // this enables FXAA to run using green as a proxy for luma.\",\n    \"    // So with this enabled, no need to pack luma in alpha.\",\n    \"    //\",\n    \"    // This will turn off AA on anything which lacks some amount of green.\",\n    \"    // Pure red and blue or combination of only R and B, will get no AA.\",\n    \"    //\",\n    \"    // Might want to lower the settings for both,\",\n    \"    //    fxaaConsoleEdgeThresholdMin\",\n    \"    //    fxaaQualityEdgeThresholdMin\",\n    \"    // In order to insure AA does not get turned off on colors\",\n    \"    // which contain a minor amount of green.\",\n    \"    //\",\n    \"    // 1 = On.\",\n    \"    // 0 = Off.\",\n    \"    //\",\n    \"    #define FXAA_GREEN_AS_LUMA 0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#ifndef FXAA_EARLY_EXIT\",\n    \"    //\",\n    \"    // Controls algorithm's early exit path.\",\n    \"    // On PS3 turning this ON adds 2 cycles to the shader.\",\n    \"    // On 360 turning this OFF adds 10ths of a millisecond to the shader.\",\n    \"    // Turning this off on console will result in a more blurry image.\",\n    \"    // So this defaults to on.\",\n    \"    //\",\n    \"    // 1 = On.\",\n    \"    // 0 = Off.\",\n    \"    //\",\n    \"    #define FXAA_EARLY_EXIT 1\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#ifndef FXAA_DISCARD\",\n    \"    //\",\n    \"    // Only valid for PC OpenGL currently.\",\n    \"    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.\",\n    \"    //\",\n    \"    // 1 = Use discard on pixels which don't need AA.\",\n    \"    //     For APIs which enable concurrent TEX+ROP from same surface.\",\n    \"    // 0 = Return unchanged color on pixels which don't need AA.\",\n    \"    //\",\n    \"    #define FXAA_DISCARD 0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#ifndef FXAA_FAST_PIXEL_OFFSET\",\n    \"    //\",\n    \"    // Used for GLSL 120 only.\",\n    \"    //\",\n    \"    // 1 = GL API supports fast pixel offsets\",\n    \"    // 0 = do not use fast pixel offsets\",\n    \"    //\",\n    \"    #ifdef GL_EXT_gpu_shader4\",\n    \"        #define FXAA_FAST_PIXEL_OFFSET 1\",\n    \"    #endif\",\n    \"    #ifdef GL_NV_gpu_shader5\",\n    \"        #define FXAA_FAST_PIXEL_OFFSET 1\",\n    \"    #endif\",\n    \"    #ifdef GL_ARB_gpu_shader5\",\n    \"        #define FXAA_FAST_PIXEL_OFFSET 1\",\n    \"    #endif\",\n    \"    #ifndef FXAA_FAST_PIXEL_OFFSET\",\n    \"        #define FXAA_FAST_PIXEL_OFFSET 0\",\n    \"    #endif\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#ifndef FXAA_GATHER4_ALPHA\",\n    \"    //\",\n    \"    // 1 = API supports gather4 on alpha channel.\",\n    \"    // 0 = API does not support gather4 on alpha channel.\",\n    \"    //\",\n    \"    #if (FXAA_HLSL_5 == 1)\",\n    \"        #define FXAA_GATHER4_ALPHA 1\",\n    \"    #endif\",\n    \"    #ifdef GL_ARB_gpu_shader5\",\n    \"        #define FXAA_GATHER4_ALPHA 1\",\n    \"    #endif\",\n    \"    #ifdef GL_NV_gpu_shader5\",\n    \"        #define FXAA_GATHER4_ALPHA 1\",\n    \"    #endif\",\n    \"    #ifndef FXAA_GATHER4_ALPHA\",\n    \"        #define FXAA_GATHER4_ALPHA 0\",\n    \"    #endif\",\n    \"#endif\",\n    \"\",\n    \"\",\n    \"/*============================================================================\",\n    \"                        FXAA QUALITY - TUNING KNOBS\",\n    \"------------------------------------------------------------------------------\",\n    \"NOTE the other tuning knobs are now in the shader function inputs!\",\n    \"============================================================================*/\",\n    \"#ifndef FXAA_QUALITY_PRESET\",\n    \"    //\",\n    \"    // Choose the quality preset.\",\n    \"    // This needs to be compiled into the shader as it effects code.\",\n    \"    // Best option to include multiple presets is to\",\n    \"    // in each shader define the preset, then include this file.\",\n    \"    //\",\n    \"    // OPTIONS\",\n    \"    // -----------------------------------------------------------------------\",\n    \"    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)\",\n    \"    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)\",\n    \"    // 39       - no dither, very expensive\",\n    \"    //\",\n    \"    // NOTES\",\n    \"    // -----------------------------------------------------------------------\",\n    \"    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)\",\n    \"    // 13 = about same speed as FXAA 3.9 and better than 12\",\n    \"    // 23 = closest to FXAA 3.9 visually and performance wise\",\n    \"    //  _ = the lowest digit is directly related to performance\",\n    \"    // _  = the highest digit is directly related to style\",\n    \"    //\",\n    \"    #define FXAA_QUALITY_PRESET 12\",\n    \"#endif\",\n    \"\",\n    \"\",\n    \"/*============================================================================\",\n    \"\",\n    \"                           FXAA QUALITY - PRESETS\",\n    \"\",\n    \"============================================================================*/\",\n    \"\",\n    \"/*============================================================================\",\n    \"                     FXAA QUALITY - MEDIUM DITHER PRESETS\",\n    \"============================================================================*/\",\n    \"#if (FXAA_QUALITY_PRESET == 10)\",\n    \"    #define FXAA_QUALITY_PS 3\",\n    \"    #define FXAA_QUALITY_P0 1.5\",\n    \"    #define FXAA_QUALITY_P1 3.0\",\n    \"    #define FXAA_QUALITY_P2 12.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 11)\",\n    \"    #define FXAA_QUALITY_PS 4\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 3.0\",\n    \"    #define FXAA_QUALITY_P3 12.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 12)\",\n    \"    #define FXAA_QUALITY_PS 5\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 2.0\",\n    \"    #define FXAA_QUALITY_P3 4.0\",\n    \"    #define FXAA_QUALITY_P4 12.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 13)\",\n    \"    #define FXAA_QUALITY_PS 6\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 2.0\",\n    \"    #define FXAA_QUALITY_P3 2.0\",\n    \"    #define FXAA_QUALITY_P4 4.0\",\n    \"    #define FXAA_QUALITY_P5 12.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 14)\",\n    \"    #define FXAA_QUALITY_PS 7\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 2.0\",\n    \"    #define FXAA_QUALITY_P3 2.0\",\n    \"    #define FXAA_QUALITY_P4 2.0\",\n    \"    #define FXAA_QUALITY_P5 4.0\",\n    \"    #define FXAA_QUALITY_P6 12.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 15)\",\n    \"    #define FXAA_QUALITY_PS 8\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 2.0\",\n    \"    #define FXAA_QUALITY_P3 2.0\",\n    \"    #define FXAA_QUALITY_P4 2.0\",\n    \"    #define FXAA_QUALITY_P5 2.0\",\n    \"    #define FXAA_QUALITY_P6 4.0\",\n    \"    #define FXAA_QUALITY_P7 12.0\",\n    \"#endif\",\n    \"\",\n    \"/*============================================================================\",\n    \"                     FXAA QUALITY - LOW DITHER PRESETS\",\n    \"============================================================================*/\",\n    \"#if (FXAA_QUALITY_PRESET == 20)\",\n    \"    #define FXAA_QUALITY_PS 3\",\n    \"    #define FXAA_QUALITY_P0 1.5\",\n    \"    #define FXAA_QUALITY_P1 2.0\",\n    \"    #define FXAA_QUALITY_P2 8.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 21)\",\n    \"    #define FXAA_QUALITY_PS 4\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 2.0\",\n    \"    #define FXAA_QUALITY_P3 8.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 22)\",\n    \"    #define FXAA_QUALITY_PS 5\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 2.0\",\n    \"    #define FXAA_QUALITY_P3 2.0\",\n    \"    #define FXAA_QUALITY_P4 8.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 23)\",\n    \"    #define FXAA_QUALITY_PS 6\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 2.0\",\n    \"    #define FXAA_QUALITY_P3 2.0\",\n    \"    #define FXAA_QUALITY_P4 2.0\",\n    \"    #define FXAA_QUALITY_P5 8.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 24)\",\n    \"    #define FXAA_QUALITY_PS 7\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 2.0\",\n    \"    #define FXAA_QUALITY_P3 2.0\",\n    \"    #define FXAA_QUALITY_P4 2.0\",\n    \"    #define FXAA_QUALITY_P5 3.0\",\n    \"    #define FXAA_QUALITY_P6 8.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 25)\",\n    \"    #define FXAA_QUALITY_PS 8\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 2.0\",\n    \"    #define FXAA_QUALITY_P3 2.0\",\n    \"    #define FXAA_QUALITY_P4 2.0\",\n    \"    #define FXAA_QUALITY_P5 2.0\",\n    \"    #define FXAA_QUALITY_P6 4.0\",\n    \"    #define FXAA_QUALITY_P7 8.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 26)\",\n    \"    #define FXAA_QUALITY_PS 9\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 2.0\",\n    \"    #define FXAA_QUALITY_P3 2.0\",\n    \"    #define FXAA_QUALITY_P4 2.0\",\n    \"    #define FXAA_QUALITY_P5 2.0\",\n    \"    #define FXAA_QUALITY_P6 2.0\",\n    \"    #define FXAA_QUALITY_P7 4.0\",\n    \"    #define FXAA_QUALITY_P8 8.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 27)\",\n    \"    #define FXAA_QUALITY_PS 10\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 2.0\",\n    \"    #define FXAA_QUALITY_P3 2.0\",\n    \"    #define FXAA_QUALITY_P4 2.0\",\n    \"    #define FXAA_QUALITY_P5 2.0\",\n    \"    #define FXAA_QUALITY_P6 2.0\",\n    \"    #define FXAA_QUALITY_P7 2.0\",\n    \"    #define FXAA_QUALITY_P8 4.0\",\n    \"    #define FXAA_QUALITY_P9 8.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 28)\",\n    \"    #define FXAA_QUALITY_PS 11\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 2.0\",\n    \"    #define FXAA_QUALITY_P3 2.0\",\n    \"    #define FXAA_QUALITY_P4 2.0\",\n    \"    #define FXAA_QUALITY_P5 2.0\",\n    \"    #define FXAA_QUALITY_P6 2.0\",\n    \"    #define FXAA_QUALITY_P7 2.0\",\n    \"    #define FXAA_QUALITY_P8 2.0\",\n    \"    #define FXAA_QUALITY_P9 4.0\",\n    \"    #define FXAA_QUALITY_P10 8.0\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_QUALITY_PRESET == 29)\",\n    \"    #define FXAA_QUALITY_PS 12\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.5\",\n    \"    #define FXAA_QUALITY_P2 2.0\",\n    \"    #define FXAA_QUALITY_P3 2.0\",\n    \"    #define FXAA_QUALITY_P4 2.0\",\n    \"    #define FXAA_QUALITY_P5 2.0\",\n    \"    #define FXAA_QUALITY_P6 2.0\",\n    \"    #define FXAA_QUALITY_P7 2.0\",\n    \"    #define FXAA_QUALITY_P8 2.0\",\n    \"    #define FXAA_QUALITY_P9 2.0\",\n    \"    #define FXAA_QUALITY_P10 4.0\",\n    \"    #define FXAA_QUALITY_P11 8.0\",\n    \"#endif\",\n    \"\",\n    \"/*============================================================================\",\n    \"                     FXAA QUALITY - EXTREME QUALITY\",\n    \"============================================================================*/\",\n    \"#if (FXAA_QUALITY_PRESET == 39)\",\n    \"    #define FXAA_QUALITY_PS 12\",\n    \"    #define FXAA_QUALITY_P0 1.0\",\n    \"    #define FXAA_QUALITY_P1 1.0\",\n    \"    #define FXAA_QUALITY_P2 1.0\",\n    \"    #define FXAA_QUALITY_P3 1.0\",\n    \"    #define FXAA_QUALITY_P4 1.0\",\n    \"    #define FXAA_QUALITY_P5 1.5\",\n    \"    #define FXAA_QUALITY_P6 2.0\",\n    \"    #define FXAA_QUALITY_P7 2.0\",\n    \"    #define FXAA_QUALITY_P8 2.0\",\n    \"    #define FXAA_QUALITY_P9 2.0\",\n    \"    #define FXAA_QUALITY_P10 4.0\",\n    \"    #define FXAA_QUALITY_P11 8.0\",\n    \"#endif\",\n    \"\",\n    \"\",\n    \"\",\n    \"/*============================================================================\",\n    \"\",\n    \"                                API PORTING\",\n    \"\",\n    \"============================================================================*/\",\n    \"#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)\",\n    \"    #define FxaaBool bool\",\n    \"    #define FxaaDiscard discard\",\n    \"    #define FxaaFloat float\",\n    \"    #define FxaaFloat2 vec2\",\n    \"    #define FxaaFloat3 vec3\",\n    \"    #define FxaaFloat4 vec4\",\n    \"    #define FxaaHalf float\",\n    \"    #define FxaaHalf2 vec2\",\n    \"    #define FxaaHalf3 vec3\",\n    \"    #define FxaaHalf4 vec4\",\n    \"    #define FxaaInt2 ivec2\",\n    \"    #define FxaaSat(x) clamp(x, 0.0, 1.0)\",\n    \"    #define FxaaTex sampler2D\",\n    \"#else\",\n    \"    #define FxaaBool bool\",\n    \"    #define FxaaDiscard clip(-1)\",\n    \"    #define FxaaFloat float\",\n    \"    #define FxaaFloat2 float2\",\n    \"    #define FxaaFloat3 float3\",\n    \"    #define FxaaFloat4 float4\",\n    \"    #define FxaaHalf half\",\n    \"    #define FxaaHalf2 half2\",\n    \"    #define FxaaHalf3 half3\",\n    \"    #define FxaaHalf4 half4\",\n    \"    #define FxaaSat(x) saturate(x)\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_GLSL_100 == 1)\",\n    \"  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)\",\n    \"  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_GLSL_120 == 1)\",\n    \"    // Requires,\",\n    \"    //  #version 120\",\n    \"    // And at least,\",\n    \"    //  #extension GL_EXT_gpu_shader4 : enable\",\n    \"    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)\",\n    \"    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)\",\n    \"    #if (FXAA_FAST_PIXEL_OFFSET == 1)\",\n    \"        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)\",\n    \"    #else\",\n    \"        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)\",\n    \"    #endif\",\n    \"    #if (FXAA_GATHER4_ALPHA == 1)\",\n    \"        // use #extension GL_ARB_gpu_shader5 : enable\",\n    \"        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\",\n    \"        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\",\n    \"        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\",\n    \"        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\",\n    \"    #endif\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_GLSL_130 == 1)\",\n    '    // Requires \"#version 130\" or better',\n    \"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)\",\n    \"    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)\",\n    \"    #if (FXAA_GATHER4_ALPHA == 1)\",\n    \"        // use #extension GL_ARB_gpu_shader5 : enable\",\n    \"        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\",\n    \"        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\",\n    \"        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\",\n    \"        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\",\n    \"    #endif\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_HLSL_3 == 1)\",\n    \"    #define FxaaInt2 float2\",\n    \"    #define FxaaTex sampler2D\",\n    \"    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))\",\n    \"    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_HLSL_4 == 1)\",\n    \"    #define FxaaInt2 int2\",\n    \"    struct FxaaTex { SamplerState smpl; Texture2D tex; };\",\n    \"    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\",\n    \"    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\",\n    \"#endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"#if (FXAA_HLSL_5 == 1)\",\n    \"    #define FxaaInt2 int2\",\n    \"    struct FxaaTex { SamplerState smpl; Texture2D tex; };\",\n    \"    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\",\n    \"    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\",\n    \"    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)\",\n    \"    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)\",\n    \"    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)\",\n    \"    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)\",\n    \"#endif\",\n    \"\",\n    \"\",\n    \"/*============================================================================\",\n    \"                   GREEN AS LUMA OPTION SUPPORT FUNCTION\",\n    \"============================================================================*/\",\n    \"#if (FXAA_GREEN_AS_LUMA == 0)\",\n    \"    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }\",\n    \"#else\",\n    \"    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\",\n    \"#endif\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"/*============================================================================\",\n    \"\",\n    \"                             FXAA3 QUALITY - PC\",\n    \"\",\n    \"============================================================================*/\",\n    \"#if (FXAA_PC == 1)\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"FxaaFloat4 FxaaPixelShader(\",\n    \"    //\",\n    \"    // Use noperspective interpolation here (turn off perspective interpolation).\",\n    \"    // {xy} = center of pixel\",\n    \"    FxaaFloat2 pos,\",\n    \"    //\",\n    \"    // Used only for FXAA Console, and not used on the 360 version.\",\n    \"    // Use noperspective interpolation here (turn off perspective interpolation).\",\n    \"    // {xy_} = upper left of pixel\",\n    \"    // {_zw} = lower right of pixel\",\n    \"    FxaaFloat4 fxaaConsolePosPos,\",\n    \"    //\",\n    \"    // Input color texture.\",\n    \"    // {rgb_} = color in linear or perceptual color space\",\n    \"    // if (FXAA_GREEN_AS_LUMA == 0)\",\n    \"    //     {__a} = luma in perceptual color space (not linear)\",\n    \"    FxaaTex tex,\",\n    \"    //\",\n    \"    // Only used on the optimized 360 version of FXAA Console.\",\n    '    // For everything but 360, just use the same input here as for \"tex\".',\n    \"    // For 360, same texture, just alias with a 2nd sampler.\",\n    \"    // This sampler needs to have an exponent bias of -1.\",\n    \"    FxaaTex fxaaConsole360TexExpBiasNegOne,\",\n    \"    //\",\n    \"    // Only used on the optimized 360 version of FXAA Console.\",\n    '    // For everything but 360, just use the same input here as for \"tex\".',\n    \"    // For 360, same texture, just alias with a 3nd sampler.\",\n    \"    // This sampler needs to have an exponent bias of -2.\",\n    \"    FxaaTex fxaaConsole360TexExpBiasNegTwo,\",\n    \"    //\",\n    \"    // Only used on FXAA Quality.\",\n    \"    // This must be from a constant/uniform.\",\n    \"    // {x_} = 1.0/screenWidthInPixels\",\n    \"    // {_y} = 1.0/screenHeightInPixels\",\n    \"    FxaaFloat2 fxaaQualityRcpFrame,\",\n    \"    //\",\n    \"    // Only used on FXAA Console.\",\n    \"    // This must be from a constant/uniform.\",\n    \"    // This effects sub-pixel AA quality and inversely sharpness.\",\n    \"    //   Where N ranges between,\",\n    \"    //     N = 0.50 (default)\",\n    \"    //     N = 0.33 (sharper)\",\n    \"    // {x__} = -N/screenWidthInPixels\",\n    \"    // {_y_} = -N/screenHeightInPixels\",\n    \"    // {_z_} =  N/screenWidthInPixels\",\n    \"    // {__w} =  N/screenHeightInPixels\",\n    \"    FxaaFloat4 fxaaConsoleRcpFrameOpt,\",\n    \"    //\",\n    \"    // Only used on FXAA Console.\",\n    \"    // Not used on 360, but used on PS3 and PC.\",\n    \"    // This must be from a constant/uniform.\",\n    \"    // {x__} = -2.0/screenWidthInPixels\",\n    \"    // {_y_} = -2.0/screenHeightInPixels\",\n    \"    // {_z_} =  2.0/screenWidthInPixels\",\n    \"    // {__w} =  2.0/screenHeightInPixels\",\n    \"    FxaaFloat4 fxaaConsoleRcpFrameOpt2,\",\n    \"    //\",\n    \"    // Only used on FXAA Console.\",\n    \"    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.\",\n    \"    // This must be from a constant/uniform.\",\n    \"    // {x__} =  8.0/screenWidthInPixels\",\n    \"    // {_y_} =  8.0/screenHeightInPixels\",\n    \"    // {_z_} = -4.0/screenWidthInPixels\",\n    \"    // {__w} = -4.0/screenHeightInPixels\",\n    \"    FxaaFloat4 fxaaConsole360RcpFrameOpt2,\",\n    \"    //\",\n    \"    // Only used on FXAA Quality.\",\n    \"    // This used to be the FXAA_QUALITY_SUBPIX define.\",\n    \"    // It is here now to allow easier tuning.\",\n    \"    // Choose the amount of sub-pixel aliasing removal.\",\n    \"    // This can effect sharpness.\",\n    \"    //   1.00 - upper limit (softer)\",\n    \"    //   0.75 - default amount of filtering\",\n    \"    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)\",\n    \"    //   0.25 - almost off\",\n    \"    //   0.00 - completely off\",\n    \"    FxaaFloat fxaaQualitySubpix,\",\n    \"    //\",\n    \"    // Only used on FXAA Quality.\",\n    \"    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.\",\n    \"    // It is here now to allow easier tuning.\",\n    \"    // The minimum amount of local contrast required to apply algorithm.\",\n    \"    //   0.333 - too little (faster)\",\n    \"    //   0.250 - low quality\",\n    \"    //   0.166 - default\",\n    \"    //   0.125 - high quality\",\n    \"    //   0.063 - overkill (slower)\",\n    \"    FxaaFloat fxaaQualityEdgeThreshold,\",\n    \"    //\",\n    \"    // Only used on FXAA Quality.\",\n    \"    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.\",\n    \"    // It is here now to allow easier tuning.\",\n    \"    // Trims the algorithm from processing darks.\",\n    \"    //   0.0833 - upper limit (default, the start of visible unfiltered edges)\",\n    \"    //   0.0625 - high quality (faster)\",\n    \"    //   0.0312 - visible limit (slower)\",\n    \"    // Special notes when using FXAA_GREEN_AS_LUMA,\",\n    \"    //   Likely want to set this to zero.\",\n    \"    //   As colors that are mostly not-green\",\n    \"    //   will appear very dark in the green channel!\",\n    \"    //   Tune by looking at mostly non-green content,\",\n    \"    //   then start at zero and increase until aliasing is a problem.\",\n    \"    FxaaFloat fxaaQualityEdgeThresholdMin,\",\n    \"    //\",\n    \"    // Only used on FXAA Console.\",\n    \"    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.\",\n    \"    // It is here now to allow easier tuning.\",\n    \"    // This does not effect PS3, as this needs to be compiled in.\",\n    \"    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.\",\n    \"    //   Due to the PS3 being ALU bound,\",\n    \"    //   there are only three safe values here: 2 and 4 and 8.\",\n    \"    //   These options use the shaders ability to a free *|/ by 2|4|8.\",\n    \"    // For all other platforms can be a non-power of two.\",\n    \"    //   8.0 is sharper (default!!!)\",\n    \"    //   4.0 is softer\",\n    \"    //   2.0 is really soft (good only for vector graphics inputs)\",\n    \"    FxaaFloat fxaaConsoleEdgeSharpness,\",\n    \"    //\",\n    \"    // Only used on FXAA Console.\",\n    \"    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.\",\n    \"    // It is here now to allow easier tuning.\",\n    \"    // This does not effect PS3, as this needs to be compiled in.\",\n    \"    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.\",\n    \"    //   Due to the PS3 being ALU bound,\",\n    \"    //   there are only two safe values here: 1/4 and 1/8.\",\n    \"    //   These options use the shaders ability to a free *|/ by 2|4|8.\",\n    \"    // The console setting has a different mapping than the quality setting.\",\n    \"    // Other platforms can use other values.\",\n    \"    //   0.125 leaves less aliasing, but is softer (default!!!)\",\n    \"    //   0.25 leaves more aliasing, and is sharper\",\n    \"    FxaaFloat fxaaConsoleEdgeThreshold,\",\n    \"    //\",\n    \"    // Only used on FXAA Console.\",\n    \"    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.\",\n    \"    // It is here now to allow easier tuning.\",\n    \"    // Trims the algorithm from processing darks.\",\n    \"    // The console setting has a different mapping than the quality setting.\",\n    \"    // This only applies when FXAA_EARLY_EXIT is 1.\",\n    \"    // This does not apply to PS3,\",\n    \"    // PS3 was simplified to avoid more shader instructions.\",\n    \"    //   0.06 - faster but more aliasing in darks\",\n    \"    //   0.05 - default\",\n    \"    //   0.04 - slower and less aliasing in darks\",\n    \"    // Special notes when using FXAA_GREEN_AS_LUMA,\",\n    \"    //   Likely want to set this to zero.\",\n    \"    //   As colors that are mostly not-green\",\n    \"    //   will appear very dark in the green channel!\",\n    \"    //   Tune by looking at mostly non-green content,\",\n    \"    //   then start at zero and increase until aliasing is a problem.\",\n    \"    FxaaFloat fxaaConsoleEdgeThresholdMin,\",\n    \"    //\",\n    \"    // Extra constants for 360 FXAA Console only.\",\n    \"    // Use zeros or anything else for other platforms.\",\n    \"    // These must be in physical constant registers and NOT immediates.\",\n    \"    // Immediates will result in compiler un-optimizing.\",\n    \"    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)\",\n    \"    FxaaFloat4 fxaaConsole360ConstDir\",\n    \") {\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    FxaaFloat2 posM;\",\n    \"    posM.x = pos.x;\",\n    \"    posM.y = pos.y;\",\n    \"    #if (FXAA_GATHER4_ALPHA == 1)\",\n    \"        #if (FXAA_DISCARD == 0)\",\n    \"            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\",\n    \"            #if (FXAA_GREEN_AS_LUMA == 0)\",\n    \"                #define lumaM rgbyM.w\",\n    \"            #else\",\n    \"                #define lumaM rgbyM.y\",\n    \"            #endif\",\n    \"        #endif\",\n    \"        #if (FXAA_GREEN_AS_LUMA == 0)\",\n    \"            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);\",\n    \"            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));\",\n    \"        #else\",\n    \"            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);\",\n    \"            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));\",\n    \"        #endif\",\n    \"        #if (FXAA_DISCARD == 1)\",\n    \"            #define lumaM luma4A.w\",\n    \"        #endif\",\n    \"        #define lumaE luma4A.z\",\n    \"        #define lumaS luma4A.x\",\n    \"        #define lumaSE luma4A.y\",\n    \"        #define lumaNW luma4B.w\",\n    \"        #define lumaN luma4B.z\",\n    \"        #define lumaW luma4B.x\",\n    \"    #else\",\n    \"        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\",\n    \"        #if (FXAA_GREEN_AS_LUMA == 0)\",\n    \"            #define lumaM rgbyM.w\",\n    \"        #else\",\n    \"            #define lumaM rgbyM.y\",\n    \"        #endif\",\n    \"        #if (FXAA_GLSL_100 == 1)\",\n    \"          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));\",\n    \"          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));\",\n    \"          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));\",\n    \"          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));\",\n    \"        #else\",\n    \"          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\",\n    \"          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\",\n    \"          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\",\n    \"          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\",\n    \"        #endif\",\n    \"    #endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    FxaaFloat maxSM = max(lumaS, lumaM);\",\n    \"    FxaaFloat minSM = min(lumaS, lumaM);\",\n    \"    FxaaFloat maxESM = max(lumaE, maxSM);\",\n    \"    FxaaFloat minESM = min(lumaE, minSM);\",\n    \"    FxaaFloat maxWN = max(lumaN, lumaW);\",\n    \"    FxaaFloat minWN = min(lumaN, lumaW);\",\n    \"    FxaaFloat rangeMax = max(maxWN, maxESM);\",\n    \"    FxaaFloat rangeMin = min(minWN, minESM);\",\n    \"    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\",\n    \"    FxaaFloat range = rangeMax - rangeMin;\",\n    \"    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\",\n    \"    FxaaBool earlyExit = range < rangeMaxClamped;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    if(earlyExit)\",\n    \"        #if (FXAA_DISCARD == 1)\",\n    \"            FxaaDiscard;\",\n    \"        #else\",\n    \"            return rgbyM;\",\n    \"        #endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    #if (FXAA_GATHER4_ALPHA == 0)\",\n    \"        #if (FXAA_GLSL_100 == 1)\",\n    \"          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));\",\n    \"          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));\",\n    \"          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));\",\n    \"          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));\",\n    \"        #else\",\n    \"          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\",\n    \"          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\",\n    \"          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\",\n    \"          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\",\n    \"        #endif\",\n    \"    #else\",\n    \"        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));\",\n    \"        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\",\n    \"    #endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    FxaaFloat lumaNS = lumaN + lumaS;\",\n    \"    FxaaFloat lumaWE = lumaW + lumaE;\",\n    \"    FxaaFloat subpixRcpRange = 1.0/range;\",\n    \"    FxaaFloat subpixNSWE = lumaNS + lumaWE;\",\n    \"    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\",\n    \"    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    FxaaFloat lumaNESE = lumaNE + lumaSE;\",\n    \"    FxaaFloat lumaNWNE = lumaNW + lumaNE;\",\n    \"    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\",\n    \"    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    FxaaFloat lumaNWSW = lumaNW + lumaSW;\",\n    \"    FxaaFloat lumaSWSE = lumaSW + lumaSE;\",\n    \"    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\",\n    \"    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\",\n    \"    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\",\n    \"    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\",\n    \"    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\",\n    \"    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\",\n    \"    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;\",\n    \"    FxaaBool horzSpan = edgeHorz >= edgeVert;\",\n    \"    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    if(!horzSpan) lumaN = lumaW;\",\n    \"    if(!horzSpan) lumaS = lumaE;\",\n    \"    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\",\n    \"    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    FxaaFloat gradientN = lumaN - lumaM;\",\n    \"    FxaaFloat gradientS = lumaS - lumaM;\",\n    \"    FxaaFloat lumaNN = lumaN + lumaM;\",\n    \"    FxaaFloat lumaSS = lumaS + lumaM;\",\n    \"    FxaaBool pairN = abs(gradientN) >= abs(gradientS);\",\n    \"    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));\",\n    \"    if(pairN) lengthSign = -lengthSign;\",\n    \"    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    FxaaFloat2 posB;\",\n    \"    posB.x = posM.x;\",\n    \"    posB.y = posM.y;\",\n    \"    FxaaFloat2 offNP;\",\n    \"    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\",\n    \"    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\",\n    \"    if(!horzSpan) posB.x += lengthSign * 0.5;\",\n    \"    if( horzSpan) posB.y += lengthSign * 0.5;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    FxaaFloat2 posN;\",\n    \"    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\",\n    \"    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\",\n    \"    FxaaFloat2 posP;\",\n    \"    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\",\n    \"    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\",\n    \"    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\",\n    \"    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\",\n    \"    FxaaFloat subpixE = subpixC * subpixC;\",\n    \"    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    if(!pairN) lumaNN = lumaSS;\",\n    \"    FxaaFloat gradientScaled = gradient * 1.0/4.0;\",\n    \"    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;\",\n    \"    FxaaFloat subpixF = subpixD * subpixE;\",\n    \"    FxaaBool lumaMLTZero = lumaMM < 0.0;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    lumaEndN -= lumaNN * 0.5;\",\n    \"    lumaEndP -= lumaNN * 0.5;\",\n    \"    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;\",\n    \"    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;\",\n    \"    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\",\n    \"    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\",\n    \"    FxaaBool doneNP = (!doneN) || (!doneP);\",\n    \"    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\",\n    \"    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    if(doneNP) {\",\n    \"        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\n    \"        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\n    \"        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\n    \"        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\n    \"        doneN = abs(lumaEndN) >= gradientScaled;\",\n    \"        doneP = abs(lumaEndP) >= gradientScaled;\",\n    \"        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;\",\n    \"        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;\",\n    \"        doneNP = (!doneN) || (!doneP);\",\n    \"        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;\",\n    \"        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"        #if (FXAA_QUALITY_PS > 3)\",\n    \"        if(doneNP) {\",\n    \"            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\n    \"            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\n    \"            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\n    \"            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\n    \"            doneN = abs(lumaEndN) >= gradientScaled;\",\n    \"            doneP = abs(lumaEndP) >= gradientScaled;\",\n    \"            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;\",\n    \"            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;\",\n    \"            doneNP = (!doneN) || (!doneP);\",\n    \"            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;\",\n    \"            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"            #if (FXAA_QUALITY_PS > 4)\",\n    \"            if(doneNP) {\",\n    \"                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\n    \"                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\n    \"                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\n    \"                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\n    \"                doneN = abs(lumaEndN) >= gradientScaled;\",\n    \"                doneP = abs(lumaEndP) >= gradientScaled;\",\n    \"                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;\",\n    \"                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;\",\n    \"                doneNP = (!doneN) || (!doneP);\",\n    \"                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;\",\n    \"                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"                #if (FXAA_QUALITY_PS > 5)\",\n    \"                if(doneNP) {\",\n    \"                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\n    \"                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\n    \"                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\n    \"                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\n    \"                    doneN = abs(lumaEndN) >= gradientScaled;\",\n    \"                    doneP = abs(lumaEndP) >= gradientScaled;\",\n    \"                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;\",\n    \"                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;\",\n    \"                    doneNP = (!doneN) || (!doneP);\",\n    \"                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;\",\n    \"                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"                    #if (FXAA_QUALITY_PS > 6)\",\n    \"                    if(doneNP) {\",\n    \"                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\n    \"                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\n    \"                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\n    \"                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\n    \"                        doneN = abs(lumaEndN) >= gradientScaled;\",\n    \"                        doneP = abs(lumaEndP) >= gradientScaled;\",\n    \"                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;\",\n    \"                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;\",\n    \"                        doneNP = (!doneN) || (!doneP);\",\n    \"                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;\",\n    \"                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"                        #if (FXAA_QUALITY_PS > 7)\",\n    \"                        if(doneNP) {\",\n    \"                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\n    \"                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\n    \"                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\n    \"                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\n    \"                            doneN = abs(lumaEndN) >= gradientScaled;\",\n    \"                            doneP = abs(lumaEndP) >= gradientScaled;\",\n    \"                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;\",\n    \"                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;\",\n    \"                            doneNP = (!doneN) || (!doneP);\",\n    \"                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;\",\n    \"                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    #if (FXAA_QUALITY_PS > 8)\",\n    \"    if(doneNP) {\",\n    \"        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\n    \"        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\n    \"        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\n    \"        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\n    \"        doneN = abs(lumaEndN) >= gradientScaled;\",\n    \"        doneP = abs(lumaEndP) >= gradientScaled;\",\n    \"        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;\",\n    \"        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;\",\n    \"        doneNP = (!doneN) || (!doneP);\",\n    \"        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;\",\n    \"        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"        #if (FXAA_QUALITY_PS > 9)\",\n    \"        if(doneNP) {\",\n    \"            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\n    \"            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\n    \"            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\n    \"            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\n    \"            doneN = abs(lumaEndN) >= gradientScaled;\",\n    \"            doneP = abs(lumaEndP) >= gradientScaled;\",\n    \"            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;\",\n    \"            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;\",\n    \"            doneNP = (!doneN) || (!doneP);\",\n    \"            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;\",\n    \"            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"            #if (FXAA_QUALITY_PS > 10)\",\n    \"            if(doneNP) {\",\n    \"                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\n    \"                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\n    \"                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\n    \"                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\n    \"                doneN = abs(lumaEndN) >= gradientScaled;\",\n    \"                doneP = abs(lumaEndP) >= gradientScaled;\",\n    \"                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;\",\n    \"                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;\",\n    \"                doneNP = (!doneN) || (!doneP);\",\n    \"                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;\",\n    \"                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"                #if (FXAA_QUALITY_PS > 11)\",\n    \"                if(doneNP) {\",\n    \"                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\n    \"                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\n    \"                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\n    \"                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\n    \"                    doneN = abs(lumaEndN) >= gradientScaled;\",\n    \"                    doneP = abs(lumaEndP) >= gradientScaled;\",\n    \"                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;\",\n    \"                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;\",\n    \"                    doneNP = (!doneN) || (!doneP);\",\n    \"                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;\",\n    \"                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"                    #if (FXAA_QUALITY_PS > 12)\",\n    \"                    if(doneNP) {\",\n    \"                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\n    \"                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\n    \"                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\n    \"                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\n    \"                        doneN = abs(lumaEndN) >= gradientScaled;\",\n    \"                        doneP = abs(lumaEndP) >= gradientScaled;\",\n    \"                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;\",\n    \"                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;\",\n    \"                        doneNP = (!doneN) || (!doneP);\",\n    \"                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;\",\n    \"                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"                    }\",\n    \"                    #endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"                }\",\n    \"                #endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"            }\",\n    \"            #endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"        }\",\n    \"        #endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    }\",\n    \"    #endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"                        }\",\n    \"                        #endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"                    }\",\n    \"                    #endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"                }\",\n    \"                #endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"            }\",\n    \"            #endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"        }\",\n    \"        #endif\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    }\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    FxaaFloat dstN = posM.x - posN.x;\",\n    \"    FxaaFloat dstP = posP.x - posM.x;\",\n    \"    if(!horzSpan) dstN = posM.y - posN.y;\",\n    \"    if(!horzSpan) dstP = posP.y - posM.y;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\",\n    \"    FxaaFloat spanLength = (dstP + dstN);\",\n    \"    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\",\n    \"    FxaaFloat spanLengthRcp = 1.0/spanLength;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    FxaaBool directionN = dstN < dstP;\",\n    \"    FxaaFloat dst = min(dstN, dstP);\",\n    \"    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\",\n    \"    FxaaFloat subpixG = subpixF * subpixF;\",\n    \"    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\",\n    \"    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;\",\n    \"/*--------------------------------------------------------------------------*/\",\n    \"    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\",\n    \"    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\",\n    \"    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\",\n    \"    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\",\n    \"    #if (FXAA_DISCARD == 1)\",\n    \"        return FxaaTexTop(tex, posM);\",\n    \"    #else\",\n    \"        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);\",\n    \"    #endif\",\n    \"}\",\n    \"/*==========================================================================*/\",\n    \"#endif\",\n    \"\",\n    \"void main() {\",\n    \"  gl_FragColor = FxaaPixelShader(\",\n    \"    vUv,\",\n    \"    vec4(0.0),\",\n    \"    tDiffuse,\",\n    \"    tDiffuse,\",\n    \"    tDiffuse,\",\n    \"    resolution,\",\n    \"    vec4(0.0),\",\n    \"    vec4(0.0),\",\n    \"    vec4(0.0),\",\n    \"    0.75,\",\n    \"    0.166,\",\n    \"    0.0833,\",\n    \"    0.0,\",\n    \"    0.0,\",\n    \"    0.0,\",\n    \"    vec4(0.0)\",\n    \"  );\",\n    \"\",\n    \"  // TODO avoid querying texture twice for same texel\",\n    \"  gl_FragColor.a = texture2D(tDiffuse, vUv).a;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  FXAAShader\n};\n", "const FocusShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    screenWidth: { value: 1024 },\n    screenHeight: { value: 1024 },\n    sampleDistance: { value: 0.94 },\n    waveFactor: { value: 125e-5 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float screenWidth;\",\n    \"uniform float screenHeight;\",\n    \"uniform float sampleDistance;\",\n    \"uniform float waveFactor;\",\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 color, org, tmp, add;\",\n    \"\tfloat sample_dist, f;\",\n    \"\tvec2 vin;\",\n    \"\tvec2 uv = vUv;\",\n    \"\tadd = color = org = texture2D( tDiffuse, uv );\",\n    \"\tvin = ( uv - vec2( 0.5 ) ) * vec2( 1.4 );\",\n    \"\tsample_dist = dot( vin, vin ) * 2.0;\",\n    \"\tf = ( waveFactor * 100.0 + sample_dist ) * sampleDistance * 4.0;\",\n    \"\tvec2 sampleSize = vec2(  1.0 / screenWidth, 1.0 / screenHeight ) * vec2( f );\",\n    \"\tadd += tmp = texture2D( tDiffuse, uv + vec2( 0.111964, 0.993712 ) * sampleSize );\",\n    \"\tif( tmp.b < color.b ) color = tmp;\",\n    \"\tadd += tmp = texture2D( tDiffuse, uv + vec2( 0.846724, 0.532032 ) * sampleSize );\",\n    \"\tif( tmp.b < color.b ) color = tmp;\",\n    \"\tadd += tmp = texture2D( tDiffuse, uv + vec2( 0.943883, -0.330279 ) * sampleSize );\",\n    \"\tif( tmp.b < color.b ) color = tmp;\",\n    \"\tadd += tmp = texture2D( tDiffuse, uv + vec2( 0.330279, -0.943883 ) * sampleSize );\",\n    \"\tif( tmp.b < color.b ) color = tmp;\",\n    \"\tadd += tmp = texture2D( tDiffuse, uv + vec2( -0.532032, -0.846724 ) * sampleSize );\",\n    \"\tif( tmp.b < color.b ) color = tmp;\",\n    \"\tadd += tmp = texture2D( tDiffuse, uv + vec2( -0.993712, -0.111964 ) * sampleSize );\",\n    \"\tif( tmp.b < color.b ) color = tmp;\",\n    \"\tadd += tmp = texture2D( tDiffuse, uv + vec2( -0.707107, 0.707107 ) * sampleSize );\",\n    \"\tif( tmp.b < color.b ) color = tmp;\",\n    \"\tcolor = color * vec4( 2.0 ) - ( add / vec4( 8.0 ) );\",\n    \"\tcolor = color + ( add / vec4( 8.0 ) - color ) * ( vec4( 1.0 ) - vec4( sample_dist * 0.5 ) );\",\n    \"\tgl_FragColor = vec4( color.rgb * color.rgb * vec3( 0.95 ) + color.rgb, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  FocusShader\n};\n", "import { Vector2 } from \"three\";\nconst FreiChenShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    aspect: { value: /* @__PURE__ */ new Vector2(512, 512) }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"uniform vec2 aspect;\",\n    \"vec2 texel = vec2(1.0 / aspect.x, 1.0 / aspect.y);\",\n    \"mat3 G[9];\",\n    // hard coded matrix values!!!! as suggested in https://github.com/neilmendoza/ofxPostProcessing/blob/master/src/EdgePass.cpp#L45\n    \"const mat3 g0 = mat3( 0.3535533845424652, 0, -0.3535533845424652, 0.5, 0, -0.5, 0.3535533845424652, 0, -0.3535533845424652 );\",\n    \"const mat3 g1 = mat3( 0.3535533845424652, 0.5, 0.3535533845424652, 0, 0, 0, -0.3535533845424652, -0.5, -0.3535533845424652 );\",\n    \"const mat3 g2 = mat3( 0, 0.3535533845424652, -0.5, -0.3535533845424652, 0, 0.3535533845424652, 0.5, -0.3535533845424652, 0 );\",\n    \"const mat3 g3 = mat3( 0.5, -0.3535533845424652, 0, -0.3535533845424652, 0, 0.3535533845424652, 0, 0.3535533845424652, -0.5 );\",\n    \"const mat3 g4 = mat3( 0, -0.5, 0, 0.5, 0, 0.5, 0, -0.5, 0 );\",\n    \"const mat3 g5 = mat3( -0.5, 0, 0.5, 0, 0, 0, 0.5, 0, -0.5 );\",\n    \"const mat3 g6 = mat3( 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.6666666865348816, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204 );\",\n    \"const mat3 g7 = mat3( -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, 0.6666666865348816, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408 );\",\n    \"const mat3 g8 = mat3( 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408 );\",\n    \"void main(void)\",\n    \"{\",\n    \"\tG[0] = g0,\",\n    \"\tG[1] = g1,\",\n    \"\tG[2] = g2,\",\n    \"\tG[3] = g3,\",\n    \"\tG[4] = g4,\",\n    \"\tG[5] = g5,\",\n    \"\tG[6] = g6,\",\n    \"\tG[7] = g7,\",\n    \"\tG[8] = g8;\",\n    \"\tmat3 I;\",\n    \"\tfloat cnv[9];\",\n    \"\tvec3 sample;\",\n    /* fetch the 3x3 neighbourhood and use the RGB vector's length as intensity value */\n    \"\tfor (float i=0.0; i<3.0; i++) {\",\n    \"\t\tfor (float j=0.0; j<3.0; j++) {\",\n    \"\t\t\tsample = texture2D(tDiffuse, vUv + texel * vec2(i-1.0,j-1.0) ).rgb;\",\n    \"\t\t\tI[int(i)][int(j)] = length(sample);\",\n    \"\t\t}\",\n    \"\t}\",\n    /* calculate the convolution values for all the masks */\n    \"\tfor (int i=0; i<9; i++) {\",\n    \"\t\tfloat dp3 = dot(G[i][0], I[0]) + dot(G[i][1], I[1]) + dot(G[i][2], I[2]);\",\n    \"\t\tcnv[i] = dp3 * dp3;\",\n    \"\t}\",\n    \"\tfloat M = (cnv[0] + cnv[1]) + (cnv[2] + cnv[3]);\",\n    \"\tfloat S = (cnv[4] + cnv[5]) + (cnv[6] + cnv[7]) + (cnv[8] + M);\",\n    \"\tgl_FragColor = vec4(vec3(sqrt(M/S)), 1.0);\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  FreiChenShader\n};\n", "const FresnelShader = {\n  uniforms: {\n    mRefractionRatio: { value: 1.02 },\n    mFresnelBias: { value: 0.1 },\n    mFresnelPower: { value: 2 },\n    mFresnelScale: { value: 1 },\n    tCube: { value: null }\n  },\n  vertexShader: [\n    \"uniform float mRefractionRatio;\",\n    \"uniform float mFresnelBias;\",\n    \"uniform float mFresnelScale;\",\n    \"uniform float mFresnelPower;\",\n    \"varying vec3 vReflect;\",\n    \"varying vec3 vRefract[3];\",\n    \"varying float vReflectionFactor;\",\n    \"void main() {\",\n    \"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\",\n    \"\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\",\n    \"\tvec3 worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );\",\n    \"\tvec3 I = worldPosition.xyz - cameraPosition;\",\n    \"\tvReflect = reflect( I, worldNormal );\",\n    \"\tvRefract[0] = refract( normalize( I ), worldNormal, mRefractionRatio );\",\n    \"\tvRefract[1] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.99 );\",\n    \"\tvRefract[2] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.98 );\",\n    \"\tvReflectionFactor = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( I ), worldNormal ), mFresnelPower );\",\n    \"\tgl_Position = projectionMatrix * mvPosition;\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform samplerCube tCube;\",\n    \"varying vec3 vReflect;\",\n    \"varying vec3 vRefract[3];\",\n    \"varying float vReflectionFactor;\",\n    \"void main() {\",\n    \"\tvec4 reflectedColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\",\n    \"\tvec4 refractedColor = vec4( 1.0 );\",\n    \"\trefractedColor.r = textureCube( tCube, vec3( -vRefract[0].x, vRefract[0].yz ) ).r;\",\n    \"\trefractedColor.g = textureCube( tCube, vec3( -vRefract[1].x, vRefract[1].yz ) ).g;\",\n    \"\trefractedColor.b = textureCube( tCube, vec3( -vRefract[2].x, vRefract[2].yz ) ).b;\",\n    \"\tgl_FragColor = mix( refractedColor, reflectedColor, clamp( vReflectionFactor, 0.0, 1.0 ) );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  FresnelShader\n};\n", "const GammaCorrectionShader = {\n  uniforms: {\n    tDiffuse: { value: null }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 tex = texture2D( tDiffuse, vUv );\",\n    \"\tgl_FragColor = LinearTosRGB( tex );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  GammaCorrectionShader\n};\n", "import { Vector3, Color } from \"three\";\nconst GodRaysDepthMaskShader = {\n  uniforms: {\n    tInput: {\n      value: null\n    }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \" vUv = uv;\",\n    \" gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"varying vec2 vUv;\",\n    \"uniform sampler2D tInput;\",\n    \"void main() {\",\n    \"\tgl_FragColor = vec4( 1.0 ) - texture2D( tInput, vUv );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nconst GodRaysGenerateShader = {\n  uniforms: {\n    tInput: {\n      value: null\n    },\n    fStepSize: {\n      value: 1\n    },\n    vSunPositionScreenSpace: {\n      value: /* @__PURE__ */ new Vector3()\n    }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \" vUv = uv;\",\n    \" gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"#define TAPS_PER_PASS 6.0\",\n    \"varying vec2 vUv;\",\n    \"uniform sampler2D tInput;\",\n    \"uniform vec3 vSunPositionScreenSpace;\",\n    \"uniform float fStepSize;\",\n    // filter step size\n    \"void main() {\",\n    // delta from current pixel to \"sun\" position\n    \"\tvec2 delta = vSunPositionScreenSpace.xy - vUv;\",\n    \"\tfloat dist = length( delta );\",\n    // Step vector (uv space)\n    \"\tvec2 stepv = fStepSize * delta / dist;\",\n    // Number of iterations between pixel and sun\n    \"\tfloat iters = dist/fStepSize;\",\n    \"\tvec2 uv = vUv.xy;\",\n    \"\tfloat col = 0.0;\",\n    // This breaks ANGLE in Chrome 22\n    //\t- see http://code.google.com/p/chromium/issues/detail?id=153105\n    /*\n    \t\t// Unrolling didnt do much on my hardware (ATI Mobility Radeon 3450),\n    \t\t// so i've just left the loop\n    \n    \t\t\"for ( float i = 0.0; i < TAPS_PER_PASS; i += 1.0 ) {\",\n    \n    \t\t// Accumulate samples, making sure we dont walk past the light source.\n    \n    \t\t// The check for uv.y < 1 would not be necessary with \"border\" UV wrap\n    \t\t// mode, with a black border color. I don't think this is currently\n    \t\t// exposed by three.js. As a result there might be artifacts when the\n    \t\t// sun is to the left, right or bottom of screen as these cases are\n    \t\t// not specifically handled.\n    \n    \t\t\"\tcol += ( i <= iters && uv.y < 1.0 ? texture2D( tInput, uv ).r : 0.0 );\",\n    \t\t\"\tuv += stepv;\",\n    \n    \t\t\"}\",\n    \t\t*/\n    // Unrolling loop manually makes it work in ANGLE\n    \"\tfloat f = min( 1.0, max( vSunPositionScreenSpace.z / 1000.0, 0.0 ) );\",\n    // used to fade out godrays\n    \"\tif ( 0.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;\",\n    \"\tuv += stepv;\",\n    \"\tif ( 1.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;\",\n    \"\tuv += stepv;\",\n    \"\tif ( 2.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;\",\n    \"\tuv += stepv;\",\n    \"\tif ( 3.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;\",\n    \"\tuv += stepv;\",\n    \"\tif ( 4.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;\",\n    \"\tuv += stepv;\",\n    \"\tif ( 5.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;\",\n    \"\tuv += stepv;\",\n    // Should technically be dividing by 'iters', but 'TAPS_PER_PASS' smooths out\n    // objectionable artifacts, in particular near the sun position. The side\n    // effect is that the result is darker than it should be around the sun, as\n    // TAPS_PER_PASS is greater than the number of samples actually accumulated.\n    // When the result is inverted (in the shader 'godrays_combine', this produces\n    // a slight bright spot at the position of the sun, even when it is occluded.\n    \"\tgl_FragColor = vec4( col/TAPS_PER_PASS );\",\n    \"\tgl_FragColor.a = 1.0;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nconst GodRaysCombineShader = {\n  uniforms: {\n    tColors: {\n      value: null\n    },\n    tGodRays: {\n      value: null\n    },\n    fGodRayIntensity: {\n      value: 0.69\n    }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"varying vec2 vUv;\",\n    \"uniform sampler2D tColors;\",\n    \"uniform sampler2D tGodRays;\",\n    \"uniform float fGodRayIntensity;\",\n    \"void main() {\",\n    // Since THREE.MeshDepthMaterial renders foreground objects white and background\n    // objects black, the god-rays will be white streaks. Therefore value is inverted\n    // before being combined with tColors\n    \"\tgl_FragColor = texture2D( tColors, vUv ) + fGodRayIntensity * vec4( 1.0 - texture2D( tGodRays, vUv ).r );\",\n    \"\tgl_FragColor.a = 1.0;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nconst GodRaysFakeSunShader = {\n  uniforms: {\n    vSunPositionScreenSpace: {\n      value: /* @__PURE__ */ new Vector3()\n    },\n    fAspect: {\n      value: 1\n    },\n    sunColor: {\n      value: /* @__PURE__ */ new Color(16772608)\n    },\n    bgColor: {\n      value: /* @__PURE__ */ new Color(0)\n    }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"varying vec2 vUv;\",\n    \"uniform vec3 vSunPositionScreenSpace;\",\n    \"uniform float fAspect;\",\n    \"uniform vec3 sunColor;\",\n    \"uniform vec3 bgColor;\",\n    \"void main() {\",\n    \"\tvec2 diff = vUv - vSunPositionScreenSpace.xy;\",\n    // Correct for aspect ratio\n    \"\tdiff.x *= fAspect;\",\n    \"\tfloat prop = clamp( length( diff ) / 0.5, 0.0, 1.0 );\",\n    \"\tprop = 0.35 * pow( 1.0 - prop, 3.0 );\",\n    \"\tgl_FragColor.xyz = ( vSunPositionScreenSpace.z > 0.0 ) ? mix( sunColor, bgColor, 1.0 - prop ) : bgColor;\",\n    \"\tgl_FragColor.w = 1.0;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  GodRaysCombineShader,\n  GodRaysDepthMaskShader,\n  GodRaysFakeSunShader,\n  GodRaysGenerateShader\n};\n", "const HorizontalBlurShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    h: { value: 1 / 512 }\n  },\n  vertexShader: (\n    /* glsl */\n    `\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  `\n  ),\n  fragmentShader: (\n    /* glsl */\n    `\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  `\n  )\n};\nexport {\n  HorizontalBlurShader\n};\n", "const HorizontalTiltShiftShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    h: { value: 1 / 512 },\n    r: { value: 0.35 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform float h;\",\n    \"uniform float r;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 sum = vec4( 0.0 );\",\n    \"\tfloat hh = h * abs( r - vUv.y );\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * hh, vUv.y ) ) * 0.051;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * hh, vUv.y ) ) * 0.0918;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * hh, vUv.y ) ) * 0.12245;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * hh, vUv.y ) ) * 0.1531;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * hh, vUv.y ) ) * 0.1531;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * hh, vUv.y ) ) * 0.12245;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * hh, vUv.y ) ) * 0.0918;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * hh, vUv.y ) ) * 0.051;\",\n    \"\tgl_FragColor = sum;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  HorizontalTiltShiftShader\n};\n", "const HueSaturationShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    hue: { value: 0 },\n    saturation: { value: 0 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform float hue;\",\n    \"uniform float saturation;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tgl_FragColor = texture2D( tDiffuse, vUv );\",\n    // hue\n    \"\tfloat angle = hue * 3.14159265;\",\n    \"\tfloat s = sin(angle), c = cos(angle);\",\n    \"\tvec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;\",\n    \"\tfloat len = length(gl_FragColor.rgb);\",\n    \"\tgl_FragColor.rgb = vec3(\",\n    \"\t\tdot(gl_FragColor.rgb, weights.xyz),\",\n    \"\t\tdot(gl_FragColor.rgb, weights.zxy),\",\n    \"\t\tdot(gl_FragColor.rgb, weights.yzx)\",\n    \"\t);\",\n    // saturation\n    \"\tfloat average = (gl_FragColor.r + gl_FragColor.g + gl_FragColor.b) / 3.0;\",\n    \"\tif (saturation > 0.0) {\",\n    \"\t\tgl_FragColor.rgb += (average - gl_FragColor.rgb) * (1.0 - 1.0 / (1.001 - saturation));\",\n    \"\t} else {\",\n    \"\t\tgl_FragColor.rgb += (average - gl_FragColor.rgb) * (-saturation);\",\n    \"\t}\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  HueSaturationShader\n};\n", "const KaleidoShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    sides: { value: 6 },\n    angle: { value: 0 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform float sides;\",\n    \"uniform float angle;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec2 p = vUv - 0.5;\",\n    \"\tfloat r = length(p);\",\n    \"\tfloat a = atan(p.y, p.x) + angle;\",\n    \"\tfloat tau = 2. * 3.1416 ;\",\n    \"\ta = mod(a, tau/sides);\",\n    \"\ta = abs(a - tau/sides/2.) ;\",\n    \"\tp = r * vec2(cos(a), sin(a));\",\n    \"\tvec4 color = texture2D(tDiffuse, p + 0.5);\",\n    \"\tgl_FragColor = color;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  KaleidoShader\n};\n", "const MirrorShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    side: { value: 1 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform int side;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec2 p = vUv;\",\n    \"\tif (side == 0){\",\n    \"\t\tif (p.x > 0.5) p.x = 1.0 - p.x;\",\n    \"\t}else if (side == 1){\",\n    \"\t\tif (p.x < 0.5) p.x = 1.0 - p.x;\",\n    \"\t}else if (side == 2){\",\n    \"\t\tif (p.y < 0.5) p.y = 1.0 - p.y;\",\n    \"\t}else if (side == 3){\",\n    \"\t\tif (p.y > 0.5) p.y = 1.0 - p.y;\",\n    \"\t} \",\n    \"\tvec4 color = texture2D(tDiffuse, p);\",\n    \"\tgl_FragColor = color;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  MirrorShader\n};\n", "import { Vector2 } from \"three\";\nconst NormalMapShader = {\n  uniforms: {\n    heightMap: { value: null },\n    resolution: { value: /* @__PURE__ */ new Vector2(512, 512) },\n    scale: { value: /* @__PURE__ */ new Vector2(1, 1) },\n    height: { value: 0.05 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float height;\",\n    \"uniform vec2 resolution;\",\n    \"uniform sampler2D heightMap;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tfloat val = texture2D( heightMap, vUv ).x;\",\n    \"\tfloat valU = texture2D( heightMap, vUv + vec2( 1.0 / resolution.x, 0.0 ) ).x;\",\n    \"\tfloat valV = texture2D( heightMap, vUv + vec2( 0.0, 1.0 / resolution.y ) ).x;\",\n    \"\tgl_FragColor = vec4( ( 0.5 * normalize( vec3( val - valU, val - valV, height  ) ) + 0.5 ), 1.0 );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  NormalMapShader\n};\n", "const ParallaxShader = {\n  // Ordered from fastest to best quality.\n  modes: {\n    none: \"NO_PARALLAX\",\n    basic: \"USE_BASIC_PARALLAX\",\n    steep: \"USE_STEEP_PARALLAX\",\n    occlusion: \"USE_OCLUSION_PARALLAX\",\n    // a.k.a. POM\n    relief: \"USE_RELIEF_PARALLAX\"\n  },\n  uniforms: {\n    bumpMap: { value: null },\n    map: { value: null },\n    parallaxScale: { value: null },\n    parallaxMinLayers: { value: null },\n    parallaxMaxLayers: { value: null }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"varying vec3 vViewPosition;\",\n    \"varying vec3 vNormal;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\",\n    \"\tvViewPosition = -mvPosition.xyz;\",\n    \"\tvNormal = normalize( normalMatrix * normal );\",\n    \"\tgl_Position = projectionMatrix * mvPosition;\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D bumpMap;\",\n    \"uniform sampler2D map;\",\n    \"uniform float parallaxScale;\",\n    \"uniform float parallaxMinLayers;\",\n    \"uniform float parallaxMaxLayers;\",\n    \"varying vec2 vUv;\",\n    \"varying vec3 vViewPosition;\",\n    \"varying vec3 vNormal;\",\n    \"#ifdef USE_BASIC_PARALLAX\",\n    \"\tvec2 parallaxMap( in vec3 V ) {\",\n    \"\t\tfloat initialHeight = texture2D( bumpMap, vUv ).r;\",\n    // No Offset Limitting: messy, floating output at grazing angles.\n    //\"vec2 texCoordOffset = parallaxScale * V.xy / V.z * initialHeight;\",\n    // Offset Limiting\n    \"\t\tvec2 texCoordOffset = parallaxScale * V.xy * initialHeight;\",\n    \"\t\treturn vUv - texCoordOffset;\",\n    \"\t}\",\n    \"#else\",\n    \"\tvec2 parallaxMap( in vec3 V ) {\",\n    // Determine number of layers from angle between V and N\n    \"\t\tfloat numLayers = mix( parallaxMaxLayers, parallaxMinLayers, abs( dot( vec3( 0.0, 0.0, 1.0 ), V ) ) );\",\n    \"\t\tfloat layerHeight = 1.0 / numLayers;\",\n    \"\t\tfloat currentLayerHeight = 0.0;\",\n    // Shift of texture coordinates for each iteration\n    \"\t\tvec2 dtex = parallaxScale * V.xy / V.z / numLayers;\",\n    \"\t\tvec2 currentTextureCoords = vUv;\",\n    \"\t\tfloat heightFromTexture = texture2D( bumpMap, currentTextureCoords ).r;\",\n    // while ( heightFromTexture > currentLayerHeight )\n    // Infinite loops are not well supported. Do a \"large\" finite\n    // loop, but not too large, as it slows down some compilers.\n    \"\t\tfor ( int i = 0; i < 30; i += 1 ) {\",\n    \"\t\t\tif ( heightFromTexture <= currentLayerHeight ) {\",\n    \"\t\t\t\tbreak;\",\n    \"\t\t\t}\",\n    \"\t\t\tcurrentLayerHeight += layerHeight;\",\n    // Shift texture coordinates along vector V\n    \"\t\t\tcurrentTextureCoords -= dtex;\",\n    \"\t\t\theightFromTexture = texture2D( bumpMap, currentTextureCoords ).r;\",\n    \"\t\t}\",\n    \"\t\t#ifdef USE_STEEP_PARALLAX\",\n    \"\t\t\treturn currentTextureCoords;\",\n    \"\t\t#elif defined( USE_RELIEF_PARALLAX )\",\n    \"\t\t\tvec2 deltaTexCoord = dtex / 2.0;\",\n    \"\t\t\tfloat deltaHeight = layerHeight / 2.0;\",\n    // Return to the mid point of previous layer\n    \"\t\t\tcurrentTextureCoords += deltaTexCoord;\",\n    \"\t\t\tcurrentLayerHeight -= deltaHeight;\",\n    // Binary search to increase precision of Steep Parallax Mapping\n    \"\t\t\tconst int numSearches = 5;\",\n    \"\t\t\tfor ( int i = 0; i < numSearches; i += 1 ) {\",\n    \"\t\t\t\tdeltaTexCoord /= 2.0;\",\n    \"\t\t\t\tdeltaHeight /= 2.0;\",\n    \"\t\t\t\theightFromTexture = texture2D( bumpMap, currentTextureCoords ).r;\",\n    // Shift along or against vector V\n    \"\t\t\t\tif( heightFromTexture > currentLayerHeight ) {\",\n    // Below the surface\n    \"\t\t\t\t\tcurrentTextureCoords -= deltaTexCoord;\",\n    \"\t\t\t\t\tcurrentLayerHeight += deltaHeight;\",\n    \"\t\t\t\t} else {\",\n    // above the surface\n    \"\t\t\t\t\tcurrentTextureCoords += deltaTexCoord;\",\n    \"\t\t\t\t\tcurrentLayerHeight -= deltaHeight;\",\n    \"\t\t\t\t}\",\n    \"\t\t\t}\",\n    \"\t\t\treturn currentTextureCoords;\",\n    \"\t\t#elif defined( USE_OCLUSION_PARALLAX )\",\n    \"\t\t\tvec2 prevTCoords = currentTextureCoords + dtex;\",\n    // Heights for linear interpolation\n    \"\t\t\tfloat nextH = heightFromTexture - currentLayerHeight;\",\n    \"\t\t\tfloat prevH = texture2D( bumpMap, prevTCoords ).r - currentLayerHeight + layerHeight;\",\n    // Proportions for linear interpolation\n    \"\t\t\tfloat weight = nextH / ( nextH - prevH );\",\n    // Interpolation of texture coordinates\n    \"\t\t\treturn prevTCoords * weight + currentTextureCoords * ( 1.0 - weight );\",\n    \"\t\t#else\",\n    // NO_PARALLAX\n    \"\t\t\treturn vUv;\",\n    \"\t\t#endif\",\n    \"\t}\",\n    \"#endif\",\n    \"vec2 perturbUv( vec3 surfPosition, vec3 surfNormal, vec3 viewPosition ) {\",\n    \"\tvec2 texDx = dFdx( vUv );\",\n    \"\tvec2 texDy = dFdy( vUv );\",\n    \"\tvec3 vSigmaX = dFdx( surfPosition );\",\n    \"\tvec3 vSigmaY = dFdy( surfPosition );\",\n    \"\tvec3 vR1 = cross( vSigmaY, surfNormal );\",\n    \"\tvec3 vR2 = cross( surfNormal, vSigmaX );\",\n    \"\tfloat fDet = dot( vSigmaX, vR1 );\",\n    \"\tvec2 vProjVscr = ( 1.0 / fDet ) * vec2( dot( vR1, viewPosition ), dot( vR2, viewPosition ) );\",\n    \"\tvec3 vProjVtex;\",\n    \"\tvProjVtex.xy = texDx * vProjVscr.x + texDy * vProjVscr.y;\",\n    \"\tvProjVtex.z = dot( surfNormal, viewPosition );\",\n    \"\treturn parallaxMap( vProjVtex );\",\n    \"}\",\n    \"void main() {\",\n    \"\tvec2 mapUv = perturbUv( -vViewPosition, normalize( vNormal ), normalize( vViewPosition ) );\",\n    \"\tgl_FragColor = texture2D( map, mapUv );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  ParallaxShader\n};\n", "const PixelShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    resolution: { value: null },\n    pixelSize: { value: 1 }\n  },\n  vertexShader: [\n    \"varying highp vec2 vUv;\",\n    \"void main() {\",\n    \"vUv = uv;\",\n    \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform float pixelSize;\",\n    \"uniform vec2 resolution;\",\n    \"varying highp vec2 vUv;\",\n    \"void main(){\",\n    \"vec2 dxy = pixelSize / resolution;\",\n    \"vec2 coord = dxy * floor( vUv / dxy );\",\n    \"gl_FragColor = texture2D(tDiffuse, coord);\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  PixelShader\n};\n", "const RGBShiftShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    amount: { value: 5e-3 },\n    angle: { value: 0 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform float amount;\",\n    \"uniform float angle;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec2 offset = amount * vec2( cos(angle), sin(angle));\",\n    \"\tvec4 cr = texture2D(tDiffuse, vUv + offset);\",\n    \"\tvec4 cga = texture2D(tDiffuse, vUv);\",\n    \"\tvec4 cb = texture2D(tDiffuse, vUv - offset);\",\n    \"\tgl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  RGBShiftShader\n};\n", "const SepiaShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    amount: { value: 1 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float amount;\",\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 color = texture2D( tDiffuse, vUv );\",\n    \"\tvec3 c = color.rgb;\",\n    \"\tcolor.r = dot( c, vec3( 1.0 - 0.607 * amount, 0.769 * amount, 0.189 * amount ) );\",\n    \"\tcolor.g = dot( c, vec3( 0.349 * amount, 1.0 - 0.314 * amount, 0.168 * amount ) );\",\n    \"\tcolor.b = dot( c, vec3( 0.272 * amount, 0.534 * amount, 1.0 - 0.869 * amount ) );\",\n    \"\tgl_FragColor = vec4( min( vec3( 1.0 ), color.rgb ), color.a );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  SepiaShader\n};\n", "import { Vector2 } from \"three\";\nconst SobelOperatorShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    resolution: { value: /* @__PURE__ */ new Vector2() }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform vec2 resolution;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec2 texel = vec2( 1.0 / resolution.x, 1.0 / resolution.y );\",\n    // kernel definition (in glsl matrices are filled in column-major order)\n    \"\tconst mat3 Gx = mat3( -1, -2, -1, 0, 0, 0, 1, 2, 1 );\",\n    // x direction kernel\n    \"\tconst mat3 Gy = mat3( -1, 0, 1, -2, 0, 2, -1, 0, 1 );\",\n    // y direction kernel\n    // fetch the 3x3 neighbourhood of a fragment\n    // first column\n    \"\tfloat tx0y0 = texture2D( tDiffuse, vUv + texel * vec2( -1, -1 ) ).r;\",\n    \"\tfloat tx0y1 = texture2D( tDiffuse, vUv + texel * vec2( -1,  0 ) ).r;\",\n    \"\tfloat tx0y2 = texture2D( tDiffuse, vUv + texel * vec2( -1,  1 ) ).r;\",\n    // second column\n    \"\tfloat tx1y0 = texture2D( tDiffuse, vUv + texel * vec2(  0, -1 ) ).r;\",\n    \"\tfloat tx1y1 = texture2D( tDiffuse, vUv + texel * vec2(  0,  0 ) ).r;\",\n    \"\tfloat tx1y2 = texture2D( tDiffuse, vUv + texel * vec2(  0,  1 ) ).r;\",\n    // third column\n    \"\tfloat tx2y0 = texture2D( tDiffuse, vUv + texel * vec2(  1, -1 ) ).r;\",\n    \"\tfloat tx2y1 = texture2D( tDiffuse, vUv + texel * vec2(  1,  0 ) ).r;\",\n    \"\tfloat tx2y2 = texture2D( tDiffuse, vUv + texel * vec2(  1,  1 ) ).r;\",\n    // gradient value in x direction\n    \"\tfloat valueGx = Gx[0][0] * tx0y0 + Gx[1][0] * tx1y0 + Gx[2][0] * tx2y0 + \",\n    \"\t\tGx[0][1] * tx0y1 + Gx[1][1] * tx1y1 + Gx[2][1] * tx2y1 + \",\n    \"\t\tGx[0][2] * tx0y2 + Gx[1][2] * tx1y2 + Gx[2][2] * tx2y2; \",\n    // gradient value in y direction\n    \"\tfloat valueGy = Gy[0][0] * tx0y0 + Gy[1][0] * tx1y0 + Gy[2][0] * tx2y0 + \",\n    \"\t\tGy[0][1] * tx0y1 + Gy[1][1] * tx1y1 + Gy[2][1] * tx2y1 + \",\n    \"\t\tGy[0][2] * tx0y2 + Gy[1][2] * tx1y2 + Gy[2][2] * tx2y2; \",\n    // magnitute of the total gradient\n    \"\tfloat G = sqrt( ( valueGx * valueGx ) + ( valueGy * valueGy ) );\",\n    \"\tgl_FragColor = vec4( vec3( G ), 1 );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  SobelOperatorShader\n};\n", "const TechnicolorShader = {\n  uniforms: {\n    tDiffuse: { value: null }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 tex = texture2D( tDiffuse, vec2( vUv.x, vUv.y ) );\",\n    \"\tvec4 newTex = vec4(tex.r, (tex.g + tex.b) * .5, (tex.g + tex.b) * .5, 1.0);\",\n    \"\tgl_FragColor = newTex;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  TechnicolorShader\n};\n", "import { Vector3, Color } from \"three\";\nconst ToonShader1 = {\n  uniforms: {\n    uDirLightPos: { value: /* @__PURE__ */ new Vector3() },\n    uDirLightColor: { value: /* @__PURE__ */ new Color(15658734) },\n    uAmbientLightColor: { value: /* @__PURE__ */ new Color(328965) },\n    uBaseColor: { value: /* @__PURE__ */ new Color(16777215) }\n  },\n  vertexShader: [\n    \"varying vec3 vNormal;\",\n    \"varying vec3 vRefract;\",\n    \"void main() {\",\n    \"\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\",\n    \"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\",\n    \"\tvec3 worldNormal = normalize ( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );\",\n    \"\tvNormal = normalize( normalMatrix * normal );\",\n    \"\tvec3 I = worldPosition.xyz - cameraPosition;\",\n    \"\tvRefract = refract( normalize( I ), worldNormal, 1.02 );\",\n    \"\tgl_Position = projectionMatrix * mvPosition;\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform vec3 uBaseColor;\",\n    \"uniform vec3 uDirLightPos;\",\n    \"uniform vec3 uDirLightColor;\",\n    \"uniform vec3 uAmbientLightColor;\",\n    \"varying vec3 vNormal;\",\n    \"varying vec3 vRefract;\",\n    \"void main() {\",\n    \"\tfloat directionalLightWeighting = max( dot( normalize( vNormal ), uDirLightPos ), 0.0);\",\n    \"\tvec3 lightWeighting = uAmbientLightColor + uDirLightColor * directionalLightWeighting;\",\n    \"\tfloat intensity = smoothstep( - 0.5, 1.0, pow( length(lightWeighting), 20.0 ) );\",\n    \"\tintensity += length(lightWeighting) * 0.2;\",\n    \"\tfloat cameraWeighting = dot( normalize( vNormal ), vRefract );\",\n    \"\tintensity += pow( 1.0 - length( cameraWeighting ), 6.0 );\",\n    \"\tintensity = intensity * 0.2 + 0.3;\",\n    \"\tif ( intensity < 0.50 ) {\",\n    \"\t\tgl_FragColor = vec4( 2.0 * intensity * uBaseColor, 1.0 );\",\n    \"\t} else {\",\n    \"\t\tgl_FragColor = vec4( 1.0 - 2.0 * ( 1.0 - intensity ) * ( 1.0 - uBaseColor ), 1.0 );\",\n    \"}\",\n    \"}\"\n  ].join(\"\\n\")\n};\nconst ToonShader2 = {\n  uniforms: {\n    uDirLightPos: { value: /* @__PURE__ */ new Vector3() },\n    uDirLightColor: { value: /* @__PURE__ */ new Color(15658734) },\n    uAmbientLightColor: { value: /* @__PURE__ */ new Color(328965) },\n    uBaseColor: { value: /* @__PURE__ */ new Color(15658734) },\n    uLineColor1: { value: /* @__PURE__ */ new Color(8421504) },\n    uLineColor2: { value: /* @__PURE__ */ new Color(0) },\n    uLineColor3: { value: /* @__PURE__ */ new Color(0) },\n    uLineColor4: { value: /* @__PURE__ */ new Color(0) }\n  },\n  vertexShader: [\n    \"varying vec3 vNormal;\",\n    \"void main() {\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"\tvNormal = normalize( normalMatrix * normal );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform vec3 uBaseColor;\",\n    \"uniform vec3 uLineColor1;\",\n    \"uniform vec3 uLineColor2;\",\n    \"uniform vec3 uLineColor3;\",\n    \"uniform vec3 uLineColor4;\",\n    \"uniform vec3 uDirLightPos;\",\n    \"uniform vec3 uDirLightColor;\",\n    \"uniform vec3 uAmbientLightColor;\",\n    \"varying vec3 vNormal;\",\n    \"void main() {\",\n    \"\tfloat camera = max( dot( normalize( vNormal ), vec3( 0.0, 0.0, 1.0 ) ), 0.4);\",\n    \"\tfloat light = max( dot( normalize( vNormal ), uDirLightPos ), 0.0);\",\n    \"\tgl_FragColor = vec4( uBaseColor, 1.0 );\",\n    \"\tif ( length(uAmbientLightColor + uDirLightColor * light) < 1.00 ) {\",\n    \"\t\tgl_FragColor *= vec4( uLineColor1, 1.0 );\",\n    \"\t}\",\n    \"\tif ( length(uAmbientLightColor + uDirLightColor * camera) < 0.50 ) {\",\n    \"\t\tgl_FragColor *= vec4( uLineColor2, 1.0 );\",\n    \"\t}\",\n    \"}\"\n  ].join(\"\\n\")\n};\nconst ToonShaderHatching = {\n  uniforms: {\n    uDirLightPos: { value: /* @__PURE__ */ new Vector3() },\n    uDirLightColor: { value: /* @__PURE__ */ new Color(15658734) },\n    uAmbientLightColor: { value: /* @__PURE__ */ new Color(328965) },\n    uBaseColor: { value: /* @__PURE__ */ new Color(16777215) },\n    uLineColor1: { value: /* @__PURE__ */ new Color(0) },\n    uLineColor2: { value: /* @__PURE__ */ new Color(0) },\n    uLineColor3: { value: /* @__PURE__ */ new Color(0) },\n    uLineColor4: { value: /* @__PURE__ */ new Color(0) }\n  },\n  vertexShader: [\n    \"varying vec3 vNormal;\",\n    \"void main() {\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"\tvNormal = normalize( normalMatrix * normal );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform vec3 uBaseColor;\",\n    \"uniform vec3 uLineColor1;\",\n    \"uniform vec3 uLineColor2;\",\n    \"uniform vec3 uLineColor3;\",\n    \"uniform vec3 uLineColor4;\",\n    \"uniform vec3 uDirLightPos;\",\n    \"uniform vec3 uDirLightColor;\",\n    \"uniform vec3 uAmbientLightColor;\",\n    \"varying vec3 vNormal;\",\n    \"void main() {\",\n    \"\tfloat directionalLightWeighting = max( dot( normalize(vNormal), uDirLightPos ), 0.0);\",\n    \"\tvec3 lightWeighting = uAmbientLightColor + uDirLightColor * directionalLightWeighting;\",\n    \"\tgl_FragColor = vec4( uBaseColor, 1.0 );\",\n    \"\tif ( length(lightWeighting) < 1.00 ) {\",\n    \"\t\tif ( mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0) {\",\n    \"\t\t\tgl_FragColor = vec4( uLineColor1, 1.0 );\",\n    \"\t\t}\",\n    \"\t}\",\n    \"\tif ( length(lightWeighting) < 0.75 ) {\",\n    \"\t\tif (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0) {\",\n    \"\t\t\tgl_FragColor = vec4( uLineColor2, 1.0 );\",\n    \"\t\t}\",\n    \"\t}\",\n    \"\tif ( length(lightWeighting) < 0.50 ) {\",\n    \"\t\tif (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0) {\",\n    \"\t\t\tgl_FragColor = vec4( uLineColor3, 1.0 );\",\n    \"\t\t}\",\n    \"\t}\",\n    \"\tif ( length(lightWeighting) < 0.3465 ) {\",\n    \"\t\tif (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0) {\",\n    \"\t\t\tgl_FragColor = vec4( uLineColor4, 1.0 );\",\n    \"\t}\",\n    \"\t}\",\n    \"}\"\n  ].join(\"\\n\")\n};\nconst ToonShaderDotted = {\n  uniforms: {\n    uDirLightPos: { value: /* @__PURE__ */ new Vector3() },\n    uDirLightColor: { value: /* @__PURE__ */ new Color(15658734) },\n    uAmbientLightColor: { value: /* @__PURE__ */ new Color(328965) },\n    uBaseColor: { value: /* @__PURE__ */ new Color(16777215) },\n    uLineColor1: { value: /* @__PURE__ */ new Color(0) }\n  },\n  vertexShader: [\n    \"varying vec3 vNormal;\",\n    \"void main() {\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"\tvNormal = normalize( normalMatrix * normal );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform vec3 uBaseColor;\",\n    \"uniform vec3 uLineColor1;\",\n    \"uniform vec3 uLineColor2;\",\n    \"uniform vec3 uLineColor3;\",\n    \"uniform vec3 uLineColor4;\",\n    \"uniform vec3 uDirLightPos;\",\n    \"uniform vec3 uDirLightColor;\",\n    \"uniform vec3 uAmbientLightColor;\",\n    \"varying vec3 vNormal;\",\n    \"void main() {\",\n    \"float directionalLightWeighting = max( dot( normalize(vNormal), uDirLightPos ), 0.0);\",\n    \"vec3 lightWeighting = uAmbientLightColor + uDirLightColor * directionalLightWeighting;\",\n    \"gl_FragColor = vec4( uBaseColor, 1.0 );\",\n    \"if ( length(lightWeighting) < 1.00 ) {\",\n    \"\t\tif ( ( mod(gl_FragCoord.x, 4.001) + mod(gl_FragCoord.y, 4.0) ) > 6.00 ) {\",\n    \"\t\t\tgl_FragColor = vec4( uLineColor1, 1.0 );\",\n    \"\t\t}\",\n    \"\t}\",\n    \"\tif ( length(lightWeighting) < 0.50 ) {\",\n    \"\t\tif ( ( mod(gl_FragCoord.x + 2.0, 4.001) + mod(gl_FragCoord.y + 2.0, 4.0) ) > 6.00 ) {\",\n    \"\t\t\tgl_FragColor = vec4( uLineColor1, 1.0 );\",\n    \"\t\t}\",\n    \"\t}\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  ToonShader1,\n  ToonShader2,\n  ToonShaderDotted,\n  ToonShaderHatching\n};\n", "import { Vector2 } from \"three\";\nconst TriangleBlurShader = {\n  uniforms: {\n    texture: { value: null },\n    delta: { value: /* @__PURE__ */ new Vector2(1, 1) }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"#include <common>\",\n    \"#define ITERATIONS 10.0\",\n    \"uniform sampler2D texture;\",\n    \"uniform vec2 delta;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 color = vec4( 0.0 );\",\n    \"\tfloat total = 0.0;\",\n    // randomize the lookup values to hide the fixed number of samples\n    \"\tfloat offset = rand( vUv );\",\n    \"\tfor ( float t = -ITERATIONS; t <= ITERATIONS; t ++ ) {\",\n    \"\t\tfloat percent = ( t + offset - 0.5 ) / ITERATIONS;\",\n    \"\t\tfloat weight = 1.0 - abs( percent );\",\n    \"\t\tcolor += texture2D( texture, vUv + delta * percent ) * weight;\",\n    \"\t\ttotal += weight;\",\n    \"\t}\",\n    \"\tgl_FragColor = color / total;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  TriangleBlurShader\n};\n", "const VerticalBlurShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    v: { value: 1 / 512 }\n  },\n  vertexShader: (\n    /* glsl */\n    `\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  `\n  ),\n  fragmentShader: (\n    /* glsl */\n    `\n\n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  `\n  )\n};\nexport {\n  VerticalBlurShader\n};\n", "const VerticalTiltShiftShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    v: { value: 1 / 512 },\n    r: { value: 0.35 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform float v;\",\n    \"uniform float r;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec4 sum = vec4( 0.0 );\",\n    \"\tfloat vv = v * abs( r - vUv.y );\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * vv ) ) * 0.051;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * vv ) ) * 0.0918;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * vv ) ) * 0.12245;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * vv ) ) * 0.1531;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * vv ) ) * 0.1531;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * vv ) ) * 0.12245;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * vv ) ) * 0.0918;\",\n    \"\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * vv ) ) * 0.051;\",\n    \"\tgl_FragColor = sum;\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  VerticalTiltShiftShader\n};\n", "const VignetteShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    offset: { value: 1 },\n    darkness: { value: 1 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float offset;\",\n    \"uniform float darkness;\",\n    \"uniform sampler2D tDiffuse;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    // Eskil's vignette\n    \"\tvec4 texel = texture2D( tDiffuse, vUv );\",\n    \"\tvec2 uv = ( vUv - vec2( 0.5 ) ) * vec2( offset );\",\n    \"\tgl_FragColor = vec4( mix( texel.rgb, vec3( 1.0 - darkness ), dot( uv, uv ) ), texel.a );\",\n    /*\n    \t\t// alternative version from glfx.js\n    \t\t// this one makes more \"dusty\" look (as opposed to \"burned\")\n    \n    \t\t\"\tvec4 color = texture2D( tDiffuse, vUv );\",\n    \t\t\"\tfloat dist = distance( vUv, vec2( 0.5 ) );\",\n    \t\t\"\tcolor.rgb *= smoothstep( 0.8, offset * 0.799, dist *( darkness + offset ) );\",\n    \t\t\"\tgl_FragColor = color;\",\n    \t\t*/\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  VignetteShader\n};\n", "import { Vector3, Vector2 } from \"three\";\nconst VolumeRenderShader1 = {\n  uniforms: {\n    u_size: { value: /* @__PURE__ */ new Vector3(1, 1, 1) },\n    u_renderstyle: { value: 0 },\n    u_renderthreshold: { value: 0.5 },\n    u_clim: { value: /* @__PURE__ */ new Vector2(1, 1) },\n    u_data: { value: null },\n    u_cmdata: { value: null }\n  },\n  vertexShader: [\n    \"\t\tvarying vec4 v_nearpos;\",\n    \"\t\tvarying vec4 v_farpos;\",\n    \"\t\tvarying vec3 v_position;\",\n    \"\t\tvoid main() {\",\n    // Prepare transforms to map to \"camera view\". See also:\n    // https://threejs.org/docs/#api/renderers/webgl/WebGLProgram\n    \"\t\t\t\tmat4 viewtransformf = modelViewMatrix;\",\n    \"\t\t\t\tmat4 viewtransformi = inverse(modelViewMatrix);\",\n    // Project local vertex coordinate to camera position. Then do a step\n    // backward (in cam coords) to the near clipping plane, and project back. Do\n    // the same for the far clipping plane. This gives us all the information we\n    // need to calculate the ray and truncate it to the viewing cone.\n    \"\t\t\t\tvec4 position4 = vec4(position, 1.0);\",\n    \"\t\t\t\tvec4 pos_in_cam = viewtransformf * position4;\",\n    // Intersection of ray and near clipping plane (z = -1 in clip coords)\n    \"\t\t\t\tpos_in_cam.z = -pos_in_cam.w;\",\n    \"\t\t\t\tv_nearpos = viewtransformi * pos_in_cam;\",\n    // Intersection of ray and far clipping plane (z = +1 in clip coords)\n    \"\t\t\t\tpos_in_cam.z = pos_in_cam.w;\",\n    \"\t\t\t\tv_farpos = viewtransformi * pos_in_cam;\",\n    // Set varyings and output pos\n    \"\t\t\t\tv_position = position;\",\n    \"\t\t\t\tgl_Position = projectionMatrix * viewMatrix * modelMatrix * position4;\",\n    \"\t\t}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"\t\tprecision highp float;\",\n    \"\t\tprecision mediump sampler3D;\",\n    \"\t\tuniform vec3 u_size;\",\n    \"\t\tuniform int u_renderstyle;\",\n    \"\t\tuniform float u_renderthreshold;\",\n    \"\t\tuniform vec2 u_clim;\",\n    \"\t\tuniform sampler3D u_data;\",\n    \"\t\tuniform sampler2D u_cmdata;\",\n    \"\t\tvarying vec3 v_position;\",\n    \"\t\tvarying vec4 v_nearpos;\",\n    \"\t\tvarying vec4 v_farpos;\",\n    // The maximum distance through our rendering volume is sqrt(3).\n    \"\t\tconst int MAX_STEPS = 887;\t// 887 for 512^3, 1774 for 1024^3\",\n    \"\t\tconst int REFINEMENT_STEPS = 4;\",\n    \"\t\tconst float relative_step_size = 1.0;\",\n    \"\t\tconst vec4 ambient_color = vec4(0.2, 0.4, 0.2, 1.0);\",\n    \"\t\tconst vec4 diffuse_color = vec4(0.8, 0.2, 0.2, 1.0);\",\n    \"\t\tconst vec4 specular_color = vec4(1.0, 1.0, 1.0, 1.0);\",\n    \"\t\tconst float shininess = 40.0;\",\n    \"\t\tvoid cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);\",\n    \"\t\tvoid cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);\",\n    \"\t\tfloat sample1(vec3 texcoords);\",\n    \"\t\tvec4 apply_colormap(float val);\",\n    \"\t\tvec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray);\",\n    \"\t\tvoid main() {\",\n    // Normalize clipping plane info\n    \"\t\t\t\tvec3 farpos = v_farpos.xyz / v_farpos.w;\",\n    \"\t\t\t\tvec3 nearpos = v_nearpos.xyz / v_nearpos.w;\",\n    // Calculate unit vector pointing in the view direction through this fragment.\n    \"\t\t\t\tvec3 view_ray = normalize(nearpos.xyz - farpos.xyz);\",\n    // Compute the (negative) distance to the front surface or near clipping plane.\n    // v_position is the back face of the cuboid, so the initial distance calculated in the dot\n    // product below is the distance from near clip plane to the back of the cuboid\n    \"\t\t\t\tfloat distance = dot(nearpos - v_position, view_ray);\",\n    \"\t\t\t\tdistance = max(distance, min((-0.5 - v_position.x) / view_ray.x,\",\n    \"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(u_size.x - 0.5 - v_position.x) / view_ray.x));\",\n    \"\t\t\t\tdistance = max(distance, min((-0.5 - v_position.y) / view_ray.y,\",\n    \"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(u_size.y - 0.5 - v_position.y) / view_ray.y));\",\n    \"\t\t\t\tdistance = max(distance, min((-0.5 - v_position.z) / view_ray.z,\",\n    \"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(u_size.z - 0.5 - v_position.z) / view_ray.z));\",\n    // Now we have the starting position on the front surface\n    \"\t\t\t\tvec3 front = v_position + view_ray * distance;\",\n    // Decide how many steps to take\n    \"\t\t\t\tint nsteps = int(-distance / relative_step_size + 0.5);\",\n    \"\t\t\t\tif ( nsteps < 1 )\",\n    \"\t\t\t\t\t\tdiscard;\",\n    // Get starting location and step vector in texture coordinates\n    \"\t\t\t\tvec3 step = ((v_position - front) / u_size) / float(nsteps);\",\n    \"\t\t\t\tvec3 start_loc = front / u_size;\",\n    // For testing: show the number of steps. This helps to establish\n    // whether the rays are correctly oriented\n    //'gl_FragColor = vec4(0.0, float(nsteps) / 1.0 / u_size.x, 1.0, 1.0);',\n    //'return;',\n    \"\t\t\t\tif (u_renderstyle == 0)\",\n    \"\t\t\t\t\t\tcast_mip(start_loc, step, nsteps, view_ray);\",\n    \"\t\t\t\telse if (u_renderstyle == 1)\",\n    \"\t\t\t\t\t\tcast_iso(start_loc, step, nsteps, view_ray);\",\n    \"\t\t\t\tif (gl_FragColor.a < 0.05)\",\n    \"\t\t\t\t\t\tdiscard;\",\n    \"\t\t}\",\n    \"\t\tfloat sample1(vec3 texcoords) {\",\n    \"\t\t\t\t/* Sample float value from a 3D texture. Assumes intensity data. */\",\n    \"\t\t\t\treturn texture(u_data, texcoords.xyz).r;\",\n    \"\t\t}\",\n    \"\t\tvec4 apply_colormap(float val) {\",\n    \"\t\t\t\tval = (val - u_clim[0]) / (u_clim[1] - u_clim[0]);\",\n    \"\t\t\t\treturn texture2D(u_cmdata, vec2(val, 0.5));\",\n    \"\t\t}\",\n    \"\t\tvoid cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {\",\n    \"\t\t\t\tfloat max_val = -1e6;\",\n    \"\t\t\t\tint max_i = 100;\",\n    \"\t\t\t\tvec3 loc = start_loc;\",\n    // Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with\n    // non-constant expression. So we use a hard-coded max, and an additional condition\n    // inside the loop.\n    \"\t\t\t\tfor (int iter=0; iter<MAX_STEPS; iter++) {\",\n    \"\t\t\t\t\t\tif (iter >= nsteps)\",\n    \"\t\t\t\t\t\t\t\tbreak;\",\n    // Sample from the 3D texture\n    \"\t\t\t\t\t\tfloat val = sample1(loc);\",\n    // Apply MIP operation\n    \"\t\t\t\t\t\tif (val > max_val) {\",\n    \"\t\t\t\t\t\t\t\tmax_val = val;\",\n    \"\t\t\t\t\t\t\t\tmax_i = iter;\",\n    \"\t\t\t\t\t\t}\",\n    // Advance location deeper into the volume\n    \"\t\t\t\t\t\tloc += step;\",\n    \"\t\t\t\t}\",\n    // Refine location, gives crispier images\n    \"\t\t\t\tvec3 iloc = start_loc + step * (float(max_i) - 0.5);\",\n    \"\t\t\t\tvec3 istep = step / float(REFINEMENT_STEPS);\",\n    \"\t\t\t\tfor (int i=0; i<REFINEMENT_STEPS; i++) {\",\n    \"\t\t\t\t\t\tmax_val = max(max_val, sample1(iloc));\",\n    \"\t\t\t\t\t\tiloc += istep;\",\n    \"\t\t\t\t}\",\n    // Resolve final color\n    \"\t\t\t\tgl_FragColor = apply_colormap(max_val);\",\n    \"\t\t}\",\n    \"\t\tvoid cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {\",\n    \"\t\t\t\tgl_FragColor = vec4(0.0);\t// init transparent\",\n    \"\t\t\t\tvec4 color3 = vec4(0.0);\t// final color\",\n    \"\t\t\t\tvec3 dstep = 1.5 / u_size;\t// step to sample derivative\",\n    \"\t\t\t\tvec3 loc = start_loc;\",\n    \"\t\t\t\tfloat low_threshold = u_renderthreshold - 0.02 * (u_clim[1] - u_clim[0]);\",\n    // Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with\n    // non-constant expression. So we use a hard-coded max, and an additional condition\n    // inside the loop.\n    \"\t\t\t\tfor (int iter=0; iter<MAX_STEPS; iter++) {\",\n    \"\t\t\t\t\t\tif (iter >= nsteps)\",\n    \"\t\t\t\t\t\t\t\tbreak;\",\n    // Sample from the 3D texture\n    \"\t\t\t\t\t\tfloat val = sample1(loc);\",\n    \"\t\t\t\t\t\tif (val > low_threshold) {\",\n    // Take the last interval in smaller steps\n    \"\t\t\t\t\t\t\t\tvec3 iloc = loc - 0.5 * step;\",\n    \"\t\t\t\t\t\t\t\tvec3 istep = step / float(REFINEMENT_STEPS);\",\n    \"\t\t\t\t\t\t\t\tfor (int i=0; i<REFINEMENT_STEPS; i++) {\",\n    \"\t\t\t\t\t\t\t\t\t\tval = sample1(iloc);\",\n    \"\t\t\t\t\t\t\t\t\t\tif (val > u_renderthreshold) {\",\n    \"\t\t\t\t\t\t\t\t\t\t\t\tgl_FragColor = add_lighting(val, iloc, dstep, view_ray);\",\n    \"\t\t\t\t\t\t\t\t\t\t\t\treturn;\",\n    \"\t\t\t\t\t\t\t\t\t\t}\",\n    \"\t\t\t\t\t\t\t\t\t\tiloc += istep;\",\n    \"\t\t\t\t\t\t\t\t}\",\n    \"\t\t\t\t\t\t}\",\n    // Advance location deeper into the volume\n    \"\t\t\t\t\t\tloc += step;\",\n    \"\t\t\t\t}\",\n    \"\t\t}\",\n    \"\t\tvec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray)\",\n    \"\t\t{\",\n    // Calculate color by incorporating lighting\n    // View direction\n    \"\t\t\t\tvec3 V = normalize(view_ray);\",\n    // calculate normal vector from gradient\n    \"\t\t\t\tvec3 N;\",\n    \"\t\t\t\tfloat val1, val2;\",\n    \"\t\t\t\tval1 = sample1(loc + vec3(-step[0], 0.0, 0.0));\",\n    \"\t\t\t\tval2 = sample1(loc + vec3(+step[0], 0.0, 0.0));\",\n    \"\t\t\t\tN[0] = val1 - val2;\",\n    \"\t\t\t\tval = max(max(val1, val2), val);\",\n    \"\t\t\t\tval1 = sample1(loc + vec3(0.0, -step[1], 0.0));\",\n    \"\t\t\t\tval2 = sample1(loc + vec3(0.0, +step[1], 0.0));\",\n    \"\t\t\t\tN[1] = val1 - val2;\",\n    \"\t\t\t\tval = max(max(val1, val2), val);\",\n    \"\t\t\t\tval1 = sample1(loc + vec3(0.0, 0.0, -step[2]));\",\n    \"\t\t\t\tval2 = sample1(loc + vec3(0.0, 0.0, +step[2]));\",\n    \"\t\t\t\tN[2] = val1 - val2;\",\n    \"\t\t\t\tval = max(max(val1, val2), val);\",\n    \"\t\t\t\tfloat gm = length(N); // gradient magnitude\",\n    \"\t\t\t\tN = normalize(N);\",\n    // Flip normal so it points towards viewer\n    \"\t\t\t\tfloat Nselect = float(dot(N, V) > 0.0);\",\n    \"\t\t\t\tN = (2.0 * Nselect - 1.0) * N;\t// ==\tNselect * N - (1.0-Nselect)*N;\",\n    // Init colors\n    \"\t\t\t\tvec4 ambient_color = vec4(0.0, 0.0, 0.0, 0.0);\",\n    \"\t\t\t\tvec4 diffuse_color = vec4(0.0, 0.0, 0.0, 0.0);\",\n    \"\t\t\t\tvec4 specular_color = vec4(0.0, 0.0, 0.0, 0.0);\",\n    // note: could allow multiple lights\n    \"\t\t\t\tfor (int i=0; i<1; i++)\",\n    \"\t\t\t\t{\",\n    // Get light direction (make sure to prevent zero devision)\n    \"\t\t\t\t\t\tvec3 L = normalize(view_ray);\t//lightDirs[i];\",\n    \"\t\t\t\t\t\tfloat lightEnabled = float( length(L) > 0.0 );\",\n    \"\t\t\t\t\t\tL = normalize(L + (1.0 - lightEnabled));\",\n    // Calculate lighting properties\n    \"\t\t\t\t\t\tfloat lambertTerm = clamp(dot(N, L), 0.0, 1.0);\",\n    \"\t\t\t\t\t\tvec3 H = normalize(L+V); // Halfway vector\",\n    \"\t\t\t\t\t\tfloat specularTerm = pow(max(dot(H, N), 0.0), shininess);\",\n    // Calculate mask\n    \"\t\t\t\t\t\tfloat mask1 = lightEnabled;\",\n    // Calculate colors\n    \"\t\t\t\t\t\tambient_color +=\tmask1 * ambient_color;\t// * gl_LightSource[i].ambient;\",\n    \"\t\t\t\t\t\tdiffuse_color +=\tmask1 * lambertTerm;\",\n    \"\t\t\t\t\t\tspecular_color += mask1 * specularTerm * specular_color;\",\n    \"\t\t\t\t}\",\n    // Calculate final color by componing different components\n    \"\t\t\t\tvec4 final_color;\",\n    \"\t\t\t\tvec4 color = apply_colormap(val);\",\n    \"\t\t\t\tfinal_color = color * (ambient_color + diffuse_color) + specular_color;\",\n    \"\t\t\t\tfinal_color.a = color.a;\",\n    \"\t\t\t\treturn final_color;\",\n    \"\t\t}\"\n  ].join(\"\\n\")\n};\nexport {\n  VolumeRenderShader1\n};\n", "const WaterRefractionShader = {\n  uniforms: {\n    color: {\n      value: null\n    },\n    time: {\n      value: 0\n    },\n    tDiffuse: {\n      value: null\n    },\n    tDudv: {\n      value: null\n    },\n    textureMatrix: {\n      value: null\n    }\n  },\n  vertexShader: [\n    \"uniform mat4 textureMatrix;\",\n    \"varying vec2 vUv;\",\n    \"varying vec4 vUvRefraction;\",\n    \"void main() {\",\n    \"\tvUv = uv;\",\n    \"\tvUvRefraction = textureMatrix * vec4( position, 1.0 );\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform vec3 color;\",\n    \"uniform float time;\",\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform sampler2D tDudv;\",\n    \"varying vec2 vUv;\",\n    \"varying vec4 vUvRefraction;\",\n    \"float blendOverlay( float base, float blend ) {\",\n    \"\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\",\n    \"}\",\n    \"vec3 blendOverlay( vec3 base, vec3 blend ) {\",\n    \"\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ),blendOverlay( base.b, blend.b ) );\",\n    \"}\",\n    \"void main() {\",\n    \" float waveStrength = 0.1;\",\n    \" float waveSpeed = 0.03;\",\n    // simple distortion (ripple) via dudv map (see https://www.youtube.com/watch?v=6B7IF6GOu7s)\n    \"\tvec2 distortedUv = texture2D( tDudv, vec2( vUv.x + time * waveSpeed, vUv.y ) ).rg * waveStrength;\",\n    \"\tdistortedUv = vUv.xy + vec2( distortedUv.x, distortedUv.y + time * waveSpeed );\",\n    \"\tvec2 distortion = ( texture2D( tDudv, distortedUv ).rg * 2.0 - 1.0 ) * waveStrength;\",\n    // new uv coords\n    \" vec4 uv = vec4( vUvRefraction );\",\n    \" uv.xy += distortion;\",\n    \"\tvec4 base = texture2DProj( tDiffuse, uv );\",\n    \"\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\",\n    \"}\"\n  ].join(\"\\n\")\n};\nexport {\n  WaterRefractionShader\n};\n", "import { Vector2, Group, Raycaster, Matrix4 } from \"three\";\nconst _pointer = /* @__PURE__ */ new Vector2();\nconst _event = { type: \"\", data: _pointer };\nclass InteractiveGroup extends Group {\n  constructor(renderer, camera) {\n    super();\n    const scope = this;\n    const raycaster = new Raycaster();\n    const tempMatrix = new Matrix4();\n    const element = renderer.domElement;\n    function onPointerEvent(event) {\n      event.stopPropagation();\n      _pointer.x = event.clientX / element.clientWidth * 2 - 1;\n      _pointer.y = -(event.clientY / element.clientHeight) * 2 + 1;\n      raycaster.setFromCamera(_pointer, camera);\n      const intersects = raycaster.intersectObjects(scope.children, false);\n      if (intersects.length > 0) {\n        const intersection = intersects[0];\n        const object = intersection.object;\n        const uv = intersection.uv;\n        _event.type = event.type;\n        _event.data.set(uv.x, 1 - uv.y);\n        object.dispatchEvent(_event);\n      }\n    }\n    element.addEventListener(\"pointerdown\", onPointerEvent);\n    element.addEventListener(\"pointerup\", onPointerEvent);\n    element.addEventListener(\"pointermove\", onPointerEvent);\n    element.addEventListener(\"mousedown\", onPointerEvent);\n    element.addEventListener(\"mouseup\", onPointerEvent);\n    element.addEventListener(\"mousemove\", onPointerEvent);\n    element.addEventListener(\"click\", onPointerEvent);\n    const events = {\n      move: \"mousemove\",\n      select: \"click\",\n      selectstart: \"mousedown\",\n      selectend: \"mouseup\"\n    };\n    function onXRControllerEvent(event) {\n      const controller = event.target;\n      tempMatrix.identity().extractRotation(controller.matrixWorld);\n      raycaster.ray.origin.setFromMatrixPosition(controller.matrixWorld);\n      raycaster.ray.direction.set(0, 0, -1).applyMatrix4(tempMatrix);\n      const intersections = raycaster.intersectObjects(scope.children, false);\n      if (intersections.length > 0) {\n        const intersection = intersections[0];\n        const object = intersection.object;\n        const uv = intersection.uv;\n        _event.type = events[event.type];\n        _event.data.set(uv.x, 1 - uv.y);\n        object.dispatchEvent(_event);\n      }\n    }\n    const controller1 = renderer.xr.getController(0);\n    controller1.addEventListener(\"move\", onXRControllerEvent);\n    controller1.addEventListener(\"select\", onXRControllerEvent);\n    controller1.addEventListener(\"selectstart\", onXRControllerEvent);\n    controller1.addEventListener(\"selectend\", onXRControllerEvent);\n    const controller2 = renderer.xr.getController(1);\n    controller2.addEventListener(\"move\", onXRControllerEvent);\n    controller2.addEventListener(\"select\", onXRControllerEvent);\n    controller2.addEventListener(\"selectstart\", onXRControllerEvent);\n    controller2.addEventListener(\"selectend\", onXRControllerEvent);\n  }\n}\nexport {\n  InteractiveGroup\n};\n", "import { Frustum, Vector3 } from \"three\";\nconst frustum = /* @__PURE__ */ new Frustum();\nconst center = /* @__PURE__ */ new Vector3();\nconst tmpPoint = /* @__PURE__ */ new Vector3();\nconst vecNear = /* @__PURE__ */ new Vector3();\nconst vecTopLeft = /* @__PURE__ */ new Vector3();\nconst vecTopRight = /* @__PURE__ */ new Vector3();\nconst vecDownRight = /* @__PURE__ */ new Vector3();\nconst vecDownLeft = /* @__PURE__ */ new Vector3();\nconst vecFarTopLeft = /* @__PURE__ */ new Vector3();\nconst vecFarTopRight = /* @__PURE__ */ new Vector3();\nconst vecFarDownRight = /* @__PURE__ */ new Vector3();\nconst vecFarDownLeft = /* @__PURE__ */ new Vector3();\nconst vectemp1 = /* @__PURE__ */ new Vector3();\nconst vectemp2 = /* @__PURE__ */ new Vector3();\nconst vectemp3 = /* @__PURE__ */ new Vector3();\nclass SelectionBox {\n  constructor(camera, scene, deep) {\n    this.camera = camera;\n    this.scene = scene;\n    this.startPoint = new Vector3();\n    this.endPoint = new Vector3();\n    this.collection = [];\n    this.deep = deep || Number.MAX_VALUE;\n  }\n  select(startPoint, endPoint) {\n    this.startPoint = startPoint || this.startPoint;\n    this.endPoint = endPoint || this.endPoint;\n    this.collection = [];\n    this.updateFrustum(this.startPoint, this.endPoint);\n    this.searchChildInFrustum(frustum, this.scene);\n    return this.collection;\n  }\n  updateFrustum(startPoint, endPoint) {\n    startPoint = startPoint || this.startPoint;\n    endPoint = endPoint || this.endPoint;\n    if (startPoint.x === endPoint.x) {\n      endPoint.x += Number.EPSILON;\n    }\n    if (startPoint.y === endPoint.y) {\n      endPoint.y += Number.EPSILON;\n    }\n    this.camera.updateProjectionMatrix();\n    this.camera.updateMatrixWorld();\n    if (this.camera.isPerspectiveCamera) {\n      tmpPoint.copy(startPoint);\n      tmpPoint.x = Math.min(startPoint.x, endPoint.x);\n      tmpPoint.y = Math.max(startPoint.y, endPoint.y);\n      endPoint.x = Math.max(startPoint.x, endPoint.x);\n      endPoint.y = Math.min(startPoint.y, endPoint.y);\n      vecNear.setFromMatrixPosition(this.camera.matrixWorld);\n      vecTopLeft.copy(tmpPoint);\n      vecTopRight.set(endPoint.x, tmpPoint.y, 0);\n      vecDownRight.copy(endPoint);\n      vecDownLeft.set(tmpPoint.x, endPoint.y, 0);\n      vecTopLeft.unproject(this.camera);\n      vecTopRight.unproject(this.camera);\n      vecDownRight.unproject(this.camera);\n      vecDownLeft.unproject(this.camera);\n      vectemp1.copy(vecTopLeft).sub(vecNear);\n      vectemp2.copy(vecTopRight).sub(vecNear);\n      vectemp3.copy(vecDownRight).sub(vecNear);\n      vectemp1.normalize();\n      vectemp2.normalize();\n      vectemp3.normalize();\n      vectemp1.multiplyScalar(this.deep);\n      vectemp2.multiplyScalar(this.deep);\n      vectemp3.multiplyScalar(this.deep);\n      vectemp1.add(vecNear);\n      vectemp2.add(vecNear);\n      vectemp3.add(vecNear);\n      var planes = frustum.planes;\n      planes[0].setFromCoplanarPoints(vecNear, vecTopLeft, vecTopRight);\n      planes[1].setFromCoplanarPoints(vecNear, vecTopRight, vecDownRight);\n      planes[2].setFromCoplanarPoints(vecDownRight, vecDownLeft, vecNear);\n      planes[3].setFromCoplanarPoints(vecDownLeft, vecTopLeft, vecNear);\n      planes[4].setFromCoplanarPoints(vecTopRight, vecDownRight, vecDownLeft);\n      planes[5].setFromCoplanarPoints(vectemp3, vectemp2, vectemp1);\n      planes[5].normal.multiplyScalar(-1);\n    } else if (this.camera.isOrthographicCamera) {\n      const left = Math.min(startPoint.x, endPoint.x);\n      const top = Math.max(startPoint.y, endPoint.y);\n      const right = Math.max(startPoint.x, endPoint.x);\n      const down = Math.min(startPoint.y, endPoint.y);\n      vecTopLeft.set(left, top, -1);\n      vecTopRight.set(right, top, -1);\n      vecDownRight.set(right, down, -1);\n      vecDownLeft.set(left, down, -1);\n      vecFarTopLeft.set(left, top, 1);\n      vecFarTopRight.set(right, top, 1);\n      vecFarDownRight.set(right, down, 1);\n      vecFarDownLeft.set(left, down, 1);\n      vecTopLeft.unproject(this.camera);\n      vecTopRight.unproject(this.camera);\n      vecDownRight.unproject(this.camera);\n      vecDownLeft.unproject(this.camera);\n      vecFarTopLeft.unproject(this.camera);\n      vecFarTopRight.unproject(this.camera);\n      vecFarDownRight.unproject(this.camera);\n      vecFarDownLeft.unproject(this.camera);\n      var planes = frustum.planes;\n      planes[0].setFromCoplanarPoints(vecTopLeft, vecFarTopLeft, vecFarTopRight);\n      planes[1].setFromCoplanarPoints(vecTopRight, vecFarTopRight, vecFarDownRight);\n      planes[2].setFromCoplanarPoints(vecFarDownRight, vecFarDownLeft, vecDownLeft);\n      planes[3].setFromCoplanarPoints(vecFarDownLeft, vecFarTopLeft, vecTopLeft);\n      planes[4].setFromCoplanarPoints(vecTopRight, vecDownRight, vecDownLeft);\n      planes[5].setFromCoplanarPoints(vecFarDownRight, vecFarTopRight, vecFarTopLeft);\n      planes[5].normal.multiplyScalar(-1);\n    } else {\n      console.error(\"THREE.SelectionBox: Unsupported camera type.\");\n    }\n  }\n  searchChildInFrustum(frustum2, object) {\n    if (object.isMesh || object.isLine || object.isPoints) {\n      if (object.material !== void 0) {\n        if (object.geometry.boundingSphere === null)\n          object.geometry.computeBoundingSphere();\n        center.copy(object.geometry.boundingSphere.center);\n        center.applyMatrix4(object.matrixWorld);\n        if (frustum2.containsPoint(center)) {\n          this.collection.push(object);\n        }\n      }\n    }\n    if (object.children.length > 0) {\n      for (let x = 0; x < object.children.length; x++) {\n        this.searchChildInFrustum(frustum2, object.children[x]);\n      }\n    }\n  }\n}\nexport {\n  SelectionBox\n};\n", "class AsciiEffect {\n  constructor(renderer, charSet = \" .:-=+*#%@\", options = {}) {\n    const fResolution = options[\"resolution\"] || 0.15;\n    const iScale = options[\"scale\"] || 1;\n    const bColor = options[\"color\"] || false;\n    const bAlpha = options[\"alpha\"] || false;\n    const bBlock = options[\"block\"] || false;\n    const bInvert = options[\"invert\"] || false;\n    const strResolution = options[\"strResolution\"] || \"low\";\n    let width, height;\n    const domElement = document.createElement(\"div\");\n    domElement.style.cursor = \"default\";\n    const oAscii = document.createElement(\"table\");\n    domElement.appendChild(oAscii);\n    let iWidth, iHeight;\n    let oImg;\n    this.setSize = function(w, h) {\n      width = w;\n      height = h;\n      renderer.setSize(w, h);\n      initAsciiSize();\n    };\n    this.render = function(scene, camera) {\n      renderer.render(scene, camera);\n      asciifyImage(oAscii);\n    };\n    this.domElement = domElement;\n    function initAsciiSize() {\n      iWidth = Math.floor(width * fResolution);\n      iHeight = Math.floor(height * fResolution);\n      oCanvas.width = iWidth;\n      oCanvas.height = iHeight;\n      oImg = renderer.domElement;\n      if (oImg.style.backgroundColor) {\n        oAscii.rows[0].cells[0].style.backgroundColor = oImg.style.backgroundColor;\n        oAscii.rows[0].cells[0].style.color = oImg.style.color;\n      }\n      oAscii.cellSpacing = 0;\n      oAscii.cellPadding = 0;\n      const oStyle = oAscii.style;\n      oStyle.whiteSpace = \"pre\";\n      oStyle.margin = \"0px\";\n      oStyle.padding = \"0px\";\n      oStyle.letterSpacing = fLetterSpacing + \"px\";\n      oStyle.fontFamily = strFont;\n      oStyle.fontSize = fFontSize + \"px\";\n      oStyle.lineHeight = fLineHeight + \"px\";\n      oStyle.textAlign = \"left\";\n      oStyle.textDecoration = \"none\";\n    }\n    const aDefaultCharList = \" .,:;i1tfLCG08@\".split(\"\");\n    const aDefaultColorCharList = \" CGO08@\".split(\"\");\n    const strFont = \"courier new, monospace\";\n    const oCanvasImg = renderer.domElement;\n    const oCanvas = document.createElement(\"canvas\");\n    if (!oCanvas.getContext) {\n      return;\n    }\n    const oCtx = oCanvas.getContext(\"2d\");\n    if (!oCtx.getImageData) {\n      return;\n    }\n    let aCharList = bColor ? aDefaultColorCharList : aDefaultCharList;\n    if (charSet)\n      aCharList = charSet;\n    const fFontSize = 2 / fResolution * iScale;\n    const fLineHeight = 2 / fResolution * iScale;\n    let fLetterSpacing = 0;\n    if (strResolution == \"low\") {\n      switch (iScale) {\n        case 1:\n          fLetterSpacing = -1;\n          break;\n        case 2:\n        case 3:\n          fLetterSpacing = -2.1;\n          break;\n        case 4:\n          fLetterSpacing = -3.1;\n          break;\n        case 5:\n          fLetterSpacing = -4.15;\n          break;\n      }\n    }\n    if (strResolution == \"medium\") {\n      switch (iScale) {\n        case 1:\n          fLetterSpacing = 0;\n          break;\n        case 2:\n          fLetterSpacing = -1;\n          break;\n        case 3:\n          fLetterSpacing = -1.04;\n          break;\n        case 4:\n        case 5:\n          fLetterSpacing = -2.1;\n          break;\n      }\n    }\n    if (strResolution == \"high\") {\n      switch (iScale) {\n        case 1:\n        case 2:\n          fLetterSpacing = 0;\n          break;\n        case 3:\n        case 4:\n        case 5:\n          fLetterSpacing = -1;\n          break;\n      }\n    }\n    function asciifyImage(oAscii2) {\n      oCtx.clearRect(0, 0, iWidth, iHeight);\n      oCtx.drawImage(oCanvasImg, 0, 0, iWidth, iHeight);\n      const oImgData = oCtx.getImageData(0, 0, iWidth, iHeight).data;\n      let strChars = \"\";\n      for (let y = 0; y < iHeight; y += 2) {\n        for (let x = 0; x < iWidth; x++) {\n          const iOffset = (y * iWidth + x) * 4;\n          const iRed = oImgData[iOffset];\n          const iGreen = oImgData[iOffset + 1];\n          const iBlue = oImgData[iOffset + 2];\n          const iAlpha = oImgData[iOffset + 3];\n          let iCharIdx;\n          let fBrightness;\n          fBrightness = (0.3 * iRed + 0.59 * iGreen + 0.11 * iBlue) / 255;\n          if (iAlpha == 0) {\n            fBrightness = 1;\n          }\n          iCharIdx = Math.floor((1 - fBrightness) * (aCharList.length - 1));\n          if (bInvert) {\n            iCharIdx = aCharList.length - iCharIdx - 1;\n          }\n          let strThisChar = aCharList[iCharIdx];\n          if (strThisChar === void 0 || strThisChar == \" \")\n            strThisChar = \"&nbsp;\";\n          if (bColor) {\n            strChars += \"<span style='color:rgb(\" + iRed + \",\" + iGreen + \",\" + iBlue + \");\" + (bBlock ? \"background-color:rgb(\" + iRed + \",\" + iGreen + \",\" + iBlue + \");\" : \"\") + (bAlpha ? \"opacity:\" + iAlpha / 255 + \";\" : \"\") + \"'>\" + strThisChar + \"</span>\";\n          } else {\n            strChars += strThisChar;\n          }\n        }\n        strChars += \"<br/>\";\n      }\n      oAscii2.innerHTML = `<tr><td style=\"display:block;width:${width}px;height:${height}px;overflow:hidden\">${strChars}</td></tr>`;\n    }\n  }\n}\nexport {\n  AsciiEffect\n};\n", "import { Vector4, Vector3 } from \"three\";\nfunction findSpan(p, u, U) {\n  const n = U.length - p - 1;\n  if (u >= U[n]) {\n    return n - 1;\n  }\n  if (u <= U[p]) {\n    return p;\n  }\n  let low = p;\n  let high = n;\n  let mid = Math.floor((low + high) / 2);\n  while (u < U[mid] || u >= U[mid + 1]) {\n    if (u < U[mid]) {\n      high = mid;\n    } else {\n      low = mid;\n    }\n    mid = Math.floor((low + high) / 2);\n  }\n  return mid;\n}\nfunction calcBasisFunctions(span, u, p, U) {\n  const N = [];\n  const left = [];\n  const right = [];\n  N[0] = 1;\n  for (let j = 1; j <= p; ++j) {\n    left[j] = u - U[span + 1 - j];\n    right[j] = U[span + j] - u;\n    let saved = 0;\n    for (let r = 0; r < j; ++r) {\n      const rv = right[r + 1];\n      const lv = left[j - r];\n      const temp = N[r] / (rv + lv);\n      N[r] = saved + rv * temp;\n      saved = lv * temp;\n    }\n    N[j] = saved;\n  }\n  return N;\n}\nfunction calcBSplinePoint(p, U, P, u) {\n  const span = findSpan(p, u, U);\n  const N = calcBasisFunctions(span, u, p, U);\n  const C = new Vector4(0, 0, 0, 0);\n  for (let j = 0; j <= p; ++j) {\n    const point = P[span - p + j];\n    const Nj = N[j];\n    const wNj = point.w * Nj;\n    C.x += point.x * wNj;\n    C.y += point.y * wNj;\n    C.z += point.z * wNj;\n    C.w += point.w * Nj;\n  }\n  return C;\n}\nfunction calcBasisFunctionDerivatives(span, u, p, n, U) {\n  const zeroArr = [];\n  for (let i = 0; i <= p; ++i)\n    zeroArr[i] = 0;\n  const ders = [];\n  for (let i = 0; i <= n; ++i)\n    ders[i] = zeroArr.slice(0);\n  const ndu = [];\n  for (let i = 0; i <= p; ++i)\n    ndu[i] = zeroArr.slice(0);\n  ndu[0][0] = 1;\n  const left = zeroArr.slice(0);\n  const right = zeroArr.slice(0);\n  for (let j = 1; j <= p; ++j) {\n    left[j] = u - U[span + 1 - j];\n    right[j] = U[span + j] - u;\n    let saved = 0;\n    for (let r2 = 0; r2 < j; ++r2) {\n      const rv = right[r2 + 1];\n      const lv = left[j - r2];\n      ndu[j][r2] = rv + lv;\n      const temp = ndu[r2][j - 1] / ndu[j][r2];\n      ndu[r2][j] = saved + rv * temp;\n      saved = lv * temp;\n    }\n    ndu[j][j] = saved;\n  }\n  for (let j = 0; j <= p; ++j) {\n    ders[0][j] = ndu[j][p];\n  }\n  for (let r2 = 0; r2 <= p; ++r2) {\n    let s1 = 0;\n    let s2 = 1;\n    const a = [];\n    for (let i = 0; i <= p; ++i) {\n      a[i] = zeroArr.slice(0);\n    }\n    a[0][0] = 1;\n    for (let k = 1; k <= n; ++k) {\n      let d = 0;\n      const rk = r2 - k;\n      const pk = p - k;\n      if (r2 >= k) {\n        a[s2][0] = a[s1][0] / ndu[pk + 1][rk];\n        d = a[s2][0] * ndu[rk][pk];\n      }\n      const j1 = rk >= -1 ? 1 : -rk;\n      const j2 = r2 - 1 <= pk ? k - 1 : p - r2;\n      for (let j3 = j1; j3 <= j2; ++j3) {\n        a[s2][j3] = (a[s1][j3] - a[s1][j3 - 1]) / ndu[pk + 1][rk + j3];\n        d += a[s2][j3] * ndu[rk + j3][pk];\n      }\n      if (r2 <= pk) {\n        a[s2][k] = -a[s1][k - 1] / ndu[pk + 1][r2];\n        d += a[s2][k] * ndu[r2][pk];\n      }\n      ders[k][r2] = d;\n      const j = s1;\n      s1 = s2;\n      s2 = j;\n    }\n  }\n  let r = p;\n  for (let k = 1; k <= n; ++k) {\n    for (let j = 0; j <= p; ++j) {\n      ders[k][j] *= r;\n    }\n    r *= p - k;\n  }\n  return ders;\n}\nfunction calcBSplineDerivatives(p, U, P, u, nd) {\n  const du = nd < p ? nd : p;\n  const CK = [];\n  const span = findSpan(p, u, U);\n  const nders = calcBasisFunctionDerivatives(span, u, p, du, U);\n  const Pw = [];\n  for (let i = 0; i < P.length; ++i) {\n    const point = P[i].clone();\n    const w = point.w;\n    point.x *= w;\n    point.y *= w;\n    point.z *= w;\n    Pw[i] = point;\n  }\n  for (let k = 0; k <= du; ++k) {\n    const point = Pw[span - p].clone().multiplyScalar(nders[k][0]);\n    for (let j = 1; j <= p; ++j) {\n      point.add(Pw[span - p + j].clone().multiplyScalar(nders[k][j]));\n    }\n    CK[k] = point;\n  }\n  for (let k = du + 1; k <= nd + 1; ++k) {\n    CK[k] = new Vector4(0, 0, 0);\n  }\n  return CK;\n}\nfunction calcKoverI(k, i) {\n  let nom = 1;\n  for (let j = 2; j <= k; ++j) {\n    nom *= j;\n  }\n  let denom = 1;\n  for (let j = 2; j <= i; ++j) {\n    denom *= j;\n  }\n  for (let j = 2; j <= k - i; ++j) {\n    denom *= j;\n  }\n  return nom / denom;\n}\nfunction calcRationalCurveDerivatives(Pders) {\n  const nd = Pders.length;\n  const Aders = [];\n  const wders = [];\n  for (let i = 0; i < nd; ++i) {\n    const point = Pders[i];\n    Aders[i] = new Vector3(point.x, point.y, point.z);\n    wders[i] = point.w;\n  }\n  const CK = [];\n  for (let k = 0; k < nd; ++k) {\n    const v = Aders[k].clone();\n    for (let i = 1; i <= k; ++i) {\n      v.sub(CK[k - i].clone().multiplyScalar(calcKoverI(k, i) * wders[i]));\n    }\n    CK[k] = v.divideScalar(wders[0]);\n  }\n  return CK;\n}\nfunction calcNURBSDerivatives(p, U, P, u, nd) {\n  const Pders = calcBSplineDerivatives(p, U, P, u, nd);\n  return calcRationalCurveDerivatives(Pders);\n}\nfunction calcSurfacePoint(p, q, U, V, P, u, v, target) {\n  const uspan = findSpan(p, u, U);\n  const vspan = findSpan(q, v, V);\n  const Nu = calcBasisFunctions(uspan, u, p, U);\n  const Nv = calcBasisFunctions(vspan, v, q, V);\n  const temp = [];\n  for (let l = 0; l <= q; ++l) {\n    temp[l] = new Vector4(0, 0, 0, 0);\n    for (let k = 0; k <= p; ++k) {\n      const point = P[uspan - p + k][vspan - q + l].clone();\n      const w = point.w;\n      point.x *= w;\n      point.y *= w;\n      point.z *= w;\n      temp[l].add(point.multiplyScalar(Nu[k]));\n    }\n  }\n  const Sw = new Vector4(0, 0, 0, 0);\n  for (let l = 0; l <= q; ++l) {\n    Sw.add(temp[l].multiplyScalar(Nv[l]));\n  }\n  Sw.divideScalar(Sw.w);\n  target.set(Sw.x, Sw.y, Sw.z);\n}\nexport {\n  calcBSplineDerivatives,\n  calcBSplinePoint,\n  calcBasisFunctionDerivatives,\n  calcBasisFunctions,\n  calcKoverI,\n  calcNURBSDerivatives,\n  calcRationalCurveDerivatives,\n  calcSurfacePoint,\n  findSpan\n};\n", "import { Curve, Vector4, Vector3 } from \"three\";\nimport { calcBSplinePoint, calcNURBSDerivatives } from \"./NURBSUtils.js\";\nclass NURBSCurve extends Curve {\n  constructor(degree, knots, controlPoints, startKnot, endKnot) {\n    super();\n    this.degree = degree;\n    this.knots = knots;\n    this.controlPoints = [];\n    this.startKnot = startKnot || 0;\n    this.endKnot = endKnot || this.knots.length - 1;\n    for (let i = 0; i < controlPoints.length; ++i) {\n      const point = controlPoints[i];\n      this.controlPoints[i] = new Vector4(point.x, point.y, point.z, point.w);\n    }\n  }\n  getPoint(t, optionalTarget) {\n    const point = optionalTarget || new Vector3();\n    const u = this.knots[this.startKnot] + t * (this.knots[this.endKnot] - this.knots[this.startKnot]);\n    const hpoint = calcBSplinePoint(this.degree, this.knots, this.controlPoints, u);\n    if (hpoint.w != 1) {\n      hpoint.divideScalar(hpoint.w);\n    }\n    return point.set(hpoint.x, hpoint.y, hpoint.z);\n  }\n  getTangent(t, optionalTarget) {\n    const tangent = optionalTarget || new Vector3();\n    const u = this.knots[0] + t * (this.knots[this.knots.length - 1] - this.knots[0]);\n    const ders = calcNURBSDerivatives(this.degree, this.knots, this.controlPoints, u, 1);\n    tangent.copy(ders[1]).normalize();\n    return tangent;\n  }\n}\nexport {\n  NURBSCurve\n};\n", "import { Loader, LoaderUtils, FileLoader, TextureLoader, RepeatWrapping, ClampToEdgeWrapping, Texture, MeshPhongMaterial, MeshLambertMaterial, Color, EquirectangularReflectionMapping, Matrix4, Group, Bone, PropertyBinding, Object3D, OrthographicCamera, PerspectiveCamera, PointLight, MathUtils, SpotLight, DirectionalLight, SkinnedMesh, Mesh, LineBasicMaterial, Line, Vector3, Skeleton, AmbientLight, BufferGeometry, Float32BufferAttribute, Uint16BufferAttribute, Matrix3, Vector4, AnimationClip, Quaternion, Euler, VectorKeyframeTrack, QuaternionKeyframeTrack, NumberKeyframeTrack } from \"three\";\nimport { unzlibSync } from \"fflate\";\nimport { NURBSCurve } from \"../curves/NURBSCurve.js\";\nlet fbxTree;\nlet connections;\nlet sceneGraph;\nclass FBXLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n  }\n  load(url, onLoad, onProgress, onError) {\n    const scope = this;\n    const path = scope.path === \"\" ? LoaderUtils.extractUrlBase(url) : scope.path;\n    const loader = new FileLoader(this.manager);\n    loader.setPath(scope.path);\n    loader.setResponseType(\"arraybuffer\");\n    loader.setRequestHeader(scope.requestHeader);\n    loader.setWithCredentials(scope.withCredentials);\n    loader.load(\n      url,\n      function(buffer) {\n        try {\n          onLoad(scope.parse(buffer, path));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n          scope.manager.itemError(url);\n        }\n      },\n      onProgress,\n      onError\n    );\n  }\n  parse(FBXBuffer, path) {\n    if (isFbxFormatBinary(FBXBuffer)) {\n      fbxTree = new BinaryParser().parse(FBXBuffer);\n    } else {\n      const FBXText = convertArrayBufferToString(FBXBuffer);\n      if (!isFbxFormatASCII(FBXText)) {\n        throw new Error(\"THREE.FBXLoader: Unknown format.\");\n      }\n      if (getFbxVersion(FBXText) < 7e3) {\n        throw new Error(\"THREE.FBXLoader: FBX version not supported, FileVersion: \" + getFbxVersion(FBXText));\n      }\n      fbxTree = new TextParser().parse(FBXText);\n    }\n    const textureLoader = new TextureLoader(this.manager).setPath(this.resourcePath || path).setCrossOrigin(this.crossOrigin);\n    return new FBXTreeParser(textureLoader, this.manager).parse(fbxTree);\n  }\n}\nclass FBXTreeParser {\n  constructor(textureLoader, manager) {\n    this.textureLoader = textureLoader;\n    this.manager = manager;\n  }\n  parse() {\n    connections = this.parseConnections();\n    const images = this.parseImages();\n    const textures = this.parseTextures(images);\n    const materials = this.parseMaterials(textures);\n    const deformers = this.parseDeformers();\n    const geometryMap = new GeometryParser().parse(deformers);\n    this.parseScene(deformers, geometryMap, materials);\n    return sceneGraph;\n  }\n  // Parses FBXTree.Connections which holds parent-child connections between objects (e.g. material -> texture, model->geometry )\n  // and details the connection type\n  parseConnections() {\n    const connectionMap = /* @__PURE__ */ new Map();\n    if (\"Connections\" in fbxTree) {\n      const rawConnections = fbxTree.Connections.connections;\n      rawConnections.forEach(function(rawConnection) {\n        const fromID = rawConnection[0];\n        const toID = rawConnection[1];\n        const relationship = rawConnection[2];\n        if (!connectionMap.has(fromID)) {\n          connectionMap.set(fromID, {\n            parents: [],\n            children: []\n          });\n        }\n        const parentRelationship = { ID: toID, relationship };\n        connectionMap.get(fromID).parents.push(parentRelationship);\n        if (!connectionMap.has(toID)) {\n          connectionMap.set(toID, {\n            parents: [],\n            children: []\n          });\n        }\n        const childRelationship = { ID: fromID, relationship };\n        connectionMap.get(toID).children.push(childRelationship);\n      });\n    }\n    return connectionMap;\n  }\n  // Parse FBXTree.Objects.Video for embedded image data\n  // These images are connected to textures in FBXTree.Objects.Textures\n  // via FBXTree.Connections.\n  parseImages() {\n    const images = {};\n    const blobs = {};\n    if (\"Video\" in fbxTree.Objects) {\n      const videoNodes = fbxTree.Objects.Video;\n      for (const nodeID in videoNodes) {\n        const videoNode = videoNodes[nodeID];\n        const id = parseInt(nodeID);\n        images[id] = videoNode.RelativeFilename || videoNode.Filename;\n        if (\"Content\" in videoNode) {\n          const arrayBufferContent = videoNode.Content instanceof ArrayBuffer && videoNode.Content.byteLength > 0;\n          const base64Content = typeof videoNode.Content === \"string\" && videoNode.Content !== \"\";\n          if (arrayBufferContent || base64Content) {\n            const image = this.parseImage(videoNodes[nodeID]);\n            blobs[videoNode.RelativeFilename || videoNode.Filename] = image;\n          }\n        }\n      }\n    }\n    for (const id in images) {\n      const filename = images[id];\n      if (blobs[filename] !== void 0)\n        images[id] = blobs[filename];\n      else\n        images[id] = images[id].split(\"\\\\\").pop();\n    }\n    return images;\n  }\n  // Parse embedded image data in FBXTree.Video.Content\n  parseImage(videoNode) {\n    const content = videoNode.Content;\n    const fileName = videoNode.RelativeFilename || videoNode.Filename;\n    const extension = fileName.slice(fileName.lastIndexOf(\".\") + 1).toLowerCase();\n    let type;\n    switch (extension) {\n      case \"bmp\":\n        type = \"image/bmp\";\n        break;\n      case \"jpg\":\n      case \"jpeg\":\n        type = \"image/jpeg\";\n        break;\n      case \"png\":\n        type = \"image/png\";\n        break;\n      case \"tif\":\n        type = \"image/tiff\";\n        break;\n      case \"tga\":\n        if (this.manager.getHandler(\".tga\") === null) {\n          console.warn(\"FBXLoader: TGA loader not found, skipping \", fileName);\n        }\n        type = \"image/tga\";\n        break;\n      default:\n        console.warn('FBXLoader: Image type \"' + extension + '\" is not supported.');\n        return;\n    }\n    if (typeof content === \"string\") {\n      return \"data:\" + type + \";base64,\" + content;\n    } else {\n      const array = new Uint8Array(content);\n      return window.URL.createObjectURL(new Blob([array], { type }));\n    }\n  }\n  // Parse nodes in FBXTree.Objects.Texture\n  // These contain details such as UV scaling, cropping, rotation etc and are connected\n  // to images in FBXTree.Objects.Video\n  parseTextures(images) {\n    const textureMap = /* @__PURE__ */ new Map();\n    if (\"Texture\" in fbxTree.Objects) {\n      const textureNodes = fbxTree.Objects.Texture;\n      for (const nodeID in textureNodes) {\n        const texture = this.parseTexture(textureNodes[nodeID], images);\n        textureMap.set(parseInt(nodeID), texture);\n      }\n    }\n    return textureMap;\n  }\n  // Parse individual node in FBXTree.Objects.Texture\n  parseTexture(textureNode, images) {\n    const texture = this.loadTexture(textureNode, images);\n    texture.ID = textureNode.id;\n    texture.name = textureNode.attrName;\n    const wrapModeU = textureNode.WrapModeU;\n    const wrapModeV = textureNode.WrapModeV;\n    const valueU = wrapModeU !== void 0 ? wrapModeU.value : 0;\n    const valueV = wrapModeV !== void 0 ? wrapModeV.value : 0;\n    texture.wrapS = valueU === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n    texture.wrapT = valueV === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n    if (\"Scaling\" in textureNode) {\n      const values = textureNode.Scaling.value;\n      texture.repeat.x = values[0];\n      texture.repeat.y = values[1];\n    }\n    return texture;\n  }\n  // load a texture specified as a blob or data URI, or via an external URL using TextureLoader\n  loadTexture(textureNode, images) {\n    let fileName;\n    const currentPath = this.textureLoader.path;\n    const children = connections.get(textureNode.id).children;\n    if (children !== void 0 && children.length > 0 && images[children[0].ID] !== void 0) {\n      fileName = images[children[0].ID];\n      if (fileName.indexOf(\"blob:\") === 0 || fileName.indexOf(\"data:\") === 0) {\n        this.textureLoader.setPath(void 0);\n      }\n    }\n    let texture;\n    const extension = textureNode.FileName.slice(-3).toLowerCase();\n    if (extension === \"tga\") {\n      const loader = this.manager.getHandler(\".tga\");\n      if (loader === null) {\n        console.warn(\"FBXLoader: TGA loader not found, creating placeholder texture for\", textureNode.RelativeFilename);\n        texture = new Texture();\n      } else {\n        loader.setPath(this.textureLoader.path);\n        texture = loader.load(fileName);\n      }\n    } else if (extension === \"psd\") {\n      console.warn(\n        \"FBXLoader: PSD textures are not supported, creating placeholder texture for\",\n        textureNode.RelativeFilename\n      );\n      texture = new Texture();\n    } else {\n      texture = this.textureLoader.load(fileName);\n    }\n    this.textureLoader.setPath(currentPath);\n    return texture;\n  }\n  // Parse nodes in FBXTree.Objects.Material\n  parseMaterials(textureMap) {\n    const materialMap = /* @__PURE__ */ new Map();\n    if (\"Material\" in fbxTree.Objects) {\n      const materialNodes = fbxTree.Objects.Material;\n      for (const nodeID in materialNodes) {\n        const material = this.parseMaterial(materialNodes[nodeID], textureMap);\n        if (material !== null)\n          materialMap.set(parseInt(nodeID), material);\n      }\n    }\n    return materialMap;\n  }\n  // Parse single node in FBXTree.Objects.Material\n  // Materials are connected to texture maps in FBXTree.Objects.Textures\n  // FBX format currently only supports Lambert and Phong shading models\n  parseMaterial(materialNode, textureMap) {\n    const ID = materialNode.id;\n    const name = materialNode.attrName;\n    let type = materialNode.ShadingModel;\n    if (typeof type === \"object\") {\n      type = type.value;\n    }\n    if (!connections.has(ID))\n      return null;\n    const parameters = this.parseParameters(materialNode, textureMap, ID);\n    let material;\n    switch (type.toLowerCase()) {\n      case \"phong\":\n        material = new MeshPhongMaterial();\n        break;\n      case \"lambert\":\n        material = new MeshLambertMaterial();\n        break;\n      default:\n        console.warn('THREE.FBXLoader: unknown material type \"%s\". Defaulting to MeshPhongMaterial.', type);\n        material = new MeshPhongMaterial();\n        break;\n    }\n    material.setValues(parameters);\n    material.name = name;\n    return material;\n  }\n  // Parse FBX material and return parameters suitable for a three.js material\n  // Also parse the texture map and return any textures associated with the material\n  parseParameters(materialNode, textureMap, ID) {\n    const parameters = {};\n    if (materialNode.BumpFactor) {\n      parameters.bumpScale = materialNode.BumpFactor.value;\n    }\n    if (materialNode.Diffuse) {\n      parameters.color = new Color().fromArray(materialNode.Diffuse.value);\n    } else if (materialNode.DiffuseColor && (materialNode.DiffuseColor.type === \"Color\" || materialNode.DiffuseColor.type === \"ColorRGB\")) {\n      parameters.color = new Color().fromArray(materialNode.DiffuseColor.value);\n    }\n    if (materialNode.DisplacementFactor) {\n      parameters.displacementScale = materialNode.DisplacementFactor.value;\n    }\n    if (materialNode.Emissive) {\n      parameters.emissive = new Color().fromArray(materialNode.Emissive.value);\n    } else if (materialNode.EmissiveColor && (materialNode.EmissiveColor.type === \"Color\" || materialNode.EmissiveColor.type === \"ColorRGB\")) {\n      parameters.emissive = new Color().fromArray(materialNode.EmissiveColor.value);\n    }\n    if (materialNode.EmissiveFactor) {\n      parameters.emissiveIntensity = parseFloat(materialNode.EmissiveFactor.value);\n    }\n    if (materialNode.Opacity) {\n      parameters.opacity = parseFloat(materialNode.Opacity.value);\n    }\n    if (parameters.opacity < 1) {\n      parameters.transparent = true;\n    }\n    if (materialNode.ReflectionFactor) {\n      parameters.reflectivity = materialNode.ReflectionFactor.value;\n    }\n    if (materialNode.Shininess) {\n      parameters.shininess = materialNode.Shininess.value;\n    }\n    if (materialNode.Specular) {\n      parameters.specular = new Color().fromArray(materialNode.Specular.value);\n    } else if (materialNode.SpecularColor && materialNode.SpecularColor.type === \"Color\") {\n      parameters.specular = new Color().fromArray(materialNode.SpecularColor.value);\n    }\n    const scope = this;\n    connections.get(ID).children.forEach(function(child) {\n      const type = child.relationship;\n      switch (type) {\n        case \"Bump\":\n          parameters.bumpMap = scope.getTexture(textureMap, child.ID);\n          break;\n        case \"Maya|TEX_ao_map\":\n          parameters.aoMap = scope.getTexture(textureMap, child.ID);\n          break;\n        case \"DiffuseColor\":\n        case \"Maya|TEX_color_map\":\n          parameters.map = scope.getTexture(textureMap, child.ID);\n          if (parameters.map !== void 0) {\n            if (\"colorSpace\" in parameters.map)\n              parameters.map.colorSpace = \"srgb\";\n            else\n              parameters.map.encoding = 3001;\n          }\n          break;\n        case \"DisplacementColor\":\n          parameters.displacementMap = scope.getTexture(textureMap, child.ID);\n          break;\n        case \"EmissiveColor\":\n          parameters.emissiveMap = scope.getTexture(textureMap, child.ID);\n          if (parameters.emissiveMap !== void 0) {\n            if (\"colorSpace\" in parameters.emissiveMap)\n              parameters.emissiveMap.colorSpace = \"srgb\";\n            else\n              parameters.emissiveMap.encoding = 3001;\n          }\n          break;\n        case \"NormalMap\":\n        case \"Maya|TEX_normal_map\":\n          parameters.normalMap = scope.getTexture(textureMap, child.ID);\n          break;\n        case \"ReflectionColor\":\n          parameters.envMap = scope.getTexture(textureMap, child.ID);\n          if (parameters.envMap !== void 0) {\n            parameters.envMap.mapping = EquirectangularReflectionMapping;\n            if (\"colorSpace\" in parameters.envMap)\n              parameters.envMap.colorSpace = \"srgb\";\n            else\n              parameters.envMap.encoding = 3001;\n          }\n          break;\n        case \"SpecularColor\":\n          parameters.specularMap = scope.getTexture(textureMap, child.ID);\n          if (parameters.specularMap !== void 0) {\n            if (\"colorSpace\" in parameters.specularMap)\n              parameters.specularMap.colorSpace = \"srgb\";\n            else\n              parameters.specularMap.encoding = 3001;\n          }\n          break;\n        case \"TransparentColor\":\n        case \"TransparencyFactor\":\n          parameters.alphaMap = scope.getTexture(textureMap, child.ID);\n          parameters.transparent = true;\n          break;\n        case \"AmbientColor\":\n        case \"ShininessExponent\":\n        case \"SpecularFactor\":\n        case \"VectorDisplacementColor\":\n        default:\n          console.warn(\"THREE.FBXLoader: %s map is not supported in three.js, skipping texture.\", type);\n          break;\n      }\n    });\n    return parameters;\n  }\n  // get a texture from the textureMap for use by a material.\n  getTexture(textureMap, id) {\n    if (\"LayeredTexture\" in fbxTree.Objects && id in fbxTree.Objects.LayeredTexture) {\n      console.warn(\"THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer.\");\n      id = connections.get(id).children[0].ID;\n    }\n    return textureMap.get(id);\n  }\n  // Parse nodes in FBXTree.Objects.Deformer\n  // Deformer node can contain skinning or Vertex Cache animation data, however only skinning is supported here\n  // Generates map of Skeleton-like objects for use later when generating and binding skeletons.\n  parseDeformers() {\n    const skeletons = {};\n    const morphTargets = {};\n    if (\"Deformer\" in fbxTree.Objects) {\n      const DeformerNodes = fbxTree.Objects.Deformer;\n      for (const nodeID in DeformerNodes) {\n        const deformerNode = DeformerNodes[nodeID];\n        const relationships = connections.get(parseInt(nodeID));\n        if (deformerNode.attrType === \"Skin\") {\n          const skeleton = this.parseSkeleton(relationships, DeformerNodes);\n          skeleton.ID = nodeID;\n          if (relationships.parents.length > 1) {\n            console.warn(\"THREE.FBXLoader: skeleton attached to more than one geometry is not supported.\");\n          }\n          skeleton.geometryID = relationships.parents[0].ID;\n          skeletons[nodeID] = skeleton;\n        } else if (deformerNode.attrType === \"BlendShape\") {\n          const morphTarget = {\n            id: nodeID\n          };\n          morphTarget.rawTargets = this.parseMorphTargets(relationships, DeformerNodes);\n          morphTarget.id = nodeID;\n          if (relationships.parents.length > 1) {\n            console.warn(\"THREE.FBXLoader: morph target attached to more than one geometry is not supported.\");\n          }\n          morphTargets[nodeID] = morphTarget;\n        }\n      }\n    }\n    return {\n      skeletons,\n      morphTargets\n    };\n  }\n  // Parse single nodes in FBXTree.Objects.Deformer\n  // The top level skeleton node has type 'Skin' and sub nodes have type 'Cluster'\n  // Each skin node represents a skeleton and each cluster node represents a bone\n  parseSkeleton(relationships, deformerNodes) {\n    const rawBones = [];\n    relationships.children.forEach(function(child) {\n      const boneNode = deformerNodes[child.ID];\n      if (boneNode.attrType !== \"Cluster\")\n        return;\n      const rawBone = {\n        ID: child.ID,\n        indices: [],\n        weights: [],\n        transformLink: new Matrix4().fromArray(boneNode.TransformLink.a)\n        // transform: new Matrix4().fromArray( boneNode.Transform.a ),\n        // linkMode: boneNode.Mode,\n      };\n      if (\"Indexes\" in boneNode) {\n        rawBone.indices = boneNode.Indexes.a;\n        rawBone.weights = boneNode.Weights.a;\n      }\n      rawBones.push(rawBone);\n    });\n    return {\n      rawBones,\n      bones: []\n    };\n  }\n  // The top level morph deformer node has type \"BlendShape\" and sub nodes have type \"BlendShapeChannel\"\n  parseMorphTargets(relationships, deformerNodes) {\n    const rawMorphTargets = [];\n    for (let i = 0; i < relationships.children.length; i++) {\n      const child = relationships.children[i];\n      const morphTargetNode = deformerNodes[child.ID];\n      const rawMorphTarget = {\n        name: morphTargetNode.attrName,\n        initialWeight: morphTargetNode.DeformPercent,\n        id: morphTargetNode.id,\n        fullWeights: morphTargetNode.FullWeights.a\n      };\n      if (morphTargetNode.attrType !== \"BlendShapeChannel\")\n        return;\n      rawMorphTarget.geoID = connections.get(parseInt(child.ID)).children.filter(function(child2) {\n        return child2.relationship === void 0;\n      })[0].ID;\n      rawMorphTargets.push(rawMorphTarget);\n    }\n    return rawMorphTargets;\n  }\n  // create the main Group() to be returned by the loader\n  parseScene(deformers, geometryMap, materialMap) {\n    sceneGraph = new Group();\n    const modelMap = this.parseModels(deformers.skeletons, geometryMap, materialMap);\n    const modelNodes = fbxTree.Objects.Model;\n    const scope = this;\n    modelMap.forEach(function(model) {\n      const modelNode = modelNodes[model.ID];\n      scope.setLookAtProperties(model, modelNode);\n      const parentConnections = connections.get(model.ID).parents;\n      parentConnections.forEach(function(connection) {\n        const parent = modelMap.get(connection.ID);\n        if (parent !== void 0)\n          parent.add(model);\n      });\n      if (model.parent === null) {\n        sceneGraph.add(model);\n      }\n    });\n    this.bindSkeleton(deformers.skeletons, geometryMap, modelMap);\n    this.createAmbientLight();\n    sceneGraph.traverse(function(node) {\n      if (node.userData.transformData) {\n        if (node.parent) {\n          node.userData.transformData.parentMatrix = node.parent.matrix;\n          node.userData.transformData.parentMatrixWorld = node.parent.matrixWorld;\n        }\n        const transform = generateTransform(node.userData.transformData);\n        node.applyMatrix4(transform);\n        node.updateWorldMatrix();\n      }\n    });\n    const animations = new AnimationParser().parse();\n    if (sceneGraph.children.length === 1 && sceneGraph.children[0].isGroup) {\n      sceneGraph.children[0].animations = animations;\n      sceneGraph = sceneGraph.children[0];\n    }\n    sceneGraph.animations = animations;\n  }\n  // parse nodes in FBXTree.Objects.Model\n  parseModels(skeletons, geometryMap, materialMap) {\n    const modelMap = /* @__PURE__ */ new Map();\n    const modelNodes = fbxTree.Objects.Model;\n    for (const nodeID in modelNodes) {\n      const id = parseInt(nodeID);\n      const node = modelNodes[nodeID];\n      const relationships = connections.get(id);\n      let model = this.buildSkeleton(relationships, skeletons, id, node.attrName);\n      if (!model) {\n        switch (node.attrType) {\n          case \"Camera\":\n            model = this.createCamera(relationships);\n            break;\n          case \"Light\":\n            model = this.createLight(relationships);\n            break;\n          case \"Mesh\":\n            model = this.createMesh(relationships, geometryMap, materialMap);\n            break;\n          case \"NurbsCurve\":\n            model = this.createCurve(relationships, geometryMap);\n            break;\n          case \"LimbNode\":\n          case \"Root\":\n            model = new Bone();\n            break;\n          case \"Null\":\n          default:\n            model = new Group();\n            break;\n        }\n        model.name = node.attrName ? PropertyBinding.sanitizeNodeName(node.attrName) : \"\";\n        model.ID = id;\n      }\n      this.getTransformData(model, node);\n      modelMap.set(id, model);\n    }\n    return modelMap;\n  }\n  buildSkeleton(relationships, skeletons, id, name) {\n    let bone = null;\n    relationships.parents.forEach(function(parent) {\n      for (const ID in skeletons) {\n        const skeleton = skeletons[ID];\n        skeleton.rawBones.forEach(function(rawBone, i) {\n          if (rawBone.ID === parent.ID) {\n            const subBone = bone;\n            bone = new Bone();\n            bone.matrixWorld.copy(rawBone.transformLink);\n            bone.name = name ? PropertyBinding.sanitizeNodeName(name) : \"\";\n            bone.ID = id;\n            skeleton.bones[i] = bone;\n            if (subBone !== null) {\n              bone.add(subBone);\n            }\n          }\n        });\n      }\n    });\n    return bone;\n  }\n  // create a PerspectiveCamera or OrthographicCamera\n  createCamera(relationships) {\n    let model;\n    let cameraAttribute;\n    relationships.children.forEach(function(child) {\n      const attr = fbxTree.Objects.NodeAttribute[child.ID];\n      if (attr !== void 0) {\n        cameraAttribute = attr;\n      }\n    });\n    if (cameraAttribute === void 0) {\n      model = new Object3D();\n    } else {\n      let type = 0;\n      if (cameraAttribute.CameraProjectionType !== void 0 && cameraAttribute.CameraProjectionType.value === 1) {\n        type = 1;\n      }\n      let nearClippingPlane = 1;\n      if (cameraAttribute.NearPlane !== void 0) {\n        nearClippingPlane = cameraAttribute.NearPlane.value / 1e3;\n      }\n      let farClippingPlane = 1e3;\n      if (cameraAttribute.FarPlane !== void 0) {\n        farClippingPlane = cameraAttribute.FarPlane.value / 1e3;\n      }\n      let width = window.innerWidth;\n      let height = window.innerHeight;\n      if (cameraAttribute.AspectWidth !== void 0 && cameraAttribute.AspectHeight !== void 0) {\n        width = cameraAttribute.AspectWidth.value;\n        height = cameraAttribute.AspectHeight.value;\n      }\n      const aspect = width / height;\n      let fov = 45;\n      if (cameraAttribute.FieldOfView !== void 0) {\n        fov = cameraAttribute.FieldOfView.value;\n      }\n      const focalLength = cameraAttribute.FocalLength ? cameraAttribute.FocalLength.value : null;\n      switch (type) {\n        case 0:\n          model = new PerspectiveCamera(fov, aspect, nearClippingPlane, farClippingPlane);\n          if (focalLength !== null)\n            model.setFocalLength(focalLength);\n          break;\n        case 1:\n          model = new OrthographicCamera(\n            -width / 2,\n            width / 2,\n            height / 2,\n            -height / 2,\n            nearClippingPlane,\n            farClippingPlane\n          );\n          break;\n        default:\n          console.warn(\"THREE.FBXLoader: Unknown camera type \" + type + \".\");\n          model = new Object3D();\n          break;\n      }\n    }\n    return model;\n  }\n  // Create a DirectionalLight, PointLight or SpotLight\n  createLight(relationships) {\n    let model;\n    let lightAttribute;\n    relationships.children.forEach(function(child) {\n      const attr = fbxTree.Objects.NodeAttribute[child.ID];\n      if (attr !== void 0) {\n        lightAttribute = attr;\n      }\n    });\n    if (lightAttribute === void 0) {\n      model = new Object3D();\n    } else {\n      let type;\n      if (lightAttribute.LightType === void 0) {\n        type = 0;\n      } else {\n        type = lightAttribute.LightType.value;\n      }\n      let color = 16777215;\n      if (lightAttribute.Color !== void 0) {\n        color = new Color().fromArray(lightAttribute.Color.value);\n      }\n      let intensity = lightAttribute.Intensity === void 0 ? 1 : lightAttribute.Intensity.value / 100;\n      if (lightAttribute.CastLightOnObject !== void 0 && lightAttribute.CastLightOnObject.value === 0) {\n        intensity = 0;\n      }\n      let distance = 0;\n      if (lightAttribute.FarAttenuationEnd !== void 0) {\n        if (lightAttribute.EnableFarAttenuation !== void 0 && lightAttribute.EnableFarAttenuation.value === 0) {\n          distance = 0;\n        } else {\n          distance = lightAttribute.FarAttenuationEnd.value;\n        }\n      }\n      const decay = 1;\n      switch (type) {\n        case 0:\n          model = new PointLight(color, intensity, distance, decay);\n          break;\n        case 1:\n          model = new DirectionalLight(color, intensity);\n          break;\n        case 2:\n          let angle = Math.PI / 3;\n          if (lightAttribute.InnerAngle !== void 0) {\n            angle = MathUtils.degToRad(lightAttribute.InnerAngle.value);\n          }\n          let penumbra = 0;\n          if (lightAttribute.OuterAngle !== void 0) {\n            penumbra = MathUtils.degToRad(lightAttribute.OuterAngle.value);\n            penumbra = Math.max(penumbra, 1);\n          }\n          model = new SpotLight(color, intensity, distance, angle, penumbra, decay);\n          break;\n        default:\n          console.warn(\n            \"THREE.FBXLoader: Unknown light type \" + lightAttribute.LightType.value + \", defaulting to a PointLight.\"\n          );\n          model = new PointLight(color, intensity);\n          break;\n      }\n      if (lightAttribute.CastShadows !== void 0 && lightAttribute.CastShadows.value === 1) {\n        model.castShadow = true;\n      }\n    }\n    return model;\n  }\n  createMesh(relationships, geometryMap, materialMap) {\n    let model;\n    let geometry = null;\n    let material = null;\n    const materials = [];\n    relationships.children.forEach(function(child) {\n      if (geometryMap.has(child.ID)) {\n        geometry = geometryMap.get(child.ID);\n      }\n      if (materialMap.has(child.ID)) {\n        materials.push(materialMap.get(child.ID));\n      }\n    });\n    if (materials.length > 1) {\n      material = materials;\n    } else if (materials.length > 0) {\n      material = materials[0];\n    } else {\n      material = new MeshPhongMaterial({ color: 13421772 });\n      materials.push(material);\n    }\n    if (\"color\" in geometry.attributes) {\n      materials.forEach(function(material2) {\n        material2.vertexColors = true;\n      });\n    }\n    if (geometry.FBX_Deformer) {\n      model = new SkinnedMesh(geometry, material);\n      model.normalizeSkinWeights();\n    } else {\n      model = new Mesh(geometry, material);\n    }\n    return model;\n  }\n  createCurve(relationships, geometryMap) {\n    const geometry = relationships.children.reduce(function(geo, child) {\n      if (geometryMap.has(child.ID))\n        geo = geometryMap.get(child.ID);\n      return geo;\n    }, null);\n    const material = new LineBasicMaterial({ color: 3342591, linewidth: 1 });\n    return new Line(geometry, material);\n  }\n  // parse the model node for transform data\n  getTransformData(model, modelNode) {\n    const transformData = {};\n    if (\"InheritType\" in modelNode)\n      transformData.inheritType = parseInt(modelNode.InheritType.value);\n    if (\"RotationOrder\" in modelNode)\n      transformData.eulerOrder = getEulerOrder(modelNode.RotationOrder.value);\n    else\n      transformData.eulerOrder = \"ZYX\";\n    if (\"Lcl_Translation\" in modelNode)\n      transformData.translation = modelNode.Lcl_Translation.value;\n    if (\"PreRotation\" in modelNode)\n      transformData.preRotation = modelNode.PreRotation.value;\n    if (\"Lcl_Rotation\" in modelNode)\n      transformData.rotation = modelNode.Lcl_Rotation.value;\n    if (\"PostRotation\" in modelNode)\n      transformData.postRotation = modelNode.PostRotation.value;\n    if (\"Lcl_Scaling\" in modelNode)\n      transformData.scale = modelNode.Lcl_Scaling.value;\n    if (\"ScalingOffset\" in modelNode)\n      transformData.scalingOffset = modelNode.ScalingOffset.value;\n    if (\"ScalingPivot\" in modelNode)\n      transformData.scalingPivot = modelNode.ScalingPivot.value;\n    if (\"RotationOffset\" in modelNode)\n      transformData.rotationOffset = modelNode.RotationOffset.value;\n    if (\"RotationPivot\" in modelNode)\n      transformData.rotationPivot = modelNode.RotationPivot.value;\n    model.userData.transformData = transformData;\n  }\n  setLookAtProperties(model, modelNode) {\n    if (\"LookAtProperty\" in modelNode) {\n      const children = connections.get(model.ID).children;\n      children.forEach(function(child) {\n        if (child.relationship === \"LookAtProperty\") {\n          const lookAtTarget = fbxTree.Objects.Model[child.ID];\n          if (\"Lcl_Translation\" in lookAtTarget) {\n            const pos = lookAtTarget.Lcl_Translation.value;\n            if (model.target !== void 0) {\n              model.target.position.fromArray(pos);\n              sceneGraph.add(model.target);\n            } else {\n              model.lookAt(new Vector3().fromArray(pos));\n            }\n          }\n        }\n      });\n    }\n  }\n  bindSkeleton(skeletons, geometryMap, modelMap) {\n    const bindMatrices = this.parsePoseNodes();\n    for (const ID in skeletons) {\n      const skeleton = skeletons[ID];\n      const parents = connections.get(parseInt(skeleton.ID)).parents;\n      parents.forEach(function(parent) {\n        if (geometryMap.has(parent.ID)) {\n          const geoID = parent.ID;\n          const geoRelationships = connections.get(geoID);\n          geoRelationships.parents.forEach(function(geoConnParent) {\n            if (modelMap.has(geoConnParent.ID)) {\n              const model = modelMap.get(geoConnParent.ID);\n              model.bind(new Skeleton(skeleton.bones), bindMatrices[geoConnParent.ID]);\n            }\n          });\n        }\n      });\n    }\n  }\n  parsePoseNodes() {\n    const bindMatrices = {};\n    if (\"Pose\" in fbxTree.Objects) {\n      const BindPoseNode = fbxTree.Objects.Pose;\n      for (const nodeID in BindPoseNode) {\n        if (BindPoseNode[nodeID].attrType === \"BindPose\" && BindPoseNode[nodeID].NbPoseNodes > 0) {\n          const poseNodes = BindPoseNode[nodeID].PoseNode;\n          if (Array.isArray(poseNodes)) {\n            poseNodes.forEach(function(poseNode) {\n              bindMatrices[poseNode.Node] = new Matrix4().fromArray(poseNode.Matrix.a);\n            });\n          } else {\n            bindMatrices[poseNodes.Node] = new Matrix4().fromArray(poseNodes.Matrix.a);\n          }\n        }\n      }\n    }\n    return bindMatrices;\n  }\n  // Parse ambient color in FBXTree.GlobalSettings - if it's not set to black (default), create an ambient light\n  createAmbientLight() {\n    if (\"GlobalSettings\" in fbxTree && \"AmbientColor\" in fbxTree.GlobalSettings) {\n      const ambientColor = fbxTree.GlobalSettings.AmbientColor.value;\n      const r = ambientColor[0];\n      const g = ambientColor[1];\n      const b = ambientColor[2];\n      if (r !== 0 || g !== 0 || b !== 0) {\n        const color = new Color(r, g, b);\n        sceneGraph.add(new AmbientLight(color, 1));\n      }\n    }\n  }\n}\nclass GeometryParser {\n  // Parse nodes in FBXTree.Objects.Geometry\n  parse(deformers) {\n    const geometryMap = /* @__PURE__ */ new Map();\n    if (\"Geometry\" in fbxTree.Objects) {\n      const geoNodes = fbxTree.Objects.Geometry;\n      for (const nodeID in geoNodes) {\n        const relationships = connections.get(parseInt(nodeID));\n        const geo = this.parseGeometry(relationships, geoNodes[nodeID], deformers);\n        geometryMap.set(parseInt(nodeID), geo);\n      }\n    }\n    return geometryMap;\n  }\n  // Parse single node in FBXTree.Objects.Geometry\n  parseGeometry(relationships, geoNode, deformers) {\n    switch (geoNode.attrType) {\n      case \"Mesh\":\n        return this.parseMeshGeometry(relationships, geoNode, deformers);\n        break;\n      case \"NurbsCurve\":\n        return this.parseNurbsGeometry(geoNode);\n        break;\n    }\n  }\n  // Parse single node mesh geometry in FBXTree.Objects.Geometry\n  parseMeshGeometry(relationships, geoNode, deformers) {\n    const skeletons = deformers.skeletons;\n    const morphTargets = [];\n    const modelNodes = relationships.parents.map(function(parent) {\n      return fbxTree.Objects.Model[parent.ID];\n    });\n    if (modelNodes.length === 0)\n      return;\n    const skeleton = relationships.children.reduce(function(skeleton2, child) {\n      if (skeletons[child.ID] !== void 0)\n        skeleton2 = skeletons[child.ID];\n      return skeleton2;\n    }, null);\n    relationships.children.forEach(function(child) {\n      if (deformers.morphTargets[child.ID] !== void 0) {\n        morphTargets.push(deformers.morphTargets[child.ID]);\n      }\n    });\n    const modelNode = modelNodes[0];\n    const transformData = {};\n    if (\"RotationOrder\" in modelNode)\n      transformData.eulerOrder = getEulerOrder(modelNode.RotationOrder.value);\n    if (\"InheritType\" in modelNode)\n      transformData.inheritType = parseInt(modelNode.InheritType.value);\n    if (\"GeometricTranslation\" in modelNode)\n      transformData.translation = modelNode.GeometricTranslation.value;\n    if (\"GeometricRotation\" in modelNode)\n      transformData.rotation = modelNode.GeometricRotation.value;\n    if (\"GeometricScaling\" in modelNode)\n      transformData.scale = modelNode.GeometricScaling.value;\n    const transform = generateTransform(transformData);\n    return this.genGeometry(geoNode, skeleton, morphTargets, transform);\n  }\n  // Generate a BufferGeometry from a node in FBXTree.Objects.Geometry\n  genGeometry(geoNode, skeleton, morphTargets, preTransform) {\n    const geo = new BufferGeometry();\n    if (geoNode.attrName)\n      geo.name = geoNode.attrName;\n    const geoInfo = this.parseGeoNode(geoNode, skeleton);\n    const buffers = this.genBuffers(geoInfo);\n    const positionAttribute = new Float32BufferAttribute(buffers.vertex, 3);\n    positionAttribute.applyMatrix4(preTransform);\n    geo.setAttribute(\"position\", positionAttribute);\n    if (buffers.colors.length > 0) {\n      geo.setAttribute(\"color\", new Float32BufferAttribute(buffers.colors, 3));\n    }\n    if (skeleton) {\n      geo.setAttribute(\"skinIndex\", new Uint16BufferAttribute(buffers.weightsIndices, 4));\n      geo.setAttribute(\"skinWeight\", new Float32BufferAttribute(buffers.vertexWeights, 4));\n      geo.FBX_Deformer = skeleton;\n    }\n    if (buffers.normal.length > 0) {\n      const normalMatrix = new Matrix3().getNormalMatrix(preTransform);\n      const normalAttribute = new Float32BufferAttribute(buffers.normal, 3);\n      normalAttribute.applyNormalMatrix(normalMatrix);\n      geo.setAttribute(\"normal\", normalAttribute);\n    }\n    buffers.uvs.forEach(function(uvBuffer, i) {\n      let name = \"uv\" + (i + 1).toString();\n      if (i === 0) {\n        name = \"uv\";\n      }\n      geo.setAttribute(name, new Float32BufferAttribute(buffers.uvs[i], 2));\n    });\n    if (geoInfo.material && geoInfo.material.mappingType !== \"AllSame\") {\n      let prevMaterialIndex = buffers.materialIndex[0];\n      let startIndex = 0;\n      buffers.materialIndex.forEach(function(currentIndex, i) {\n        if (currentIndex !== prevMaterialIndex) {\n          geo.addGroup(startIndex, i - startIndex, prevMaterialIndex);\n          prevMaterialIndex = currentIndex;\n          startIndex = i;\n        }\n      });\n      if (geo.groups.length > 0) {\n        const lastGroup = geo.groups[geo.groups.length - 1];\n        const lastIndex = lastGroup.start + lastGroup.count;\n        if (lastIndex !== buffers.materialIndex.length) {\n          geo.addGroup(lastIndex, buffers.materialIndex.length - lastIndex, prevMaterialIndex);\n        }\n      }\n      if (geo.groups.length === 0) {\n        geo.addGroup(0, buffers.materialIndex.length, buffers.materialIndex[0]);\n      }\n    }\n    this.addMorphTargets(geo, geoNode, morphTargets, preTransform);\n    return geo;\n  }\n  parseGeoNode(geoNode, skeleton) {\n    const geoInfo = {};\n    geoInfo.vertexPositions = geoNode.Vertices !== void 0 ? geoNode.Vertices.a : [];\n    geoInfo.vertexIndices = geoNode.PolygonVertexIndex !== void 0 ? geoNode.PolygonVertexIndex.a : [];\n    if (geoNode.LayerElementColor) {\n      geoInfo.color = this.parseVertexColors(geoNode.LayerElementColor[0]);\n    }\n    if (geoNode.LayerElementMaterial) {\n      geoInfo.material = this.parseMaterialIndices(geoNode.LayerElementMaterial[0]);\n    }\n    if (geoNode.LayerElementNormal) {\n      geoInfo.normal = this.parseNormals(geoNode.LayerElementNormal[0]);\n    }\n    if (geoNode.LayerElementUV) {\n      geoInfo.uv = [];\n      let i = 0;\n      while (geoNode.LayerElementUV[i]) {\n        if (geoNode.LayerElementUV[i].UV) {\n          geoInfo.uv.push(this.parseUVs(geoNode.LayerElementUV[i]));\n        }\n        i++;\n      }\n    }\n    geoInfo.weightTable = {};\n    if (skeleton !== null) {\n      geoInfo.skeleton = skeleton;\n      skeleton.rawBones.forEach(function(rawBone, i) {\n        rawBone.indices.forEach(function(index, j) {\n          if (geoInfo.weightTable[index] === void 0)\n            geoInfo.weightTable[index] = [];\n          geoInfo.weightTable[index].push({\n            id: i,\n            weight: rawBone.weights[j]\n          });\n        });\n      });\n    }\n    return geoInfo;\n  }\n  genBuffers(geoInfo) {\n    const buffers = {\n      vertex: [],\n      normal: [],\n      colors: [],\n      uvs: [],\n      materialIndex: [],\n      vertexWeights: [],\n      weightsIndices: []\n    };\n    let polygonIndex = 0;\n    let faceLength = 0;\n    let displayedWeightsWarning = false;\n    let facePositionIndexes = [];\n    let faceNormals = [];\n    let faceColors = [];\n    let faceUVs = [];\n    let faceWeights = [];\n    let faceWeightIndices = [];\n    const scope = this;\n    geoInfo.vertexIndices.forEach(function(vertexIndex, polygonVertexIndex) {\n      let materialIndex;\n      let endOfFace = false;\n      if (vertexIndex < 0) {\n        vertexIndex = vertexIndex ^ -1;\n        endOfFace = true;\n      }\n      let weightIndices = [];\n      let weights = [];\n      facePositionIndexes.push(vertexIndex * 3, vertexIndex * 3 + 1, vertexIndex * 3 + 2);\n      if (geoInfo.color) {\n        const data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.color);\n        faceColors.push(data[0], data[1], data[2]);\n      }\n      if (geoInfo.skeleton) {\n        if (geoInfo.weightTable[vertexIndex] !== void 0) {\n          geoInfo.weightTable[vertexIndex].forEach(function(wt) {\n            weights.push(wt.weight);\n            weightIndices.push(wt.id);\n          });\n        }\n        if (weights.length > 4) {\n          if (!displayedWeightsWarning) {\n            console.warn(\n              \"THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights.\"\n            );\n            displayedWeightsWarning = true;\n          }\n          const wIndex = [0, 0, 0, 0];\n          const Weight = [0, 0, 0, 0];\n          weights.forEach(function(weight, weightIndex) {\n            let currentWeight = weight;\n            let currentIndex = weightIndices[weightIndex];\n            Weight.forEach(function(comparedWeight, comparedWeightIndex, comparedWeightArray) {\n              if (currentWeight > comparedWeight) {\n                comparedWeightArray[comparedWeightIndex] = currentWeight;\n                currentWeight = comparedWeight;\n                const tmp = wIndex[comparedWeightIndex];\n                wIndex[comparedWeightIndex] = currentIndex;\n                currentIndex = tmp;\n              }\n            });\n          });\n          weightIndices = wIndex;\n          weights = Weight;\n        }\n        while (weights.length < 4) {\n          weights.push(0);\n          weightIndices.push(0);\n        }\n        for (let i = 0; i < 4; ++i) {\n          faceWeights.push(weights[i]);\n          faceWeightIndices.push(weightIndices[i]);\n        }\n      }\n      if (geoInfo.normal) {\n        const data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.normal);\n        faceNormals.push(data[0], data[1], data[2]);\n      }\n      if (geoInfo.material && geoInfo.material.mappingType !== \"AllSame\") {\n        materialIndex = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.material)[0];\n      }\n      if (geoInfo.uv) {\n        geoInfo.uv.forEach(function(uv, i) {\n          const data = getData(polygonVertexIndex, polygonIndex, vertexIndex, uv);\n          if (faceUVs[i] === void 0) {\n            faceUVs[i] = [];\n          }\n          faceUVs[i].push(data[0]);\n          faceUVs[i].push(data[1]);\n        });\n      }\n      faceLength++;\n      if (endOfFace) {\n        scope.genFace(\n          buffers,\n          geoInfo,\n          facePositionIndexes,\n          materialIndex,\n          faceNormals,\n          faceColors,\n          faceUVs,\n          faceWeights,\n          faceWeightIndices,\n          faceLength\n        );\n        polygonIndex++;\n        faceLength = 0;\n        facePositionIndexes = [];\n        faceNormals = [];\n        faceColors = [];\n        faceUVs = [];\n        faceWeights = [];\n        faceWeightIndices = [];\n      }\n    });\n    return buffers;\n  }\n  // Generate data for a single face in a geometry. If the face is a quad then split it into 2 tris\n  genFace(buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength) {\n    for (let i = 2; i < faceLength; i++) {\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[0]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[1]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[2]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 1]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 2]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 1]]);\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 2]]);\n      if (geoInfo.skeleton) {\n        buffers.vertexWeights.push(faceWeights[0]);\n        buffers.vertexWeights.push(faceWeights[1]);\n        buffers.vertexWeights.push(faceWeights[2]);\n        buffers.vertexWeights.push(faceWeights[3]);\n        buffers.vertexWeights.push(faceWeights[(i - 1) * 4]);\n        buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 1]);\n        buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 2]);\n        buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 3]);\n        buffers.vertexWeights.push(faceWeights[i * 4]);\n        buffers.vertexWeights.push(faceWeights[i * 4 + 1]);\n        buffers.vertexWeights.push(faceWeights[i * 4 + 2]);\n        buffers.vertexWeights.push(faceWeights[i * 4 + 3]);\n        buffers.weightsIndices.push(faceWeightIndices[0]);\n        buffers.weightsIndices.push(faceWeightIndices[1]);\n        buffers.weightsIndices.push(faceWeightIndices[2]);\n        buffers.weightsIndices.push(faceWeightIndices[3]);\n        buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4]);\n        buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 1]);\n        buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 2]);\n        buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 3]);\n        buffers.weightsIndices.push(faceWeightIndices[i * 4]);\n        buffers.weightsIndices.push(faceWeightIndices[i * 4 + 1]);\n        buffers.weightsIndices.push(faceWeightIndices[i * 4 + 2]);\n        buffers.weightsIndices.push(faceWeightIndices[i * 4 + 3]);\n      }\n      if (geoInfo.color) {\n        buffers.colors.push(faceColors[0]);\n        buffers.colors.push(faceColors[1]);\n        buffers.colors.push(faceColors[2]);\n        buffers.colors.push(faceColors[(i - 1) * 3]);\n        buffers.colors.push(faceColors[(i - 1) * 3 + 1]);\n        buffers.colors.push(faceColors[(i - 1) * 3 + 2]);\n        buffers.colors.push(faceColors[i * 3]);\n        buffers.colors.push(faceColors[i * 3 + 1]);\n        buffers.colors.push(faceColors[i * 3 + 2]);\n      }\n      if (geoInfo.material && geoInfo.material.mappingType !== \"AllSame\") {\n        buffers.materialIndex.push(materialIndex);\n        buffers.materialIndex.push(materialIndex);\n        buffers.materialIndex.push(materialIndex);\n      }\n      if (geoInfo.normal) {\n        buffers.normal.push(faceNormals[0]);\n        buffers.normal.push(faceNormals[1]);\n        buffers.normal.push(faceNormals[2]);\n        buffers.normal.push(faceNormals[(i - 1) * 3]);\n        buffers.normal.push(faceNormals[(i - 1) * 3 + 1]);\n        buffers.normal.push(faceNormals[(i - 1) * 3 + 2]);\n        buffers.normal.push(faceNormals[i * 3]);\n        buffers.normal.push(faceNormals[i * 3 + 1]);\n        buffers.normal.push(faceNormals[i * 3 + 2]);\n      }\n      if (geoInfo.uv) {\n        geoInfo.uv.forEach(function(uv, j) {\n          if (buffers.uvs[j] === void 0)\n            buffers.uvs[j] = [];\n          buffers.uvs[j].push(faceUVs[j][0]);\n          buffers.uvs[j].push(faceUVs[j][1]);\n          buffers.uvs[j].push(faceUVs[j][(i - 1) * 2]);\n          buffers.uvs[j].push(faceUVs[j][(i - 1) * 2 + 1]);\n          buffers.uvs[j].push(faceUVs[j][i * 2]);\n          buffers.uvs[j].push(faceUVs[j][i * 2 + 1]);\n        });\n      }\n    }\n  }\n  addMorphTargets(parentGeo, parentGeoNode, morphTargets, preTransform) {\n    if (morphTargets.length === 0)\n      return;\n    parentGeo.morphTargetsRelative = true;\n    parentGeo.morphAttributes.position = [];\n    const scope = this;\n    morphTargets.forEach(function(morphTarget) {\n      morphTarget.rawTargets.forEach(function(rawTarget) {\n        const morphGeoNode = fbxTree.Objects.Geometry[rawTarget.geoID];\n        if (morphGeoNode !== void 0) {\n          scope.genMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform, rawTarget.name);\n        }\n      });\n    });\n  }\n  // a morph geometry node is similar to a standard  node, and the node is also contained\n  // in FBXTree.Objects.Geometry, however it can only have attributes for position, normal\n  // and a special attribute Index defining which vertices of the original geometry are affected\n  // Normal and position attributes only have data for the vertices that are affected by the morph\n  genMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform, name) {\n    const vertexIndices = parentGeoNode.PolygonVertexIndex !== void 0 ? parentGeoNode.PolygonVertexIndex.a : [];\n    const morphPositionsSparse = morphGeoNode.Vertices !== void 0 ? morphGeoNode.Vertices.a : [];\n    const indices = morphGeoNode.Indexes !== void 0 ? morphGeoNode.Indexes.a : [];\n    const length = parentGeo.attributes.position.count * 3;\n    const morphPositions = new Float32Array(length);\n    for (let i = 0; i < indices.length; i++) {\n      const morphIndex = indices[i] * 3;\n      morphPositions[morphIndex] = morphPositionsSparse[i * 3];\n      morphPositions[morphIndex + 1] = morphPositionsSparse[i * 3 + 1];\n      morphPositions[morphIndex + 2] = morphPositionsSparse[i * 3 + 2];\n    }\n    const morphGeoInfo = {\n      vertexIndices,\n      vertexPositions: morphPositions\n    };\n    const morphBuffers = this.genBuffers(morphGeoInfo);\n    const positionAttribute = new Float32BufferAttribute(morphBuffers.vertex, 3);\n    positionAttribute.name = name || morphGeoNode.attrName;\n    positionAttribute.applyMatrix4(preTransform);\n    parentGeo.morphAttributes.position.push(positionAttribute);\n  }\n  // Parse normal from FBXTree.Objects.Geometry.LayerElementNormal if it exists\n  parseNormals(NormalNode) {\n    const mappingType = NormalNode.MappingInformationType;\n    const referenceType = NormalNode.ReferenceInformationType;\n    const buffer = NormalNode.Normals.a;\n    let indexBuffer = [];\n    if (referenceType === \"IndexToDirect\") {\n      if (\"NormalIndex\" in NormalNode) {\n        indexBuffer = NormalNode.NormalIndex.a;\n      } else if (\"NormalsIndex\" in NormalNode) {\n        indexBuffer = NormalNode.NormalsIndex.a;\n      }\n    }\n    return {\n      dataSize: 3,\n      buffer,\n      indices: indexBuffer,\n      mappingType,\n      referenceType\n    };\n  }\n  // Parse UVs from FBXTree.Objects.Geometry.LayerElementUV if it exists\n  parseUVs(UVNode) {\n    const mappingType = UVNode.MappingInformationType;\n    const referenceType = UVNode.ReferenceInformationType;\n    const buffer = UVNode.UV.a;\n    let indexBuffer = [];\n    if (referenceType === \"IndexToDirect\") {\n      indexBuffer = UVNode.UVIndex.a;\n    }\n    return {\n      dataSize: 2,\n      buffer,\n      indices: indexBuffer,\n      mappingType,\n      referenceType\n    };\n  }\n  // Parse Vertex Colors from FBXTree.Objects.Geometry.LayerElementColor if it exists\n  parseVertexColors(ColorNode) {\n    const mappingType = ColorNode.MappingInformationType;\n    const referenceType = ColorNode.ReferenceInformationType;\n    const buffer = ColorNode.Colors.a;\n    let indexBuffer = [];\n    if (referenceType === \"IndexToDirect\") {\n      indexBuffer = ColorNode.ColorIndex.a;\n    }\n    return {\n      dataSize: 4,\n      buffer,\n      indices: indexBuffer,\n      mappingType,\n      referenceType\n    };\n  }\n  // Parse mapping and material data in FBXTree.Objects.Geometry.LayerElementMaterial if it exists\n  parseMaterialIndices(MaterialNode) {\n    const mappingType = MaterialNode.MappingInformationType;\n    const referenceType = MaterialNode.ReferenceInformationType;\n    if (mappingType === \"NoMappingInformation\") {\n      return {\n        dataSize: 1,\n        buffer: [0],\n        indices: [0],\n        mappingType: \"AllSame\",\n        referenceType\n      };\n    }\n    const materialIndexBuffer = MaterialNode.Materials.a;\n    const materialIndices = [];\n    for (let i = 0; i < materialIndexBuffer.length; ++i) {\n      materialIndices.push(i);\n    }\n    return {\n      dataSize: 1,\n      buffer: materialIndexBuffer,\n      indices: materialIndices,\n      mappingType,\n      referenceType\n    };\n  }\n  // Generate a NurbGeometry from a node in FBXTree.Objects.Geometry\n  parseNurbsGeometry(geoNode) {\n    if (NURBSCurve === void 0) {\n      console.error(\n        \"THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry.\"\n      );\n      return new BufferGeometry();\n    }\n    const order = parseInt(geoNode.Order);\n    if (isNaN(order)) {\n      console.error(\"THREE.FBXLoader: Invalid Order %s given for geometry ID: %s\", geoNode.Order, geoNode.id);\n      return new BufferGeometry();\n    }\n    const degree = order - 1;\n    const knots = geoNode.KnotVector.a;\n    const controlPoints = [];\n    const pointsValues = geoNode.Points.a;\n    for (let i = 0, l = pointsValues.length; i < l; i += 4) {\n      controlPoints.push(new Vector4().fromArray(pointsValues, i));\n    }\n    let startKnot, endKnot;\n    if (geoNode.Form === \"Closed\") {\n      controlPoints.push(controlPoints[0]);\n    } else if (geoNode.Form === \"Periodic\") {\n      startKnot = degree;\n      endKnot = knots.length - 1 - startKnot;\n      for (let i = 0; i < degree; ++i) {\n        controlPoints.push(controlPoints[i]);\n      }\n    }\n    const curve = new NURBSCurve(degree, knots, controlPoints, startKnot, endKnot);\n    const points = curve.getPoints(controlPoints.length * 12);\n    return new BufferGeometry().setFromPoints(points);\n  }\n}\nclass AnimationParser {\n  // take raw animation clips and turn them into three.js animation clips\n  parse() {\n    const animationClips = [];\n    const rawClips = this.parseClips();\n    if (rawClips !== void 0) {\n      for (const key in rawClips) {\n        const rawClip = rawClips[key];\n        const clip = this.addClip(rawClip);\n        animationClips.push(clip);\n      }\n    }\n    return animationClips;\n  }\n  parseClips() {\n    if (fbxTree.Objects.AnimationCurve === void 0)\n      return void 0;\n    const curveNodesMap = this.parseAnimationCurveNodes();\n    this.parseAnimationCurves(curveNodesMap);\n    const layersMap = this.parseAnimationLayers(curveNodesMap);\n    const rawClips = this.parseAnimStacks(layersMap);\n    return rawClips;\n  }\n  // parse nodes in FBXTree.Objects.AnimationCurveNode\n  // each AnimationCurveNode holds data for an animation transform for a model (e.g. left arm rotation )\n  // and is referenced by an AnimationLayer\n  parseAnimationCurveNodes() {\n    const rawCurveNodes = fbxTree.Objects.AnimationCurveNode;\n    const curveNodesMap = /* @__PURE__ */ new Map();\n    for (const nodeID in rawCurveNodes) {\n      const rawCurveNode = rawCurveNodes[nodeID];\n      if (rawCurveNode.attrName.match(/S|R|T|DeformPercent/) !== null) {\n        const curveNode = {\n          id: rawCurveNode.id,\n          attr: rawCurveNode.attrName,\n          curves: {}\n        };\n        curveNodesMap.set(curveNode.id, curveNode);\n      }\n    }\n    return curveNodesMap;\n  }\n  // parse nodes in FBXTree.Objects.AnimationCurve and connect them up to\n  // previously parsed AnimationCurveNodes. Each AnimationCurve holds data for a single animated\n  // axis ( e.g. times and values of x rotation)\n  parseAnimationCurves(curveNodesMap) {\n    const rawCurves = fbxTree.Objects.AnimationCurve;\n    for (const nodeID in rawCurves) {\n      const animationCurve = {\n        id: rawCurves[nodeID].id,\n        times: rawCurves[nodeID].KeyTime.a.map(convertFBXTimeToSeconds),\n        values: rawCurves[nodeID].KeyValueFloat.a\n      };\n      const relationships = connections.get(animationCurve.id);\n      if (relationships !== void 0) {\n        const animationCurveID = relationships.parents[0].ID;\n        const animationCurveRelationship = relationships.parents[0].relationship;\n        if (animationCurveRelationship.match(/X/)) {\n          curveNodesMap.get(animationCurveID).curves[\"x\"] = animationCurve;\n        } else if (animationCurveRelationship.match(/Y/)) {\n          curveNodesMap.get(animationCurveID).curves[\"y\"] = animationCurve;\n        } else if (animationCurveRelationship.match(/Z/)) {\n          curveNodesMap.get(animationCurveID).curves[\"z\"] = animationCurve;\n        } else if (animationCurveRelationship.match(/d|DeformPercent/) && curveNodesMap.has(animationCurveID)) {\n          curveNodesMap.get(animationCurveID).curves[\"morph\"] = animationCurve;\n        }\n      }\n    }\n  }\n  // parse nodes in FBXTree.Objects.AnimationLayer. Each layers holds references\n  // to various AnimationCurveNodes and is referenced by an AnimationStack node\n  // note: theoretically a stack can have multiple layers, however in practice there always seems to be one per stack\n  parseAnimationLayers(curveNodesMap) {\n    const rawLayers = fbxTree.Objects.AnimationLayer;\n    const layersMap = /* @__PURE__ */ new Map();\n    for (const nodeID in rawLayers) {\n      const layerCurveNodes = [];\n      const connection = connections.get(parseInt(nodeID));\n      if (connection !== void 0) {\n        const children = connection.children;\n        children.forEach(function(child, i) {\n          if (curveNodesMap.has(child.ID)) {\n            const curveNode = curveNodesMap.get(child.ID);\n            if (curveNode.curves.x !== void 0 || curveNode.curves.y !== void 0 || curveNode.curves.z !== void 0) {\n              if (layerCurveNodes[i] === void 0) {\n                const modelID = connections.get(child.ID).parents.filter(function(parent) {\n                  return parent.relationship !== void 0;\n                })[0].ID;\n                if (modelID !== void 0) {\n                  const rawModel = fbxTree.Objects.Model[modelID.toString()];\n                  if (rawModel === void 0) {\n                    console.warn(\"THREE.FBXLoader: Encountered a unused curve.\", child);\n                    return;\n                  }\n                  const node = {\n                    modelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName(rawModel.attrName) : \"\",\n                    ID: rawModel.id,\n                    initialPosition: [0, 0, 0],\n                    initialRotation: [0, 0, 0],\n                    initialScale: [1, 1, 1]\n                  };\n                  sceneGraph.traverse(function(child2) {\n                    if (child2.ID === rawModel.id) {\n                      node.transform = child2.matrix;\n                      if (child2.userData.transformData)\n                        node.eulerOrder = child2.userData.transformData.eulerOrder;\n                    }\n                  });\n                  if (!node.transform)\n                    node.transform = new Matrix4();\n                  if (\"PreRotation\" in rawModel)\n                    node.preRotation = rawModel.PreRotation.value;\n                  if (\"PostRotation\" in rawModel)\n                    node.postRotation = rawModel.PostRotation.value;\n                  layerCurveNodes[i] = node;\n                }\n              }\n              if (layerCurveNodes[i])\n                layerCurveNodes[i][curveNode.attr] = curveNode;\n            } else if (curveNode.curves.morph !== void 0) {\n              if (layerCurveNodes[i] === void 0) {\n                const deformerID = connections.get(child.ID).parents.filter(function(parent) {\n                  return parent.relationship !== void 0;\n                })[0].ID;\n                const morpherID = connections.get(deformerID).parents[0].ID;\n                const geoID = connections.get(morpherID).parents[0].ID;\n                const modelID = connections.get(geoID).parents[0].ID;\n                const rawModel = fbxTree.Objects.Model[modelID];\n                const node = {\n                  modelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName(rawModel.attrName) : \"\",\n                  morphName: fbxTree.Objects.Deformer[deformerID].attrName\n                };\n                layerCurveNodes[i] = node;\n              }\n              layerCurveNodes[i][curveNode.attr] = curveNode;\n            }\n          }\n        });\n        layersMap.set(parseInt(nodeID), layerCurveNodes);\n      }\n    }\n    return layersMap;\n  }\n  // parse nodes in FBXTree.Objects.AnimationStack. These are the top level node in the animation\n  // hierarchy. Each Stack node will be used to create a AnimationClip\n  parseAnimStacks(layersMap) {\n    const rawStacks = fbxTree.Objects.AnimationStack;\n    const rawClips = {};\n    for (const nodeID in rawStacks) {\n      const children = connections.get(parseInt(nodeID)).children;\n      if (children.length > 1) {\n        console.warn(\n          \"THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.\"\n        );\n      }\n      const layer = layersMap.get(children[0].ID);\n      rawClips[nodeID] = {\n        name: rawStacks[nodeID].attrName,\n        layer\n      };\n    }\n    return rawClips;\n  }\n  addClip(rawClip) {\n    let tracks = [];\n    const scope = this;\n    rawClip.layer.forEach(function(rawTracks) {\n      tracks = tracks.concat(scope.generateTracks(rawTracks));\n    });\n    return new AnimationClip(rawClip.name, -1, tracks);\n  }\n  generateTracks(rawTracks) {\n    const tracks = [];\n    let initialPosition = new Vector3();\n    let initialRotation = new Quaternion();\n    let initialScale = new Vector3();\n    if (rawTracks.transform)\n      rawTracks.transform.decompose(initialPosition, initialRotation, initialScale);\n    initialPosition = initialPosition.toArray();\n    initialRotation = new Euler().setFromQuaternion(initialRotation, rawTracks.eulerOrder).toArray();\n    initialScale = initialScale.toArray();\n    if (rawTracks.T !== void 0 && Object.keys(rawTracks.T.curves).length > 0) {\n      const positionTrack = this.generateVectorTrack(\n        rawTracks.modelName,\n        rawTracks.T.curves,\n        initialPosition,\n        \"position\"\n      );\n      if (positionTrack !== void 0)\n        tracks.push(positionTrack);\n    }\n    if (rawTracks.R !== void 0 && Object.keys(rawTracks.R.curves).length > 0) {\n      const rotationTrack = this.generateRotationTrack(\n        rawTracks.modelName,\n        rawTracks.R.curves,\n        initialRotation,\n        rawTracks.preRotation,\n        rawTracks.postRotation,\n        rawTracks.eulerOrder\n      );\n      if (rotationTrack !== void 0)\n        tracks.push(rotationTrack);\n    }\n    if (rawTracks.S !== void 0 && Object.keys(rawTracks.S.curves).length > 0) {\n      const scaleTrack = this.generateVectorTrack(rawTracks.modelName, rawTracks.S.curves, initialScale, \"scale\");\n      if (scaleTrack !== void 0)\n        tracks.push(scaleTrack);\n    }\n    if (rawTracks.DeformPercent !== void 0) {\n      const morphTrack = this.generateMorphTrack(rawTracks);\n      if (morphTrack !== void 0)\n        tracks.push(morphTrack);\n    }\n    return tracks;\n  }\n  generateVectorTrack(modelName, curves, initialValue, type) {\n    const times = this.getTimesForAllAxes(curves);\n    const values = this.getKeyframeTrackValues(times, curves, initialValue);\n    return new VectorKeyframeTrack(modelName + \".\" + type, times, values);\n  }\n  generateRotationTrack(modelName, curves, initialValue, preRotation, postRotation, eulerOrder) {\n    if (curves.x !== void 0) {\n      this.interpolateRotations(curves.x);\n      curves.x.values = curves.x.values.map(MathUtils.degToRad);\n    }\n    if (curves.y !== void 0) {\n      this.interpolateRotations(curves.y);\n      curves.y.values = curves.y.values.map(MathUtils.degToRad);\n    }\n    if (curves.z !== void 0) {\n      this.interpolateRotations(curves.z);\n      curves.z.values = curves.z.values.map(MathUtils.degToRad);\n    }\n    const times = this.getTimesForAllAxes(curves);\n    const values = this.getKeyframeTrackValues(times, curves, initialValue);\n    if (preRotation !== void 0) {\n      preRotation = preRotation.map(MathUtils.degToRad);\n      preRotation.push(eulerOrder);\n      preRotation = new Euler().fromArray(preRotation);\n      preRotation = new Quaternion().setFromEuler(preRotation);\n    }\n    if (postRotation !== void 0) {\n      postRotation = postRotation.map(MathUtils.degToRad);\n      postRotation.push(eulerOrder);\n      postRotation = new Euler().fromArray(postRotation);\n      postRotation = new Quaternion().setFromEuler(postRotation).invert();\n    }\n    const quaternion = new Quaternion();\n    const euler = new Euler();\n    const quaternionValues = [];\n    for (let i = 0; i < values.length; i += 3) {\n      euler.set(values[i], values[i + 1], values[i + 2], eulerOrder);\n      quaternion.setFromEuler(euler);\n      if (preRotation !== void 0)\n        quaternion.premultiply(preRotation);\n      if (postRotation !== void 0)\n        quaternion.multiply(postRotation);\n      quaternion.toArray(quaternionValues, i / 3 * 4);\n    }\n    return new QuaternionKeyframeTrack(modelName + \".quaternion\", times, quaternionValues);\n  }\n  generateMorphTrack(rawTracks) {\n    const curves = rawTracks.DeformPercent.curves.morph;\n    const values = curves.values.map(function(val) {\n      return val / 100;\n    });\n    const morphNum = sceneGraph.getObjectByName(rawTracks.modelName).morphTargetDictionary[rawTracks.morphName];\n    return new NumberKeyframeTrack(\n      rawTracks.modelName + \".morphTargetInfluences[\" + morphNum + \"]\",\n      curves.times,\n      values\n    );\n  }\n  // For all animated objects, times are defined separately for each axis\n  // Here we'll combine the times into one sorted array without duplicates\n  getTimesForAllAxes(curves) {\n    let times = [];\n    if (curves.x !== void 0)\n      times = times.concat(curves.x.times);\n    if (curves.y !== void 0)\n      times = times.concat(curves.y.times);\n    if (curves.z !== void 0)\n      times = times.concat(curves.z.times);\n    times = times.sort(function(a, b) {\n      return a - b;\n    });\n    if (times.length > 1) {\n      let targetIndex = 1;\n      let lastValue = times[0];\n      for (let i = 1; i < times.length; i++) {\n        const currentValue = times[i];\n        if (currentValue !== lastValue) {\n          times[targetIndex] = currentValue;\n          lastValue = currentValue;\n          targetIndex++;\n        }\n      }\n      times = times.slice(0, targetIndex);\n    }\n    return times;\n  }\n  getKeyframeTrackValues(times, curves, initialValue) {\n    const prevValue = initialValue;\n    const values = [];\n    let xIndex = -1;\n    let yIndex = -1;\n    let zIndex = -1;\n    times.forEach(function(time) {\n      if (curves.x)\n        xIndex = curves.x.times.indexOf(time);\n      if (curves.y)\n        yIndex = curves.y.times.indexOf(time);\n      if (curves.z)\n        zIndex = curves.z.times.indexOf(time);\n      if (xIndex !== -1) {\n        const xValue = curves.x.values[xIndex];\n        values.push(xValue);\n        prevValue[0] = xValue;\n      } else {\n        values.push(prevValue[0]);\n      }\n      if (yIndex !== -1) {\n        const yValue = curves.y.values[yIndex];\n        values.push(yValue);\n        prevValue[1] = yValue;\n      } else {\n        values.push(prevValue[1]);\n      }\n      if (zIndex !== -1) {\n        const zValue = curves.z.values[zIndex];\n        values.push(zValue);\n        prevValue[2] = zValue;\n      } else {\n        values.push(prevValue[2]);\n      }\n    });\n    return values;\n  }\n  // Rotations are defined as Euler angles which can have values  of any size\n  // These will be converted to quaternions which don't support values greater than\n  // PI, so we'll interpolate large rotations\n  interpolateRotations(curve) {\n    for (let i = 1; i < curve.values.length; i++) {\n      const initialValue = curve.values[i - 1];\n      const valuesSpan = curve.values[i] - initialValue;\n      const absoluteSpan = Math.abs(valuesSpan);\n      if (absoluteSpan >= 180) {\n        const numSubIntervals = absoluteSpan / 180;\n        const step = valuesSpan / numSubIntervals;\n        let nextValue = initialValue + step;\n        const initialTime = curve.times[i - 1];\n        const timeSpan = curve.times[i] - initialTime;\n        const interval = timeSpan / numSubIntervals;\n        let nextTime = initialTime + interval;\n        const interpolatedTimes = [];\n        const interpolatedValues = [];\n        while (nextTime < curve.times[i]) {\n          interpolatedTimes.push(nextTime);\n          nextTime += interval;\n          interpolatedValues.push(nextValue);\n          nextValue += step;\n        }\n        curve.times = inject(curve.times, i, interpolatedTimes);\n        curve.values = inject(curve.values, i, interpolatedValues);\n      }\n    }\n  }\n}\nclass TextParser {\n  getPrevNode() {\n    return this.nodeStack[this.currentIndent - 2];\n  }\n  getCurrentNode() {\n    return this.nodeStack[this.currentIndent - 1];\n  }\n  getCurrentProp() {\n    return this.currentProp;\n  }\n  pushStack(node) {\n    this.nodeStack.push(node);\n    this.currentIndent += 1;\n  }\n  popStack() {\n    this.nodeStack.pop();\n    this.currentIndent -= 1;\n  }\n  setCurrentProp(val, name) {\n    this.currentProp = val;\n    this.currentPropName = name;\n  }\n  parse(text) {\n    this.currentIndent = 0;\n    this.allNodes = new FBXTree();\n    this.nodeStack = [];\n    this.currentProp = [];\n    this.currentPropName = \"\";\n    const scope = this;\n    const split = text.split(/[\\r\\n]+/);\n    split.forEach(function(line, i) {\n      const matchComment = line.match(/^[\\s\\t]*;/);\n      const matchEmpty = line.match(/^[\\s\\t]*$/);\n      if (matchComment || matchEmpty)\n        return;\n      const matchBeginning = line.match(\"^\\\\t{\" + scope.currentIndent + \"}(\\\\w+):(.*){\", \"\");\n      const matchProperty = line.match(\"^\\\\t{\" + scope.currentIndent + \"}(\\\\w+):[\\\\s\\\\t\\\\r\\\\n](.*)\");\n      const matchEnd = line.match(\"^\\\\t{\" + (scope.currentIndent - 1) + \"}}\");\n      if (matchBeginning) {\n        scope.parseNodeBegin(line, matchBeginning);\n      } else if (matchProperty) {\n        scope.parseNodeProperty(line, matchProperty, split[++i]);\n      } else if (matchEnd) {\n        scope.popStack();\n      } else if (line.match(/^[^\\s\\t}]/)) {\n        scope.parseNodePropertyContinued(line);\n      }\n    });\n    return this.allNodes;\n  }\n  parseNodeBegin(line, property) {\n    const nodeName = property[1].trim().replace(/^\"/, \"\").replace(/\"$/, \"\");\n    const nodeAttrs = property[2].split(\",\").map(function(attr) {\n      return attr.trim().replace(/^\"/, \"\").replace(/\"$/, \"\");\n    });\n    const node = { name: nodeName };\n    const attrs = this.parseNodeAttr(nodeAttrs);\n    const currentNode = this.getCurrentNode();\n    if (this.currentIndent === 0) {\n      this.allNodes.add(nodeName, node);\n    } else {\n      if (nodeName in currentNode) {\n        if (nodeName === \"PoseNode\") {\n          currentNode.PoseNode.push(node);\n        } else if (currentNode[nodeName].id !== void 0) {\n          currentNode[nodeName] = {};\n          currentNode[nodeName][currentNode[nodeName].id] = currentNode[nodeName];\n        }\n        if (attrs.id !== \"\")\n          currentNode[nodeName][attrs.id] = node;\n      } else if (typeof attrs.id === \"number\") {\n        currentNode[nodeName] = {};\n        currentNode[nodeName][attrs.id] = node;\n      } else if (nodeName !== \"Properties70\") {\n        if (nodeName === \"PoseNode\")\n          currentNode[nodeName] = [node];\n        else\n          currentNode[nodeName] = node;\n      }\n    }\n    if (typeof attrs.id === \"number\")\n      node.id = attrs.id;\n    if (attrs.name !== \"\")\n      node.attrName = attrs.name;\n    if (attrs.type !== \"\")\n      node.attrType = attrs.type;\n    this.pushStack(node);\n  }\n  parseNodeAttr(attrs) {\n    let id = attrs[0];\n    if (attrs[0] !== \"\") {\n      id = parseInt(attrs[0]);\n      if (isNaN(id)) {\n        id = attrs[0];\n      }\n    }\n    let name = \"\", type = \"\";\n    if (attrs.length > 1) {\n      name = attrs[1].replace(/^(\\w+)::/, \"\");\n      type = attrs[2];\n    }\n    return { id, name, type };\n  }\n  parseNodeProperty(line, property, contentLine) {\n    let propName = property[1].replace(/^\"/, \"\").replace(/\"$/, \"\").trim();\n    let propValue = property[2].replace(/^\"/, \"\").replace(/\"$/, \"\").trim();\n    if (propName === \"Content\" && propValue === \",\") {\n      propValue = contentLine.replace(/\"/g, \"\").replace(/,$/, \"\").trim();\n    }\n    const currentNode = this.getCurrentNode();\n    const parentName = currentNode.name;\n    if (parentName === \"Properties70\") {\n      this.parseNodeSpecialProperty(line, propName, propValue);\n      return;\n    }\n    if (propName === \"C\") {\n      const connProps = propValue.split(\",\").slice(1);\n      const from = parseInt(connProps[0]);\n      const to = parseInt(connProps[1]);\n      let rest = propValue.split(\",\").slice(3);\n      rest = rest.map(function(elem) {\n        return elem.trim().replace(/^\"/, \"\");\n      });\n      propName = \"connections\";\n      propValue = [from, to];\n      append(propValue, rest);\n      if (currentNode[propName] === void 0) {\n        currentNode[propName] = [];\n      }\n    }\n    if (propName === \"Node\")\n      currentNode.id = propValue;\n    if (propName in currentNode && Array.isArray(currentNode[propName])) {\n      currentNode[propName].push(propValue);\n    } else {\n      if (propName !== \"a\")\n        currentNode[propName] = propValue;\n      else\n        currentNode.a = propValue;\n    }\n    this.setCurrentProp(currentNode, propName);\n    if (propName === \"a\" && propValue.slice(-1) !== \",\") {\n      currentNode.a = parseNumberArray(propValue);\n    }\n  }\n  parseNodePropertyContinued(line) {\n    const currentNode = this.getCurrentNode();\n    currentNode.a += line;\n    if (line.slice(-1) !== \",\") {\n      currentNode.a = parseNumberArray(currentNode.a);\n    }\n  }\n  // parse \"Property70\"\n  parseNodeSpecialProperty(line, propName, propValue) {\n    const props = propValue.split('\",').map(function(prop) {\n      return prop.trim().replace(/^\\\"/, \"\").replace(/\\s/, \"_\");\n    });\n    const innerPropName = props[0];\n    const innerPropType1 = props[1];\n    const innerPropType2 = props[2];\n    const innerPropFlag = props[3];\n    let innerPropValue = props[4];\n    switch (innerPropType1) {\n      case \"int\":\n      case \"enum\":\n      case \"bool\":\n      case \"ULongLong\":\n      case \"double\":\n      case \"Number\":\n      case \"FieldOfView\":\n        innerPropValue = parseFloat(innerPropValue);\n        break;\n      case \"Color\":\n      case \"ColorRGB\":\n      case \"Vector3D\":\n      case \"Lcl_Translation\":\n      case \"Lcl_Rotation\":\n      case \"Lcl_Scaling\":\n        innerPropValue = parseNumberArray(innerPropValue);\n        break;\n    }\n    this.getPrevNode()[innerPropName] = {\n      type: innerPropType1,\n      type2: innerPropType2,\n      flag: innerPropFlag,\n      value: innerPropValue\n    };\n    this.setCurrentProp(this.getPrevNode(), innerPropName);\n  }\n}\nclass BinaryParser {\n  parse(buffer) {\n    const reader = new BinaryReader(buffer);\n    reader.skip(23);\n    const version = reader.getUint32();\n    if (version < 6400) {\n      throw new Error(\"THREE.FBXLoader: FBX version not supported, FileVersion: \" + version);\n    }\n    const allNodes = new FBXTree();\n    while (!this.endOfContent(reader)) {\n      const node = this.parseNode(reader, version);\n      if (node !== null)\n        allNodes.add(node.name, node);\n    }\n    return allNodes;\n  }\n  // Check if reader has reached the end of content.\n  endOfContent(reader) {\n    if (reader.size() % 16 === 0) {\n      return (reader.getOffset() + 160 + 16 & ~15) >= reader.size();\n    } else {\n      return reader.getOffset() + 160 + 16 >= reader.size();\n    }\n  }\n  // recursively parse nodes until the end of the file is reached\n  parseNode(reader, version) {\n    const node = {};\n    const endOffset = version >= 7500 ? reader.getUint64() : reader.getUint32();\n    const numProperties = version >= 7500 ? reader.getUint64() : reader.getUint32();\n    version >= 7500 ? reader.getUint64() : reader.getUint32();\n    const nameLen = reader.getUint8();\n    const name = reader.getString(nameLen);\n    if (endOffset === 0)\n      return null;\n    const propertyList = [];\n    for (let i = 0; i < numProperties; i++) {\n      propertyList.push(this.parseProperty(reader));\n    }\n    const id = propertyList.length > 0 ? propertyList[0] : \"\";\n    const attrName = propertyList.length > 1 ? propertyList[1] : \"\";\n    const attrType = propertyList.length > 2 ? propertyList[2] : \"\";\n    node.singleProperty = numProperties === 1 && reader.getOffset() === endOffset ? true : false;\n    while (endOffset > reader.getOffset()) {\n      const subNode = this.parseNode(reader, version);\n      if (subNode !== null)\n        this.parseSubNode(name, node, subNode);\n    }\n    node.propertyList = propertyList;\n    if (typeof id === \"number\")\n      node.id = id;\n    if (attrName !== \"\")\n      node.attrName = attrName;\n    if (attrType !== \"\")\n      node.attrType = attrType;\n    if (name !== \"\")\n      node.name = name;\n    return node;\n  }\n  parseSubNode(name, node, subNode) {\n    if (subNode.singleProperty === true) {\n      const value = subNode.propertyList[0];\n      if (Array.isArray(value)) {\n        node[subNode.name] = subNode;\n        subNode.a = value;\n      } else {\n        node[subNode.name] = value;\n      }\n    } else if (name === \"Connections\" && subNode.name === \"C\") {\n      const array = [];\n      subNode.propertyList.forEach(function(property, i) {\n        if (i !== 0)\n          array.push(property);\n      });\n      if (node.connections === void 0) {\n        node.connections = [];\n      }\n      node.connections.push(array);\n    } else if (subNode.name === \"Properties70\") {\n      const keys = Object.keys(subNode);\n      keys.forEach(function(key) {\n        node[key] = subNode[key];\n      });\n    } else if (name === \"Properties70\" && subNode.name === \"P\") {\n      let innerPropName = subNode.propertyList[0];\n      let innerPropType1 = subNode.propertyList[1];\n      const innerPropType2 = subNode.propertyList[2];\n      const innerPropFlag = subNode.propertyList[3];\n      let innerPropValue;\n      if (innerPropName.indexOf(\"Lcl \") === 0)\n        innerPropName = innerPropName.replace(\"Lcl \", \"Lcl_\");\n      if (innerPropType1.indexOf(\"Lcl \") === 0)\n        innerPropType1 = innerPropType1.replace(\"Lcl \", \"Lcl_\");\n      if (innerPropType1 === \"Color\" || innerPropType1 === \"ColorRGB\" || innerPropType1 === \"Vector\" || innerPropType1 === \"Vector3D\" || innerPropType1.indexOf(\"Lcl_\") === 0) {\n        innerPropValue = [subNode.propertyList[4], subNode.propertyList[5], subNode.propertyList[6]];\n      } else {\n        innerPropValue = subNode.propertyList[4];\n      }\n      node[innerPropName] = {\n        type: innerPropType1,\n        type2: innerPropType2,\n        flag: innerPropFlag,\n        value: innerPropValue\n      };\n    } else if (node[subNode.name] === void 0) {\n      if (typeof subNode.id === \"number\") {\n        node[subNode.name] = {};\n        node[subNode.name][subNode.id] = subNode;\n      } else {\n        node[subNode.name] = subNode;\n      }\n    } else {\n      if (subNode.name === \"PoseNode\") {\n        if (!Array.isArray(node[subNode.name])) {\n          node[subNode.name] = [node[subNode.name]];\n        }\n        node[subNode.name].push(subNode);\n      } else if (node[subNode.name][subNode.id] === void 0) {\n        node[subNode.name][subNode.id] = subNode;\n      }\n    }\n  }\n  parseProperty(reader) {\n    const type = reader.getString(1);\n    let length;\n    switch (type) {\n      case \"C\":\n        return reader.getBoolean();\n      case \"D\":\n        return reader.getFloat64();\n      case \"F\":\n        return reader.getFloat32();\n      case \"I\":\n        return reader.getInt32();\n      case \"L\":\n        return reader.getInt64();\n      case \"R\":\n        length = reader.getUint32();\n        return reader.getArrayBuffer(length);\n      case \"S\":\n        length = reader.getUint32();\n        return reader.getString(length);\n      case \"Y\":\n        return reader.getInt16();\n      case \"b\":\n      case \"c\":\n      case \"d\":\n      case \"f\":\n      case \"i\":\n      case \"l\":\n        const arrayLength = reader.getUint32();\n        const encoding = reader.getUint32();\n        const compressedLength = reader.getUint32();\n        if (encoding === 0) {\n          switch (type) {\n            case \"b\":\n            case \"c\":\n              return reader.getBooleanArray(arrayLength);\n            case \"d\":\n              return reader.getFloat64Array(arrayLength);\n            case \"f\":\n              return reader.getFloat32Array(arrayLength);\n            case \"i\":\n              return reader.getInt32Array(arrayLength);\n            case \"l\":\n              return reader.getInt64Array(arrayLength);\n          }\n        }\n        const data = unzlibSync(new Uint8Array(reader.getArrayBuffer(compressedLength)));\n        const reader2 = new BinaryReader(data.buffer);\n        switch (type) {\n          case \"b\":\n          case \"c\":\n            return reader2.getBooleanArray(arrayLength);\n          case \"d\":\n            return reader2.getFloat64Array(arrayLength);\n          case \"f\":\n            return reader2.getFloat32Array(arrayLength);\n          case \"i\":\n            return reader2.getInt32Array(arrayLength);\n          case \"l\":\n            return reader2.getInt64Array(arrayLength);\n        }\n      default:\n        throw new Error(\"THREE.FBXLoader: Unknown property type \" + type);\n    }\n  }\n}\nclass BinaryReader {\n  constructor(buffer, littleEndian) {\n    this.dv = new DataView(buffer);\n    this.offset = 0;\n    this.littleEndian = littleEndian !== void 0 ? littleEndian : true;\n  }\n  getOffset() {\n    return this.offset;\n  }\n  size() {\n    return this.dv.buffer.byteLength;\n  }\n  skip(length) {\n    this.offset += length;\n  }\n  // seems like true/false representation depends on exporter.\n  // true: 1 or 'Y'(=0x59), false: 0 or 'T'(=0x54)\n  // then sees LSB.\n  getBoolean() {\n    return (this.getUint8() & 1) === 1;\n  }\n  getBooleanArray(size) {\n    const a = [];\n    for (let i = 0; i < size; i++) {\n      a.push(this.getBoolean());\n    }\n    return a;\n  }\n  getUint8() {\n    const value = this.dv.getUint8(this.offset);\n    this.offset += 1;\n    return value;\n  }\n  getInt16() {\n    const value = this.dv.getInt16(this.offset, this.littleEndian);\n    this.offset += 2;\n    return value;\n  }\n  getInt32() {\n    const value = this.dv.getInt32(this.offset, this.littleEndian);\n    this.offset += 4;\n    return value;\n  }\n  getInt32Array(size) {\n    const a = [];\n    for (let i = 0; i < size; i++) {\n      a.push(this.getInt32());\n    }\n    return a;\n  }\n  getUint32() {\n    const value = this.dv.getUint32(this.offset, this.littleEndian);\n    this.offset += 4;\n    return value;\n  }\n  // JavaScript doesn't support 64-bit integer so calculate this here\n  // 1 << 32 will return 1 so using multiply operation instead here.\n  // There's a possibility that this method returns wrong value if the value\n  // is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER.\n  // TODO: safely handle 64-bit integer\n  getInt64() {\n    let low, high;\n    if (this.littleEndian) {\n      low = this.getUint32();\n      high = this.getUint32();\n    } else {\n      high = this.getUint32();\n      low = this.getUint32();\n    }\n    if (high & 2147483648) {\n      high = ~high & 4294967295;\n      low = ~low & 4294967295;\n      if (low === 4294967295)\n        high = high + 1 & 4294967295;\n      low = low + 1 & 4294967295;\n      return -(high * 4294967296 + low);\n    }\n    return high * 4294967296 + low;\n  }\n  getInt64Array(size) {\n    const a = [];\n    for (let i = 0; i < size; i++) {\n      a.push(this.getInt64());\n    }\n    return a;\n  }\n  // Note: see getInt64() comment\n  getUint64() {\n    let low, high;\n    if (this.littleEndian) {\n      low = this.getUint32();\n      high = this.getUint32();\n    } else {\n      high = this.getUint32();\n      low = this.getUint32();\n    }\n    return high * 4294967296 + low;\n  }\n  getFloat32() {\n    const value = this.dv.getFloat32(this.offset, this.littleEndian);\n    this.offset += 4;\n    return value;\n  }\n  getFloat32Array(size) {\n    const a = [];\n    for (let i = 0; i < size; i++) {\n      a.push(this.getFloat32());\n    }\n    return a;\n  }\n  getFloat64() {\n    const value = this.dv.getFloat64(this.offset, this.littleEndian);\n    this.offset += 8;\n    return value;\n  }\n  getFloat64Array(size) {\n    const a = [];\n    for (let i = 0; i < size; i++) {\n      a.push(this.getFloat64());\n    }\n    return a;\n  }\n  getArrayBuffer(size) {\n    const value = this.dv.buffer.slice(this.offset, this.offset + size);\n    this.offset += size;\n    return value;\n  }\n  getString(size) {\n    let a = [];\n    for (let i = 0; i < size; i++) {\n      a[i] = this.getUint8();\n    }\n    const nullByte = a.indexOf(0);\n    if (nullByte >= 0)\n      a = a.slice(0, nullByte);\n    return LoaderUtils.decodeText(new Uint8Array(a));\n  }\n}\nclass FBXTree {\n  add(key, val) {\n    this[key] = val;\n  }\n}\nfunction isFbxFormatBinary(buffer) {\n  const CORRECT = \"Kaydara FBX Binary  \\0\";\n  return buffer.byteLength >= CORRECT.length && CORRECT === convertArrayBufferToString(buffer, 0, CORRECT.length);\n}\nfunction isFbxFormatASCII(text) {\n  const CORRECT = [\n    \"K\",\n    \"a\",\n    \"y\",\n    \"d\",\n    \"a\",\n    \"r\",\n    \"a\",\n    \"\\\\\",\n    \"F\",\n    \"B\",\n    \"X\",\n    \"\\\\\",\n    \"B\",\n    \"i\",\n    \"n\",\n    \"a\",\n    \"r\",\n    \"y\",\n    \"\\\\\",\n    \"\\\\\"\n  ];\n  let cursor = 0;\n  function read(offset) {\n    const result = text[offset - 1];\n    text = text.slice(cursor + offset);\n    cursor++;\n    return result;\n  }\n  for (let i = 0; i < CORRECT.length; ++i) {\n    const num = read(1);\n    if (num === CORRECT[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getFbxVersion(text) {\n  const versionRegExp = /FBXVersion: (\\d+)/;\n  const match = text.match(versionRegExp);\n  if (match) {\n    const version = parseInt(match[1]);\n    return version;\n  }\n  throw new Error(\"THREE.FBXLoader: Cannot find the version number for the file given.\");\n}\nfunction convertFBXTimeToSeconds(time) {\n  return time / 46186158e3;\n}\nconst dataArray = [];\nfunction getData(polygonVertexIndex, polygonIndex, vertexIndex, infoObject) {\n  let index;\n  switch (infoObject.mappingType) {\n    case \"ByPolygonVertex\":\n      index = polygonVertexIndex;\n      break;\n    case \"ByPolygon\":\n      index = polygonIndex;\n      break;\n    case \"ByVertice\":\n      index = vertexIndex;\n      break;\n    case \"AllSame\":\n      index = infoObject.indices[0];\n      break;\n    default:\n      console.warn(\"THREE.FBXLoader: unknown attribute mapping type \" + infoObject.mappingType);\n  }\n  if (infoObject.referenceType === \"IndexToDirect\")\n    index = infoObject.indices[index];\n  const from = index * infoObject.dataSize;\n  const to = from + infoObject.dataSize;\n  return slice(dataArray, infoObject.buffer, from, to);\n}\nconst tempEuler = /* @__PURE__ */ new Euler();\nconst tempVec = /* @__PURE__ */ new Vector3();\nfunction generateTransform(transformData) {\n  const lTranslationM = new Matrix4();\n  const lPreRotationM = new Matrix4();\n  const lRotationM = new Matrix4();\n  const lPostRotationM = new Matrix4();\n  const lScalingM = new Matrix4();\n  const lScalingPivotM = new Matrix4();\n  const lScalingOffsetM = new Matrix4();\n  const lRotationOffsetM = new Matrix4();\n  const lRotationPivotM = new Matrix4();\n  const lParentGX = new Matrix4();\n  const lParentLX = new Matrix4();\n  const lGlobalT = new Matrix4();\n  const inheritType = transformData.inheritType ? transformData.inheritType : 0;\n  if (transformData.translation)\n    lTranslationM.setPosition(tempVec.fromArray(transformData.translation));\n  if (transformData.preRotation) {\n    const array = transformData.preRotation.map(MathUtils.degToRad);\n    array.push(transformData.eulerOrder);\n    lPreRotationM.makeRotationFromEuler(tempEuler.fromArray(array));\n  }\n  if (transformData.rotation) {\n    const array = transformData.rotation.map(MathUtils.degToRad);\n    array.push(transformData.eulerOrder);\n    lRotationM.makeRotationFromEuler(tempEuler.fromArray(array));\n  }\n  if (transformData.postRotation) {\n    const array = transformData.postRotation.map(MathUtils.degToRad);\n    array.push(transformData.eulerOrder);\n    lPostRotationM.makeRotationFromEuler(tempEuler.fromArray(array));\n    lPostRotationM.invert();\n  }\n  if (transformData.scale)\n    lScalingM.scale(tempVec.fromArray(transformData.scale));\n  if (transformData.scalingOffset)\n    lScalingOffsetM.setPosition(tempVec.fromArray(transformData.scalingOffset));\n  if (transformData.scalingPivot)\n    lScalingPivotM.setPosition(tempVec.fromArray(transformData.scalingPivot));\n  if (transformData.rotationOffset)\n    lRotationOffsetM.setPosition(tempVec.fromArray(transformData.rotationOffset));\n  if (transformData.rotationPivot)\n    lRotationPivotM.setPosition(tempVec.fromArray(transformData.rotationPivot));\n  if (transformData.parentMatrixWorld) {\n    lParentLX.copy(transformData.parentMatrix);\n    lParentGX.copy(transformData.parentMatrixWorld);\n  }\n  const lLRM = lPreRotationM.clone().multiply(lRotationM).multiply(lPostRotationM);\n  const lParentGRM = new Matrix4();\n  lParentGRM.extractRotation(lParentGX);\n  const lParentTM = new Matrix4();\n  lParentTM.copyPosition(lParentGX);\n  const lParentGRSM = lParentTM.clone().invert().multiply(lParentGX);\n  const lParentGSM = lParentGRM.clone().invert().multiply(lParentGRSM);\n  const lLSM = lScalingM;\n  const lGlobalRS = new Matrix4();\n  if (inheritType === 0) {\n    lGlobalRS.copy(lParentGRM).multiply(lLRM).multiply(lParentGSM).multiply(lLSM);\n  } else if (inheritType === 1) {\n    lGlobalRS.copy(lParentGRM).multiply(lParentGSM).multiply(lLRM).multiply(lLSM);\n  } else {\n    const lParentLSM = new Matrix4().scale(new Vector3().setFromMatrixScale(lParentLX));\n    const lParentLSM_inv = lParentLSM.clone().invert();\n    const lParentGSM_noLocal = lParentGSM.clone().multiply(lParentLSM_inv);\n    lGlobalRS.copy(lParentGRM).multiply(lLRM).multiply(lParentGSM_noLocal).multiply(lLSM);\n  }\n  const lRotationPivotM_inv = lRotationPivotM.clone().invert();\n  const lScalingPivotM_inv = lScalingPivotM.clone().invert();\n  let lTransform = lTranslationM.clone().multiply(lRotationOffsetM).multiply(lRotationPivotM).multiply(lPreRotationM).multiply(lRotationM).multiply(lPostRotationM).multiply(lRotationPivotM_inv).multiply(lScalingOffsetM).multiply(lScalingPivotM).multiply(lScalingM).multiply(lScalingPivotM_inv);\n  const lLocalTWithAllPivotAndOffsetInfo = new Matrix4().copyPosition(lTransform);\n  const lGlobalTranslation = lParentGX.clone().multiply(lLocalTWithAllPivotAndOffsetInfo);\n  lGlobalT.copyPosition(lGlobalTranslation);\n  lTransform = lGlobalT.clone().multiply(lGlobalRS);\n  lTransform.premultiply(lParentGX.invert());\n  return lTransform;\n}\nfunction getEulerOrder(order) {\n  order = order || 0;\n  const enums = [\n    \"ZYX\",\n    // -> XYZ extrinsic\n    \"YZX\",\n    // -> XZY extrinsic\n    \"XZY\",\n    // -> YZX extrinsic\n    \"ZXY\",\n    // -> YXZ extrinsic\n    \"YXZ\",\n    // -> ZXY extrinsic\n    \"XYZ\"\n    // -> ZYX extrinsic\n    //'SphericXYZ', // not possible to support\n  ];\n  if (order === 6) {\n    console.warn(\"THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.\");\n    return enums[0];\n  }\n  return enums[order];\n}\nfunction parseNumberArray(value) {\n  const array = value.split(\",\").map(function(val) {\n    return parseFloat(val);\n  });\n  return array;\n}\nfunction convertArrayBufferToString(buffer, from, to) {\n  if (from === void 0)\n    from = 0;\n  if (to === void 0)\n    to = buffer.byteLength;\n  return LoaderUtils.decodeText(new Uint8Array(buffer, from, to));\n}\nfunction append(a, b) {\n  for (let i = 0, j = a.length, l = b.length; i < l; i++, j++) {\n    a[j] = b[i];\n  }\n}\nfunction slice(a, b, from, to) {\n  for (let i = from, j = 0; i < to; i++, j++) {\n    a[j] = b[i];\n  }\n  return a;\n}\nfunction inject(a1, index, a2) {\n  return a1.slice(0, index).concat(a2).concat(a1.slice(index));\n}\nexport {\n  FBXLoader\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Loader, FileLoader, ShapePath } from \"three\";\nclass FontLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n  }\n  load(url, onLoad, onProgress, onError) {\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setRequestHeader(this.requestHeader);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(\n      url,\n      (response) => {\n        if (typeof response !== \"string\")\n          throw new Error(\"unsupported data type\");\n        const json = JSON.parse(response);\n        const font = this.parse(json);\n        if (onLoad)\n          onLoad(font);\n      },\n      onProgress,\n      onError\n    );\n  }\n  loadAsync(url, onProgress) {\n    return super.loadAsync(url, onProgress);\n  }\n  parse(json) {\n    return new Font(json);\n  }\n}\nclass Font {\n  constructor(data) {\n    __publicField(this, \"data\");\n    this.data = data;\n  }\n  generateShapes(text, size = 100, _options) {\n    const shapes = [];\n    const options = { letterSpacing: 0, lineHeight: 1, ..._options };\n    const paths = createPaths(text, size, this.data, options);\n    for (let p = 0, pl = paths.length; p < pl; p++) {\n      Array.prototype.push.apply(shapes, paths[p].toShapes(false));\n    }\n    return shapes;\n  }\n}\n__publicField(Font, \"isFont\");\n__publicField(Font, \"type\");\nfunction createPaths(text, size, data, options) {\n  const chars = Array.from(text);\n  const scale = size / data.resolution;\n  const line_height = (data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness) * scale;\n  const paths = [];\n  let offsetX = 0, offsetY = 0;\n  for (let i = 0; i < chars.length; i++) {\n    const char = chars[i];\n    if (char === \"\\n\") {\n      offsetX = 0;\n      offsetY -= line_height * options.lineHeight;\n    } else {\n      const ret = createPath(char, scale, offsetX, offsetY, data);\n      if (ret) {\n        offsetX += ret.offsetX + options.letterSpacing;\n        paths.push(ret.path);\n      }\n    }\n  }\n  return paths;\n}\nfunction createPath(char, scale, offsetX, offsetY, data) {\n  const glyph = data.glyphs[char] || data.glyphs[\"?\"];\n  if (!glyph) {\n    console.error('THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + \".\");\n    return;\n  }\n  const path = new ShapePath();\n  let x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n  if (glyph.o) {\n    const outline = glyph._cachedOutline || (glyph._cachedOutline = glyph.o.split(\" \"));\n    for (let i = 0, l = outline.length; i < l; ) {\n      const action = outline[i++];\n      switch (action) {\n        case \"m\":\n          x = parseInt(outline[i++]) * scale + offsetX;\n          y = parseInt(outline[i++]) * scale + offsetY;\n          path.moveTo(x, y);\n          break;\n        case \"l\":\n          x = parseInt(outline[i++]) * scale + offsetX;\n          y = parseInt(outline[i++]) * scale + offsetY;\n          path.lineTo(x, y);\n          break;\n        case \"q\":\n          cpx = parseInt(outline[i++]) * scale + offsetX;\n          cpy = parseInt(outline[i++]) * scale + offsetY;\n          cpx1 = parseInt(outline[i++]) * scale + offsetX;\n          cpy1 = parseInt(outline[i++]) * scale + offsetY;\n          path.quadraticCurveTo(cpx1, cpy1, cpx, cpy);\n          break;\n        case \"b\":\n          cpx = parseInt(outline[i++]) * scale + offsetX;\n          cpy = parseInt(outline[i++]) * scale + offsetY;\n          cpx1 = parseInt(outline[i++]) * scale + offsetX;\n          cpy1 = parseInt(outline[i++]) * scale + offsetY;\n          cpx2 = parseInt(outline[i++]) * scale + offsetX;\n          cpy2 = parseInt(outline[i++]) * scale + offsetY;\n          path.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, cpx, cpy);\n          break;\n      }\n    }\n  }\n  return { offsetX: glyph.ha * scale, path };\n}\nexport {\n  Font,\n  FontLoader\n};\n", "import { Texture, NearestFilter, ClampToEdgeWrapping } from \"three\";\nclass Data3DTexture extends Texture {\n  constructor(data = null, width = 1, height = 1, depth = 1) {\n    super(null);\n    this.isData3DTexture = true;\n    this.image = { data, width, height, depth };\n    this.magFilter = NearestFilter;\n    this.minFilter = NearestFilter;\n    this.wrapR = ClampToEdgeWrapping;\n    this.generateMipmaps = false;\n    this.flipY = false;\n    this.unpackAlignment = 1;\n  }\n}\nexport {\n  Data3DTexture\n};\n", "import { Vector3, Quaternion, Loader, TextureLoader, FileLoader, LoaderUtils, Matrix4, Bone, BufferGeometry, Float32BufferAttribute, Uint16BufferAttribute, MeshPhongMaterial, FrontSide, Vector2, SkinnedMesh, Mesh, Skeleton, AnimationClip, AnimationMixer } from \"three\";\nvar XLoader = /* @__PURE__ */ function() {\n  var classCallCheck = function(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n  var createClass = function() {\n    function defineProperties(target, props) {\n      for (let i2 = 0; i2 < props.length; i2++) {\n        var descriptor = props[i2];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor)\n          descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n    return function(Constructor, protoProps, staticProps) {\n      if (protoProps)\n        defineProperties(Constructor.prototype, protoProps);\n      if (staticProps)\n        defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n  var XboneInf = function XboneInf2() {\n    classCallCheck(this, XboneInf2);\n    this.boneName = \"\";\n    this.BoneIndex = 0;\n    this.Indeces = [];\n    this.Weights = [];\n    this.initMatrix = null;\n    this.OffsetMatrix = null;\n  };\n  var XAnimationInfo = function XAnimationInfo2() {\n    classCallCheck(this, XAnimationInfo2);\n    this.animeName = \"\";\n    this.boneName = \"\";\n    this.targetBone = null;\n    this.keyType = 4;\n    this.frameStartLv = 0;\n    this.keyFrames = [];\n    this.InverseMx = null;\n  };\n  var XAnimationObj = function() {\n    function XAnimationObj2(_flags) {\n      classCallCheck(this, XAnimationObj2);\n      this.fps = 30;\n      this.name = \"xanimation\";\n      this.length = 0;\n      this.hierarchy = [];\n      this.putFlags = _flags;\n      if (this.putFlags.putPos === void 0) {\n        this.putFlags.putPos = true;\n      }\n      if (this.putFlags.putRot === void 0) {\n        this.putFlags.putRot = true;\n      }\n      if (this.putFlags.putScl === void 0) {\n        this.putFlags.putScl = true;\n      }\n    }\n    createClass(XAnimationObj2, [\n      {\n        key: \"make\",\n        value: function make(XAnimationInfoArray) {\n          for (let i2 = 0; i2 < XAnimationInfoArray.length; i2++) {\n            this.hierarchy.push(this.makeBonekeys(XAnimationInfoArray[i2]));\n          }\n          this.length = this.hierarchy[0].keys[this.hierarchy[0].keys.length - 1].time;\n        }\n      },\n      {\n        key: \"clone\",\n        value: function clone() {\n          return Object.assign({}, this);\n        }\n      },\n      {\n        key: \"makeBonekeys\",\n        value: function makeBonekeys(XAnimationInfo2) {\n          var refObj = {};\n          refObj.name = XAnimationInfo2.boneName;\n          refObj.parent = \"\";\n          refObj.keys = this.keyFrameRefactor(XAnimationInfo2);\n          refObj.copy = function() {\n            return Object.assign({}, this);\n          };\n          return refObj;\n        }\n      },\n      {\n        key: \"keyFrameRefactor\",\n        value: function keyFrameRefactor(XAnimationInfo2) {\n          var keys = [];\n          for (let i2 = 0; i2 < XAnimationInfo2.keyFrames.length; i2++) {\n            var keyframe = {};\n            keyframe.time = XAnimationInfo2.keyFrames[i2].time * this.fps;\n            if (XAnimationInfo2.keyFrames[i2].pos && this.putFlags.putPos) {\n              keyframe.pos = XAnimationInfo2.keyFrames[i2].pos;\n            }\n            if (XAnimationInfo2.keyFrames[i2].rot && this.putFlags.putRot) {\n              keyframe.rot = XAnimationInfo2.keyFrames[i2].rot;\n            }\n            if (XAnimationInfo2.keyFrames[i2].scl && this.putFlags.putScl) {\n              keyframe.scl = XAnimationInfo2.keyFrames[i2].scl;\n            }\n            if (XAnimationInfo2.keyFrames[i2].matrix) {\n              keyframe.matrix = XAnimationInfo2.keyFrames[i2].matrix;\n              if (this.putFlags.putPos) {\n                keyframe.pos = new Vector3().setFromMatrixPosition(keyframe.matrix);\n              }\n              if (this.putFlags.putRot) {\n                keyframe.rot = new Quaternion().setFromRotationMatrix(keyframe.matrix);\n              }\n              if (this.putFlags.putScl) {\n                keyframe.scl = new Vector3().setFromMatrixScale(keyframe.matrix);\n              }\n            }\n            keys.push(keyframe);\n          }\n          return keys;\n        }\n      }\n    ]);\n    return XAnimationObj2;\n  }();\n  var XKeyFrameInfo = function XKeyFrameInfo2() {\n    classCallCheck(this, XKeyFrameInfo2);\n    this.index = 0;\n    this.Frame = 0;\n    this.time = 0;\n    this.matrix = null;\n  };\n  var XLoader2 = function() {\n    function XLoader3(manager) {\n      Loader.call(this, manager);\n      classCallCheck(this, XLoader3);\n      this.debug = false;\n      this.texloader = new TextureLoader(this.manager);\n      this.url = \"\";\n      this._putMatLength = 0;\n      this._nowMat = null;\n      this._nowFrameName = \"\";\n      this.frameHierarchie = [];\n      this.Hierarchies = {};\n      this.HieStack = [];\n      this._currentObject = {};\n      this._currentFrame = {};\n      this._data = null;\n      this.onLoad = null;\n      this.IsUvYReverse = true;\n      this.Meshes = [];\n      this.animations = [];\n      this.animTicksPerSecond = 30;\n      this._currentGeo = null;\n      this._currentAnime = null;\n      this._currentAnimeFrames = null;\n    }\n    createClass(XLoader3, [\n      {\n        key: \"_setArgOption\",\n        value: function _setArgOption(_arg) {\n          var _start = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n          if (!_arg) {\n            return;\n          }\n          for (let i2 = _start; i2 < _arg.length; i2++) {\n            switch (i2) {\n              case 0:\n                this.url = _arg[i2];\n                break;\n              case 1:\n                this.options = _arg[i2];\n                break;\n            }\n          }\n          if (this.options === void 0) {\n            this.options = {};\n          }\n        }\n      },\n      {\n        key: \"load\",\n        value: function load(_arg, onLoad, onProgress, onError) {\n          var _this = this;\n          this._setArgOption(_arg);\n          var loader = new FileLoader(this.manager);\n          loader.setPath(this.path);\n          loader.setResponseType(\"arraybuffer\");\n          loader.setRequestHeader(this.requestHeader);\n          loader.setWithCredentials(this.withCredentials);\n          loader.load(\n            this.url,\n            function(response) {\n              try {\n                _this.parse(response, onLoad);\n              } catch (e) {\n                if (onError) {\n                  onError(e);\n                } else {\n                  console.error(e);\n                }\n                _this.manager.itemError(_this.url);\n              }\n            },\n            onProgress,\n            onError\n          );\n        }\n      },\n      {\n        key: \"_readLine\",\n        value: function _readLine(line) {\n          var readed = 0;\n          while (true) {\n            var find = -1;\n            find = line.indexOf(\"//\", readed);\n            if (find === -1) {\n              find = line.indexOf(\"#\", readed);\n            }\n            if (find > -1 && find < 2) {\n              var foundNewLine = -1;\n              foundNewLine = line.indexOf(\"\\r\\n\", readed);\n              if (foundNewLine > 0) {\n                readed = foundNewLine + 2;\n              } else {\n                foundNewLine = line.indexOf(\"\\r\", readed);\n                if (foundNewLine > 0) {\n                  readed = foundNewLine + 1;\n                } else {\n                  readed = line.indexOf(\"\\n\", readed) + 1;\n                }\n              }\n            } else {\n              break;\n            }\n          }\n          return line.substr(readed);\n        }\n      },\n      {\n        key: \"_readLine\",\n        value: function _readLine(line) {\n          var readed = 0;\n          while (true) {\n            var find = -1;\n            find = line.indexOf(\"//\", readed);\n            if (find === -1) {\n              find = line.indexOf(\"#\", readed);\n            }\n            if (find > -1 && find < 2) {\n              var foundNewLine = -1;\n              foundNewLine = line.indexOf(\"\\r\\n\", readed);\n              if (foundNewLine > 0) {\n                readed = foundNewLine + 2;\n              } else {\n                foundNewLine = line.indexOf(\"\\r\", readed);\n                if (foundNewLine > 0) {\n                  readed = foundNewLine + 1;\n                } else {\n                  readed = line.indexOf(\"\\n\", readed) + 1;\n                }\n              }\n            } else {\n              break;\n            }\n          }\n          return line.substr(readed);\n        }\n      },\n      {\n        key: \"_isBinary\",\n        value: function _isBinary(binData) {\n          var reader = new DataView(binData);\n          var face_size = 32 / 8 * 3 + 32 / 8 * 3 * 3 + 16 / 8;\n          var n_faces = reader.getUint32(80, true);\n          var expect = 80 + 32 / 8 + n_faces * face_size;\n          if (expect === reader.byteLength) {\n            return true;\n          }\n          var fileLength = reader.byteLength;\n          for (let index = 0; index < fileLength; index++) {\n            if (reader.getUint8(index, false) > 127) {\n              return true;\n            }\n          }\n          return false;\n        }\n      },\n      {\n        key: \"_ensureBinary\",\n        value: function _ensureBinary(buf) {\n          if (typeof buf === \"string\") {\n            var array_buffer = new Uint8Array(buf.length);\n            for (let i2 = 0; i2 < buf.length; i2++) {\n              array_buffer[i2] = buf.charCodeAt(i2) & 255;\n            }\n            return array_buffer.buffer || array_buffer;\n          } else {\n            return buf;\n          }\n        }\n      },\n      {\n        key: \"_ensureString\",\n        value: function _ensureString(buf) {\n          if (typeof buf !== \"string\") {\n            return LoaderUtils.decodeText(new Uint8Array(buf));\n          } else {\n            return buf;\n          }\n        }\n      },\n      {\n        key: \"parse\",\n        value: function _parse(data, onLoad) {\n          var binData = this._ensureBinary(data);\n          this._data = this._ensureString(data);\n          this.onLoad = onLoad;\n          return this._isBinary(binData) ? this._parseBinary(binData) : this._parseASCII();\n        }\n      },\n      {\n        key: \"_parseBinary\",\n        value: function _parseBinary(data) {\n          return this._parseASCII(LoaderUtils.decodeText(new Uint8Array(data)));\n        }\n      },\n      {\n        key: \"_parseASCII\",\n        value: function _parseASCII() {\n          var path;\n          if (this.resourcePath !== \"\") {\n            path = this.resourcePath;\n          } else if (this.path !== \"\") {\n            path = this.path;\n          } else {\n            path = LoaderUtils.extractUrlBase(this.url);\n          }\n          this.texloader.setPath(path).setCrossOrigin(this.crossOrigin);\n          var endRead = 16;\n          this.Hierarchies.children = [];\n          this._hierarchieParse(this.Hierarchies, endRead);\n          this._changeRoot();\n          this._currentObject = this.Hierarchies.children.shift();\n          this._mainloop();\n        }\n      },\n      {\n        key: \"_hierarchieParse\",\n        value: function _hierarchieParse(_parent, _end) {\n          var endRead = _end;\n          while (true) {\n            var find1 = this._data.indexOf(\"{\", endRead) + 1;\n            var findEnd = this._data.indexOf(\"}\", endRead);\n            var findNext = this._data.indexOf(\"{\", find1) + 1;\n            if (find1 > 0 && findEnd > find1) {\n              var _currentObject = {};\n              _currentObject.children = [];\n              var nameData = this._readLine(this._data.substr(endRead, find1 - endRead - 1)).trim();\n              var word = nameData.split(/ /g);\n              if (word.length > 0) {\n                _currentObject.type = word[0];\n                if (word.length >= 2) {\n                  _currentObject.name = word[1];\n                } else {\n                  _currentObject.name = word[0] + this.Hierarchies.children.length;\n                }\n              } else {\n                _currentObject.name = nameData;\n                _currentObject.type = \"\";\n              }\n              if (_currentObject.type === \"Animation\") {\n                _currentObject.data = this._data.substr(findNext, findEnd - findNext).trim();\n                var refs = this._hierarchieParse(_currentObject, findEnd + 1);\n                endRead = refs.end;\n                _currentObject.children = refs.parent.children;\n              } else {\n                var DataEnder = this._data.lastIndexOf(\";\", findNext > 0 ? Math.min(findNext, findEnd) : findEnd);\n                _currentObject.data = this._data.substr(find1, DataEnder - find1).trim();\n                if (findNext <= 0 || findEnd < findNext) {\n                  endRead = findEnd + 1;\n                } else {\n                  var nextStart = Math.max(DataEnder + 1, find1);\n                  var _refs = this._hierarchieParse(_currentObject, nextStart);\n                  endRead = _refs.end;\n                  _currentObject.children = _refs.parent.children;\n                }\n              }\n              _currentObject.parent = _parent;\n              if (_currentObject.type != \"template\") {\n                _parent.children.push(_currentObject);\n              }\n            } else {\n              endRead = find1 === -1 ? this._data.length : findEnd + 1;\n              break;\n            }\n          }\n          return {\n            parent: _parent,\n            end: endRead\n          };\n        }\n      },\n      {\n        key: \"_mainloop\",\n        value: function _mainloop() {\n          var _this2 = this;\n          this._mainProc();\n          if (this._currentObject.parent || this._currentObject.children.length > 0 || !this._currentObject.worked) {\n            setTimeout(function() {\n              _this2._mainloop();\n            }, 1);\n          } else {\n            setTimeout(function() {\n              _this2.onLoad({\n                models: _this2.Meshes,\n                animations: _this2.animations\n              });\n            }, 1);\n          }\n        }\n      },\n      {\n        key: \"_mainProc\",\n        value: function _mainProc() {\n          var breakFlag = false;\n          while (true) {\n            if (!this._currentObject.worked) {\n              switch (this._currentObject.type) {\n                case \"template\":\n                  break;\n                case \"AnimTicksPerSecond\":\n                  this.animTicksPerSecond = parseInt(this._currentObject.data);\n                  break;\n                case \"Frame\":\n                  this._setFrame();\n                  break;\n                case \"FrameTransformMatrix\":\n                  this._setFrameTransformMatrix();\n                  break;\n                case \"Mesh\":\n                  this._changeRoot();\n                  this._currentGeo = {};\n                  this._currentGeo.name = this._currentObject.name.trim();\n                  this._currentGeo.parentName = this._getParentName(this._currentObject).trim();\n                  this._currentGeo.VertexSetedBoneCount = [];\n                  this._currentGeo.GeometryData = {\n                    vertices: [],\n                    normals: [],\n                    uvs: [],\n                    skinIndices: [],\n                    skinWeights: [],\n                    indices: [],\n                    materialIndices: []\n                  };\n                  this._currentGeo.Materials = [];\n                  this._currentGeo.normalVectors = [];\n                  this._currentGeo.BoneInfs = [];\n                  this._currentGeo.baseFrame = this._currentFrame;\n                  this._makeBoneFrom_CurrentFrame();\n                  this._readVertexDatas();\n                  breakFlag = true;\n                  break;\n                case \"MeshNormals\":\n                  this._readVertexDatas();\n                  break;\n                case \"MeshTextureCoords\":\n                  this._setMeshTextureCoords();\n                  break;\n                case \"VertexDuplicationIndices\":\n                  break;\n                case \"MeshMaterialList\":\n                  this._setMeshMaterialList();\n                  break;\n                case \"Material\":\n                  this._setMaterial();\n                  break;\n                case \"SkinWeights\":\n                  this._setSkinWeights();\n                  break;\n                case \"AnimationSet\":\n                  this._changeRoot();\n                  this._currentAnime = {};\n                  this._currentAnime.name = this._currentObject.name.trim();\n                  this._currentAnime.AnimeFrames = [];\n                  break;\n                case \"Animation\":\n                  if (this._currentAnimeFrames) {\n                    this._currentAnime.AnimeFrames.push(this._currentAnimeFrames);\n                  }\n                  this._currentAnimeFrames = new XAnimationInfo();\n                  this._currentAnimeFrames.boneName = this._currentObject.data.trim();\n                  break;\n                case \"AnimationKey\":\n                  this._readAnimationKey();\n                  breakFlag = true;\n                  break;\n              }\n              this._currentObject.worked = true;\n            }\n            if (this._currentObject.children.length > 0) {\n              this._currentObject = this._currentObject.children.shift();\n              if (this.debug) {\n                console.log(\"processing \" + this._currentObject.name);\n              }\n              if (breakFlag)\n                break;\n            } else {\n              if (this._currentObject.worked) {\n                if (this._currentObject.parent && !this._currentObject.parent.parent) {\n                  this._changeRoot();\n                }\n              }\n              if (this._currentObject.parent) {\n                this._currentObject = this._currentObject.parent;\n              } else {\n                breakFlag = true;\n              }\n              if (breakFlag)\n                break;\n            }\n          }\n          return;\n        }\n      },\n      {\n        key: \"_changeRoot\",\n        value: function _changeRoot() {\n          if (this._currentGeo != null && this._currentGeo.name) {\n            this._makeOutputGeometry();\n          }\n          this._currentGeo = {};\n          if (this._currentAnime != null && this._currentAnime.name) {\n            if (this._currentAnimeFrames) {\n              this._currentAnime.AnimeFrames.push(this._currentAnimeFrames);\n              this._currentAnimeFrames = null;\n            }\n            this._makeOutputAnimation();\n          }\n          this._currentAnime = {};\n        }\n      },\n      {\n        key: \"_getParentName\",\n        value: function _getParentName(_obj) {\n          if (_obj.parent) {\n            if (_obj.parent.name) {\n              return _obj.parent.name;\n            } else {\n              return this._getParentName(_obj.parent);\n            }\n          } else {\n            return \"\";\n          }\n        }\n      },\n      {\n        key: \"_setFrame\",\n        value: function _setFrame() {\n          this._nowFrameName = this._currentObject.name.trim();\n          this._currentFrame = {};\n          this._currentFrame.name = this._nowFrameName;\n          this._currentFrame.children = [];\n          if (this._currentObject.parent && this._currentObject.parent.name) {\n            this._currentFrame.parentName = this._currentObject.parent.name;\n          }\n          this.frameHierarchie.push(this._nowFrameName);\n          this.HieStack[this._nowFrameName] = this._currentFrame;\n        }\n      },\n      {\n        key: \"_setFrameTransformMatrix\",\n        value: function _setFrameTransformMatrix() {\n          this._currentFrame.FrameTransformMatrix = new Matrix4();\n          var data = this._currentObject.data.split(\",\");\n          this._ParseMatrixData(this._currentFrame.FrameTransformMatrix, data);\n          this._makeBoneFrom_CurrentFrame();\n        }\n      },\n      {\n        key: \"_makeBoneFrom_CurrentFrame\",\n        value: function _makeBoneFrom_CurrentFrame() {\n          if (!this._currentFrame.FrameTransformMatrix) {\n            return;\n          }\n          var b = new Bone();\n          b.name = this._currentFrame.name;\n          b.applyMatrix4(this._currentFrame.FrameTransformMatrix);\n          b.matrixWorld = b.matrix;\n          b.FrameTransformMatrix = this._currentFrame.FrameTransformMatrix;\n          this._currentFrame.putBone = b;\n          if (this._currentFrame.parentName) {\n            for (let frame in this.HieStack) {\n              if (this.HieStack[frame].name === this._currentFrame.parentName) {\n                this.HieStack[frame].putBone.add(this._currentFrame.putBone);\n              }\n            }\n          }\n        }\n      },\n      {\n        key: \"_readVertexDatas\",\n        value: function _readVertexDatas() {\n          var endRead = 0;\n          var mode = 0;\n          var mode_local = 0;\n          var maxLength = 0;\n          while (true) {\n            var changeMode = false;\n            if (mode_local === 0) {\n              var refO = this._readInt1(endRead);\n              endRead = refO.endRead;\n              mode_local = 1;\n              maxLength = this._currentObject.data.indexOf(\";;\", endRead) + 1;\n              if (maxLength <= 0) {\n                maxLength = this._currentObject.data.length;\n              }\n            } else {\n              var find = 0;\n              switch (mode) {\n                case 0:\n                  find = this._currentObject.data.indexOf(\",\", endRead) + 1;\n                  break;\n                case 1:\n                  find = this._currentObject.data.indexOf(\";,\", endRead) + 1;\n                  break;\n              }\n              if (find === 0 || find > maxLength) {\n                find = maxLength;\n                mode_local = 0;\n                changeMode = true;\n              }\n              switch (this._currentObject.type) {\n                case \"Mesh\":\n                  switch (mode) {\n                    case 0:\n                      this._readVertex1(this._currentObject.data.substr(endRead, find - endRead));\n                      break;\n                    case 1:\n                      this._readFace1(this._currentObject.data.substr(endRead, find - endRead));\n                      break;\n                  }\n                  break;\n                case \"MeshNormals\":\n                  switch (mode) {\n                    case 0:\n                      this._readNormalVector1(this._currentObject.data.substr(endRead, find - endRead));\n                      break;\n                  }\n                  break;\n              }\n              endRead = find + 1;\n              if (changeMode) {\n                mode++;\n              }\n            }\n            if (endRead >= this._currentObject.data.length) {\n              break;\n            }\n          }\n        }\n      },\n      {\n        key: \"_readInt1\",\n        value: function _readInt1(start) {\n          var find = this._currentObject.data.indexOf(\";\", start);\n          return {\n            refI: parseInt(this._currentObject.data.substr(start, find - start)),\n            endRead: find + 1\n          };\n        }\n      },\n      {\n        key: \"_readVertex1\",\n        value: function _readVertex1(line) {\n          var data = this._readLine(line.trim()).substr(0, line.length - 2).split(\";\");\n          this._currentGeo.GeometryData.vertices.push(parseFloat(data[0]), parseFloat(data[1]), parseFloat(data[2]));\n          this._currentGeo.GeometryData.skinIndices.push(0, 0, 0, 0);\n          this._currentGeo.GeometryData.skinWeights.push(1, 0, 0, 0);\n          this._currentGeo.VertexSetedBoneCount.push(0);\n        }\n      },\n      {\n        key: \"_readFace1\",\n        value: function _readFace1(line) {\n          var data = this._readLine(line.trim()).substr(2, line.length - 4).split(\",\");\n          this._currentGeo.GeometryData.indices.push(\n            parseInt(data[0], 10),\n            parseInt(data[1], 10),\n            parseInt(data[2], 10)\n          );\n        }\n      },\n      {\n        key: \"_readNormalVector1\",\n        value: function _readNormalVector1(line) {\n          var data = this._readLine(line.trim()).substr(0, line.length - 2).split(\";\");\n          this._currentGeo.GeometryData.normals.push(parseFloat(data[0]), parseFloat(data[1]), parseFloat(data[2]));\n        }\n      },\n      {\n        key: \"_buildGeometry\",\n        value: function _buildGeometry() {\n          var bufferGeometry = new BufferGeometry();\n          var position = [];\n          var normals = [];\n          var uvs = [];\n          var skinIndices = [];\n          var skinWeights = [];\n          var data = this._currentGeo.GeometryData;\n          for (let i2 = 0, l = data.indices.length; i2 < l; i2++) {\n            var stride2 = data.indices[i2] * 2;\n            var stride3 = data.indices[i2] * 3;\n            var stride4 = data.indices[i2] * 4;\n            position.push(data.vertices[stride3], data.vertices[stride3 + 1], data.vertices[stride3 + 2]);\n            normals.push(data.normals[stride3], data.normals[stride3 + 1], data.normals[stride3 + 2]);\n            skinIndices.push(\n              data.skinIndices[stride4],\n              data.skinIndices[stride4 + 1],\n              data.skinIndices[stride4 + 2],\n              data.skinIndices[stride4 + 3]\n            );\n            skinWeights.push(\n              data.skinWeights[stride4],\n              data.skinWeights[stride4 + 1],\n              data.skinWeights[stride4 + 2],\n              data.skinWeights[stride4 + 3]\n            );\n            uvs.push(data.uvs[stride2], data.uvs[stride2 + 1]);\n          }\n          bufferGeometry.setAttribute(\"position\", new Float32BufferAttribute(position, 3));\n          bufferGeometry.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n          bufferGeometry.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n          bufferGeometry.setAttribute(\"skinIndex\", new Uint16BufferAttribute(skinIndices, 4));\n          bufferGeometry.setAttribute(\"skinWeight\", new Float32BufferAttribute(skinWeights, 4));\n          this._computeGroups(bufferGeometry, data.materialIndices);\n          return bufferGeometry;\n        }\n      },\n      {\n        key: \"_computeGroups\",\n        value: function _computeGroups(bufferGeometry, materialIndices) {\n          var group;\n          var groups = [];\n          var materialIndex = void 0;\n          for (let i2 = 0; i2 < materialIndices.length; i2++) {\n            var currentMaterialIndex = materialIndices[i2];\n            if (currentMaterialIndex !== materialIndex) {\n              materialIndex = currentMaterialIndex;\n              if (group !== void 0) {\n                group.count = i2 * 3 - group.start;\n                groups.push(group);\n              }\n              group = {\n                start: i2 * 3,\n                materialIndex\n              };\n            }\n          }\n          if (group !== void 0) {\n            group.count = i * 3 - group.start;\n            groups.push(group);\n          }\n          bufferGeometry.groups = groups;\n        }\n      },\n      {\n        key: \"_setMeshTextureCoords\",\n        value: function _setMeshTextureCoords() {\n          var endRead = 0;\n          var mode = 0;\n          var mode_local = 0;\n          while (true) {\n            switch (mode) {\n              case 0:\n                if (mode_local === 0) {\n                  var refO = this._readInt1(0);\n                  endRead = refO.endRead;\n                  mode_local = 1;\n                } else {\n                  var find = this._currentObject.data.indexOf(\",\", endRead) + 1;\n                  if (find === 0) {\n                    find = this._currentObject.data.length;\n                    mode = 2;\n                    mode_local = 0;\n                  }\n                  var line = this._currentObject.data.substr(endRead, find - endRead);\n                  var data = this._readLine(line.trim()).split(\";\");\n                  if (this.IsUvYReverse) {\n                    this._currentGeo.GeometryData.uvs.push(parseFloat(data[0]), 1 - parseFloat(data[1]));\n                  } else {\n                    this._currentGeo.GeometryData.uvs.push(parseFloat(data[0]), parseFloat(data[1]));\n                  }\n                  endRead = find + 1;\n                }\n                break;\n            }\n            if (endRead >= this._currentObject.data.length) {\n              break;\n            }\n          }\n        }\n      },\n      {\n        key: \"_setMeshMaterialList\",\n        value: function _setMeshMaterialList() {\n          var endRead = 0;\n          var mode = 0;\n          var mode_local = 0;\n          while (true) {\n            if (mode_local < 2) {\n              var refO = this._readInt1(endRead);\n              endRead = refO.endRead;\n              mode_local++;\n            } else {\n              var find = this._currentObject.data.indexOf(\";\", endRead);\n              if (find === -1) {\n                find = this._currentObject.data.length;\n                mode = 3;\n                mode_local = 0;\n              }\n              var line = this._currentObject.data.substr(endRead, find - endRead);\n              var data = this._readLine(line.trim()).split(\",\");\n              for (let i2 = 0; i2 < data.length; i2++) {\n                this._currentGeo.GeometryData.materialIndices[i2] = parseInt(data[i2]);\n              }\n              endRead = this._currentObject.data.length;\n            }\n            if (endRead >= this._currentObject.data.length || mode >= 3) {\n              break;\n            }\n          }\n        }\n      },\n      {\n        key: \"_setMaterial\",\n        value: function _setMaterial() {\n          var _nowMat = new MeshPhongMaterial({\n            color: Math.random() * 16777215\n          });\n          _nowMat.side = FrontSide;\n          _nowMat.name = this._currentObject.name;\n          var endRead = 0;\n          var find = this._currentObject.data.indexOf(\";;\", endRead);\n          var line = this._currentObject.data.substr(endRead, find - endRead);\n          var data = this._readLine(line.trim()).split(\";\");\n          _nowMat.color.r = parseFloat(data[0]);\n          _nowMat.color.g = parseFloat(data[1]);\n          _nowMat.color.b = parseFloat(data[2]);\n          endRead = find + 2;\n          find = this._currentObject.data.indexOf(\";\", endRead);\n          line = this._currentObject.data.substr(endRead, find - endRead);\n          _nowMat.shininess = parseFloat(this._readLine(line));\n          endRead = find + 1;\n          find = this._currentObject.data.indexOf(\";;\", endRead);\n          line = this._currentObject.data.substr(endRead, find - endRead);\n          var data2 = this._readLine(line.trim()).split(\";\");\n          _nowMat.specular.r = parseFloat(data2[0]);\n          _nowMat.specular.g = parseFloat(data2[1]);\n          _nowMat.specular.b = parseFloat(data2[2]);\n          endRead = find + 2;\n          find = this._currentObject.data.indexOf(\";;\", endRead);\n          if (find === -1) {\n            find = this._currentObject.data.length;\n          }\n          line = this._currentObject.data.substr(endRead, find - endRead);\n          var data3 = this._readLine(line.trim()).split(\";\");\n          _nowMat.emissive.r = parseFloat(data3[0]);\n          _nowMat.emissive.g = parseFloat(data3[1]);\n          _nowMat.emissive.b = parseFloat(data3[2]);\n          var localObject = null;\n          while (true) {\n            if (this._currentObject.children.length > 0) {\n              localObject = this._currentObject.children.shift();\n              if (this.debug) {\n                console.log(\"processing \" + localObject.name);\n              }\n              var fileName = localObject.data.substr(1, localObject.data.length - 2);\n              switch (localObject.type) {\n                case \"TextureFilename\":\n                  _nowMat.map = this.texloader.load(fileName);\n                  break;\n                case \"BumpMapFilename\":\n                  _nowMat.bumpMap = this.texloader.load(fileName);\n                  _nowMat.bumpScale = 0.05;\n                  break;\n                case \"NormalMapFilename\":\n                  _nowMat.normalMap = this.texloader.load(fileName);\n                  _nowMat.normalScale = new Vector2(2, 2);\n                  break;\n                case \"EmissiveMapFilename\":\n                  _nowMat.emissiveMap = this.texloader.load(fileName);\n                  break;\n                case \"LightMapFilename\":\n                  _nowMat.lightMap = this.texloader.load(fileName);\n                  break;\n              }\n            } else {\n              break;\n            }\n          }\n          this._currentGeo.Materials.push(_nowMat);\n        }\n      },\n      {\n        key: \"_setSkinWeights\",\n        value: function _setSkinWeights() {\n          var boneInf = new XboneInf();\n          var endRead = 0;\n          var find = this._currentObject.data.indexOf(\";\", endRead);\n          var line = this._currentObject.data.substr(endRead, find - endRead);\n          endRead = find + 1;\n          boneInf.boneName = line.substr(1, line.length - 2);\n          boneInf.BoneIndex = this._currentGeo.BoneInfs.length;\n          find = this._currentObject.data.indexOf(\";\", endRead);\n          endRead = find + 1;\n          find = this._currentObject.data.indexOf(\";\", endRead);\n          line = this._currentObject.data.substr(endRead, find - endRead);\n          var data = this._readLine(line.trim()).split(\",\");\n          for (let i2 = 0; i2 < data.length; i2++) {\n            boneInf.Indeces.push(parseInt(data[i2]));\n          }\n          endRead = find + 1;\n          find = this._currentObject.data.indexOf(\";\", endRead);\n          line = this._currentObject.data.substr(endRead, find - endRead);\n          var data2 = this._readLine(line.trim()).split(\",\");\n          for (let _i = 0; _i < data2.length; _i++) {\n            boneInf.Weights.push(parseFloat(data2[_i]));\n          }\n          endRead = find + 1;\n          find = this._currentObject.data.indexOf(\";\", endRead);\n          if (find <= 0) {\n            find = this._currentObject.data.length;\n          }\n          line = this._currentObject.data.substr(endRead, find - endRead);\n          var data3 = this._readLine(line.trim()).split(\",\");\n          boneInf.OffsetMatrix = new Matrix4();\n          this._ParseMatrixData(boneInf.OffsetMatrix, data3);\n          this._currentGeo.BoneInfs.push(boneInf);\n        }\n      },\n      {\n        key: \"_makePutBoneList\",\n        value: function _makePutBoneList(_RootName, _bones) {\n          var putting = false;\n          for (let frame in this.HieStack) {\n            if (this.HieStack[frame].name === _RootName || putting) {\n              putting = true;\n              var b = new Bone();\n              b.name = this.HieStack[frame].name;\n              b.applyMatrix4(this.HieStack[frame].FrameTransformMatrix);\n              b.matrixWorld = b.matrix;\n              b.FrameTransformMatrix = this.HieStack[frame].FrameTransformMatrix;\n              b.pos = new Vector3().setFromMatrixPosition(b.FrameTransformMatrix).toArray();\n              b.rotq = new Quaternion().setFromRotationMatrix(b.FrameTransformMatrix).toArray();\n              b.scl = new Vector3().setFromMatrixScale(b.FrameTransformMatrix).toArray();\n              if (this.HieStack[frame].parentName && this.HieStack[frame].parentName.length > 0) {\n                for (let i2 = 0; i2 < _bones.length; i2++) {\n                  if (this.HieStack[frame].parentName === _bones[i2].name) {\n                    _bones[i2].add(b);\n                    b.parent = i2;\n                    break;\n                  }\n                }\n              }\n              _bones.push(b);\n            }\n          }\n        }\n      },\n      {\n        key: \"_makeOutputGeometry\",\n        value: function _makeOutputGeometry() {\n          var mesh = null;\n          if (this._currentGeo.BoneInfs.length > 0) {\n            var putBones = [];\n            this._makePutBoneList(this._currentGeo.baseFrame.parentName, putBones);\n            for (let bi = 0; bi < this._currentGeo.BoneInfs.length; bi++) {\n              var boneIndex = 0;\n              for (let bb = 0; bb < putBones.length; bb++) {\n                if (putBones[bb].name === this._currentGeo.BoneInfs[bi].boneName) {\n                  boneIndex = bb;\n                  putBones[bb].OffsetMatrix = new Matrix4();\n                  putBones[bb].OffsetMatrix.copy(this._currentGeo.BoneInfs[bi].OffsetMatrix);\n                  break;\n                }\n              }\n              for (let vi = 0; vi < this._currentGeo.BoneInfs[bi].Indeces.length; vi++) {\n                var nowVertexID = this._currentGeo.BoneInfs[bi].Indeces[vi];\n                var nowVal = this._currentGeo.BoneInfs[bi].Weights[vi];\n                var stride = nowVertexID * 4;\n                switch (this._currentGeo.VertexSetedBoneCount[nowVertexID]) {\n                  case 0:\n                    this._currentGeo.GeometryData.skinIndices[stride] = boneIndex;\n                    this._currentGeo.GeometryData.skinWeights[stride] = nowVal;\n                    break;\n                  case 1:\n                    this._currentGeo.GeometryData.skinIndices[stride + 1] = boneIndex;\n                    this._currentGeo.GeometryData.skinWeights[stride + 1] = nowVal;\n                    break;\n                  case 2:\n                    this._currentGeo.GeometryData.skinIndices[stride + 2] = boneIndex;\n                    this._currentGeo.GeometryData.skinWeights[stride + 2] = nowVal;\n                    break;\n                  case 3:\n                    this._currentGeo.GeometryData.skinIndices[stride + 3] = boneIndex;\n                    this._currentGeo.GeometryData.skinWeights[stride + 3] = nowVal;\n                    break;\n                }\n                this._currentGeo.VertexSetedBoneCount[nowVertexID]++;\n                if (this._currentGeo.VertexSetedBoneCount[nowVertexID] > 4) {\n                  console.log(\"warn! over 4 bone weight! :\" + nowVertexID);\n                }\n              }\n            }\n            for (let sk = 0; sk < this._currentGeo.Materials.length; sk++) {\n              this._currentGeo.Materials[sk].skinning = true;\n            }\n            var offsetList = [];\n            for (let _bi = 0; _bi < putBones.length; _bi++) {\n              if (putBones[_bi].OffsetMatrix) {\n                offsetList.push(putBones[_bi].OffsetMatrix);\n              } else {\n                offsetList.push(new Matrix4());\n              }\n            }\n            var bufferGeometry = this._buildGeometry();\n            mesh = new SkinnedMesh(\n              bufferGeometry,\n              this._currentGeo.Materials.length === 1 ? this._currentGeo.Materials[0] : this._currentGeo.Materials\n            );\n            this._initSkeleton(mesh, putBones, offsetList);\n          } else {\n            var _bufferGeometry = this._buildGeometry();\n            mesh = new Mesh(\n              _bufferGeometry,\n              this._currentGeo.Materials.length === 1 ? this._currentGeo.Materials[0] : this._currentGeo.Materials\n            );\n          }\n          mesh.name = this._currentGeo.name;\n          var worldBaseMx = new Matrix4();\n          var currentMxFrame = this._currentGeo.baseFrame.putBone;\n          if (currentMxFrame && currentMxFrame.parent) {\n            while (true) {\n              currentMxFrame = currentMxFrame.parent;\n              if (currentMxFrame) {\n                worldBaseMx.multiply(currentMxFrame.FrameTransformMatrix);\n              } else {\n                break;\n              }\n            }\n            mesh.applyMatrix4(worldBaseMx);\n          }\n          this.Meshes.push(mesh);\n        }\n      },\n      {\n        key: \"_initSkeleton\",\n        value: function _initSkeleton(mesh, boneList, boneInverses) {\n          var bones = [], bone, gbone;\n          var i2, il;\n          for (i2 = 0, il = boneList.length; i2 < il; i2++) {\n            gbone = boneList[i2];\n            bone = new Bone();\n            bones.push(bone);\n            bone.name = gbone.name;\n            bone.position.fromArray(gbone.pos);\n            bone.quaternion.fromArray(gbone.rotq);\n            if (gbone.scl !== void 0)\n              bone.scale.fromArray(gbone.scl);\n          }\n          for (i2 = 0, il = boneList.length; i2 < il; i2++) {\n            gbone = boneList[i2];\n            if (gbone.parent !== -1 && gbone.parent !== null && bones[gbone.parent] !== void 0) {\n              bones[gbone.parent].add(bones[i2]);\n            } else {\n              mesh.add(bones[i2]);\n            }\n          }\n          mesh.updateMatrixWorld(true);\n          var skeleton = new Skeleton(bones, boneInverses);\n          mesh.bind(skeleton, mesh.matrixWorld);\n        }\n      },\n      {\n        key: \"_readAnimationKey\",\n        value: function _readAnimationKey() {\n          var endRead = 0;\n          var find = this._currentObject.data.indexOf(\";\", endRead);\n          var line = this._currentObject.data.substr(endRead, find - endRead);\n          endRead = find + 1;\n          var nowKeyType = parseInt(this._readLine(line));\n          find = this._currentObject.data.indexOf(\";\", endRead);\n          endRead = find + 1;\n          line = this._currentObject.data.substr(endRead);\n          var data = this._readLine(line.trim()).split(\";;,\");\n          for (let i2 = 0; i2 < data.length; i2++) {\n            var data2 = data[i2].split(\";\");\n            var keyInfo = new XKeyFrameInfo();\n            keyInfo.type = nowKeyType;\n            keyInfo.Frame = parseInt(data2[0]);\n            keyInfo.index = this._currentAnimeFrames.keyFrames.length;\n            keyInfo.time = keyInfo.Frame;\n            if (nowKeyType != 4) {\n              var frameFound = false;\n              for (let mm = 0; mm < this._currentAnimeFrames.keyFrames.length; mm++) {\n                if (this._currentAnimeFrames.keyFrames[mm].Frame === keyInfo.Frame) {\n                  keyInfo = this._currentAnimeFrames.keyFrames[mm];\n                  frameFound = true;\n                  break;\n                }\n              }\n              var frameValue = data2[2].split(\",\");\n              switch (nowKeyType) {\n                case 0:\n                  keyInfo.rot = new Quaternion(\n                    parseFloat(frameValue[1]),\n                    parseFloat(frameValue[2]),\n                    parseFloat(frameValue[3]),\n                    parseFloat(frameValue[0]) * -1\n                  );\n                  break;\n                case 1:\n                  keyInfo.scl = new Vector3(\n                    parseFloat(frameValue[0]),\n                    parseFloat(frameValue[1]),\n                    parseFloat(frameValue[2])\n                  );\n                  break;\n                case 2:\n                  keyInfo.pos = new Vector3(\n                    parseFloat(frameValue[0]),\n                    parseFloat(frameValue[1]),\n                    parseFloat(frameValue[2])\n                  );\n                  break;\n              }\n              if (!frameFound) {\n                this._currentAnimeFrames.keyFrames.push(keyInfo);\n              }\n            } else {\n              keyInfo.matrix = new Matrix4();\n              this._ParseMatrixData(keyInfo.matrix, data2[2].split(\",\"));\n              this._currentAnimeFrames.keyFrames.push(keyInfo);\n            }\n          }\n        }\n      },\n      {\n        key: \"_makeOutputAnimation\",\n        value: function _makeOutputAnimation() {\n          var animationObj = new XAnimationObj(this.options);\n          animationObj.fps = this.animTicksPerSecond;\n          animationObj.name = this._currentAnime.name;\n          animationObj.make(this._currentAnime.AnimeFrames);\n          this.animations.push(animationObj);\n        }\n      },\n      {\n        key: \"assignAnimation\",\n        value: function assignAnimation(_model, _animation) {\n          var model = _model;\n          var animation = _animation;\n          if (!model) {\n            model = this.Meshes[0];\n          }\n          if (!animation) {\n            animation = this.animations[0];\n          }\n          if (!model || !animation) {\n            return null;\n          }\n          var put = {};\n          put.fps = animation.fps;\n          put.name = animation.name;\n          put.length = animation.length;\n          put.hierarchy = [];\n          for (let b = 0; b < model.skeleton.bones.length; b++) {\n            var findAnimation = false;\n            for (let i2 = 0; i2 < animation.hierarchy.length; i2++) {\n              if (model.skeleton.bones[b].name === animation.hierarchy[i2].name) {\n                findAnimation = true;\n                var c_key = animation.hierarchy[i2].copy();\n                c_key.parent = -1;\n                if (model.skeleton.bones[b].parent && model.skeleton.bones[b].parent.type === \"Bone\") {\n                  for (let bb = 0; bb < put.hierarchy.length; bb++) {\n                    if (put.hierarchy[bb].name === model.skeleton.bones[b].parent.name) {\n                      c_key.parent = bb;\n                      c_key.parentName = model.skeleton.bones[b].parent.name;\n                    }\n                  }\n                }\n                put.hierarchy.push(c_key);\n                break;\n              }\n            }\n            if (!findAnimation) {\n              var _c_key = animation.hierarchy[0].copy();\n              _c_key.name = model.skeleton.bones[b].name;\n              _c_key.parent = -1;\n              for (let k = 0; k < _c_key.keys.length; k++) {\n                if (_c_key.keys[k].pos) {\n                  _c_key.keys[k].pos.set(0, 0, 0);\n                }\n                if (_c_key.keys[k].scl) {\n                  _c_key.keys[k].scl.set(1, 1, 1);\n                }\n                if (_c_key.keys[k].rot) {\n                  _c_key.keys[k].rot.set(0, 0, 0, 1);\n                }\n              }\n              put.hierarchy.push(_c_key);\n            }\n          }\n          if (!model.geometry.animations) {\n            model.geometry.animations = [];\n          }\n          model.geometry.animations.push(AnimationClip.parseAnimation(put, model.skeleton.bones));\n          if (!model.animationMixer) {\n            model.animationMixer = new AnimationMixer(model);\n          }\n          return put;\n        }\n      },\n      {\n        key: \"_ParseMatrixData\",\n        value: function _ParseMatrixData(targetMatrix, data) {\n          targetMatrix.set(\n            parseFloat(data[0]),\n            parseFloat(data[4]),\n            parseFloat(data[8]),\n            parseFloat(data[12]),\n            parseFloat(data[1]),\n            parseFloat(data[5]),\n            parseFloat(data[9]),\n            parseFloat(data[13]),\n            parseFloat(data[2]),\n            parseFloat(data[6]),\n            parseFloat(data[10]),\n            parseFloat(data[14]),\n            parseFloat(data[3]),\n            parseFloat(data[7]),\n            parseFloat(data[11]),\n            parseFloat(data[15])\n          );\n        }\n      }\n    ]);\n    return XLoader3;\n  }();\n  return XLoader2;\n}();\nexport {\n  XLoader\n};\n", "class WorkerPool {\n  constructor(pool = 4) {\n    this.pool = pool;\n    this.queue = [];\n    this.workers = [];\n    this.workersResolve = [];\n    this.workerStatus = 0;\n  }\n  _initWorker(workerId) {\n    if (!this.workers[workerId]) {\n      const worker = this.workerCreator();\n      worker.addEventListener(\"message\", this._onMessage.bind(this, workerId));\n      this.workers[workerId] = worker;\n    }\n  }\n  _getIdleWorker() {\n    for (let i = 0; i < this.pool; i++)\n      if (!(this.workerStatus & 1 << i))\n        return i;\n    return -1;\n  }\n  _onMessage(workerId, msg) {\n    const resolve = this.workersResolve[workerId];\n    resolve && resolve(msg);\n    if (this.queue.length) {\n      const { resolve: resolve2, msg: msg2, transfer } = this.queue.shift();\n      this.workersResolve[workerId] = resolve2;\n      this.workers[workerId].postMessage(msg2, transfer);\n    } else {\n      this.workerStatus ^= 1 << workerId;\n    }\n  }\n  setWorkerCreator(workerCreator) {\n    this.workerCreator = workerCreator;\n  }\n  setWorkerLimit(pool) {\n    this.pool = pool;\n  }\n  postMessage(msg, transfer) {\n    return new Promise((resolve) => {\n      const workerId = this._getIdleWorker();\n      if (workerId !== -1) {\n        this._initWorker(workerId);\n        this.workerStatus |= 1 << workerId;\n        this.workersResolve[workerId] = resolve;\n        this.workers[workerId].postMessage(msg, transfer);\n      } else {\n        this.queue.push({ resolve, msg, transfer });\n      }\n    });\n  }\n  dispose() {\n    this.workers.forEach((worker) => worker.terminate());\n    this.workersResolve.length = 0;\n    this.workers.length = 0;\n    this.queue.length = 0;\n    this.workerStatus = 0;\n  }\n}\nexport {\n  WorkerPool\n};\n", "import { CompressedTexture, ClampToEdgeWrapping } from \"three\";\nclass CompressedArrayTexture extends CompressedTexture {\n  constructor(mipmaps, width, height, depth, format, type) {\n    super(mipmaps, width, height, format, type);\n    this.isCompressedArrayTexture = true;\n    this.image.depth = depth;\n    this.wrapR = ClampToEdgeWrapping;\n  }\n}\nexport {\n  CompressedArrayTexture\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Loader, RGBAFormat, RGBA_ASTC_4x4_Format, RGBA_BPTC_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT5_Format, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, FileLoader, UnsignedByteType, CompressedTexture, LinearFilter, LinearMipmapLinearFilter, RGFormat, RedFormat, FloatType, HalfFloatType, DataTexture } from \"three\";\nimport { WorkerPool } from \"../utils/WorkerPool.js\";\nimport { KHR_DF_TRANSFER_SRGB, KHR_DF_FLAG_ALPHA_PREMULTIPLIED, read, VK_FORMAT_UNDEFINED, VK_FORMAT_R32G32B32A32_SFLOAT, VK_FORMAT_R16G16B16A16_SFLOAT, VK_FORMAT_R8G8B8A8_UNORM, VK_FORMAT_R8G8B8A8_SRGB, VK_FORMAT_R32G32_SFLOAT, VK_FORMAT_R16G16_SFLOAT, VK_FORMAT_R8G8_UNORM, VK_FORMAT_R8G8_SRGB, VK_FORMAT_R32_SFLOAT, VK_FORMAT_R16_SFLOAT, VK_FORMAT_R8_SRGB, VK_FORMAT_R8_UNORM, KHR_SUPERCOMPRESSION_NONE, KHR_SUPERCOMPRESSION_ZSTD } from \"ktx-parse\";\nimport { ZSTDDecoder } from \"zstddec\";\nimport { CompressedArrayTexture } from \"../_polyfill/CompressedArrayTexture.js\";\nimport { Data3DTexture } from \"../_polyfill/Data3DTexture.js\";\nconst _taskCache = /* @__PURE__ */ new WeakMap();\nlet _activeLoaders = 0;\nlet _zstd;\nconst _KTX2Loader = class extends Loader {\n  constructor(manager) {\n    super(manager);\n    this.transcoderPath = \"\";\n    this.transcoderBinary = null;\n    this.transcoderPending = null;\n    this.workerPool = new WorkerPool();\n    this.workerSourceURL = \"\";\n    this.workerConfig = null;\n    if (typeof MSC_TRANSCODER !== \"undefined\") {\n      console.warn(\n        'THREE.KTX2Loader: Please update to latest \"basis_transcoder\". \"msc_basis_transcoder\" is no longer supported in three.js r125+.'\n      );\n    }\n  }\n  setTranscoderPath(path) {\n    this.transcoderPath = path;\n    return this;\n  }\n  setWorkerLimit(num) {\n    this.workerPool.setWorkerLimit(num);\n    return this;\n  }\n  detectSupport(renderer) {\n    this.workerConfig = {\n      astcSupported: renderer.extensions.has(\"WEBGL_compressed_texture_astc\"),\n      etc1Supported: renderer.extensions.has(\"WEBGL_compressed_texture_etc1\"),\n      etc2Supported: renderer.extensions.has(\"WEBGL_compressed_texture_etc\"),\n      dxtSupported: renderer.extensions.has(\"WEBGL_compressed_texture_s3tc\"),\n      bptcSupported: renderer.extensions.has(\"EXT_texture_compression_bptc\"),\n      pvrtcSupported: renderer.extensions.has(\"WEBGL_compressed_texture_pvrtc\") || renderer.extensions.has(\"WEBKIT_WEBGL_compressed_texture_pvrtc\")\n    };\n    if (renderer.capabilities.isWebGL2) {\n      this.workerConfig.etc1Supported = false;\n    }\n    return this;\n  }\n  init() {\n    if (!this.transcoderPending) {\n      const jsLoader = new FileLoader(this.manager);\n      jsLoader.setPath(this.transcoderPath);\n      jsLoader.setWithCredentials(this.withCredentials);\n      const jsContent = jsLoader.loadAsync(\"basis_transcoder.js\");\n      const binaryLoader = new FileLoader(this.manager);\n      binaryLoader.setPath(this.transcoderPath);\n      binaryLoader.setResponseType(\"arraybuffer\");\n      binaryLoader.setWithCredentials(this.withCredentials);\n      const binaryContent = binaryLoader.loadAsync(\"basis_transcoder.wasm\");\n      this.transcoderPending = Promise.all([jsContent, binaryContent]).then(([jsContent2, binaryContent2]) => {\n        const fn = _KTX2Loader.BasisWorker.toString();\n        const body = [\n          \"/* constants */\",\n          \"let _EngineFormat = \" + JSON.stringify(_KTX2Loader.EngineFormat),\n          \"let _TranscoderFormat = \" + JSON.stringify(_KTX2Loader.TranscoderFormat),\n          \"let _BasisFormat = \" + JSON.stringify(_KTX2Loader.BasisFormat),\n          \"/* basis_transcoder.js */\",\n          jsContent2,\n          \"/* worker */\",\n          fn.substring(fn.indexOf(\"{\") + 1, fn.lastIndexOf(\"}\"))\n        ].join(\"\\n\");\n        this.workerSourceURL = URL.createObjectURL(new Blob([body]));\n        this.transcoderBinary = binaryContent2;\n        this.workerPool.setWorkerCreator(() => {\n          const worker = new Worker(this.workerSourceURL);\n          const transcoderBinary = this.transcoderBinary.slice(0);\n          worker.postMessage({ type: \"init\", config: this.workerConfig, transcoderBinary }, [transcoderBinary]);\n          return worker;\n        });\n      });\n      if (_activeLoaders > 0) {\n        console.warn(\n          \"THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances.\"\n        );\n      }\n      _activeLoaders++;\n    }\n    return this.transcoderPending;\n  }\n  load(url, onLoad, onProgress, onError) {\n    if (this.workerConfig === null) {\n      throw new Error(\"THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.\");\n    }\n    const loader = new FileLoader(this.manager);\n    loader.setResponseType(\"arraybuffer\");\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(\n      url,\n      (buffer) => {\n        if (_taskCache.has(buffer)) {\n          const cachedTask = _taskCache.get(buffer);\n          return cachedTask.promise.then(onLoad).catch(onError);\n        }\n        this._createTexture(buffer).then((texture) => onLoad ? onLoad(texture) : null).catch(onError);\n      },\n      onProgress,\n      onError\n    );\n  }\n  _createTextureFrom(transcodeResult, container) {\n    const { mipmaps, width, height, format, type, error, dfdTransferFn, dfdFlags } = transcodeResult;\n    if (type === \"error\")\n      return Promise.reject(error);\n    const texture = container.layerCount > 1 ? new CompressedArrayTexture(mipmaps, width, height, container.layerCount, format, UnsignedByteType) : new CompressedTexture(mipmaps, width, height, format, UnsignedByteType);\n    texture.minFilter = mipmaps.length === 1 ? LinearFilter : LinearMipmapLinearFilter;\n    texture.magFilter = LinearFilter;\n    texture.generateMipmaps = false;\n    texture.needsUpdate = true;\n    if (\"colorSpace\" in texture)\n      texture.colorSpace = dfdTransferFn === KHR_DF_TRANSFER_SRGB ? \"srgb\" : \"srgb-linear\";\n    else\n      texture.encoding = dfdTransferFn === KHR_DF_TRANSFER_SRGB ? 3001 : 3e3;\n    texture.premultiplyAlpha = !!(dfdFlags & KHR_DF_FLAG_ALPHA_PREMULTIPLIED);\n    return texture;\n  }\n  /**\n   * @param {ArrayBuffer} buffer\n   * @param {object?} config\n   * @return {Promise<CompressedTexture|CompressedArrayTexture|DataTexture|Data3DTexture>}\n   */\n  async _createTexture(buffer, config = {}) {\n    const container = read(new Uint8Array(buffer));\n    if (container.vkFormat !== VK_FORMAT_UNDEFINED) {\n      return createDataTexture(container);\n    }\n    const taskConfig = config;\n    const texturePending = this.init().then(() => {\n      return this.workerPool.postMessage({ type: \"transcode\", buffer, taskConfig }, [buffer]);\n    }).then((e) => this._createTextureFrom(e.data, container));\n    _taskCache.set(buffer, { promise: texturePending });\n    return texturePending;\n  }\n  dispose() {\n    this.workerPool.dispose();\n    if (this.workerSourceURL)\n      URL.revokeObjectURL(this.workerSourceURL);\n    _activeLoaders--;\n    return this;\n  }\n};\nlet KTX2Loader = _KTX2Loader;\n/* CONSTANTS */\n__publicField(KTX2Loader, \"BasisFormat\", {\n  ETC1S: 0,\n  UASTC_4x4: 1\n});\n__publicField(KTX2Loader, \"TranscoderFormat\", {\n  ETC1: 0,\n  ETC2: 1,\n  BC1: 2,\n  BC3: 3,\n  BC4: 4,\n  BC5: 5,\n  BC7_M6_OPAQUE_ONLY: 6,\n  BC7_M5: 7,\n  PVRTC1_4_RGB: 8,\n  PVRTC1_4_RGBA: 9,\n  ASTC_4x4: 10,\n  ATC_RGB: 11,\n  ATC_RGBA_INTERPOLATED_ALPHA: 12,\n  RGBA32: 13,\n  RGB565: 14,\n  BGR565: 15,\n  RGBA4444: 16\n});\n__publicField(KTX2Loader, \"EngineFormat\", {\n  RGBAFormat,\n  RGBA_ASTC_4x4_Format,\n  RGBA_BPTC_Format,\n  RGBA_ETC2_EAC_Format,\n  RGBA_PVRTC_4BPPV1_Format,\n  RGBA_S3TC_DXT5_Format,\n  RGB_ETC1_Format,\n  RGB_ETC2_Format,\n  RGB_PVRTC_4BPPV1_Format,\n  RGB_S3TC_DXT1_Format\n});\n/* WEB WORKER */\n__publicField(KTX2Loader, \"BasisWorker\", function() {\n  let config;\n  let transcoderPending;\n  let BasisModule;\n  const EngineFormat = _EngineFormat;\n  const TranscoderFormat = _TranscoderFormat;\n  const BasisFormat = _BasisFormat;\n  self.addEventListener(\"message\", function(e) {\n    const message = e.data;\n    switch (message.type) {\n      case \"init\":\n        config = message.config;\n        init(message.transcoderBinary);\n        break;\n      case \"transcode\":\n        transcoderPending.then(() => {\n          try {\n            const { width, height, hasAlpha, mipmaps, format, dfdTransferFn, dfdFlags } = transcode(message.buffer);\n            const buffers = [];\n            for (let i = 0; i < mipmaps.length; ++i) {\n              buffers.push(mipmaps[i].data.buffer);\n            }\n            self.postMessage(\n              {\n                type: \"transcode\",\n                id: message.id,\n                width,\n                height,\n                hasAlpha,\n                mipmaps,\n                format,\n                dfdTransferFn,\n                dfdFlags\n              },\n              buffers\n            );\n          } catch (error) {\n            console.error(error);\n            self.postMessage({ type: \"error\", id: message.id, error: error.message });\n          }\n        });\n        break;\n    }\n  });\n  function init(wasmBinary) {\n    transcoderPending = new Promise((resolve) => {\n      BasisModule = { wasmBinary, onRuntimeInitialized: resolve };\n      BASIS(BasisModule);\n    }).then(() => {\n      BasisModule.initializeBasis();\n      if (BasisModule.KTX2File === void 0) {\n        console.warn(\"THREE.KTX2Loader: Please update Basis Universal transcoder.\");\n      }\n    });\n  }\n  function transcode(buffer) {\n    const ktx2File = new BasisModule.KTX2File(new Uint8Array(buffer));\n    function cleanup() {\n      ktx2File.close();\n      ktx2File.delete();\n    }\n    if (!ktx2File.isValid()) {\n      cleanup();\n      throw new Error(\"THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file\");\n    }\n    const basisFormat = ktx2File.isUASTC() ? BasisFormat.UASTC_4x4 : BasisFormat.ETC1S;\n    const width = ktx2File.getWidth();\n    const height = ktx2File.getHeight();\n    const layers = ktx2File.getLayers() || 1;\n    const levels = ktx2File.getLevels();\n    const hasAlpha = ktx2File.getHasAlpha();\n    const dfdTransferFn = ktx2File.getDFDTransferFunc();\n    const dfdFlags = ktx2File.getDFDFlags();\n    const { transcoderFormat, engineFormat } = getTranscoderFormat(basisFormat, width, height, hasAlpha);\n    if (!width || !height || !levels) {\n      cleanup();\n      throw new Error(\"THREE.KTX2Loader:\tInvalid texture\");\n    }\n    if (!ktx2File.startTranscoding()) {\n      cleanup();\n      throw new Error(\"THREE.KTX2Loader: .startTranscoding failed\");\n    }\n    const mipmaps = [];\n    for (let mip = 0; mip < levels; mip++) {\n      const layerMips = [];\n      let mipWidth, mipHeight;\n      for (let layer = 0; layer < layers; layer++) {\n        const levelInfo = ktx2File.getImageLevelInfo(mip, layer, 0);\n        mipWidth = levelInfo.origWidth < 4 ? levelInfo.origWidth : levelInfo.width;\n        mipHeight = levelInfo.origHeight < 4 ? levelInfo.origHeight : levelInfo.height;\n        const dst = new Uint8Array(ktx2File.getImageTranscodedSizeInBytes(mip, layer, 0, transcoderFormat));\n        const status = ktx2File.transcodeImage(dst, mip, layer, 0, transcoderFormat, 0, -1, -1);\n        if (!status) {\n          cleanup();\n          throw new Error(\"THREE.KTX2Loader: .transcodeImage failed.\");\n        }\n        layerMips.push(dst);\n      }\n      mipmaps.push({ data: concat(layerMips), width: mipWidth, height: mipHeight });\n    }\n    cleanup();\n    return { width, height, hasAlpha, mipmaps, format: engineFormat, dfdTransferFn, dfdFlags };\n  }\n  const FORMAT_OPTIONS = [\n    {\n      if: \"astcSupported\",\n      basisFormat: [BasisFormat.UASTC_4x4],\n      transcoderFormat: [TranscoderFormat.ASTC_4x4, TranscoderFormat.ASTC_4x4],\n      engineFormat: [EngineFormat.RGBA_ASTC_4x4_Format, EngineFormat.RGBA_ASTC_4x4_Format],\n      priorityETC1S: Infinity,\n      priorityUASTC: 1,\n      needsPowerOfTwo: false\n    },\n    {\n      if: \"bptcSupported\",\n      basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n      transcoderFormat: [TranscoderFormat.BC7_M5, TranscoderFormat.BC7_M5],\n      engineFormat: [EngineFormat.RGBA_BPTC_Format, EngineFormat.RGBA_BPTC_Format],\n      priorityETC1S: 3,\n      priorityUASTC: 2,\n      needsPowerOfTwo: false\n    },\n    {\n      if: \"dxtSupported\",\n      basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n      transcoderFormat: [TranscoderFormat.BC1, TranscoderFormat.BC3],\n      engineFormat: [EngineFormat.RGB_S3TC_DXT1_Format, EngineFormat.RGBA_S3TC_DXT5_Format],\n      priorityETC1S: 4,\n      priorityUASTC: 5,\n      needsPowerOfTwo: false\n    },\n    {\n      if: \"etc2Supported\",\n      basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n      transcoderFormat: [TranscoderFormat.ETC1, TranscoderFormat.ETC2],\n      engineFormat: [EngineFormat.RGB_ETC2_Format, EngineFormat.RGBA_ETC2_EAC_Format],\n      priorityETC1S: 1,\n      priorityUASTC: 3,\n      needsPowerOfTwo: false\n    },\n    {\n      if: \"etc1Supported\",\n      basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n      transcoderFormat: [TranscoderFormat.ETC1],\n      engineFormat: [EngineFormat.RGB_ETC1_Format],\n      priorityETC1S: 2,\n      priorityUASTC: 4,\n      needsPowerOfTwo: false\n    },\n    {\n      if: \"pvrtcSupported\",\n      basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n      transcoderFormat: [TranscoderFormat.PVRTC1_4_RGB, TranscoderFormat.PVRTC1_4_RGBA],\n      engineFormat: [EngineFormat.RGB_PVRTC_4BPPV1_Format, EngineFormat.RGBA_PVRTC_4BPPV1_Format],\n      priorityETC1S: 5,\n      priorityUASTC: 6,\n      needsPowerOfTwo: true\n    }\n  ];\n  const ETC1S_OPTIONS = FORMAT_OPTIONS.sort(function(a, b) {\n    return a.priorityETC1S - b.priorityETC1S;\n  });\n  const UASTC_OPTIONS = FORMAT_OPTIONS.sort(function(a, b) {\n    return a.priorityUASTC - b.priorityUASTC;\n  });\n  function getTranscoderFormat(basisFormat, width, height, hasAlpha) {\n    let transcoderFormat;\n    let engineFormat;\n    const options = basisFormat === BasisFormat.ETC1S ? ETC1S_OPTIONS : UASTC_OPTIONS;\n    for (let i = 0; i < options.length; i++) {\n      const opt = options[i];\n      if (!config[opt.if])\n        continue;\n      if (!opt.basisFormat.includes(basisFormat))\n        continue;\n      if (hasAlpha && opt.transcoderFormat.length < 2)\n        continue;\n      if (opt.needsPowerOfTwo && !(isPowerOfTwo(width) && isPowerOfTwo(height)))\n        continue;\n      transcoderFormat = opt.transcoderFormat[hasAlpha ? 1 : 0];\n      engineFormat = opt.engineFormat[hasAlpha ? 1 : 0];\n      return { transcoderFormat, engineFormat };\n    }\n    console.warn(\"THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32.\");\n    transcoderFormat = TranscoderFormat.RGBA32;\n    engineFormat = EngineFormat.RGBAFormat;\n    return { transcoderFormat, engineFormat };\n  }\n  function isPowerOfTwo(value) {\n    if (value <= 2)\n      return true;\n    return (value & value - 1) === 0 && value !== 0;\n  }\n  function concat(arrays) {\n    let totalByteLength = 0;\n    for (let i = 0; i < arrays.length; i++) {\n      const array = arrays[i];\n      totalByteLength += array.byteLength;\n    }\n    const result = new Uint8Array(totalByteLength);\n    let byteOffset = 0;\n    for (let i = 0; i < arrays.length; i++) {\n      const array = arrays[i];\n      result.set(array, byteOffset);\n      byteOffset += array.byteLength;\n    }\n    return result;\n  }\n});\nconst FORMAT_MAP = {\n  [VK_FORMAT_R32G32B32A32_SFLOAT]: RGBAFormat,\n  [VK_FORMAT_R16G16B16A16_SFLOAT]: RGBAFormat,\n  [VK_FORMAT_R8G8B8A8_UNORM]: RGBAFormat,\n  [VK_FORMAT_R8G8B8A8_SRGB]: RGBAFormat,\n  [VK_FORMAT_R32G32_SFLOAT]: RGFormat,\n  [VK_FORMAT_R16G16_SFLOAT]: RGFormat,\n  [VK_FORMAT_R8G8_UNORM]: RGFormat,\n  [VK_FORMAT_R8G8_SRGB]: RGFormat,\n  [VK_FORMAT_R32_SFLOAT]: RedFormat,\n  [VK_FORMAT_R16_SFLOAT]: RedFormat,\n  [VK_FORMAT_R8_SRGB]: RedFormat,\n  [VK_FORMAT_R8_UNORM]: RedFormat\n};\nconst TYPE_MAP = {\n  [VK_FORMAT_R32G32B32A32_SFLOAT]: FloatType,\n  [VK_FORMAT_R16G16B16A16_SFLOAT]: HalfFloatType,\n  [VK_FORMAT_R8G8B8A8_UNORM]: UnsignedByteType,\n  [VK_FORMAT_R8G8B8A8_SRGB]: UnsignedByteType,\n  [VK_FORMAT_R32G32_SFLOAT]: FloatType,\n  [VK_FORMAT_R16G16_SFLOAT]: HalfFloatType,\n  [VK_FORMAT_R8G8_UNORM]: UnsignedByteType,\n  [VK_FORMAT_R8G8_SRGB]: UnsignedByteType,\n  [VK_FORMAT_R32_SFLOAT]: FloatType,\n  [VK_FORMAT_R16_SFLOAT]: HalfFloatType,\n  [VK_FORMAT_R8_SRGB]: UnsignedByteType,\n  [VK_FORMAT_R8_UNORM]: UnsignedByteType\n};\nconst ENCODING_MAP = {\n  [VK_FORMAT_R8G8B8A8_SRGB]: 3001,\n  // sRGBEncoding\n  [VK_FORMAT_R8G8_SRGB]: 3001,\n  // sRGBEncoding\n  [VK_FORMAT_R8_SRGB]: 3001\n  // sRGBEncoding\n};\nasync function createDataTexture(container) {\n  const { vkFormat, pixelWidth, pixelHeight, pixelDepth } = container;\n  if (FORMAT_MAP[vkFormat] === void 0) {\n    throw new Error(\"THREE.KTX2Loader: Unsupported vkFormat.\");\n  }\n  const level = container.levels[0];\n  let levelData;\n  let view;\n  if (container.supercompressionScheme === KHR_SUPERCOMPRESSION_NONE) {\n    levelData = level.levelData;\n  } else if (container.supercompressionScheme === KHR_SUPERCOMPRESSION_ZSTD) {\n    if (!_zstd) {\n      _zstd = new Promise(async (resolve) => {\n        const zstd = new ZSTDDecoder();\n        await zstd.init();\n        resolve(zstd);\n      });\n    }\n    levelData = (await _zstd).decode(level.levelData, level.uncompressedByteLength);\n  } else {\n    throw new Error(\"THREE.KTX2Loader: Unsupported supercompressionScheme.\");\n  }\n  if (TYPE_MAP[vkFormat] === FloatType) {\n    view = new Float32Array(\n      levelData.buffer,\n      levelData.byteOffset,\n      levelData.byteLength / Float32Array.BYTES_PER_ELEMENT\n    );\n  } else if (TYPE_MAP[vkFormat] === HalfFloatType) {\n    view = new Uint16Array(levelData.buffer, levelData.byteOffset, levelData.byteLength / Uint16Array.BYTES_PER_ELEMENT);\n  } else {\n    view = levelData;\n  }\n  const texture = pixelDepth === 0 ? new DataTexture(view, pixelWidth, pixelHeight) : new Data3DTexture(view, pixelWidth, pixelHeight, pixelDepth);\n  texture.type = TYPE_MAP[vkFormat];\n  texture.format = FORMAT_MAP[vkFormat];\n  texture.encoding = ENCODING_MAP[vkFormat] || 3e3;\n  texture.needsUpdate = true;\n  return Promise.resolve(texture);\n}\nexport {\n  KTX2Loader\n};\n", "import { DataTextureLoader, HalfFloatType, DataUtils, FloatType, LinearFilter } from \"three\";\nclass RGBELoader extends DataTextureLoader {\n  constructor(manager) {\n    super(manager);\n    this.type = HalfFloatType;\n  }\n  // adapted from http://www.graphics.cornell.edu/~bjw/rgbe.html\n  parse(buffer) {\n    const RGBE_RETURN_FAILURE = -1, rgbe_read_error = 1, rgbe_write_error = 2, rgbe_format_error = 3, rgbe_memory_error = 4, rgbe_error = function(rgbe_error_code, msg) {\n      switch (rgbe_error_code) {\n        case rgbe_read_error:\n          console.error(\"THREE.RGBELoader Read Error: \" + (msg || \"\"));\n          break;\n        case rgbe_write_error:\n          console.error(\"THREE.RGBELoader Write Error: \" + (msg || \"\"));\n          break;\n        case rgbe_format_error:\n          console.error(\"THREE.RGBELoader Bad File Format: \" + (msg || \"\"));\n          break;\n        default:\n        case rgbe_memory_error:\n          console.error(\"THREE.RGBELoader: Error: \" + (msg || \"\"));\n      }\n      return RGBE_RETURN_FAILURE;\n    }, RGBE_VALID_PROGRAMTYPE = 1, RGBE_VALID_FORMAT = 2, RGBE_VALID_DIMENSIONS = 4, NEWLINE = \"\\n\", fgets = function(buffer2, lineLimit, consume) {\n      const chunkSize = 128;\n      lineLimit = !lineLimit ? 1024 : lineLimit;\n      let p = buffer2.pos, i = -1, len = 0, s = \"\", chunk = String.fromCharCode.apply(null, new Uint16Array(buffer2.subarray(p, p + chunkSize)));\n      while (0 > (i = chunk.indexOf(NEWLINE)) && len < lineLimit && p < buffer2.byteLength) {\n        s += chunk;\n        len += chunk.length;\n        p += chunkSize;\n        chunk += String.fromCharCode.apply(null, new Uint16Array(buffer2.subarray(p, p + chunkSize)));\n      }\n      if (-1 < i) {\n        if (false !== consume)\n          buffer2.pos += len + i + 1;\n        return s + chunk.slice(0, i);\n      }\n      return false;\n    }, RGBE_ReadHeader = function(buffer2) {\n      const magic_token_re = /^#\\?(\\S+)/, gamma_re = /^\\s*GAMMA\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/, exposure_re = /^\\s*EXPOSURE\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/, format_re = /^\\s*FORMAT=(\\S+)\\s*$/, dimensions_re = /^\\s*\\-Y\\s+(\\d+)\\s+\\+X\\s+(\\d+)\\s*$/, header = {\n        valid: 0,\n        string: \"\",\n        comments: \"\",\n        programtype: \"RGBE\",\n        format: \"\",\n        gamma: 1,\n        exposure: 1,\n        width: 0,\n        height: 0\n      };\n      let line, match;\n      if (buffer2.pos >= buffer2.byteLength || !(line = fgets(buffer2))) {\n        return rgbe_error(rgbe_read_error, \"no header found\");\n      }\n      if (!(match = line.match(magic_token_re))) {\n        return rgbe_error(rgbe_format_error, \"bad initial token\");\n      }\n      header.valid |= RGBE_VALID_PROGRAMTYPE;\n      header.programtype = match[1];\n      header.string += line + \"\\n\";\n      while (true) {\n        line = fgets(buffer2);\n        if (false === line)\n          break;\n        header.string += line + \"\\n\";\n        if (\"#\" === line.charAt(0)) {\n          header.comments += line + \"\\n\";\n          continue;\n        }\n        if (match = line.match(gamma_re)) {\n          header.gamma = parseFloat(match[1]);\n        }\n        if (match = line.match(exposure_re)) {\n          header.exposure = parseFloat(match[1]);\n        }\n        if (match = line.match(format_re)) {\n          header.valid |= RGBE_VALID_FORMAT;\n          header.format = match[1];\n        }\n        if (match = line.match(dimensions_re)) {\n          header.valid |= RGBE_VALID_DIMENSIONS;\n          header.height = parseInt(match[1], 10);\n          header.width = parseInt(match[2], 10);\n        }\n        if (header.valid & RGBE_VALID_FORMAT && header.valid & RGBE_VALID_DIMENSIONS)\n          break;\n      }\n      if (!(header.valid & RGBE_VALID_FORMAT)) {\n        return rgbe_error(rgbe_format_error, \"missing format specifier\");\n      }\n      if (!(header.valid & RGBE_VALID_DIMENSIONS)) {\n        return rgbe_error(rgbe_format_error, \"missing image size specifier\");\n      }\n      return header;\n    }, RGBE_ReadPixels_RLE = function(buffer2, w, h) {\n      const scanline_width = w;\n      if (\n        // run length encoding is not allowed so read flat\n        scanline_width < 8 || scanline_width > 32767 || // this file is not run length encoded\n        2 !== buffer2[0] || 2 !== buffer2[1] || buffer2[2] & 128\n      ) {\n        return new Uint8Array(buffer2);\n      }\n      if (scanline_width !== (buffer2[2] << 8 | buffer2[3])) {\n        return rgbe_error(rgbe_format_error, \"wrong scanline width\");\n      }\n      const data_rgba = new Uint8Array(4 * w * h);\n      if (!data_rgba.length) {\n        return rgbe_error(rgbe_memory_error, \"unable to allocate buffer space\");\n      }\n      let offset = 0, pos = 0;\n      const ptr_end = 4 * scanline_width;\n      const rgbeStart = new Uint8Array(4);\n      const scanline_buffer = new Uint8Array(ptr_end);\n      let num_scanlines = h;\n      while (num_scanlines > 0 && pos < buffer2.byteLength) {\n        if (pos + 4 > buffer2.byteLength) {\n          return rgbe_error(rgbe_read_error);\n        }\n        rgbeStart[0] = buffer2[pos++];\n        rgbeStart[1] = buffer2[pos++];\n        rgbeStart[2] = buffer2[pos++];\n        rgbeStart[3] = buffer2[pos++];\n        if (2 != rgbeStart[0] || 2 != rgbeStart[1] || (rgbeStart[2] << 8 | rgbeStart[3]) != scanline_width) {\n          return rgbe_error(rgbe_format_error, \"bad rgbe scanline format\");\n        }\n        let ptr = 0, count;\n        while (ptr < ptr_end && pos < buffer2.byteLength) {\n          count = buffer2[pos++];\n          const isEncodedRun = count > 128;\n          if (isEncodedRun)\n            count -= 128;\n          if (0 === count || ptr + count > ptr_end) {\n            return rgbe_error(rgbe_format_error, \"bad scanline data\");\n          }\n          if (isEncodedRun) {\n            const byteValue = buffer2[pos++];\n            for (let i = 0; i < count; i++) {\n              scanline_buffer[ptr++] = byteValue;\n            }\n          } else {\n            scanline_buffer.set(buffer2.subarray(pos, pos + count), ptr);\n            ptr += count;\n            pos += count;\n          }\n        }\n        const l = scanline_width;\n        for (let i = 0; i < l; i++) {\n          let off = 0;\n          data_rgba[offset] = scanline_buffer[i + off];\n          off += scanline_width;\n          data_rgba[offset + 1] = scanline_buffer[i + off];\n          off += scanline_width;\n          data_rgba[offset + 2] = scanline_buffer[i + off];\n          off += scanline_width;\n          data_rgba[offset + 3] = scanline_buffer[i + off];\n          offset += 4;\n        }\n        num_scanlines--;\n      }\n      return data_rgba;\n    };\n    const RGBEByteToRGBFloat = function(sourceArray, sourceOffset, destArray, destOffset) {\n      const e = sourceArray[sourceOffset + 3];\n      const scale = Math.pow(2, e - 128) / 255;\n      destArray[destOffset + 0] = sourceArray[sourceOffset + 0] * scale;\n      destArray[destOffset + 1] = sourceArray[sourceOffset + 1] * scale;\n      destArray[destOffset + 2] = sourceArray[sourceOffset + 2] * scale;\n      destArray[destOffset + 3] = 1;\n    };\n    const RGBEByteToRGBHalf = function(sourceArray, sourceOffset, destArray, destOffset) {\n      const e = sourceArray[sourceOffset + 3];\n      const scale = Math.pow(2, e - 128) / 255;\n      destArray[destOffset + 0] = DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 0] * scale, 65504));\n      destArray[destOffset + 1] = DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 1] * scale, 65504));\n      destArray[destOffset + 2] = DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 2] * scale, 65504));\n      destArray[destOffset + 3] = DataUtils.toHalfFloat(1);\n    };\n    const byteArray = new Uint8Array(buffer);\n    byteArray.pos = 0;\n    const rgbe_header_info = RGBE_ReadHeader(byteArray);\n    if (RGBE_RETURN_FAILURE !== rgbe_header_info) {\n      const w = rgbe_header_info.width, h = rgbe_header_info.height, image_rgba_data = RGBE_ReadPixels_RLE(byteArray.subarray(byteArray.pos), w, h);\n      if (RGBE_RETURN_FAILURE !== image_rgba_data) {\n        let data, type;\n        let numElements;\n        switch (this.type) {\n          case FloatType:\n            numElements = image_rgba_data.length / 4;\n            const floatArray = new Float32Array(numElements * 4);\n            for (let j = 0; j < numElements; j++) {\n              RGBEByteToRGBFloat(image_rgba_data, j * 4, floatArray, j * 4);\n            }\n            data = floatArray;\n            type = FloatType;\n            break;\n          case HalfFloatType:\n            numElements = image_rgba_data.length / 4;\n            const halfArray = new Uint16Array(numElements * 4);\n            for (let j = 0; j < numElements; j++) {\n              RGBEByteToRGBHalf(image_rgba_data, j * 4, halfArray, j * 4);\n            }\n            data = halfArray;\n            type = HalfFloatType;\n            break;\n          default:\n            console.error(\"THREE.RGBELoader: unsupported type: \", this.type);\n            break;\n        }\n        return {\n          width: w,\n          height: h,\n          data,\n          header: rgbe_header_info.string,\n          gamma: rgbe_header_info.gamma,\n          exposure: rgbe_header_info.exposure,\n          type\n        };\n      }\n    }\n    return null;\n  }\n  setDataType(value) {\n    this.type = value;\n    return this;\n  }\n  load(url, onLoad, onProgress, onError) {\n    function onLoadCallback(texture, texData) {\n      switch (texture.type) {\n        case FloatType:\n        case HalfFloatType:\n          if (\"colorSpace\" in texture)\n            texture.colorSpace = \"srgb-linear\";\n          else\n            texture.encoding = 3e3;\n          texture.minFilter = LinearFilter;\n          texture.magFilter = LinearFilter;\n          texture.generateMipmaps = false;\n          texture.flipY = true;\n          break;\n      }\n      if (onLoad)\n        onLoad(texture, texData);\n    }\n    return super.load(url, onLoadCallback, onProgress, onError);\n  }\n}\nexport {\n  RGBELoader\n};\n", "import { Texture, DataTextureLoader, HalfFloatType, DataUtils, FloatType, RGBAFormat, RedFormat, LinearFilter } from \"three\";\nimport { unzlibSync } from \"fflate\";\nconst hasColorSpace = \"colorSpace\" in /* @__PURE__ */ new Texture();\nclass EXRLoader extends DataTextureLoader {\n  constructor(manager) {\n    super(manager);\n    this.type = HalfFloatType;\n  }\n  parse(buffer) {\n    const USHORT_RANGE = 1 << 16;\n    const BITMAP_SIZE = USHORT_RANGE >> 3;\n    const HUF_ENCBITS = 16;\n    const HUF_DECBITS = 14;\n    const HUF_ENCSIZE = (1 << HUF_ENCBITS) + 1;\n    const HUF_DECSIZE = 1 << HUF_DECBITS;\n    const HUF_DECMASK = HUF_DECSIZE - 1;\n    const NBITS = 16;\n    const A_OFFSET = 1 << NBITS - 1;\n    const MOD_MASK = (1 << NBITS) - 1;\n    const SHORT_ZEROCODE_RUN = 59;\n    const LONG_ZEROCODE_RUN = 63;\n    const SHORTEST_LONG_RUN = 2 + LONG_ZEROCODE_RUN - SHORT_ZEROCODE_RUN;\n    const ULONG_SIZE = 8;\n    const FLOAT32_SIZE = 4;\n    const INT32_SIZE = 4;\n    const INT16_SIZE = 2;\n    const INT8_SIZE = 1;\n    const STATIC_HUFFMAN = 0;\n    const DEFLATE = 1;\n    const UNKNOWN = 0;\n    const LOSSY_DCT = 1;\n    const RLE = 2;\n    const logBase = Math.pow(2.7182818, 2.2);\n    function reverseLutFromBitmap(bitmap, lut) {\n      var k = 0;\n      for (var i = 0; i < USHORT_RANGE; ++i) {\n        if (i == 0 || bitmap[i >> 3] & 1 << (i & 7)) {\n          lut[k++] = i;\n        }\n      }\n      var n = k - 1;\n      while (k < USHORT_RANGE)\n        lut[k++] = 0;\n      return n;\n    }\n    function hufClearDecTable(hdec) {\n      for (var i = 0; i < HUF_DECSIZE; i++) {\n        hdec[i] = {};\n        hdec[i].len = 0;\n        hdec[i].lit = 0;\n        hdec[i].p = null;\n      }\n    }\n    const getBitsReturn = { l: 0, c: 0, lc: 0 };\n    function getBits(nBits, c, lc, uInt8Array2, inOffset) {\n      while (lc < nBits) {\n        c = c << 8 | parseUint8Array(uInt8Array2, inOffset);\n        lc += 8;\n      }\n      lc -= nBits;\n      getBitsReturn.l = c >> lc & (1 << nBits) - 1;\n      getBitsReturn.c = c;\n      getBitsReturn.lc = lc;\n    }\n    const hufTableBuffer = new Array(59);\n    function hufCanonicalCodeTable(hcode) {\n      for (var i = 0; i <= 58; ++i)\n        hufTableBuffer[i] = 0;\n      for (var i = 0; i < HUF_ENCSIZE; ++i)\n        hufTableBuffer[hcode[i]] += 1;\n      var c = 0;\n      for (var i = 58; i > 0; --i) {\n        var nc = c + hufTableBuffer[i] >> 1;\n        hufTableBuffer[i] = c;\n        c = nc;\n      }\n      for (var i = 0; i < HUF_ENCSIZE; ++i) {\n        var l = hcode[i];\n        if (l > 0)\n          hcode[i] = l | hufTableBuffer[l]++ << 6;\n      }\n    }\n    function hufUnpackEncTable(uInt8Array2, inDataView, inOffset, ni, im, iM, hcode) {\n      var p = inOffset;\n      var c = 0;\n      var lc = 0;\n      for (; im <= iM; im++) {\n        if (p.value - inOffset.value > ni)\n          return false;\n        getBits(6, c, lc, uInt8Array2, p);\n        var l = getBitsReturn.l;\n        c = getBitsReturn.c;\n        lc = getBitsReturn.lc;\n        hcode[im] = l;\n        if (l == LONG_ZEROCODE_RUN) {\n          if (p.value - inOffset.value > ni) {\n            throw \"Something wrong with hufUnpackEncTable\";\n          }\n          getBits(8, c, lc, uInt8Array2, p);\n          var zerun = getBitsReturn.l + SHORTEST_LONG_RUN;\n          c = getBitsReturn.c;\n          lc = getBitsReturn.lc;\n          if (im + zerun > iM + 1) {\n            throw \"Something wrong with hufUnpackEncTable\";\n          }\n          while (zerun--)\n            hcode[im++] = 0;\n          im--;\n        } else if (l >= SHORT_ZEROCODE_RUN) {\n          var zerun = l - SHORT_ZEROCODE_RUN + 2;\n          if (im + zerun > iM + 1) {\n            throw \"Something wrong with hufUnpackEncTable\";\n          }\n          while (zerun--)\n            hcode[im++] = 0;\n          im--;\n        }\n      }\n      hufCanonicalCodeTable(hcode);\n    }\n    function hufLength(code) {\n      return code & 63;\n    }\n    function hufCode(code) {\n      return code >> 6;\n    }\n    function hufBuildDecTable(hcode, im, iM, hdecod) {\n      for (; im <= iM; im++) {\n        var c = hufCode(hcode[im]);\n        var l = hufLength(hcode[im]);\n        if (c >> l) {\n          throw \"Invalid table entry\";\n        }\n        if (l > HUF_DECBITS) {\n          var pl = hdecod[c >> l - HUF_DECBITS];\n          if (pl.len) {\n            throw \"Invalid table entry\";\n          }\n          pl.lit++;\n          if (pl.p) {\n            var p = pl.p;\n            pl.p = new Array(pl.lit);\n            for (var i = 0; i < pl.lit - 1; ++i) {\n              pl.p[i] = p[i];\n            }\n          } else {\n            pl.p = new Array(1);\n          }\n          pl.p[pl.lit - 1] = im;\n        } else if (l) {\n          var plOffset = 0;\n          for (var i = 1 << HUF_DECBITS - l; i > 0; i--) {\n            var pl = hdecod[(c << HUF_DECBITS - l) + plOffset];\n            if (pl.len || pl.p) {\n              throw \"Invalid table entry\";\n            }\n            pl.len = l;\n            pl.lit = im;\n            plOffset++;\n          }\n        }\n      }\n      return true;\n    }\n    const getCharReturn = { c: 0, lc: 0 };\n    function getChar(c, lc, uInt8Array2, inOffset) {\n      c = c << 8 | parseUint8Array(uInt8Array2, inOffset);\n      lc += 8;\n      getCharReturn.c = c;\n      getCharReturn.lc = lc;\n    }\n    const getCodeReturn = { c: 0, lc: 0 };\n    function getCode(po, rlc, c, lc, uInt8Array2, inDataView, inOffset, outBuffer, outBufferOffset, outBufferEndOffset) {\n      if (po == rlc) {\n        if (lc < 8) {\n          getChar(c, lc, uInt8Array2, inOffset);\n          c = getCharReturn.c;\n          lc = getCharReturn.lc;\n        }\n        lc -= 8;\n        var cs = c >> lc;\n        var cs = new Uint8Array([cs])[0];\n        if (outBufferOffset.value + cs > outBufferEndOffset) {\n          return false;\n        }\n        var s = outBuffer[outBufferOffset.value - 1];\n        while (cs-- > 0) {\n          outBuffer[outBufferOffset.value++] = s;\n        }\n      } else if (outBufferOffset.value < outBufferEndOffset) {\n        outBuffer[outBufferOffset.value++] = po;\n      } else {\n        return false;\n      }\n      getCodeReturn.c = c;\n      getCodeReturn.lc = lc;\n    }\n    function UInt16(value) {\n      return value & 65535;\n    }\n    function Int16(value) {\n      var ref = UInt16(value);\n      return ref > 32767 ? ref - 65536 : ref;\n    }\n    const wdec14Return = { a: 0, b: 0 };\n    function wdec14(l, h) {\n      var ls = Int16(l);\n      var hs = Int16(h);\n      var hi = hs;\n      var ai = ls + (hi & 1) + (hi >> 1);\n      var as = ai;\n      var bs = ai - hi;\n      wdec14Return.a = as;\n      wdec14Return.b = bs;\n    }\n    function wdec16(l, h) {\n      var m = UInt16(l);\n      var d = UInt16(h);\n      var bb = m - (d >> 1) & MOD_MASK;\n      var aa = d + bb - A_OFFSET & MOD_MASK;\n      wdec14Return.a = aa;\n      wdec14Return.b = bb;\n    }\n    function wav2Decode(buffer2, j, nx, ox, ny, oy, mx) {\n      var w14 = mx < 1 << 14;\n      var n = nx > ny ? ny : nx;\n      var p = 1;\n      var p2;\n      while (p <= n)\n        p <<= 1;\n      p >>= 1;\n      p2 = p;\n      p >>= 1;\n      while (p >= 1) {\n        var py = 0;\n        var ey = py + oy * (ny - p2);\n        var oy1 = oy * p;\n        var oy2 = oy * p2;\n        var ox1 = ox * p;\n        var ox2 = ox * p2;\n        var i00, i01, i10, i11;\n        for (; py <= ey; py += oy2) {\n          var px = py;\n          var ex = py + ox * (nx - p2);\n          for (; px <= ex; px += ox2) {\n            var p01 = px + ox1;\n            var p10 = px + oy1;\n            var p11 = p10 + ox1;\n            if (w14) {\n              wdec14(buffer2[px + j], buffer2[p10 + j]);\n              i00 = wdec14Return.a;\n              i10 = wdec14Return.b;\n              wdec14(buffer2[p01 + j], buffer2[p11 + j]);\n              i01 = wdec14Return.a;\n              i11 = wdec14Return.b;\n              wdec14(i00, i01);\n              buffer2[px + j] = wdec14Return.a;\n              buffer2[p01 + j] = wdec14Return.b;\n              wdec14(i10, i11);\n              buffer2[p10 + j] = wdec14Return.a;\n              buffer2[p11 + j] = wdec14Return.b;\n            } else {\n              wdec16(buffer2[px + j], buffer2[p10 + j]);\n              i00 = wdec14Return.a;\n              i10 = wdec14Return.b;\n              wdec16(buffer2[p01 + j], buffer2[p11 + j]);\n              i01 = wdec14Return.a;\n              i11 = wdec14Return.b;\n              wdec16(i00, i01);\n              buffer2[px + j] = wdec14Return.a;\n              buffer2[p01 + j] = wdec14Return.b;\n              wdec16(i10, i11);\n              buffer2[p10 + j] = wdec14Return.a;\n              buffer2[p11 + j] = wdec14Return.b;\n            }\n          }\n          if (nx & p) {\n            var p10 = px + oy1;\n            if (w14)\n              wdec14(buffer2[px + j], buffer2[p10 + j]);\n            else\n              wdec16(buffer2[px + j], buffer2[p10 + j]);\n            i00 = wdec14Return.a;\n            buffer2[p10 + j] = wdec14Return.b;\n            buffer2[px + j] = i00;\n          }\n        }\n        if (ny & p) {\n          var px = py;\n          var ex = py + ox * (nx - p2);\n          for (; px <= ex; px += ox2) {\n            var p01 = px + ox1;\n            if (w14)\n              wdec14(buffer2[px + j], buffer2[p01 + j]);\n            else\n              wdec16(buffer2[px + j], buffer2[p01 + j]);\n            i00 = wdec14Return.a;\n            buffer2[p01 + j] = wdec14Return.b;\n            buffer2[px + j] = i00;\n          }\n        }\n        p2 = p;\n        p >>= 1;\n      }\n      return py;\n    }\n    function hufDecode(encodingTable, decodingTable, uInt8Array2, inDataView, inOffset, ni, rlc, no, outBuffer, outOffset) {\n      var c = 0;\n      var lc = 0;\n      var outBufferEndOffset = no;\n      var inOffsetEnd = Math.trunc(inOffset.value + (ni + 7) / 8);\n      while (inOffset.value < inOffsetEnd) {\n        getChar(c, lc, uInt8Array2, inOffset);\n        c = getCharReturn.c;\n        lc = getCharReturn.lc;\n        while (lc >= HUF_DECBITS) {\n          var index = c >> lc - HUF_DECBITS & HUF_DECMASK;\n          var pl = decodingTable[index];\n          if (pl.len) {\n            lc -= pl.len;\n            getCode(pl.lit, rlc, c, lc, uInt8Array2, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset);\n            c = getCodeReturn.c;\n            lc = getCodeReturn.lc;\n          } else {\n            if (!pl.p) {\n              throw \"hufDecode issues\";\n            }\n            var j;\n            for (j = 0; j < pl.lit; j++) {\n              var l = hufLength(encodingTable[pl.p[j]]);\n              while (lc < l && inOffset.value < inOffsetEnd) {\n                getChar(c, lc, uInt8Array2, inOffset);\n                c = getCharReturn.c;\n                lc = getCharReturn.lc;\n              }\n              if (lc >= l) {\n                if (hufCode(encodingTable[pl.p[j]]) == (c >> lc - l & (1 << l) - 1)) {\n                  lc -= l;\n                  getCode(\n                    pl.p[j],\n                    rlc,\n                    c,\n                    lc,\n                    uInt8Array2,\n                    inDataView,\n                    inOffset,\n                    outBuffer,\n                    outOffset,\n                    outBufferEndOffset\n                  );\n                  c = getCodeReturn.c;\n                  lc = getCodeReturn.lc;\n                  break;\n                }\n              }\n            }\n            if (j == pl.lit) {\n              throw \"hufDecode issues\";\n            }\n          }\n        }\n      }\n      var i = 8 - ni & 7;\n      c >>= i;\n      lc -= i;\n      while (lc > 0) {\n        var pl = decodingTable[c << HUF_DECBITS - lc & HUF_DECMASK];\n        if (pl.len) {\n          lc -= pl.len;\n          getCode(pl.lit, rlc, c, lc, uInt8Array2, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset);\n          c = getCodeReturn.c;\n          lc = getCodeReturn.lc;\n        } else {\n          throw \"hufDecode issues\";\n        }\n      }\n      return true;\n    }\n    function hufUncompress(uInt8Array2, inDataView, inOffset, nCompressed, outBuffer, nRaw) {\n      var outOffset = { value: 0 };\n      var initialInOffset = inOffset.value;\n      var im = parseUint32(inDataView, inOffset);\n      var iM = parseUint32(inDataView, inOffset);\n      inOffset.value += 4;\n      var nBits = parseUint32(inDataView, inOffset);\n      inOffset.value += 4;\n      if (im < 0 || im >= HUF_ENCSIZE || iM < 0 || iM >= HUF_ENCSIZE) {\n        throw \"Something wrong with HUF_ENCSIZE\";\n      }\n      var freq = new Array(HUF_ENCSIZE);\n      var hdec = new Array(HUF_DECSIZE);\n      hufClearDecTable(hdec);\n      var ni = nCompressed - (inOffset.value - initialInOffset);\n      hufUnpackEncTable(uInt8Array2, inDataView, inOffset, ni, im, iM, freq);\n      if (nBits > 8 * (nCompressed - (inOffset.value - initialInOffset))) {\n        throw \"Something wrong with hufUncompress\";\n      }\n      hufBuildDecTable(freq, im, iM, hdec);\n      hufDecode(freq, hdec, uInt8Array2, inDataView, inOffset, nBits, iM, nRaw, outBuffer, outOffset);\n    }\n    function applyLut(lut, data, nData) {\n      for (var i = 0; i < nData; ++i) {\n        data[i] = lut[data[i]];\n      }\n    }\n    function predictor(source) {\n      for (var t = 1; t < source.length; t++) {\n        var d = source[t - 1] + source[t] - 128;\n        source[t] = d;\n      }\n    }\n    function interleaveScalar(source, out) {\n      var t1 = 0;\n      var t2 = Math.floor((source.length + 1) / 2);\n      var s = 0;\n      var stop = source.length - 1;\n      while (true) {\n        if (s > stop)\n          break;\n        out[s++] = source[t1++];\n        if (s > stop)\n          break;\n        out[s++] = source[t2++];\n      }\n    }\n    function decodeRunLength(source) {\n      var size = source.byteLength;\n      var out = new Array();\n      var p = 0;\n      var reader = new DataView(source);\n      while (size > 0) {\n        var l = reader.getInt8(p++);\n        if (l < 0) {\n          var count = -l;\n          size -= count + 1;\n          for (var i = 0; i < count; i++) {\n            out.push(reader.getUint8(p++));\n          }\n        } else {\n          var count = l;\n          size -= 2;\n          var value = reader.getUint8(p++);\n          for (var i = 0; i < count + 1; i++) {\n            out.push(value);\n          }\n        }\n      }\n      return out;\n    }\n    function lossyDctDecode(cscSet, rowPtrs, channelData, acBuffer, dcBuffer, outBuffer) {\n      var dataView = new DataView(outBuffer.buffer);\n      var width = channelData[cscSet.idx[0]].width;\n      var height = channelData[cscSet.idx[0]].height;\n      var numComp = 3;\n      var numFullBlocksX = Math.floor(width / 8);\n      var numBlocksX = Math.ceil(width / 8);\n      var numBlocksY = Math.ceil(height / 8);\n      var leftoverX = width - (numBlocksX - 1) * 8;\n      var leftoverY = height - (numBlocksY - 1) * 8;\n      var currAcComp = { value: 0 };\n      var currDcComp = new Array(numComp);\n      var dctData = new Array(numComp);\n      var halfZigBlock = new Array(numComp);\n      var rowBlock = new Array(numComp);\n      var rowOffsets = new Array(numComp);\n      for (let comp2 = 0; comp2 < numComp; ++comp2) {\n        rowOffsets[comp2] = rowPtrs[cscSet.idx[comp2]];\n        currDcComp[comp2] = comp2 < 1 ? 0 : currDcComp[comp2 - 1] + numBlocksX * numBlocksY;\n        dctData[comp2] = new Float32Array(64);\n        halfZigBlock[comp2] = new Uint16Array(64);\n        rowBlock[comp2] = new Uint16Array(numBlocksX * 64);\n      }\n      for (let blocky = 0; blocky < numBlocksY; ++blocky) {\n        var maxY = 8;\n        if (blocky == numBlocksY - 1)\n          maxY = leftoverY;\n        var maxX = 8;\n        for (let blockx = 0; blockx < numBlocksX; ++blockx) {\n          if (blockx == numBlocksX - 1)\n            maxX = leftoverX;\n          for (let comp2 = 0; comp2 < numComp; ++comp2) {\n            halfZigBlock[comp2].fill(0);\n            halfZigBlock[comp2][0] = dcBuffer[currDcComp[comp2]++];\n            unRleAC(currAcComp, acBuffer, halfZigBlock[comp2]);\n            unZigZag(halfZigBlock[comp2], dctData[comp2]);\n            dctInverse(dctData[comp2]);\n          }\n          if (numComp == 3) {\n            csc709Inverse(dctData);\n          }\n          for (let comp2 = 0; comp2 < numComp; ++comp2) {\n            convertToHalf(dctData[comp2], rowBlock[comp2], blockx * 64);\n          }\n        }\n        let offset2 = 0;\n        for (let comp2 = 0; comp2 < numComp; ++comp2) {\n          const type2 = channelData[cscSet.idx[comp2]].type;\n          for (let y2 = 8 * blocky; y2 < 8 * blocky + maxY; ++y2) {\n            offset2 = rowOffsets[comp2][y2];\n            for (let blockx = 0; blockx < numFullBlocksX; ++blockx) {\n              const src = blockx * 64 + (y2 & 7) * 8;\n              dataView.setUint16(offset2 + 0 * INT16_SIZE * type2, rowBlock[comp2][src + 0], true);\n              dataView.setUint16(offset2 + 1 * INT16_SIZE * type2, rowBlock[comp2][src + 1], true);\n              dataView.setUint16(offset2 + 2 * INT16_SIZE * type2, rowBlock[comp2][src + 2], true);\n              dataView.setUint16(offset2 + 3 * INT16_SIZE * type2, rowBlock[comp2][src + 3], true);\n              dataView.setUint16(offset2 + 4 * INT16_SIZE * type2, rowBlock[comp2][src + 4], true);\n              dataView.setUint16(offset2 + 5 * INT16_SIZE * type2, rowBlock[comp2][src + 5], true);\n              dataView.setUint16(offset2 + 6 * INT16_SIZE * type2, rowBlock[comp2][src + 6], true);\n              dataView.setUint16(offset2 + 7 * INT16_SIZE * type2, rowBlock[comp2][src + 7], true);\n              offset2 += 8 * INT16_SIZE * type2;\n            }\n          }\n          if (numFullBlocksX != numBlocksX) {\n            for (let y2 = 8 * blocky; y2 < 8 * blocky + maxY; ++y2) {\n              const offset3 = rowOffsets[comp2][y2] + 8 * numFullBlocksX * INT16_SIZE * type2;\n              const src = numFullBlocksX * 64 + (y2 & 7) * 8;\n              for (let x2 = 0; x2 < maxX; ++x2) {\n                dataView.setUint16(offset3 + x2 * INT16_SIZE * type2, rowBlock[comp2][src + x2], true);\n              }\n            }\n          }\n        }\n      }\n      var halfRow = new Uint16Array(width);\n      var dataView = new DataView(outBuffer.buffer);\n      for (var comp = 0; comp < numComp; ++comp) {\n        channelData[cscSet.idx[comp]].decoded = true;\n        var type = channelData[cscSet.idx[comp]].type;\n        if (channelData[comp].type != 2)\n          continue;\n        for (var y = 0; y < height; ++y) {\n          const offset2 = rowOffsets[comp][y];\n          for (var x = 0; x < width; ++x) {\n            halfRow[x] = dataView.getUint16(offset2 + x * INT16_SIZE * type, true);\n          }\n          for (var x = 0; x < width; ++x) {\n            dataView.setFloat32(offset2 + x * INT16_SIZE * type, decodeFloat16(halfRow[x]), true);\n          }\n        }\n      }\n    }\n    function unRleAC(currAcComp, acBuffer, halfZigBlock) {\n      var acValue;\n      var dctComp = 1;\n      while (dctComp < 64) {\n        acValue = acBuffer[currAcComp.value];\n        if (acValue == 65280) {\n          dctComp = 64;\n        } else if (acValue >> 8 == 255) {\n          dctComp += acValue & 255;\n        } else {\n          halfZigBlock[dctComp] = acValue;\n          dctComp++;\n        }\n        currAcComp.value++;\n      }\n    }\n    function unZigZag(src, dst) {\n      dst[0] = decodeFloat16(src[0]);\n      dst[1] = decodeFloat16(src[1]);\n      dst[2] = decodeFloat16(src[5]);\n      dst[3] = decodeFloat16(src[6]);\n      dst[4] = decodeFloat16(src[14]);\n      dst[5] = decodeFloat16(src[15]);\n      dst[6] = decodeFloat16(src[27]);\n      dst[7] = decodeFloat16(src[28]);\n      dst[8] = decodeFloat16(src[2]);\n      dst[9] = decodeFloat16(src[4]);\n      dst[10] = decodeFloat16(src[7]);\n      dst[11] = decodeFloat16(src[13]);\n      dst[12] = decodeFloat16(src[16]);\n      dst[13] = decodeFloat16(src[26]);\n      dst[14] = decodeFloat16(src[29]);\n      dst[15] = decodeFloat16(src[42]);\n      dst[16] = decodeFloat16(src[3]);\n      dst[17] = decodeFloat16(src[8]);\n      dst[18] = decodeFloat16(src[12]);\n      dst[19] = decodeFloat16(src[17]);\n      dst[20] = decodeFloat16(src[25]);\n      dst[21] = decodeFloat16(src[30]);\n      dst[22] = decodeFloat16(src[41]);\n      dst[23] = decodeFloat16(src[43]);\n      dst[24] = decodeFloat16(src[9]);\n      dst[25] = decodeFloat16(src[11]);\n      dst[26] = decodeFloat16(src[18]);\n      dst[27] = decodeFloat16(src[24]);\n      dst[28] = decodeFloat16(src[31]);\n      dst[29] = decodeFloat16(src[40]);\n      dst[30] = decodeFloat16(src[44]);\n      dst[31] = decodeFloat16(src[53]);\n      dst[32] = decodeFloat16(src[10]);\n      dst[33] = decodeFloat16(src[19]);\n      dst[34] = decodeFloat16(src[23]);\n      dst[35] = decodeFloat16(src[32]);\n      dst[36] = decodeFloat16(src[39]);\n      dst[37] = decodeFloat16(src[45]);\n      dst[38] = decodeFloat16(src[52]);\n      dst[39] = decodeFloat16(src[54]);\n      dst[40] = decodeFloat16(src[20]);\n      dst[41] = decodeFloat16(src[22]);\n      dst[42] = decodeFloat16(src[33]);\n      dst[43] = decodeFloat16(src[38]);\n      dst[44] = decodeFloat16(src[46]);\n      dst[45] = decodeFloat16(src[51]);\n      dst[46] = decodeFloat16(src[55]);\n      dst[47] = decodeFloat16(src[60]);\n      dst[48] = decodeFloat16(src[21]);\n      dst[49] = decodeFloat16(src[34]);\n      dst[50] = decodeFloat16(src[37]);\n      dst[51] = decodeFloat16(src[47]);\n      dst[52] = decodeFloat16(src[50]);\n      dst[53] = decodeFloat16(src[56]);\n      dst[54] = decodeFloat16(src[59]);\n      dst[55] = decodeFloat16(src[61]);\n      dst[56] = decodeFloat16(src[35]);\n      dst[57] = decodeFloat16(src[36]);\n      dst[58] = decodeFloat16(src[48]);\n      dst[59] = decodeFloat16(src[49]);\n      dst[60] = decodeFloat16(src[57]);\n      dst[61] = decodeFloat16(src[58]);\n      dst[62] = decodeFloat16(src[62]);\n      dst[63] = decodeFloat16(src[63]);\n    }\n    function dctInverse(data) {\n      const a = 0.5 * Math.cos(3.14159 / 4);\n      const b = 0.5 * Math.cos(3.14159 / 16);\n      const c = 0.5 * Math.cos(3.14159 / 8);\n      const d = 0.5 * Math.cos(3 * 3.14159 / 16);\n      const e = 0.5 * Math.cos(5 * 3.14159 / 16);\n      const f = 0.5 * Math.cos(3 * 3.14159 / 8);\n      const g = 0.5 * Math.cos(7 * 3.14159 / 16);\n      var alpha = new Array(4);\n      var beta = new Array(4);\n      var theta = new Array(4);\n      var gamma = new Array(4);\n      for (var row = 0; row < 8; ++row) {\n        var rowPtr = row * 8;\n        alpha[0] = c * data[rowPtr + 2];\n        alpha[1] = f * data[rowPtr + 2];\n        alpha[2] = c * data[rowPtr + 6];\n        alpha[3] = f * data[rowPtr + 6];\n        beta[0] = b * data[rowPtr + 1] + d * data[rowPtr + 3] + e * data[rowPtr + 5] + g * data[rowPtr + 7];\n        beta[1] = d * data[rowPtr + 1] - g * data[rowPtr + 3] - b * data[rowPtr + 5] - e * data[rowPtr + 7];\n        beta[2] = e * data[rowPtr + 1] - b * data[rowPtr + 3] + g * data[rowPtr + 5] + d * data[rowPtr + 7];\n        beta[3] = g * data[rowPtr + 1] - e * data[rowPtr + 3] + d * data[rowPtr + 5] - b * data[rowPtr + 7];\n        theta[0] = a * (data[rowPtr + 0] + data[rowPtr + 4]);\n        theta[3] = a * (data[rowPtr + 0] - data[rowPtr + 4]);\n        theta[1] = alpha[0] + alpha[3];\n        theta[2] = alpha[1] - alpha[2];\n        gamma[0] = theta[0] + theta[1];\n        gamma[1] = theta[3] + theta[2];\n        gamma[2] = theta[3] - theta[2];\n        gamma[3] = theta[0] - theta[1];\n        data[rowPtr + 0] = gamma[0] + beta[0];\n        data[rowPtr + 1] = gamma[1] + beta[1];\n        data[rowPtr + 2] = gamma[2] + beta[2];\n        data[rowPtr + 3] = gamma[3] + beta[3];\n        data[rowPtr + 4] = gamma[3] - beta[3];\n        data[rowPtr + 5] = gamma[2] - beta[2];\n        data[rowPtr + 6] = gamma[1] - beta[1];\n        data[rowPtr + 7] = gamma[0] - beta[0];\n      }\n      for (var column = 0; column < 8; ++column) {\n        alpha[0] = c * data[16 + column];\n        alpha[1] = f * data[16 + column];\n        alpha[2] = c * data[48 + column];\n        alpha[3] = f * data[48 + column];\n        beta[0] = b * data[8 + column] + d * data[24 + column] + e * data[40 + column] + g * data[56 + column];\n        beta[1] = d * data[8 + column] - g * data[24 + column] - b * data[40 + column] - e * data[56 + column];\n        beta[2] = e * data[8 + column] - b * data[24 + column] + g * data[40 + column] + d * data[56 + column];\n        beta[3] = g * data[8 + column] - e * data[24 + column] + d * data[40 + column] - b * data[56 + column];\n        theta[0] = a * (data[column] + data[32 + column]);\n        theta[3] = a * (data[column] - data[32 + column]);\n        theta[1] = alpha[0] + alpha[3];\n        theta[2] = alpha[1] - alpha[2];\n        gamma[0] = theta[0] + theta[1];\n        gamma[1] = theta[3] + theta[2];\n        gamma[2] = theta[3] - theta[2];\n        gamma[3] = theta[0] - theta[1];\n        data[0 + column] = gamma[0] + beta[0];\n        data[8 + column] = gamma[1] + beta[1];\n        data[16 + column] = gamma[2] + beta[2];\n        data[24 + column] = gamma[3] + beta[3];\n        data[32 + column] = gamma[3] - beta[3];\n        data[40 + column] = gamma[2] - beta[2];\n        data[48 + column] = gamma[1] - beta[1];\n        data[56 + column] = gamma[0] - beta[0];\n      }\n    }\n    function csc709Inverse(data) {\n      for (var i = 0; i < 64; ++i) {\n        var y = data[0][i];\n        var cb = data[1][i];\n        var cr = data[2][i];\n        data[0][i] = y + 1.5747 * cr;\n        data[1][i] = y - 0.1873 * cb - 0.4682 * cr;\n        data[2][i] = y + 1.8556 * cb;\n      }\n    }\n    function convertToHalf(src, dst, idx) {\n      for (var i = 0; i < 64; ++i) {\n        dst[idx + i] = DataUtils.toHalfFloat(toLinear(src[i]));\n      }\n    }\n    function toLinear(float) {\n      if (float <= 1) {\n        return Math.sign(float) * Math.pow(Math.abs(float), 2.2);\n      } else {\n        return Math.sign(float) * Math.pow(logBase, Math.abs(float) - 1);\n      }\n    }\n    function uncompressRAW(info) {\n      return new DataView(info.array.buffer, info.offset.value, info.size);\n    }\n    function uncompressRLE(info) {\n      var compressed = info.viewer.buffer.slice(info.offset.value, info.offset.value + info.size);\n      var rawBuffer = new Uint8Array(decodeRunLength(compressed));\n      var tmpBuffer = new Uint8Array(rawBuffer.length);\n      predictor(rawBuffer);\n      interleaveScalar(rawBuffer, tmpBuffer);\n      return new DataView(tmpBuffer.buffer);\n    }\n    function uncompressZIP(info) {\n      var compressed = info.array.slice(info.offset.value, info.offset.value + info.size);\n      var rawBuffer = unzlibSync(compressed);\n      var tmpBuffer = new Uint8Array(rawBuffer.length);\n      predictor(rawBuffer);\n      interleaveScalar(rawBuffer, tmpBuffer);\n      return new DataView(tmpBuffer.buffer);\n    }\n    function uncompressPIZ(info) {\n      var inDataView = info.viewer;\n      var inOffset = { value: info.offset.value };\n      var outBuffer = new Uint16Array(info.width * info.scanlineBlockSize * (info.channels * info.type));\n      var bitmap = new Uint8Array(BITMAP_SIZE);\n      var outBufferEnd = 0;\n      var pizChannelData = new Array(info.channels);\n      for (var i = 0; i < info.channels; i++) {\n        pizChannelData[i] = {};\n        pizChannelData[i][\"start\"] = outBufferEnd;\n        pizChannelData[i][\"end\"] = pizChannelData[i][\"start\"];\n        pizChannelData[i][\"nx\"] = info.width;\n        pizChannelData[i][\"ny\"] = info.lines;\n        pizChannelData[i][\"size\"] = info.type;\n        outBufferEnd += pizChannelData[i].nx * pizChannelData[i].ny * pizChannelData[i].size;\n      }\n      var minNonZero = parseUint16(inDataView, inOffset);\n      var maxNonZero = parseUint16(inDataView, inOffset);\n      if (maxNonZero >= BITMAP_SIZE) {\n        throw \"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE\";\n      }\n      if (minNonZero <= maxNonZero) {\n        for (var i = 0; i < maxNonZero - minNonZero + 1; i++) {\n          bitmap[i + minNonZero] = parseUint8(inDataView, inOffset);\n        }\n      }\n      var lut = new Uint16Array(USHORT_RANGE);\n      var maxValue = reverseLutFromBitmap(bitmap, lut);\n      var length = parseUint32(inDataView, inOffset);\n      hufUncompress(info.array, inDataView, inOffset, length, outBuffer, outBufferEnd);\n      for (var i = 0; i < info.channels; ++i) {\n        var cd = pizChannelData[i];\n        for (var j = 0; j < pizChannelData[i].size; ++j) {\n          wav2Decode(outBuffer, cd.start + j, cd.nx, cd.size, cd.ny, cd.nx * cd.size, maxValue);\n        }\n      }\n      applyLut(lut, outBuffer, outBufferEnd);\n      var tmpOffset2 = 0;\n      var tmpBuffer = new Uint8Array(outBuffer.buffer.byteLength);\n      for (var y = 0; y < info.lines; y++) {\n        for (var c = 0; c < info.channels; c++) {\n          var cd = pizChannelData[c];\n          var n = cd.nx * cd.size;\n          var cp = new Uint8Array(outBuffer.buffer, cd.end * INT16_SIZE, n * INT16_SIZE);\n          tmpBuffer.set(cp, tmpOffset2);\n          tmpOffset2 += n * INT16_SIZE;\n          cd.end += n;\n        }\n      }\n      return new DataView(tmpBuffer.buffer);\n    }\n    function uncompressPXR(info) {\n      var compressed = info.array.slice(info.offset.value, info.offset.value + info.size);\n      var rawBuffer = unzlibSync(compressed);\n      const sz = info.lines * info.channels * info.width;\n      const tmpBuffer = info.type == 1 ? new Uint16Array(sz) : new Uint32Array(sz);\n      let tmpBufferEnd = 0;\n      let writePtr = 0;\n      const ptr = new Array(4);\n      for (let y = 0; y < info.lines; y++) {\n        for (let c = 0; c < info.channels; c++) {\n          let pixel = 0;\n          switch (info.type) {\n            case 1:\n              ptr[0] = tmpBufferEnd;\n              ptr[1] = ptr[0] + info.width;\n              tmpBufferEnd = ptr[1] + info.width;\n              for (let j = 0; j < info.width; ++j) {\n                const diff = rawBuffer[ptr[0]++] << 8 | rawBuffer[ptr[1]++];\n                pixel += diff;\n                tmpBuffer[writePtr] = pixel;\n                writePtr++;\n              }\n              break;\n            case 2:\n              ptr[0] = tmpBufferEnd;\n              ptr[1] = ptr[0] + info.width;\n              ptr[2] = ptr[1] + info.width;\n              tmpBufferEnd = ptr[2] + info.width;\n              for (let j = 0; j < info.width; ++j) {\n                const diff = rawBuffer[ptr[0]++] << 24 | rawBuffer[ptr[1]++] << 16 | rawBuffer[ptr[2]++] << 8;\n                pixel += diff;\n                tmpBuffer[writePtr] = pixel;\n                writePtr++;\n              }\n              break;\n          }\n        }\n      }\n      return new DataView(tmpBuffer.buffer);\n    }\n    function uncompressDWA(info) {\n      var inDataView = info.viewer;\n      var inOffset = { value: info.offset.value };\n      var outBuffer = new Uint8Array(info.width * info.lines * (info.channels * info.type * INT16_SIZE));\n      var dwaHeader = {\n        version: parseInt64(inDataView, inOffset),\n        unknownUncompressedSize: parseInt64(inDataView, inOffset),\n        unknownCompressedSize: parseInt64(inDataView, inOffset),\n        acCompressedSize: parseInt64(inDataView, inOffset),\n        dcCompressedSize: parseInt64(inDataView, inOffset),\n        rleCompressedSize: parseInt64(inDataView, inOffset),\n        rleUncompressedSize: parseInt64(inDataView, inOffset),\n        rleRawSize: parseInt64(inDataView, inOffset),\n        totalAcUncompressedCount: parseInt64(inDataView, inOffset),\n        totalDcUncompressedCount: parseInt64(inDataView, inOffset),\n        acCompression: parseInt64(inDataView, inOffset)\n      };\n      if (dwaHeader.version < 2) {\n        throw \"EXRLoader.parse: \" + EXRHeader.compression + \" version \" + dwaHeader.version + \" is unsupported\";\n      }\n      var channelRules = new Array();\n      var ruleSize = parseUint16(inDataView, inOffset) - INT16_SIZE;\n      while (ruleSize > 0) {\n        var name = parseNullTerminatedString(inDataView.buffer, inOffset);\n        var value = parseUint8(inDataView, inOffset);\n        var compression = value >> 2 & 3;\n        var csc = (value >> 4) - 1;\n        var index = new Int8Array([csc])[0];\n        var type = parseUint8(inDataView, inOffset);\n        channelRules.push({\n          name,\n          index,\n          type,\n          compression\n        });\n        ruleSize -= name.length + 3;\n      }\n      var channels = EXRHeader.channels;\n      var channelData = new Array(info.channels);\n      for (var i = 0; i < info.channels; ++i) {\n        var cd = channelData[i] = {};\n        var channel = channels[i];\n        cd.name = channel.name;\n        cd.compression = UNKNOWN;\n        cd.decoded = false;\n        cd.type = channel.pixelType;\n        cd.pLinear = channel.pLinear;\n        cd.width = info.width;\n        cd.height = info.lines;\n      }\n      var cscSet = {\n        idx: new Array(3)\n      };\n      for (var offset2 = 0; offset2 < info.channels; ++offset2) {\n        var cd = channelData[offset2];\n        for (var i = 0; i < channelRules.length; ++i) {\n          var rule = channelRules[i];\n          if (cd.name == rule.name) {\n            cd.compression = rule.compression;\n            if (rule.index >= 0) {\n              cscSet.idx[rule.index] = offset2;\n            }\n            cd.offset = offset2;\n          }\n        }\n      }\n      if (dwaHeader.acCompressedSize > 0) {\n        switch (dwaHeader.acCompression) {\n          case STATIC_HUFFMAN:\n            var acBuffer = new Uint16Array(dwaHeader.totalAcUncompressedCount);\n            hufUncompress(\n              info.array,\n              inDataView,\n              inOffset,\n              dwaHeader.acCompressedSize,\n              acBuffer,\n              dwaHeader.totalAcUncompressedCount\n            );\n            break;\n          case DEFLATE:\n            var compressed = info.array.slice(inOffset.value, inOffset.value + dwaHeader.totalAcUncompressedCount);\n            var data = unzlibSync(compressed);\n            var acBuffer = new Uint16Array(data.buffer);\n            inOffset.value += dwaHeader.totalAcUncompressedCount;\n            break;\n        }\n      }\n      if (dwaHeader.dcCompressedSize > 0) {\n        var zlibInfo = {\n          array: info.array,\n          offset: inOffset,\n          size: dwaHeader.dcCompressedSize\n        };\n        var dcBuffer = new Uint16Array(uncompressZIP(zlibInfo).buffer);\n        inOffset.value += dwaHeader.dcCompressedSize;\n      }\n      if (dwaHeader.rleRawSize > 0) {\n        var compressed = info.array.slice(inOffset.value, inOffset.value + dwaHeader.rleCompressedSize);\n        var data = unzlibSync(compressed);\n        var rleBuffer = decodeRunLength(data.buffer);\n        inOffset.value += dwaHeader.rleCompressedSize;\n      }\n      var outBufferEnd = 0;\n      var rowOffsets = new Array(channelData.length);\n      for (var i = 0; i < rowOffsets.length; ++i) {\n        rowOffsets[i] = new Array();\n      }\n      for (var y = 0; y < info.lines; ++y) {\n        for (var chan = 0; chan < channelData.length; ++chan) {\n          rowOffsets[chan].push(outBufferEnd);\n          outBufferEnd += channelData[chan].width * info.type * INT16_SIZE;\n        }\n      }\n      lossyDctDecode(cscSet, rowOffsets, channelData, acBuffer, dcBuffer, outBuffer);\n      for (var i = 0; i < channelData.length; ++i) {\n        var cd = channelData[i];\n        if (cd.decoded)\n          continue;\n        switch (cd.compression) {\n          case RLE:\n            var row = 0;\n            var rleOffset = 0;\n            for (var y = 0; y < info.lines; ++y) {\n              var rowOffsetBytes = rowOffsets[i][row];\n              for (var x = 0; x < cd.width; ++x) {\n                for (var byte = 0; byte < INT16_SIZE * cd.type; ++byte) {\n                  outBuffer[rowOffsetBytes++] = rleBuffer[rleOffset + byte * cd.width * cd.height];\n                }\n                rleOffset++;\n              }\n              row++;\n            }\n            break;\n          case LOSSY_DCT:\n          default:\n            throw \"EXRLoader.parse: unsupported channel compression\";\n        }\n      }\n      return new DataView(outBuffer.buffer);\n    }\n    function parseNullTerminatedString(buffer2, offset2) {\n      var uintBuffer = new Uint8Array(buffer2);\n      var endOffset = 0;\n      while (uintBuffer[offset2.value + endOffset] != 0) {\n        endOffset += 1;\n      }\n      var stringValue = new TextDecoder().decode(uintBuffer.slice(offset2.value, offset2.value + endOffset));\n      offset2.value = offset2.value + endOffset + 1;\n      return stringValue;\n    }\n    function parseFixedLengthString(buffer2, offset2, size) {\n      var stringValue = new TextDecoder().decode(new Uint8Array(buffer2).slice(offset2.value, offset2.value + size));\n      offset2.value = offset2.value + size;\n      return stringValue;\n    }\n    function parseRational(dataView, offset2) {\n      var x = parseInt32(dataView, offset2);\n      var y = parseUint32(dataView, offset2);\n      return [x, y];\n    }\n    function parseTimecode(dataView, offset2) {\n      var x = parseUint32(dataView, offset2);\n      var y = parseUint32(dataView, offset2);\n      return [x, y];\n    }\n    function parseInt32(dataView, offset2) {\n      var Int32 = dataView.getInt32(offset2.value, true);\n      offset2.value = offset2.value + INT32_SIZE;\n      return Int32;\n    }\n    function parseUint32(dataView, offset2) {\n      var Uint32 = dataView.getUint32(offset2.value, true);\n      offset2.value = offset2.value + INT32_SIZE;\n      return Uint32;\n    }\n    function parseUint8Array(uInt8Array2, offset2) {\n      var Uint8 = uInt8Array2[offset2.value];\n      offset2.value = offset2.value + INT8_SIZE;\n      return Uint8;\n    }\n    function parseUint8(dataView, offset2) {\n      var Uint8 = dataView.getUint8(offset2.value);\n      offset2.value = offset2.value + INT8_SIZE;\n      return Uint8;\n    }\n    const parseInt64 = function(dataView, offset2) {\n      let int;\n      if (\"getBigInt64\" in DataView.prototype) {\n        int = Number(dataView.getBigInt64(offset2.value, true));\n      } else {\n        int = dataView.getUint32(offset2.value + 4, true) + Number(dataView.getUint32(offset2.value, true) << 32);\n      }\n      offset2.value += ULONG_SIZE;\n      return int;\n    };\n    function parseFloat32(dataView, offset2) {\n      var float = dataView.getFloat32(offset2.value, true);\n      offset2.value += FLOAT32_SIZE;\n      return float;\n    }\n    function decodeFloat32(dataView, offset2) {\n      return DataUtils.toHalfFloat(parseFloat32(dataView, offset2));\n    }\n    function decodeFloat16(binary) {\n      var exponent = (binary & 31744) >> 10, fraction = binary & 1023;\n      return (binary >> 15 ? -1 : 1) * (exponent ? exponent === 31 ? fraction ? NaN : Infinity : Math.pow(2, exponent - 15) * (1 + fraction / 1024) : 6103515625e-14 * (fraction / 1024));\n    }\n    function parseUint16(dataView, offset2) {\n      var Uint16 = dataView.getUint16(offset2.value, true);\n      offset2.value += INT16_SIZE;\n      return Uint16;\n    }\n    function parseFloat16(buffer2, offset2) {\n      return decodeFloat16(parseUint16(buffer2, offset2));\n    }\n    function parseChlist(dataView, buffer2, offset2, size) {\n      var startOffset = offset2.value;\n      var channels = [];\n      while (offset2.value < startOffset + size - 1) {\n        var name = parseNullTerminatedString(buffer2, offset2);\n        var pixelType = parseInt32(dataView, offset2);\n        var pLinear = parseUint8(dataView, offset2);\n        offset2.value += 3;\n        var xSampling = parseInt32(dataView, offset2);\n        var ySampling = parseInt32(dataView, offset2);\n        channels.push({\n          name,\n          pixelType,\n          pLinear,\n          xSampling,\n          ySampling\n        });\n      }\n      offset2.value += 1;\n      return channels;\n    }\n    function parseChromaticities(dataView, offset2) {\n      var redX = parseFloat32(dataView, offset2);\n      var redY = parseFloat32(dataView, offset2);\n      var greenX = parseFloat32(dataView, offset2);\n      var greenY = parseFloat32(dataView, offset2);\n      var blueX = parseFloat32(dataView, offset2);\n      var blueY = parseFloat32(dataView, offset2);\n      var whiteX = parseFloat32(dataView, offset2);\n      var whiteY = parseFloat32(dataView, offset2);\n      return {\n        redX,\n        redY,\n        greenX,\n        greenY,\n        blueX,\n        blueY,\n        whiteX,\n        whiteY\n      };\n    }\n    function parseCompression(dataView, offset2) {\n      var compressionCodes = [\n        \"NO_COMPRESSION\",\n        \"RLE_COMPRESSION\",\n        \"ZIPS_COMPRESSION\",\n        \"ZIP_COMPRESSION\",\n        \"PIZ_COMPRESSION\",\n        \"PXR24_COMPRESSION\",\n        \"B44_COMPRESSION\",\n        \"B44A_COMPRESSION\",\n        \"DWAA_COMPRESSION\",\n        \"DWAB_COMPRESSION\"\n      ];\n      var compression = parseUint8(dataView, offset2);\n      return compressionCodes[compression];\n    }\n    function parseBox2i(dataView, offset2) {\n      var xMin = parseUint32(dataView, offset2);\n      var yMin = parseUint32(dataView, offset2);\n      var xMax = parseUint32(dataView, offset2);\n      var yMax = parseUint32(dataView, offset2);\n      return { xMin, yMin, xMax, yMax };\n    }\n    function parseLineOrder(dataView, offset2) {\n      var lineOrders = [\"INCREASING_Y\"];\n      var lineOrder = parseUint8(dataView, offset2);\n      return lineOrders[lineOrder];\n    }\n    function parseV2f(dataView, offset2) {\n      var x = parseFloat32(dataView, offset2);\n      var y = parseFloat32(dataView, offset2);\n      return [x, y];\n    }\n    function parseV3f(dataView, offset2) {\n      var x = parseFloat32(dataView, offset2);\n      var y = parseFloat32(dataView, offset2);\n      var z = parseFloat32(dataView, offset2);\n      return [x, y, z];\n    }\n    function parseValue(dataView, buffer2, offset2, type, size) {\n      if (type === \"string\" || type === \"stringvector\" || type === \"iccProfile\") {\n        return parseFixedLengthString(buffer2, offset2, size);\n      } else if (type === \"chlist\") {\n        return parseChlist(dataView, buffer2, offset2, size);\n      } else if (type === \"chromaticities\") {\n        return parseChromaticities(dataView, offset2);\n      } else if (type === \"compression\") {\n        return parseCompression(dataView, offset2);\n      } else if (type === \"box2i\") {\n        return parseBox2i(dataView, offset2);\n      } else if (type === \"lineOrder\") {\n        return parseLineOrder(dataView, offset2);\n      } else if (type === \"float\") {\n        return parseFloat32(dataView, offset2);\n      } else if (type === \"v2f\") {\n        return parseV2f(dataView, offset2);\n      } else if (type === \"v3f\") {\n        return parseV3f(dataView, offset2);\n      } else if (type === \"int\") {\n        return parseInt32(dataView, offset2);\n      } else if (type === \"rational\") {\n        return parseRational(dataView, offset2);\n      } else if (type === \"timecode\") {\n        return parseTimecode(dataView, offset2);\n      } else if (type === \"preview\") {\n        offset2.value += size;\n        return \"skipped\";\n      } else {\n        offset2.value += size;\n        return void 0;\n      }\n    }\n    function parseHeader(dataView, buffer2, offset2) {\n      const EXRHeader2 = {};\n      if (dataView.getUint32(0, true) != 20000630) {\n        throw \"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.\";\n      }\n      EXRHeader2.version = dataView.getUint8(4);\n      const spec = dataView.getUint8(5);\n      EXRHeader2.spec = {\n        singleTile: !!(spec & 2),\n        longName: !!(spec & 4),\n        deepFormat: !!(spec & 8),\n        multiPart: !!(spec & 16)\n      };\n      offset2.value = 8;\n      var keepReading = true;\n      while (keepReading) {\n        var attributeName = parseNullTerminatedString(buffer2, offset2);\n        if (attributeName == 0) {\n          keepReading = false;\n        } else {\n          var attributeType = parseNullTerminatedString(buffer2, offset2);\n          var attributeSize = parseUint32(dataView, offset2);\n          var attributeValue = parseValue(dataView, buffer2, offset2, attributeType, attributeSize);\n          if (attributeValue === void 0) {\n            console.warn(`EXRLoader.parse: skipped unknown header attribute type '${attributeType}'.`);\n          } else {\n            EXRHeader2[attributeName] = attributeValue;\n          }\n        }\n      }\n      if (spec != 0) {\n        console.error(\"EXRHeader:\", EXRHeader2);\n        throw \"THREE.EXRLoader: provided file is currently unsupported.\";\n      }\n      return EXRHeader2;\n    }\n    function setupDecoder(EXRHeader2, dataView, uInt8Array2, offset2, outputType) {\n      const EXRDecoder2 = {\n        size: 0,\n        viewer: dataView,\n        array: uInt8Array2,\n        offset: offset2,\n        width: EXRHeader2.dataWindow.xMax - EXRHeader2.dataWindow.xMin + 1,\n        height: EXRHeader2.dataWindow.yMax - EXRHeader2.dataWindow.yMin + 1,\n        channels: EXRHeader2.channels.length,\n        bytesPerLine: null,\n        lines: null,\n        inputSize: null,\n        type: EXRHeader2.channels[0].pixelType,\n        uncompress: null,\n        getter: null,\n        format: null,\n        [hasColorSpace ? \"colorSpace\" : \"encoding\"]: null\n      };\n      switch (EXRHeader2.compression) {\n        case \"NO_COMPRESSION\":\n          EXRDecoder2.lines = 1;\n          EXRDecoder2.uncompress = uncompressRAW;\n          break;\n        case \"RLE_COMPRESSION\":\n          EXRDecoder2.lines = 1;\n          EXRDecoder2.uncompress = uncompressRLE;\n          break;\n        case \"ZIPS_COMPRESSION\":\n          EXRDecoder2.lines = 1;\n          EXRDecoder2.uncompress = uncompressZIP;\n          break;\n        case \"ZIP_COMPRESSION\":\n          EXRDecoder2.lines = 16;\n          EXRDecoder2.uncompress = uncompressZIP;\n          break;\n        case \"PIZ_COMPRESSION\":\n          EXRDecoder2.lines = 32;\n          EXRDecoder2.uncompress = uncompressPIZ;\n          break;\n        case \"PXR24_COMPRESSION\":\n          EXRDecoder2.lines = 16;\n          EXRDecoder2.uncompress = uncompressPXR;\n          break;\n        case \"DWAA_COMPRESSION\":\n          EXRDecoder2.lines = 32;\n          EXRDecoder2.uncompress = uncompressDWA;\n          break;\n        case \"DWAB_COMPRESSION\":\n          EXRDecoder2.lines = 256;\n          EXRDecoder2.uncompress = uncompressDWA;\n          break;\n        default:\n          throw \"EXRLoader.parse: \" + EXRHeader2.compression + \" is unsupported\";\n      }\n      EXRDecoder2.scanlineBlockSize = EXRDecoder2.lines;\n      if (EXRDecoder2.type == 1) {\n        switch (outputType) {\n          case FloatType:\n            EXRDecoder2.getter = parseFloat16;\n            EXRDecoder2.inputSize = INT16_SIZE;\n            break;\n          case HalfFloatType:\n            EXRDecoder2.getter = parseUint16;\n            EXRDecoder2.inputSize = INT16_SIZE;\n            break;\n        }\n      } else if (EXRDecoder2.type == 2) {\n        switch (outputType) {\n          case FloatType:\n            EXRDecoder2.getter = parseFloat32;\n            EXRDecoder2.inputSize = FLOAT32_SIZE;\n            break;\n          case HalfFloatType:\n            EXRDecoder2.getter = decodeFloat32;\n            EXRDecoder2.inputSize = FLOAT32_SIZE;\n        }\n      } else {\n        throw \"EXRLoader.parse: unsupported pixelType \" + EXRDecoder2.type + \" for \" + EXRHeader2.compression + \".\";\n      }\n      EXRDecoder2.blockCount = (EXRHeader2.dataWindow.yMax + 1) / EXRDecoder2.scanlineBlockSize;\n      for (var i = 0; i < EXRDecoder2.blockCount; i++)\n        parseInt64(dataView, offset2);\n      EXRDecoder2.outputChannels = EXRDecoder2.channels == 3 ? 4 : EXRDecoder2.channels;\n      const size = EXRDecoder2.width * EXRDecoder2.height * EXRDecoder2.outputChannels;\n      switch (outputType) {\n        case FloatType:\n          EXRDecoder2.byteArray = new Float32Array(size);\n          if (EXRDecoder2.channels < EXRDecoder2.outputChannels)\n            EXRDecoder2.byteArray.fill(1, 0, size);\n          break;\n        case HalfFloatType:\n          EXRDecoder2.byteArray = new Uint16Array(size);\n          if (EXRDecoder2.channels < EXRDecoder2.outputChannels)\n            EXRDecoder2.byteArray.fill(15360, 0, size);\n          break;\n        default:\n          console.error(\"THREE.EXRLoader: unsupported type: \", outputType);\n          break;\n      }\n      EXRDecoder2.bytesPerLine = EXRDecoder2.width * EXRDecoder2.inputSize * EXRDecoder2.channels;\n      if (EXRDecoder2.outputChannels == 4)\n        EXRDecoder2.format = RGBAFormat;\n      else\n        EXRDecoder2.format = RedFormat;\n      if (hasColorSpace)\n        EXRDecoder2.colorSpace = \"srgb-linear\";\n      else\n        EXRDecoder2.encoding = 3e3;\n      return EXRDecoder2;\n    }\n    const bufferDataView = new DataView(buffer);\n    const uInt8Array = new Uint8Array(buffer);\n    const offset = { value: 0 };\n    const EXRHeader = parseHeader(bufferDataView, buffer, offset);\n    const EXRDecoder = setupDecoder(EXRHeader, bufferDataView, uInt8Array, offset, this.type);\n    const tmpOffset = { value: 0 };\n    const channelOffsets = { R: 0, G: 1, B: 2, A: 3, Y: 0 };\n    for (let scanlineBlockIdx = 0; scanlineBlockIdx < EXRDecoder.height / EXRDecoder.scanlineBlockSize; scanlineBlockIdx++) {\n      const line = parseUint32(bufferDataView, offset);\n      EXRDecoder.size = parseUint32(bufferDataView, offset);\n      EXRDecoder.lines = line + EXRDecoder.scanlineBlockSize > EXRDecoder.height ? EXRDecoder.height - line : EXRDecoder.scanlineBlockSize;\n      const isCompressed = EXRDecoder.size < EXRDecoder.lines * EXRDecoder.bytesPerLine;\n      const viewer = isCompressed ? EXRDecoder.uncompress(EXRDecoder) : uncompressRAW(EXRDecoder);\n      offset.value += EXRDecoder.size;\n      for (let line_y = 0; line_y < EXRDecoder.scanlineBlockSize; line_y++) {\n        const true_y = line_y + scanlineBlockIdx * EXRDecoder.scanlineBlockSize;\n        if (true_y >= EXRDecoder.height)\n          break;\n        for (let channelID = 0; channelID < EXRDecoder.channels; channelID++) {\n          const cOff = channelOffsets[EXRHeader.channels[channelID].name];\n          for (let x = 0; x < EXRDecoder.width; x++) {\n            tmpOffset.value = (line_y * (EXRDecoder.channels * EXRDecoder.width) + channelID * EXRDecoder.width + x) * EXRDecoder.inputSize;\n            const outIndex = (EXRDecoder.height - 1 - true_y) * (EXRDecoder.width * EXRDecoder.outputChannels) + x * EXRDecoder.outputChannels + cOff;\n            EXRDecoder.byteArray[outIndex] = EXRDecoder.getter(viewer, tmpOffset);\n          }\n        }\n      }\n    }\n    return {\n      header: EXRHeader,\n      width: EXRDecoder.width,\n      height: EXRDecoder.height,\n      data: EXRDecoder.byteArray,\n      format: EXRDecoder.format,\n      [hasColorSpace ? \"colorSpace\" : \"encoding\"]: EXRDecoder[hasColorSpace ? \"colorSpace\" : \"encoding\"],\n      type: this.type\n    };\n  }\n  setDataType(value) {\n    this.type = value;\n    return this;\n  }\n  load(url, onLoad, onProgress, onError) {\n    function onLoadCallback(texture, texData) {\n      if (hasColorSpace)\n        texture.colorSpace = texData.colorSpace;\n      else\n        texture.encoding = texData.encoding;\n      texture.minFilter = LinearFilter;\n      texture.magFilter = LinearFilter;\n      texture.generateMipmaps = false;\n      texture.flipY = false;\n      if (onLoad)\n        onLoad(texture, texData);\n    }\n    return super.load(url, onLoadCallback, onProgress, onError);\n  }\n}\nexport {\n  EXRLoader\n};\n", "var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Loader, RGBAFormat, RGBA_ASTC_4x4_Format, RGBA_BPTC_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT5_Format, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, FileLoader, CompressedTexture, UnsignedByteType, LinearFilter, LinearMipmapLinearFilter } from \"three\";\nconst _taskCache = /* @__PURE__ */ new WeakMap();\nconst _BasisTextureLoader = class extends Loader {\n  constructor(manager) {\n    super(manager);\n    this.transcoderPath = \"\";\n    this.transcoderBinary = null;\n    this.transcoderPending = null;\n    this.workerLimit = 4;\n    this.workerPool = [];\n    this.workerNextTaskID = 1;\n    this.workerSourceURL = \"\";\n    this.workerConfig = null;\n  }\n  setTranscoderPath(path) {\n    this.transcoderPath = path;\n    return this;\n  }\n  setWorkerLimit(workerLimit) {\n    this.workerLimit = workerLimit;\n    return this;\n  }\n  detectSupport(renderer) {\n    this.workerConfig = {\n      astcSupported: renderer.extensions.has(\"WEBGL_compressed_texture_astc\"),\n      etc1Supported: renderer.extensions.has(\"WEBGL_compressed_texture_etc1\"),\n      etc2Supported: renderer.extensions.has(\"WEBGL_compressed_texture_etc\"),\n      dxtSupported: renderer.extensions.has(\"WEBGL_compressed_texture_s3tc\"),\n      bptcSupported: renderer.extensions.has(\"EXT_texture_compression_bptc\"),\n      pvrtcSupported: renderer.extensions.has(\"WEBGL_compressed_texture_pvrtc\") || renderer.extensions.has(\"WEBKIT_WEBGL_compressed_texture_pvrtc\")\n    };\n    return this;\n  }\n  load(url, onLoad, onProgress, onError) {\n    const loader = new FileLoader(this.manager);\n    loader.setResponseType(\"arraybuffer\");\n    loader.setWithCredentials(this.withCredentials);\n    const texture = new CompressedTexture();\n    loader.load(\n      url,\n      (buffer) => {\n        if (_taskCache.has(buffer)) {\n          const cachedTask = _taskCache.get(buffer);\n          return cachedTask.promise.then(onLoad).catch(onError);\n        }\n        this._createTexture([buffer]).then(function(_texture) {\n          texture.copy(_texture);\n          texture.needsUpdate = true;\n          if (onLoad)\n            onLoad(texture);\n        }).catch(onError);\n      },\n      onProgress,\n      onError\n    );\n    return texture;\n  }\n  /** Low-level transcoding API, exposed for use by KTX2Loader. */\n  parseInternalAsync(options) {\n    const { levels } = options;\n    const buffers = /* @__PURE__ */ new Set();\n    for (let i = 0; i < levels.length; i++) {\n      buffers.add(levels[i].data.buffer);\n    }\n    return this._createTexture(Array.from(buffers), { ...options, lowLevel: true });\n  }\n  /**\n   * @param {ArrayBuffer[]} buffers\n   * @param {object?} config\n   * @return {Promise<CompressedTexture>}\n   */\n  _createTexture(buffers, config = {}) {\n    let worker;\n    let taskID;\n    const taskConfig = config;\n    let taskCost = 0;\n    for (let i = 0; i < buffers.length; i++) {\n      taskCost += buffers[i].byteLength;\n    }\n    const texturePending = this._allocateWorker(taskCost).then((_worker) => {\n      worker = _worker;\n      taskID = this.workerNextTaskID++;\n      return new Promise((resolve, reject) => {\n        worker._callbacks[taskID] = { resolve, reject };\n        worker.postMessage({ type: \"transcode\", id: taskID, buffers, taskConfig }, buffers);\n      });\n    }).then((message) => {\n      const { mipmaps, width, height, format } = message;\n      const texture = new CompressedTexture(mipmaps, width, height, format, UnsignedByteType);\n      texture.minFilter = mipmaps.length === 1 ? LinearFilter : LinearMipmapLinearFilter;\n      texture.magFilter = LinearFilter;\n      texture.generateMipmaps = false;\n      texture.needsUpdate = true;\n      return texture;\n    });\n    texturePending.catch(() => true).then(() => {\n      if (worker && taskID) {\n        worker._taskLoad -= taskCost;\n        delete worker._callbacks[taskID];\n      }\n    });\n    _taskCache.set(buffers[0], { promise: texturePending });\n    return texturePending;\n  }\n  _initTranscoder() {\n    if (!this.transcoderPending) {\n      const jsLoader = new FileLoader(this.manager);\n      jsLoader.setPath(this.transcoderPath);\n      jsLoader.setWithCredentials(this.withCredentials);\n      const jsContent = new Promise((resolve, reject) => {\n        jsLoader.load(\"basis_transcoder.js\", resolve, void 0, reject);\n      });\n      const binaryLoader = new FileLoader(this.manager);\n      binaryLoader.setPath(this.transcoderPath);\n      binaryLoader.setResponseType(\"arraybuffer\");\n      binaryLoader.setWithCredentials(this.withCredentials);\n      const binaryContent = new Promise((resolve, reject) => {\n        binaryLoader.load(\"basis_transcoder.wasm\", resolve, void 0, reject);\n      });\n      this.transcoderPending = Promise.all([jsContent, binaryContent]).then(([jsContent2, binaryContent2]) => {\n        const fn = _BasisTextureLoader.BasisWorker.toString();\n        const body = [\n          \"/* constants */\",\n          \"let _EngineFormat = \" + JSON.stringify(_BasisTextureLoader.EngineFormat),\n          \"let _TranscoderFormat = \" + JSON.stringify(_BasisTextureLoader.TranscoderFormat),\n          \"let _BasisFormat = \" + JSON.stringify(_BasisTextureLoader.BasisFormat),\n          \"/* basis_transcoder.js */\",\n          jsContent2,\n          \"/* worker */\",\n          fn.substring(fn.indexOf(\"{\") + 1, fn.lastIndexOf(\"}\"))\n        ].join(\"\\n\");\n        this.workerSourceURL = URL.createObjectURL(new Blob([body]));\n        this.transcoderBinary = binaryContent2;\n      });\n    }\n    return this.transcoderPending;\n  }\n  _allocateWorker(taskCost) {\n    return this._initTranscoder().then(() => {\n      if (this.workerPool.length < this.workerLimit) {\n        const worker2 = new Worker(this.workerSourceURL);\n        worker2._callbacks = {};\n        worker2._taskLoad = 0;\n        worker2.postMessage({\n          type: \"init\",\n          config: this.workerConfig,\n          transcoderBinary: this.transcoderBinary\n        });\n        worker2.onmessage = function(e) {\n          const message = e.data;\n          switch (message.type) {\n            case \"transcode\":\n              worker2._callbacks[message.id].resolve(message);\n              break;\n            case \"error\":\n              worker2._callbacks[message.id].reject(message);\n              break;\n            default:\n              console.error('THREE.BasisTextureLoader: Unexpected message, \"' + message.type + '\"');\n          }\n        };\n        this.workerPool.push(worker2);\n      } else {\n        this.workerPool.sort(function(a, b) {\n          return a._taskLoad > b._taskLoad ? -1 : 1;\n        });\n      }\n      const worker = this.workerPool[this.workerPool.length - 1];\n      worker._taskLoad += taskCost;\n      return worker;\n    });\n  }\n  dispose() {\n    for (let i = 0; i < this.workerPool.length; i++) {\n      this.workerPool[i].terminate();\n    }\n    this.workerPool.length = 0;\n    return this;\n  }\n};\nlet BasisTextureLoader = _BasisTextureLoader;\n/* CONSTANTS */\n__publicField(BasisTextureLoader, \"BasisFormat\", {\n  ETC1S: 0,\n  UASTC_4x4: 1\n});\n__publicField(BasisTextureLoader, \"TranscoderFormat\", {\n  ETC1: 0,\n  ETC2: 1,\n  BC1: 2,\n  BC3: 3,\n  BC4: 4,\n  BC5: 5,\n  BC7_M6_OPAQUE_ONLY: 6,\n  BC7_M5: 7,\n  PVRTC1_4_RGB: 8,\n  PVRTC1_4_RGBA: 9,\n  ASTC_4x4: 10,\n  ATC_RGB: 11,\n  ATC_RGBA_INTERPOLATED_ALPHA: 12,\n  RGBA32: 13,\n  RGB565: 14,\n  BGR565: 15,\n  RGBA4444: 16\n});\n__publicField(BasisTextureLoader, \"EngineFormat\", {\n  RGBAFormat,\n  RGBA_ASTC_4x4_Format,\n  RGBA_BPTC_Format,\n  RGBA_ETC2_EAC_Format,\n  RGBA_PVRTC_4BPPV1_Format,\n  RGBA_S3TC_DXT5_Format,\n  RGB_ETC1_Format,\n  RGB_ETC2_Format,\n  RGB_PVRTC_4BPPV1_Format,\n  RGB_S3TC_DXT1_Format\n});\n/* WEB WORKER */\n__publicField(BasisTextureLoader, \"BasisWorker\", function() {\n  let config;\n  let transcoderPending;\n  let BasisModule;\n  const EngineFormat = _EngineFormat;\n  const TranscoderFormat = _TranscoderFormat;\n  const BasisFormat = _BasisFormat;\n  onmessage = function(e) {\n    const message = e.data;\n    switch (message.type) {\n      case \"init\":\n        config = message.config;\n        init(message.transcoderBinary);\n        break;\n      case \"transcode\":\n        transcoderPending.then(() => {\n          try {\n            const { width, height, hasAlpha, mipmaps, format } = message.taskConfig.lowLevel ? transcodeLowLevel(message.taskConfig) : transcode(message.buffers[0]);\n            const buffers = [];\n            for (let i = 0; i < mipmaps.length; ++i) {\n              buffers.push(mipmaps[i].data.buffer);\n            }\n            self.postMessage({ type: \"transcode\", id: message.id, width, height, hasAlpha, mipmaps, format }, buffers);\n          } catch (error) {\n            console.error(error);\n            self.postMessage({ type: \"error\", id: message.id, error: error.message });\n          }\n        });\n        break;\n    }\n  };\n  function init(wasmBinary) {\n    transcoderPending = new Promise((resolve) => {\n      BasisModule = { wasmBinary, onRuntimeInitialized: resolve };\n      BASIS(BasisModule);\n    }).then(() => {\n      BasisModule.initializeBasis();\n    });\n  }\n  function transcodeLowLevel(taskConfig) {\n    const { basisFormat, width, height, hasAlpha } = taskConfig;\n    const { transcoderFormat, engineFormat } = getTranscoderFormat(basisFormat, width, height, hasAlpha);\n    const blockByteLength = BasisModule.getBytesPerBlockOrPixel(transcoderFormat);\n    assert(BasisModule.isFormatSupported(transcoderFormat), \"THREE.BasisTextureLoader: Unsupported format.\");\n    const mipmaps = [];\n    if (basisFormat === BasisFormat.ETC1S) {\n      const transcoder = new BasisModule.LowLevelETC1SImageTranscoder();\n      const { endpointCount, endpointsData, selectorCount, selectorsData, tablesData } = taskConfig.globalData;\n      try {\n        let ok;\n        ok = transcoder.decodePalettes(endpointCount, endpointsData, selectorCount, selectorsData);\n        assert(ok, \"THREE.BasisTextureLoader: decodePalettes() failed.\");\n        ok = transcoder.decodeTables(tablesData);\n        assert(ok, \"THREE.BasisTextureLoader: decodeTables() failed.\");\n        for (let i = 0; i < taskConfig.levels.length; i++) {\n          const level = taskConfig.levels[i];\n          const imageDesc = taskConfig.globalData.imageDescs[i];\n          const dstByteLength = getTranscodedImageByteLength(transcoderFormat, level.width, level.height);\n          const dst = new Uint8Array(dstByteLength);\n          ok = transcoder.transcodeImage(\n            transcoderFormat,\n            dst,\n            dstByteLength / blockByteLength,\n            level.data,\n            getWidthInBlocks(transcoderFormat, level.width),\n            getHeightInBlocks(transcoderFormat, level.height),\n            level.width,\n            level.height,\n            level.index,\n            imageDesc.rgbSliceByteOffset,\n            imageDesc.rgbSliceByteLength,\n            imageDesc.alphaSliceByteOffset,\n            imageDesc.alphaSliceByteLength,\n            imageDesc.imageFlags,\n            hasAlpha,\n            false,\n            0,\n            0\n          );\n          assert(ok, \"THREE.BasisTextureLoader: transcodeImage() failed for level \" + level.index + \".\");\n          mipmaps.push({ data: dst, width: level.width, height: level.height });\n        }\n      } finally {\n        transcoder.delete();\n      }\n    } else {\n      for (let i = 0; i < taskConfig.levels.length; i++) {\n        const level = taskConfig.levels[i];\n        const dstByteLength = getTranscodedImageByteLength(transcoderFormat, level.width, level.height);\n        const dst = new Uint8Array(dstByteLength);\n        const ok = BasisModule.transcodeUASTCImage(\n          transcoderFormat,\n          dst,\n          dstByteLength / blockByteLength,\n          level.data,\n          getWidthInBlocks(transcoderFormat, level.width),\n          getHeightInBlocks(transcoderFormat, level.height),\n          level.width,\n          level.height,\n          level.index,\n          0,\n          level.data.byteLength,\n          0,\n          hasAlpha,\n          false,\n          0,\n          0,\n          -1,\n          -1\n        );\n        assert(ok, \"THREE.BasisTextureLoader: transcodeUASTCImage() failed for level \" + level.index + \".\");\n        mipmaps.push({ data: dst, width: level.width, height: level.height });\n      }\n    }\n    return { width, height, hasAlpha, mipmaps, format: engineFormat };\n  }\n  function transcode(buffer) {\n    const basisFile = new BasisModule.BasisFile(new Uint8Array(buffer));\n    const basisFormat = basisFile.isUASTC() ? BasisFormat.UASTC_4x4 : BasisFormat.ETC1S;\n    const width = basisFile.getImageWidth(0, 0);\n    const height = basisFile.getImageHeight(0, 0);\n    const levels = basisFile.getNumLevels(0);\n    const hasAlpha = basisFile.getHasAlpha();\n    function cleanup() {\n      basisFile.close();\n      basisFile.delete();\n    }\n    const { transcoderFormat, engineFormat } = getTranscoderFormat(basisFormat, width, height, hasAlpha);\n    if (!width || !height || !levels) {\n      cleanup();\n      throw new Error(\"THREE.BasisTextureLoader:\tInvalid texture\");\n    }\n    if (!basisFile.startTranscoding()) {\n      cleanup();\n      throw new Error(\"THREE.BasisTextureLoader: .startTranscoding failed\");\n    }\n    const mipmaps = [];\n    for (let mip = 0; mip < levels; mip++) {\n      const mipWidth = basisFile.getImageWidth(0, mip);\n      const mipHeight = basisFile.getImageHeight(0, mip);\n      const dst = new Uint8Array(basisFile.getImageTranscodedSizeInBytes(0, mip, transcoderFormat));\n      const status = basisFile.transcodeImage(dst, 0, mip, transcoderFormat, 0, hasAlpha);\n      if (!status) {\n        cleanup();\n        throw new Error(\"THREE.BasisTextureLoader: .transcodeImage failed.\");\n      }\n      mipmaps.push({ data: dst, width: mipWidth, height: mipHeight });\n    }\n    cleanup();\n    return { width, height, hasAlpha, mipmaps, format: engineFormat };\n  }\n  const FORMAT_OPTIONS = [\n    {\n      if: \"astcSupported\",\n      basisFormat: [BasisFormat.UASTC_4x4],\n      transcoderFormat: [TranscoderFormat.ASTC_4x4, TranscoderFormat.ASTC_4x4],\n      engineFormat: [EngineFormat.RGBA_ASTC_4x4_Format, EngineFormat.RGBA_ASTC_4x4_Format],\n      priorityETC1S: Infinity,\n      priorityUASTC: 1,\n      needsPowerOfTwo: false\n    },\n    {\n      if: \"bptcSupported\",\n      basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n      transcoderFormat: [TranscoderFormat.BC7_M5, TranscoderFormat.BC7_M5],\n      engineFormat: [EngineFormat.RGBA_BPTC_Format, EngineFormat.RGBA_BPTC_Format],\n      priorityETC1S: 3,\n      priorityUASTC: 2,\n      needsPowerOfTwo: false\n    },\n    {\n      if: \"dxtSupported\",\n      basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n      transcoderFormat: [TranscoderFormat.BC1, TranscoderFormat.BC3],\n      engineFormat: [EngineFormat.RGB_S3TC_DXT1_Format, EngineFormat.RGBA_S3TC_DXT5_Format],\n      priorityETC1S: 4,\n      priorityUASTC: 5,\n      needsPowerOfTwo: false\n    },\n    {\n      if: \"etc2Supported\",\n      basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n      transcoderFormat: [TranscoderFormat.ETC1, TranscoderFormat.ETC2],\n      engineFormat: [EngineFormat.RGB_ETC2_Format, EngineFormat.RGBA_ETC2_EAC_Format],\n      priorityETC1S: 1,\n      priorityUASTC: 3,\n      needsPowerOfTwo: false\n    },\n    {\n      if: \"etc1Supported\",\n      basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n      transcoderFormat: [TranscoderFormat.ETC1, TranscoderFormat.ETC1],\n      engineFormat: [EngineFormat.RGB_ETC1_Format, EngineFormat.RGB_ETC1_Format],\n      priorityETC1S: 2,\n      priorityUASTC: 4,\n      needsPowerOfTwo: false\n    },\n    {\n      if: \"pvrtcSupported\",\n      basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n      transcoderFormat: [TranscoderFormat.PVRTC1_4_RGB, TranscoderFormat.PVRTC1_4_RGBA],\n      engineFormat: [EngineFormat.RGB_PVRTC_4BPPV1_Format, EngineFormat.RGBA_PVRTC_4BPPV1_Format],\n      priorityETC1S: 5,\n      priorityUASTC: 6,\n      needsPowerOfTwo: true\n    }\n  ];\n  const ETC1S_OPTIONS = FORMAT_OPTIONS.sort(function(a, b) {\n    return a.priorityETC1S - b.priorityETC1S;\n  });\n  const UASTC_OPTIONS = FORMAT_OPTIONS.sort(function(a, b) {\n    return a.priorityUASTC - b.priorityUASTC;\n  });\n  function getTranscoderFormat(basisFormat, width, height, hasAlpha) {\n    let transcoderFormat;\n    let engineFormat;\n    const options = basisFormat === BasisFormat.ETC1S ? ETC1S_OPTIONS : UASTC_OPTIONS;\n    for (let i = 0; i < options.length; i++) {\n      const opt = options[i];\n      if (!config[opt.if])\n        continue;\n      if (!opt.basisFormat.includes(basisFormat))\n        continue;\n      if (opt.needsPowerOfTwo && !(isPowerOfTwo(width) && isPowerOfTwo(height)))\n        continue;\n      transcoderFormat = opt.transcoderFormat[hasAlpha ? 1 : 0];\n      engineFormat = opt.engineFormat[hasAlpha ? 1 : 0];\n      return { transcoderFormat, engineFormat };\n    }\n    console.warn(\"THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32.\");\n    transcoderFormat = TranscoderFormat.RGBA32;\n    engineFormat = EngineFormat.RGBAFormat;\n    return { transcoderFormat, engineFormat };\n  }\n  function assert(ok, message) {\n    if (!ok)\n      throw new Error(message);\n  }\n  function getWidthInBlocks(transcoderFormat, width) {\n    return Math.ceil(width / BasisModule.getFormatBlockWidth(transcoderFormat));\n  }\n  function getHeightInBlocks(transcoderFormat, height) {\n    return Math.ceil(height / BasisModule.getFormatBlockHeight(transcoderFormat));\n  }\n  function getTranscodedImageByteLength(transcoderFormat, width, height) {\n    const blockByteLength = BasisModule.getBytesPerBlockOrPixel(transcoderFormat);\n    if (BasisModule.formatIsUncompressed(transcoderFormat)) {\n      return width * height * blockByteLength;\n    }\n    if (transcoderFormat === TranscoderFormat.PVRTC1_4_RGB || transcoderFormat === TranscoderFormat.PVRTC1_4_RGBA) {\n      const paddedWidth = width + 3 & ~3;\n      const paddedHeight = height + 3 & ~3;\n      return (Math.max(8, paddedWidth) * Math.max(8, paddedHeight) * 4 + 7) / 8;\n    }\n    return getWidthInBlocks(transcoderFormat, width) * getHeightInBlocks(transcoderFormat, height) * blockByteLength;\n  }\n  function isPowerOfTwo(value) {\n    if (value <= 2)\n      return true;\n    return (value & value - 1) === 0 && value !== 0;\n  }\n});\nexport {\n  BasisTextureLoader\n};\n", "import { Vector3, ShaderMaterial, UniformsUtils, UniformsLib, Color, REVISION, LineSegments, Ray, FileLoader, Matrix4, Group, BufferGeometry, BufferAttribute, Mesh, Loader, MeshStandardMaterial, LineBasicMaterial } from \"three\";\nconst FINISH_TYPE_DEFAULT = 0;\nconst FINISH_TYPE_CHROME = 1;\nconst FINISH_TYPE_PEARLESCENT = 2;\nconst FINISH_TYPE_RUBBER = 3;\nconst FINISH_TYPE_MATTE_METALLIC = 4;\nconst FINISH_TYPE_METAL = 5;\nconst FILE_LOCATION_AS_IS = 0;\nconst FILE_LOCATION_TRY_PARTS = 1;\nconst FILE_LOCATION_TRY_P = 2;\nconst FILE_LOCATION_TRY_MODELS = 3;\nconst FILE_LOCATION_TRY_RELATIVE = 4;\nconst FILE_LOCATION_TRY_ABSOLUTE = 5;\nconst FILE_LOCATION_NOT_FOUND = 6;\nconst MAIN_COLOUR_CODE = \"16\";\nconst MAIN_EDGE_COLOUR_CODE = \"24\";\nconst _tempVec0 = /* @__PURE__ */ new Vector3();\nconst _tempVec1 = /* @__PURE__ */ new Vector3();\nclass LDrawConditionalLineMaterial extends ShaderMaterial {\n  constructor(parameters) {\n    super({\n      uniforms: UniformsUtils.merge([\n        UniformsLib.fog,\n        {\n          diffuse: {\n            value: new Color()\n          },\n          opacity: {\n            value: 1\n          }\n        }\n      ]),\n      vertexShader: (\n        /* glsl */\n        `\n        attribute vec3 control0;\n        attribute vec3 control1;\n        attribute vec3 direction;\n        varying float discardFlag;\n\n        #include <common>\n        #include <color_pars_vertex>\n        #include <fog_pars_vertex>\n        #include <logdepthbuf_pars_vertex>\n        #include <clipping_planes_pars_vertex>\n\n        void main() {\n          #include <color_vertex>\n\n          vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n          gl_Position = projectionMatrix * mvPosition;\n\n          // Transform the line segment ends and control points into camera clip space\n          vec4 c0 = projectionMatrix * modelViewMatrix * vec4(control0, 1.0);\n          vec4 c1 = projectionMatrix * modelViewMatrix * vec4(control1, 1.0);\n          vec4 p0 = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n          vec4 p1 = projectionMatrix * modelViewMatrix * vec4(position + direction, 1.0);\n\n          c0.xy /= c0.w;\n          c1.xy /= c1.w;\n          p0.xy /= p0.w;\n          p1.xy /= p1.w;\n\n          // Get the direction of the segment and an orthogonal vector\n          vec2 dir = p1.xy - p0.xy;\n          vec2 norm = vec2(-dir.y, dir.x);\n\n          // Get control point directions from the line\n          vec2 c0dir = c0.xy - p1.xy;\n          vec2 c1dir = c1.xy - p1.xy;\n\n          // If the vectors to the controls points are pointed in different directions away\n          // from the line segment then the line should not be drawn.\n          float d0 = dot(normalize(norm), normalize(c0dir));\n          float d1 = dot(normalize(norm), normalize(c1dir));\n          discardFlag = float(sign(d0) != sign(d1));\n\n          #include <logdepthbuf_vertex>\n          #include <clipping_planes_vertex>\n          #include <fog_vertex>\n        }\n      `\n      ),\n      fragmentShader: (\n        /* glsl */\n        `\n        uniform vec3 diffuse;\n        uniform float opacity;\n        varying float discardFlag;\n\n        #include <common>\n        #include <color_pars_fragment>\n        #include <fog_pars_fragment>\n        #include <logdepthbuf_pars_fragment>\n        #include <clipping_planes_pars_fragment>\n\n        void main() {\n          if (discardFlag > 0.5) discard;\n\n          #include <clipping_planes_fragment>\n          vec3 outgoingLight = vec3(0.0);\n          vec4 diffuseColor = vec4(diffuse, opacity);\n          #include <logdepthbuf_fragment>\n          #include <color_fragment>\n          outgoingLight = diffuseColor.rgb; // simple shader\n          gl_FragColor = vec4(outgoingLight, diffuseColor.a);\n          #include <tonemapping_fragment>\n          #include <${parseInt(REVISION.replace(/\\D+/g, \"\")) >= 154 ? \"colorspace_fragment\" : \"encodings_fragment\"}>\n          #include <fog_fragment>\n          #include <premultiplied_alpha_fragment>\n        }\n      `\n      )\n    });\n    Object.defineProperties(this, {\n      opacity: {\n        get: function() {\n          return this.uniforms.opacity.value;\n        },\n        set: function(value) {\n          this.uniforms.opacity.value = value;\n        }\n      },\n      color: {\n        get: function() {\n          return this.uniforms.diffuse.value;\n        }\n      }\n    });\n    this.setValues(parameters);\n    this.isLDrawConditionalLineMaterial = true;\n  }\n}\nclass ConditionalLineSegments extends LineSegments {\n  constructor(geometry, material) {\n    super(geometry, material);\n    this.isConditionalLine = true;\n  }\n}\nfunction generateFaceNormals(faces) {\n  for (let i = 0, l = faces.length; i < l; i++) {\n    const face = faces[i];\n    const vertices = face.vertices;\n    const v0 = vertices[0];\n    const v1 = vertices[1];\n    const v2 = vertices[2];\n    _tempVec0.subVectors(v1, v0);\n    _tempVec1.subVectors(v2, v1);\n    face.faceNormal = new Vector3().crossVectors(_tempVec0, _tempVec1).normalize();\n  }\n}\nconst _ray = /* @__PURE__ */ new Ray();\nfunction smoothNormals(faces, lineSegments, checkSubSegments = false) {\n  const hashMultiplier = (1 + 1e-10) * 100;\n  function hashVertex(v) {\n    const x = ~~(v.x * hashMultiplier);\n    const y = ~~(v.y * hashMultiplier);\n    const z = ~~(v.z * hashMultiplier);\n    return `${x},${y},${z}`;\n  }\n  function hashEdge(v0, v1) {\n    return `${hashVertex(v0)}_${hashVertex(v1)}`;\n  }\n  function toNormalizedRay(v0, v1, targetRay) {\n    targetRay.direction.subVectors(v1, v0).normalize();\n    const scalar = v0.dot(targetRay.direction);\n    targetRay.origin.copy(v0).addScaledVector(targetRay.direction, -scalar);\n    return targetRay;\n  }\n  function hashRay(ray) {\n    return hashEdge(ray.origin, ray.direction);\n  }\n  const hardEdges = /* @__PURE__ */ new Set();\n  const hardEdgeRays = /* @__PURE__ */ new Map();\n  const halfEdgeList = {};\n  const normals = [];\n  for (let i = 0, l = lineSegments.length; i < l; i++) {\n    const ls = lineSegments[i];\n    const vertices = ls.vertices;\n    const v0 = vertices[0];\n    const v1 = vertices[1];\n    hardEdges.add(hashEdge(v0, v1));\n    hardEdges.add(hashEdge(v1, v0));\n    if (checkSubSegments) {\n      const ray = toNormalizedRay(v0, v1, new Ray());\n      const rh1 = hashRay(ray);\n      if (!hardEdgeRays.has(rh1)) {\n        toNormalizedRay(v1, v0, ray);\n        const rh2 = hashRay(ray);\n        const info2 = {\n          ray,\n          distances: []\n        };\n        hardEdgeRays.set(rh1, info2);\n        hardEdgeRays.set(rh2, info2);\n      }\n      const info = hardEdgeRays.get(rh1);\n      let d0 = info.ray.direction.dot(v0);\n      let d1 = info.ray.direction.dot(v1);\n      if (d0 > d1) {\n        ;\n        [d0, d1] = [d1, d0];\n      }\n      info.distances.push(d0, d1);\n    }\n  }\n  for (let i = 0, l = faces.length; i < l; i++) {\n    const tri = faces[i];\n    const vertices = tri.vertices;\n    const vertCount = vertices.length;\n    for (let i2 = 0; i2 < vertCount; i2++) {\n      const index = i2;\n      const next = (i2 + 1) % vertCount;\n      const v0 = vertices[index];\n      const v1 = vertices[next];\n      const hash = hashEdge(v0, v1);\n      if (hardEdges.has(hash)) {\n        continue;\n      }\n      if (checkSubSegments) {\n        toNormalizedRay(v0, v1, _ray);\n        const rayHash = hashRay(_ray);\n        if (hardEdgeRays.has(rayHash)) {\n          const info2 = hardEdgeRays.get(rayHash);\n          const { ray, distances } = info2;\n          let d0 = ray.direction.dot(v0);\n          let d1 = ray.direction.dot(v1);\n          if (d0 > d1) {\n            ;\n            [d0, d1] = [d1, d0];\n          }\n          let found = false;\n          for (let i3 = 0, l2 = distances.length; i3 < l2; i3 += 2) {\n            if (d0 >= distances[i3] && d1 <= distances[i3 + 1]) {\n              found = true;\n              break;\n            }\n          }\n          if (found) {\n            continue;\n          }\n        }\n      }\n      const info = {\n        index,\n        tri\n      };\n      halfEdgeList[hash] = info;\n    }\n  }\n  while (true) {\n    let halfEdge = null;\n    for (const key in halfEdgeList) {\n      halfEdge = halfEdgeList[key];\n      break;\n    }\n    if (halfEdge === null) {\n      break;\n    }\n    const queue = [halfEdge];\n    while (queue.length > 0) {\n      const tri = queue.pop().tri;\n      const vertices = tri.vertices;\n      const vertNormals = tri.normals;\n      const faceNormal = tri.faceNormal;\n      const vertCount = vertices.length;\n      for (let i2 = 0; i2 < vertCount; i2++) {\n        const index = i2;\n        const next = (i2 + 1) % vertCount;\n        const v0 = vertices[index];\n        const v1 = vertices[next];\n        const hash = hashEdge(v0, v1);\n        delete halfEdgeList[hash];\n        const reverseHash = hashEdge(v1, v0);\n        const otherInfo = halfEdgeList[reverseHash];\n        if (otherInfo) {\n          const otherTri = otherInfo.tri;\n          const otherIndex = otherInfo.index;\n          const otherNormals = otherTri.normals;\n          const otherVertCount = otherNormals.length;\n          const otherFaceNormal = otherTri.faceNormal;\n          if (Math.abs(otherTri.faceNormal.dot(tri.faceNormal)) < 0.25) {\n            continue;\n          }\n          if (reverseHash in halfEdgeList) {\n            queue.push(otherInfo);\n            delete halfEdgeList[reverseHash];\n          }\n          const otherNext = (otherIndex + 1) % otherVertCount;\n          if (vertNormals[index] && otherNormals[otherNext] && vertNormals[index] !== otherNormals[otherNext]) {\n            otherNormals[otherNext].norm.add(vertNormals[index].norm);\n            vertNormals[index].norm = otherNormals[otherNext].norm;\n          }\n          let sharedNormal1 = vertNormals[index] || otherNormals[otherNext];\n          if (sharedNormal1 === null) {\n            sharedNormal1 = { norm: new Vector3() };\n            normals.push(sharedNormal1.norm);\n          }\n          if (vertNormals[index] === null) {\n            vertNormals[index] = sharedNormal1;\n            sharedNormal1.norm.add(faceNormal);\n          }\n          if (otherNormals[otherNext] === null) {\n            otherNormals[otherNext] = sharedNormal1;\n            sharedNormal1.norm.add(otherFaceNormal);\n          }\n          if (vertNormals[next] && otherNormals[otherIndex] && vertNormals[next] !== otherNormals[otherIndex]) {\n            otherNormals[otherIndex].norm.add(vertNormals[next].norm);\n            vertNormals[next].norm = otherNormals[otherIndex].norm;\n          }\n          let sharedNormal2 = vertNormals[next] || otherNormals[otherIndex];\n          if (sharedNormal2 === null) {\n            sharedNormal2 = { norm: new Vector3() };\n            normals.push(sharedNormal2.norm);\n          }\n          if (vertNormals[next] === null) {\n            vertNormals[next] = sharedNormal2;\n            sharedNormal2.norm.add(faceNormal);\n          }\n          if (otherNormals[otherIndex] === null) {\n            otherNormals[otherIndex] = sharedNormal2;\n            sharedNormal2.norm.add(otherFaceNormal);\n          }\n        }\n      }\n    }\n  }\n  for (let i = 0, l = normals.length; i < l; i++) {\n    normals[i].normalize();\n  }\n}\nfunction isPartType(type) {\n  return type === \"Part\" || type === \"Unofficial_Part\";\n}\nfunction isPrimitiveType(type) {\n  return /primitive/i.test(type) || type === \"Subpart\";\n}\nclass LineParser {\n  constructor(line, lineNumber) {\n    this.line = line;\n    this.lineLength = line.length;\n    this.currentCharIndex = 0;\n    this.currentChar = \" \";\n    this.lineNumber = lineNumber;\n  }\n  seekNonSpace() {\n    while (this.currentCharIndex < this.lineLength) {\n      this.currentChar = this.line.charAt(this.currentCharIndex);\n      if (this.currentChar !== \" \" && this.currentChar !== \"\t\") {\n        return;\n      }\n      this.currentCharIndex++;\n    }\n  }\n  getToken() {\n    const pos0 = this.currentCharIndex++;\n    while (this.currentCharIndex < this.lineLength) {\n      this.currentChar = this.line.charAt(this.currentCharIndex);\n      if (this.currentChar === \" \" || this.currentChar === \"\t\") {\n        break;\n      }\n      this.currentCharIndex++;\n    }\n    const pos1 = this.currentCharIndex;\n    this.seekNonSpace();\n    return this.line.substring(pos0, pos1);\n  }\n  getVector() {\n    return new Vector3(parseFloat(this.getToken()), parseFloat(this.getToken()), parseFloat(this.getToken()));\n  }\n  getRemainingString() {\n    return this.line.substring(this.currentCharIndex, this.lineLength);\n  }\n  isAtTheEnd() {\n    return this.currentCharIndex >= this.lineLength;\n  }\n  setToEnd() {\n    this.currentCharIndex = this.lineLength;\n  }\n  getLineNumberString() {\n    return this.lineNumber >= 0 ? \" at line \" + this.lineNumber : \"\";\n  }\n}\nclass LDrawParsedCache {\n  constructor(loader) {\n    this.loader = loader;\n    this._cache = {};\n  }\n  cloneResult(original) {\n    const result = {};\n    result.faces = original.faces.map((face) => {\n      return {\n        colorCode: face.colorCode,\n        material: face.material,\n        vertices: face.vertices.map((v) => v.clone()),\n        normals: face.normals.map(() => null),\n        faceNormal: null\n      };\n    });\n    result.conditionalSegments = original.conditionalSegments.map((face) => {\n      return {\n        colorCode: face.colorCode,\n        material: face.material,\n        vertices: face.vertices.map((v) => v.clone()),\n        controlPoints: face.controlPoints.map((v) => v.clone())\n      };\n    });\n    result.lineSegments = original.lineSegments.map((face) => {\n      return {\n        colorCode: face.colorCode,\n        material: face.material,\n        vertices: face.vertices.map((v) => v.clone())\n      };\n    });\n    result.type = original.type;\n    result.category = original.category;\n    result.keywords = original.keywords;\n    result.subobjects = original.subobjects;\n    result.totalFaces = original.totalFaces;\n    result.startingConstructionStep = original.startingConstructionStep;\n    result.materials = original.materials;\n    result.group = null;\n    return result;\n  }\n  async fetchData(fileName) {\n    let triedLowerCase = false;\n    let locationState = FILE_LOCATION_AS_IS;\n    while (locationState !== FILE_LOCATION_NOT_FOUND) {\n      let subobjectURL = fileName;\n      switch (locationState) {\n        case FILE_LOCATION_AS_IS:\n          locationState = locationState + 1;\n          break;\n        case FILE_LOCATION_TRY_PARTS:\n          subobjectURL = \"parts/\" + subobjectURL;\n          locationState = locationState + 1;\n          break;\n        case FILE_LOCATION_TRY_P:\n          subobjectURL = \"p/\" + subobjectURL;\n          locationState = locationState + 1;\n          break;\n        case FILE_LOCATION_TRY_MODELS:\n          subobjectURL = \"models/\" + subobjectURL;\n          locationState = locationState + 1;\n          break;\n        case FILE_LOCATION_TRY_RELATIVE:\n          subobjectURL = fileName.substring(0, fileName.lastIndexOf(\"/\") + 1) + subobjectURL;\n          locationState = locationState + 1;\n          break;\n        case FILE_LOCATION_TRY_ABSOLUTE:\n          if (triedLowerCase) {\n            locationState = FILE_LOCATION_NOT_FOUND;\n          } else {\n            fileName = fileName.toLowerCase();\n            subobjectURL = fileName;\n            triedLowerCase = true;\n            locationState = FILE_LOCATION_AS_IS;\n          }\n          break;\n      }\n      const loader = this.loader;\n      const fileLoader = new FileLoader(loader.manager);\n      fileLoader.setPath(loader.partsLibraryPath);\n      fileLoader.setRequestHeader(loader.requestHeader);\n      fileLoader.setWithCredentials(loader.withCredentials);\n      try {\n        const text = await fileLoader.loadAsync(subobjectURL);\n        return text;\n      } catch (e) {\n        continue;\n      }\n    }\n    throw new Error('LDrawLoader: Subobject \"' + fileName + '\" could not be loaded.');\n  }\n  parse(text, fileName = null) {\n    const loader = this.loader;\n    const faces = [];\n    const lineSegments = [];\n    const conditionalSegments = [];\n    const subobjects = [];\n    const materials = {};\n    const getLocalMaterial = (colorCode) => {\n      return materials[colorCode] || null;\n    };\n    let type = \"Model\";\n    let category = null;\n    let keywords = null;\n    let totalFaces = 0;\n    if (text.indexOf(\"\\r\\n\") !== -1) {\n      text = text.replace(/\\r\\n/g, \"\\n\");\n    }\n    const lines = text.split(\"\\n\");\n    const numLines = lines.length;\n    let parsingEmbeddedFiles = false;\n    let currentEmbeddedFileName = null;\n    let currentEmbeddedText = null;\n    let bfcCertified = false;\n    let bfcCCW = true;\n    let bfcInverted = false;\n    let bfcCull = true;\n    let startingConstructionStep = false;\n    for (let lineIndex = 0; lineIndex < numLines; lineIndex++) {\n      const line = lines[lineIndex];\n      if (line.length === 0)\n        continue;\n      if (parsingEmbeddedFiles) {\n        if (line.startsWith(\"0 FILE \")) {\n          this.setData(currentEmbeddedFileName, currentEmbeddedText);\n          currentEmbeddedFileName = line.substring(7);\n          currentEmbeddedText = \"\";\n        } else {\n          currentEmbeddedText += line + \"\\n\";\n        }\n        continue;\n      }\n      const lp = new LineParser(line, lineIndex + 1);\n      lp.seekNonSpace();\n      if (lp.isAtTheEnd()) {\n        continue;\n      }\n      const lineType = lp.getToken();\n      let material;\n      let colorCode;\n      let segment;\n      let ccw;\n      let doubleSided;\n      let v0, v1, v2, v3, c0, c1;\n      switch (lineType) {\n        case \"0\":\n          const meta = lp.getToken();\n          if (meta) {\n            switch (meta) {\n              case \"!LDRAW_ORG\":\n                type = lp.getToken();\n                break;\n              case \"!COLOUR\":\n                material = loader.parseColorMetaDirective(lp);\n                if (material) {\n                  materials[material.userData.code] = material;\n                } else {\n                  console.warn(\"LDrawLoader: Error parsing material\" + lp.getLineNumberString());\n                }\n                break;\n              case \"!CATEGORY\":\n                category = lp.getToken();\n                break;\n              case \"!KEYWORDS\":\n                const newKeywords = lp.getRemainingString().split(\",\");\n                if (newKeywords.length > 0) {\n                  if (!keywords) {\n                    keywords = [];\n                  }\n                  newKeywords.forEach(function(keyword) {\n                    keywords.push(keyword.trim());\n                  });\n                }\n                break;\n              case \"FILE\":\n                if (lineIndex > 0) {\n                  parsingEmbeddedFiles = true;\n                  currentEmbeddedFileName = lp.getRemainingString();\n                  currentEmbeddedText = \"\";\n                  bfcCertified = false;\n                  bfcCCW = true;\n                }\n                break;\n              case \"BFC\":\n                while (!lp.isAtTheEnd()) {\n                  const token = lp.getToken();\n                  switch (token) {\n                    case \"CERTIFY\":\n                    case \"NOCERTIFY\":\n                      bfcCertified = token === \"CERTIFY\";\n                      bfcCCW = true;\n                      break;\n                    case \"CW\":\n                    case \"CCW\":\n                      bfcCCW = token === \"CCW\";\n                      break;\n                    case \"INVERTNEXT\":\n                      bfcInverted = true;\n                      break;\n                    case \"CLIP\":\n                    case \"NOCLIP\":\n                      bfcCull = token === \"CLIP\";\n                      break;\n                    default:\n                      console.warn('THREE.LDrawLoader: BFC directive \"' + token + '\" is unknown.');\n                      break;\n                  }\n                }\n                break;\n              case \"STEP\":\n                startingConstructionStep = true;\n                break;\n              default:\n                break;\n            }\n          }\n          break;\n        case \"1\":\n          colorCode = lp.getToken();\n          material = getLocalMaterial(colorCode);\n          const posX = parseFloat(lp.getToken());\n          const posY = parseFloat(lp.getToken());\n          const posZ = parseFloat(lp.getToken());\n          const m0 = parseFloat(lp.getToken());\n          const m1 = parseFloat(lp.getToken());\n          const m2 = parseFloat(lp.getToken());\n          const m3 = parseFloat(lp.getToken());\n          const m4 = parseFloat(lp.getToken());\n          const m5 = parseFloat(lp.getToken());\n          const m6 = parseFloat(lp.getToken());\n          const m7 = parseFloat(lp.getToken());\n          const m8 = parseFloat(lp.getToken());\n          const matrix = new Matrix4().set(m0, m1, m2, posX, m3, m4, m5, posY, m6, m7, m8, posZ, 0, 0, 0, 1);\n          let fileName2 = lp.getRemainingString().trim().replace(/\\\\/g, \"/\");\n          if (loader.fileMap[fileName2]) {\n            fileName2 = loader.fileMap[fileName2];\n          } else {\n            if (fileName2.startsWith(\"s/\")) {\n              fileName2 = \"parts/\" + fileName2;\n            } else if (fileName2.startsWith(\"48/\")) {\n              fileName2 = \"p/\" + fileName2;\n            }\n          }\n          subobjects.push({\n            material,\n            colorCode,\n            matrix,\n            fileName: fileName2,\n            inverted: bfcInverted,\n            startingConstructionStep\n          });\n          bfcInverted = false;\n          break;\n        case \"2\":\n          colorCode = lp.getToken();\n          material = getLocalMaterial(colorCode);\n          v0 = lp.getVector();\n          v1 = lp.getVector();\n          segment = {\n            material,\n            colorCode,\n            vertices: [v0, v1]\n          };\n          lineSegments.push(segment);\n          break;\n        case \"5\":\n          colorCode = lp.getToken();\n          material = getLocalMaterial(colorCode);\n          v0 = lp.getVector();\n          v1 = lp.getVector();\n          c0 = lp.getVector();\n          c1 = lp.getVector();\n          segment = {\n            material,\n            colorCode,\n            vertices: [v0, v1],\n            controlPoints: [c0, c1]\n          };\n          conditionalSegments.push(segment);\n          break;\n        case \"3\":\n          colorCode = lp.getToken();\n          material = getLocalMaterial(colorCode);\n          ccw = bfcCCW;\n          doubleSided = !bfcCertified || !bfcCull;\n          if (ccw === true) {\n            v0 = lp.getVector();\n            v1 = lp.getVector();\n            v2 = lp.getVector();\n          } else {\n            v2 = lp.getVector();\n            v1 = lp.getVector();\n            v0 = lp.getVector();\n          }\n          faces.push({\n            material,\n            colorCode,\n            faceNormal: null,\n            vertices: [v0, v1, v2],\n            normals: [null, null, null]\n          });\n          totalFaces++;\n          if (doubleSided === true) {\n            faces.push({\n              material,\n              colorCode,\n              faceNormal: null,\n              vertices: [v2, v1, v0],\n              normals: [null, null, null]\n            });\n            totalFaces++;\n          }\n          break;\n        case \"4\":\n          colorCode = lp.getToken();\n          material = getLocalMaterial(colorCode);\n          ccw = bfcCCW;\n          doubleSided = !bfcCertified || !bfcCull;\n          if (ccw === true) {\n            v0 = lp.getVector();\n            v1 = lp.getVector();\n            v2 = lp.getVector();\n            v3 = lp.getVector();\n          } else {\n            v3 = lp.getVector();\n            v2 = lp.getVector();\n            v1 = lp.getVector();\n            v0 = lp.getVector();\n          }\n          faces.push({\n            material,\n            colorCode,\n            faceNormal: null,\n            vertices: [v0, v1, v2, v3],\n            normals: [null, null, null, null]\n          });\n          totalFaces += 2;\n          if (doubleSided === true) {\n            faces.push({\n              material,\n              colorCode,\n              faceNormal: null,\n              vertices: [v3, v2, v1, v0],\n              normals: [null, null, null, null]\n            });\n            totalFaces += 2;\n          }\n          break;\n        default:\n          throw new Error('LDrawLoader: Unknown line type \"' + lineType + '\"' + lp.getLineNumberString() + \".\");\n      }\n    }\n    if (parsingEmbeddedFiles) {\n      this.setData(currentEmbeddedFileName, currentEmbeddedText);\n    }\n    return {\n      faces,\n      conditionalSegments,\n      lineSegments,\n      type,\n      category,\n      keywords,\n      subobjects,\n      totalFaces,\n      startingConstructionStep,\n      materials,\n      fileName,\n      group: null\n    };\n  }\n  // returns an (optionally cloned) instance of the data\n  getData(fileName, clone = true) {\n    const key = fileName.toLowerCase();\n    const result = this._cache[key];\n    if (result === null || result instanceof Promise) {\n      return null;\n    }\n    if (clone) {\n      return this.cloneResult(result);\n    } else {\n      return result;\n    }\n  }\n  // kicks off a fetch and parse of the requested data if it hasn't already been loaded. Returns when\n  // the data is ready to use and can be retrieved synchronously with \"getData\".\n  async ensureDataLoaded(fileName) {\n    const key = fileName.toLowerCase();\n    if (!(key in this._cache)) {\n      this._cache[key] = this.fetchData(fileName).then((text) => {\n        const info = this.parse(text, fileName);\n        this._cache[key] = info;\n        return info;\n      });\n    }\n    await this._cache[key];\n  }\n  // sets the data in the cache from parsed data\n  setData(fileName, text) {\n    const key = fileName.toLowerCase();\n    this._cache[key] = this.parse(text, fileName);\n  }\n}\nfunction getMaterialFromCode(colorCode, parentColorCode, materialHierarchy, forEdge) {\n  const isPassthrough = !forEdge && colorCode === MAIN_COLOUR_CODE || forEdge && colorCode === MAIN_EDGE_COLOUR_CODE;\n  if (isPassthrough) {\n    colorCode = parentColorCode;\n  }\n  return materialHierarchy[colorCode] || null;\n}\nclass LDrawPartsGeometryCache {\n  constructor(loader) {\n    this.loader = loader;\n    this.parseCache = new LDrawParsedCache(loader);\n    this._cache = {};\n  }\n  // Convert the given file information into a mesh by processing subobjects.\n  async processIntoMesh(info) {\n    const loader = this.loader;\n    const parseCache = this.parseCache;\n    const faceMaterials = /* @__PURE__ */ new Set();\n    const processInfoSubobjects = async (info2, subobject = null) => {\n      const subobjects = info2.subobjects;\n      const promises = [];\n      for (let i = 0, l = subobjects.length; i < l; i++) {\n        const subobject2 = subobjects[i];\n        const promise = parseCache.ensureDataLoaded(subobject2.fileName).then(() => {\n          const subobjectInfo = parseCache.getData(subobject2.fileName, false);\n          if (!isPrimitiveType(subobjectInfo.type)) {\n            return this.loadModel(subobject2.fileName).catch((error) => {\n              console.warn(error);\n              return null;\n            });\n          }\n          return processInfoSubobjects(parseCache.getData(subobject2.fileName), subobject2);\n        });\n        promises.push(promise);\n      }\n      const group2 = new Group();\n      group2.userData.category = info2.category;\n      group2.userData.keywords = info2.keywords;\n      info2.group = group2;\n      const subobjectInfos = await Promise.all(promises);\n      for (let i = 0, l = subobjectInfos.length; i < l; i++) {\n        const subobject2 = info2.subobjects[i];\n        const subobjectInfo = subobjectInfos[i];\n        if (subobjectInfo === null) {\n          continue;\n        }\n        if (subobjectInfo.isGroup) {\n          const subobjectGroup = subobjectInfo;\n          subobject2.matrix.decompose(subobjectGroup.position, subobjectGroup.quaternion, subobjectGroup.scale);\n          subobjectGroup.userData.startingConstructionStep = subobject2.startingConstructionStep;\n          subobjectGroup.name = subobject2.fileName;\n          loader.applyMaterialsToMesh(subobjectGroup, subobject2.colorCode, info2.materials);\n          group2.add(subobjectGroup);\n          continue;\n        }\n        if (subobjectInfo.group.children.length) {\n          group2.add(subobjectInfo.group);\n        }\n        const parentLineSegments = info2.lineSegments;\n        const parentConditionalSegments = info2.conditionalSegments;\n        const parentFaces = info2.faces;\n        const lineSegments = subobjectInfo.lineSegments;\n        const conditionalSegments = subobjectInfo.conditionalSegments;\n        const faces = subobjectInfo.faces;\n        const matrix = subobject2.matrix;\n        const inverted = subobject2.inverted;\n        const matrixScaleInverted = matrix.determinant() < 0;\n        const colorCode = subobject2.colorCode;\n        const lineColorCode = colorCode === MAIN_COLOUR_CODE ? MAIN_EDGE_COLOUR_CODE : colorCode;\n        for (let i2 = 0, l2 = lineSegments.length; i2 < l2; i2++) {\n          const ls = lineSegments[i2];\n          const vertices = ls.vertices;\n          vertices[0].applyMatrix4(matrix);\n          vertices[1].applyMatrix4(matrix);\n          ls.colorCode = ls.colorCode === MAIN_EDGE_COLOUR_CODE ? lineColorCode : ls.colorCode;\n          ls.material = ls.material || getMaterialFromCode(ls.colorCode, ls.colorCode, info2.materials, true);\n          parentLineSegments.push(ls);\n        }\n        for (let i2 = 0, l2 = conditionalSegments.length; i2 < l2; i2++) {\n          const os = conditionalSegments[i2];\n          const vertices = os.vertices;\n          const controlPoints = os.controlPoints;\n          vertices[0].applyMatrix4(matrix);\n          vertices[1].applyMatrix4(matrix);\n          controlPoints[0].applyMatrix4(matrix);\n          controlPoints[1].applyMatrix4(matrix);\n          os.colorCode = os.colorCode === MAIN_EDGE_COLOUR_CODE ? lineColorCode : os.colorCode;\n          os.material = os.material || getMaterialFromCode(os.colorCode, os.colorCode, info2.materials, true);\n          parentConditionalSegments.push(os);\n        }\n        for (let i2 = 0, l2 = faces.length; i2 < l2; i2++) {\n          const tri = faces[i2];\n          const vertices = tri.vertices;\n          for (let i3 = 0, l3 = vertices.length; i3 < l3; i3++) {\n            vertices[i3].applyMatrix4(matrix);\n          }\n          tri.colorCode = tri.colorCode === MAIN_COLOUR_CODE ? colorCode : tri.colorCode;\n          tri.material = tri.material || getMaterialFromCode(tri.colorCode, colorCode, info2.materials, false);\n          faceMaterials.add(tri.colorCode);\n          if (matrixScaleInverted !== inverted) {\n            vertices.reverse();\n          }\n          parentFaces.push(tri);\n        }\n        info2.totalFaces += subobjectInfo.totalFaces;\n      }\n      if (subobject) {\n        loader.applyMaterialsToMesh(group2, subobject.colorCode, info2.materials);\n      }\n      return info2;\n    };\n    for (let i = 0, l = info.faces; i < l; i++) {\n      faceMaterials.add(info.faces[i].colorCode);\n    }\n    await processInfoSubobjects(info);\n    if (loader.smoothNormals) {\n      const checkSubSegments = faceMaterials.size > 1;\n      generateFaceNormals(info.faces);\n      smoothNormals(info.faces, info.lineSegments, checkSubSegments);\n    }\n    const group = info.group;\n    if (info.faces.length > 0) {\n      group.add(createObject(info.faces, 3, false, info.totalFaces));\n    }\n    if (info.lineSegments.length > 0) {\n      group.add(createObject(info.lineSegments, 2));\n    }\n    if (info.conditionalSegments.length > 0) {\n      group.add(createObject(info.conditionalSegments, 2, true));\n    }\n    return group;\n  }\n  hasCachedModel(fileName) {\n    return fileName !== null && fileName.toLowerCase() in this._cache;\n  }\n  async getCachedModel(fileName) {\n    if (fileName !== null && this.hasCachedModel(fileName)) {\n      const key = fileName.toLowerCase();\n      const group = await this._cache[key];\n      return group.clone();\n    } else {\n      return null;\n    }\n  }\n  // Loads and parses the model with the given file name. Returns a cached copy if available.\n  async loadModel(fileName) {\n    const parseCache = this.parseCache;\n    const key = fileName.toLowerCase();\n    if (this.hasCachedModel(fileName)) {\n      return this.getCachedModel(fileName);\n    } else {\n      await parseCache.ensureDataLoaded(fileName);\n      const info = parseCache.getData(fileName);\n      const promise = this.processIntoMesh(info);\n      if (this.hasCachedModel(fileName)) {\n        return this.getCachedModel(fileName);\n      }\n      if (isPartType(info.type)) {\n        this._cache[key] = promise;\n      }\n      const group = await promise;\n      return group.clone();\n    }\n  }\n  // parses the given model text into a renderable object. Returns cached copy if available.\n  async parseModel(text) {\n    const parseCache = this.parseCache;\n    const info = parseCache.parse(text);\n    if (isPartType(info.type) && this.hasCachedModel(info.fileName)) {\n      return this.getCachedModel(info.fileName);\n    }\n    return this.processIntoMesh(info);\n  }\n}\nfunction sortByMaterial(a, b) {\n  if (a.colorCode === b.colorCode) {\n    return 0;\n  }\n  if (a.colorCode < b.colorCode) {\n    return -1;\n  }\n  return 1;\n}\nfunction createObject(elements, elementSize, isConditionalSegments = false, totalElements = null) {\n  elements.sort(sortByMaterial);\n  if (totalElements === null) {\n    totalElements = elements.length;\n  }\n  const positions = new Float32Array(elementSize * totalElements * 3);\n  const normals = elementSize === 3 ? new Float32Array(elementSize * totalElements * 3) : null;\n  const materials = [];\n  const quadArray = new Array(6);\n  const bufferGeometry = new BufferGeometry();\n  let prevMaterial = null;\n  let index0 = 0;\n  let numGroupVerts = 0;\n  let offset = 0;\n  for (let iElem = 0, nElem = elements.length; iElem < nElem; iElem++) {\n    const elem = elements[iElem];\n    let vertices = elem.vertices;\n    if (vertices.length === 4) {\n      quadArray[0] = vertices[0];\n      quadArray[1] = vertices[1];\n      quadArray[2] = vertices[2];\n      quadArray[3] = vertices[0];\n      quadArray[4] = vertices[2];\n      quadArray[5] = vertices[3];\n      vertices = quadArray;\n    }\n    for (let j = 0, l = vertices.length; j < l; j++) {\n      const v = vertices[j];\n      const index = offset + j * 3;\n      positions[index + 0] = v.x;\n      positions[index + 1] = v.y;\n      positions[index + 2] = v.z;\n    }\n    if (elementSize === 3) {\n      if (!elem.faceNormal) {\n        const v0 = vertices[0];\n        const v1 = vertices[1];\n        const v2 = vertices[2];\n        _tempVec0.subVectors(v1, v0);\n        _tempVec1.subVectors(v2, v1);\n        elem.faceNormal = new Vector3().crossVectors(_tempVec0, _tempVec1).normalize();\n      }\n      let elemNormals = elem.normals;\n      if (elemNormals.length === 4) {\n        quadArray[0] = elemNormals[0];\n        quadArray[1] = elemNormals[1];\n        quadArray[2] = elemNormals[2];\n        quadArray[3] = elemNormals[0];\n        quadArray[4] = elemNormals[2];\n        quadArray[5] = elemNormals[3];\n        elemNormals = quadArray;\n      }\n      for (let j = 0, l = elemNormals.length; j < l; j++) {\n        let n = elem.faceNormal;\n        if (elemNormals[j]) {\n          n = elemNormals[j].norm;\n        }\n        const index = offset + j * 3;\n        normals[index + 0] = n.x;\n        normals[index + 1] = n.y;\n        normals[index + 2] = n.z;\n      }\n    }\n    if (prevMaterial !== elem.colorCode) {\n      if (prevMaterial !== null) {\n        bufferGeometry.addGroup(index0, numGroupVerts, materials.length - 1);\n      }\n      const material = elem.material;\n      if (material !== null) {\n        if (elementSize === 3) {\n          materials.push(material);\n        } else if (elementSize === 2) {\n          if (material !== null) {\n            if (isConditionalSegments) {\n              materials.push(material.userData.edgeMaterial.userData.conditionalEdgeMaterial);\n            } else {\n              materials.push(material.userData.edgeMaterial);\n            }\n          } else {\n            materials.push(null);\n          }\n        }\n      } else {\n        materials.push(elem.colorCode);\n      }\n      prevMaterial = elem.colorCode;\n      index0 = offset / 3;\n      numGroupVerts = vertices.length;\n    } else {\n      numGroupVerts += vertices.length;\n    }\n    offset += 3 * vertices.length;\n  }\n  if (numGroupVerts > 0) {\n    bufferGeometry.addGroup(index0, Infinity, materials.length - 1);\n  }\n  bufferGeometry.setAttribute(\"position\", new BufferAttribute(positions, 3));\n  if (normals !== null) {\n    bufferGeometry.setAttribute(\"normal\", new BufferAttribute(normals, 3));\n  }\n  let object3d = null;\n  if (elementSize === 2) {\n    if (isConditionalSegments) {\n      object3d = new ConditionalLineSegments(bufferGeometry, materials.length === 1 ? materials[0] : materials);\n    } else {\n      object3d = new LineSegments(bufferGeometry, materials.length === 1 ? materials[0] : materials);\n    }\n  } else if (elementSize === 3) {\n    object3d = new Mesh(bufferGeometry, materials.length === 1 ? materials[0] : materials);\n  }\n  if (isConditionalSegments) {\n    object3d.isConditionalLine = true;\n    const controlArray0 = new Float32Array(elements.length * 3 * 2);\n    const controlArray1 = new Float32Array(elements.length * 3 * 2);\n    const directionArray = new Float32Array(elements.length * 3 * 2);\n    for (let i = 0, l = elements.length; i < l; i++) {\n      const os = elements[i];\n      const vertices = os.vertices;\n      const controlPoints = os.controlPoints;\n      const c0 = controlPoints[0];\n      const c1 = controlPoints[1];\n      const v0 = vertices[0];\n      const v1 = vertices[1];\n      const index = i * 3 * 2;\n      controlArray0[index + 0] = c0.x;\n      controlArray0[index + 1] = c0.y;\n      controlArray0[index + 2] = c0.z;\n      controlArray0[index + 3] = c0.x;\n      controlArray0[index + 4] = c0.y;\n      controlArray0[index + 5] = c0.z;\n      controlArray1[index + 0] = c1.x;\n      controlArray1[index + 1] = c1.y;\n      controlArray1[index + 2] = c1.z;\n      controlArray1[index + 3] = c1.x;\n      controlArray1[index + 4] = c1.y;\n      controlArray1[index + 5] = c1.z;\n      directionArray[index + 0] = v1.x - v0.x;\n      directionArray[index + 1] = v1.y - v0.y;\n      directionArray[index + 2] = v1.z - v0.z;\n      directionArray[index + 3] = v1.x - v0.x;\n      directionArray[index + 4] = v1.y - v0.y;\n      directionArray[index + 5] = v1.z - v0.z;\n    }\n    bufferGeometry.setAttribute(\"control0\", new BufferAttribute(controlArray0, 3, false));\n    bufferGeometry.setAttribute(\"control1\", new BufferAttribute(controlArray1, 3, false));\n    bufferGeometry.setAttribute(\"direction\", new BufferAttribute(directionArray, 3, false));\n  }\n  return object3d;\n}\nclass LDrawLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n    this.materials = [];\n    this.materialLibrary = {};\n    this.partsCache = new LDrawPartsGeometryCache(this);\n    this.fileMap = {};\n    this.setMaterials([]);\n    this.smoothNormals = true;\n    this.partsLibraryPath = \"\";\n  }\n  setPartsLibraryPath(path) {\n    this.partsLibraryPath = path;\n    return this;\n  }\n  async preloadMaterials(url) {\n    const fileLoader = new FileLoader(this.manager);\n    fileLoader.setPath(this.path);\n    fileLoader.setRequestHeader(this.requestHeader);\n    fileLoader.setWithCredentials(this.withCredentials);\n    const text = await fileLoader.loadAsync(url);\n    const colorLineRegex = /^0 !COLOUR/;\n    const lines = text.split(/[\\n\\r]/g);\n    const materials = [];\n    for (let i = 0, l = lines.length; i < l; i++) {\n      const line = lines[i];\n      if (colorLineRegex.test(line)) {\n        const directive = line.replace(colorLineRegex, \"\");\n        const material = this.parseColorMetaDirective(new LineParser(directive));\n        materials.push(material);\n      }\n    }\n    this.setMaterials(materials);\n  }\n  load(url, onLoad, onProgress, onError) {\n    const fileLoader = new FileLoader(this.manager);\n    fileLoader.setPath(this.path);\n    fileLoader.setRequestHeader(this.requestHeader);\n    fileLoader.setWithCredentials(this.withCredentials);\n    fileLoader.load(\n      url,\n      (text) => {\n        this.partsCache.parseModel(text, this.materialLibrary).then((group) => {\n          this.applyMaterialsToMesh(group, MAIN_COLOUR_CODE, this.materialLibrary, true);\n          this.computeConstructionSteps(group);\n          onLoad(group);\n        }).catch(onError);\n      },\n      onProgress,\n      onError\n    );\n  }\n  parse(text, onLoad) {\n    this.partsCache.parseModel(text, this.materialLibrary).then((group) => {\n      this.computeConstructionSteps(group);\n      onLoad(group);\n    });\n  }\n  setMaterials(materials) {\n    this.materialLibrary = {};\n    this.materials = [];\n    for (let i = 0, l = materials.length; i < l; i++) {\n      this.addMaterial(materials[i]);\n    }\n    this.addMaterial(this.parseColorMetaDirective(new LineParser(\"Main_Colour CODE 16 VALUE #FF8080 EDGE #333333\")));\n    this.addMaterial(this.parseColorMetaDirective(new LineParser(\"Edge_Colour CODE 24 VALUE #A0A0A0 EDGE #333333\")));\n    return this;\n  }\n  setFileMap(fileMap) {\n    this.fileMap = fileMap;\n    return this;\n  }\n  addMaterial(material) {\n    const matLib = this.materialLibrary;\n    if (!matLib[material.userData.code]) {\n      this.materials.push(material);\n      matLib[material.userData.code] = material;\n    }\n    return this;\n  }\n  getMaterial(colorCode) {\n    if (colorCode.startsWith(\"0x2\")) {\n      const color = colorCode.substring(3);\n      return this.parseColorMetaDirective(\n        new LineParser(\"Direct_Color_\" + color + \" CODE -1 VALUE #\" + color + \" EDGE #\" + color)\n      );\n    }\n    return this.materialLibrary[colorCode] || null;\n  }\n  // Applies the appropriate materials to a prebuilt hierarchy of geometry. Assumes that color codes are present\n  // in the material array if they need to be filled in.\n  applyMaterialsToMesh(group, parentColorCode, materialHierarchy, finalMaterialPass = false) {\n    const loader = this;\n    const parentIsPassthrough = parentColorCode === MAIN_COLOUR_CODE;\n    group.traverse((c) => {\n      if (c.isMesh || c.isLineSegments) {\n        if (Array.isArray(c.material)) {\n          for (let i = 0, l = c.material.length; i < l; i++) {\n            if (!c.material[i].isMaterial) {\n              c.material[i] = getMaterial(c, c.material[i]);\n            }\n          }\n        } else if (!c.material.isMaterial) {\n          c.material = getMaterial(c, c.material);\n        }\n      }\n    });\n    function getMaterial(c, colorCode) {\n      if (parentIsPassthrough && !(colorCode in materialHierarchy) && !finalMaterialPass) {\n        return colorCode;\n      }\n      const forEdge = c.isLineSegments || c.isConditionalLine;\n      const isPassthrough = !forEdge && colorCode === MAIN_COLOUR_CODE || forEdge && colorCode === MAIN_EDGE_COLOUR_CODE;\n      if (isPassthrough) {\n        colorCode = parentColorCode;\n      }\n      let material = null;\n      if (colorCode in materialHierarchy) {\n        material = materialHierarchy[colorCode];\n      } else if (finalMaterialPass) {\n        material = loader.getMaterial(colorCode);\n        if (material === null) {\n          throw new Error(`LDrawLoader: Material properties for code ${colorCode} not available.`);\n        }\n      } else {\n        return colorCode;\n      }\n      if (c.isLineSegments) {\n        material = material.userData.edgeMaterial;\n        if (c.isConditionalLine) {\n          material = material.userData.conditionalEdgeMaterial;\n        }\n      }\n      return material;\n    }\n  }\n  getMainMaterial() {\n    return this.getMaterial(MAIN_COLOUR_CODE);\n  }\n  getMainEdgeMaterial() {\n    return this.getMaterial(MAIN_EDGE_COLOUR_CODE);\n  }\n  parseColorMetaDirective(lineParser) {\n    let code = null;\n    let color = 16711935;\n    let edgeColor = 16711935;\n    let alpha = 1;\n    let isTransparent = false;\n    let luminance = 0;\n    let finishType = FINISH_TYPE_DEFAULT;\n    let edgeMaterial = null;\n    const name = lineParser.getToken();\n    if (!name) {\n      throw new Error(\n        'LDrawLoader: Material name was expected after \"!COLOUR tag' + lineParser.getLineNumberString() + \".\"\n      );\n    }\n    let token = null;\n    while (true) {\n      token = lineParser.getToken();\n      if (!token) {\n        break;\n      }\n      switch (token.toUpperCase()) {\n        case \"CODE\":\n          code = lineParser.getToken();\n          break;\n        case \"VALUE\":\n          color = lineParser.getToken();\n          if (color.startsWith(\"0x\")) {\n            color = \"#\" + color.substring(2);\n          } else if (!color.startsWith(\"#\")) {\n            throw new Error(\n              \"LDrawLoader: Invalid color while parsing material\" + lineParser.getLineNumberString() + \".\"\n            );\n          }\n          break;\n        case \"EDGE\":\n          edgeColor = lineParser.getToken();\n          if (edgeColor.startsWith(\"0x\")) {\n            edgeColor = \"#\" + edgeColor.substring(2);\n          } else if (!edgeColor.startsWith(\"#\")) {\n            edgeMaterial = this.getMaterial(edgeColor);\n            if (!edgeMaterial) {\n              throw new Error(\n                \"LDrawLoader: Invalid edge color while parsing material\" + lineParser.getLineNumberString() + \".\"\n              );\n            }\n            edgeMaterial = edgeMaterial.userData.edgeMaterial;\n          }\n          break;\n        case \"ALPHA\":\n          alpha = parseInt(lineParser.getToken());\n          if (isNaN(alpha)) {\n            throw new Error(\n              \"LDrawLoader: Invalid alpha value in material definition\" + lineParser.getLineNumberString() + \".\"\n            );\n          }\n          alpha = Math.max(0, Math.min(1, alpha / 255));\n          if (alpha < 1) {\n            isTransparent = true;\n          }\n          break;\n        case \"LUMINANCE\":\n          luminance = parseInt(lineParser.getToken());\n          if (isNaN(luminance)) {\n            throw new Error(\n              \"LDrawLoader: Invalid luminance value in material definition\" + LineParser.getLineNumberString() + \".\"\n            );\n          }\n          luminance = Math.max(0, Math.min(1, luminance / 255));\n          break;\n        case \"CHROME\":\n          finishType = FINISH_TYPE_CHROME;\n          break;\n        case \"PEARLESCENT\":\n          finishType = FINISH_TYPE_PEARLESCENT;\n          break;\n        case \"RUBBER\":\n          finishType = FINISH_TYPE_RUBBER;\n          break;\n        case \"MATTE_METALLIC\":\n          finishType = FINISH_TYPE_MATTE_METALLIC;\n          break;\n        case \"METAL\":\n          finishType = FINISH_TYPE_METAL;\n          break;\n        case \"MATERIAL\":\n          lineParser.setToEnd();\n          break;\n        default:\n          throw new Error(\n            'LDrawLoader: Unknown token \"' + token + '\" while parsing material' + lineParser.getLineNumberString() + \".\"\n          );\n      }\n    }\n    let material = null;\n    switch (finishType) {\n      case FINISH_TYPE_DEFAULT:\n        material = new MeshStandardMaterial({ color, roughness: 0.3, metalness: 0 });\n        break;\n      case FINISH_TYPE_PEARLESCENT:\n        material = new MeshStandardMaterial({ color, roughness: 0.3, metalness: 0.25 });\n        break;\n      case FINISH_TYPE_CHROME:\n        material = new MeshStandardMaterial({ color, roughness: 0, metalness: 1 });\n        break;\n      case FINISH_TYPE_RUBBER:\n        material = new MeshStandardMaterial({ color, roughness: 0.9, metalness: 0 });\n        break;\n      case FINISH_TYPE_MATTE_METALLIC:\n        material = new MeshStandardMaterial({ color, roughness: 0.8, metalness: 0.4 });\n        break;\n      case FINISH_TYPE_METAL:\n        material = new MeshStandardMaterial({ color, roughness: 0.2, metalness: 0.85 });\n        break;\n      default:\n        break;\n    }\n    material.transparent = isTransparent;\n    material.premultipliedAlpha = true;\n    material.opacity = alpha;\n    material.depthWrite = !isTransparent;\n    material.polygonOffset = true;\n    material.polygonOffsetFactor = 1;\n    if (luminance !== 0) {\n      material.emissive.set(material.color).multiplyScalar(luminance);\n    }\n    if (!edgeMaterial) {\n      edgeMaterial = new LineBasicMaterial({\n        color: edgeColor,\n        transparent: isTransparent,\n        opacity: alpha,\n        depthWrite: !isTransparent\n      });\n      edgeMaterial.userData.code = code;\n      edgeMaterial.name = name + \" - Edge\";\n      edgeMaterial.userData.conditionalEdgeMaterial = new LDrawConditionalLineMaterial({\n        fog: true,\n        transparent: isTransparent,\n        depthWrite: !isTransparent,\n        color: edgeColor,\n        opacity: alpha\n      });\n    }\n    material.userData.code = code;\n    material.name = name;\n    material.userData.edgeMaterial = edgeMaterial;\n    this.addMaterial(material);\n    return material;\n  }\n  computeConstructionSteps(model) {\n    let stepNumber = 0;\n    model.traverse((c) => {\n      if (c.isGroup) {\n        if (c.userData.startingConstructionStep) {\n          stepNumber++;\n        }\n        c.userData.constructionStep = stepNumber;\n      }\n    });\n    model.userData.numConstructionSteps = stepNumber + 1;\n  }\n}\nexport {\n  LDrawLoader\n};\n", "import { Loader, FileLoader, ShapePath, Vector2, Path, Matrix3, Vector3, ShapeUtils, Box2, Shape, BufferGeometry, Float32BufferAttribute } from \"three\";\nclass SVGLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n    this.defaultDPI = 90;\n    this.defaultUnit = \"px\";\n  }\n  load(url, onLoad, onProgress, onError) {\n    const scope = this;\n    const loader = new FileLoader(scope.manager);\n    loader.setPath(scope.path);\n    loader.setRequestHeader(scope.requestHeader);\n    loader.setWithCredentials(scope.withCredentials);\n    loader.load(\n      url,\n      function(text) {\n        try {\n          onLoad(scope.parse(text));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n          scope.manager.itemError(url);\n        }\n      },\n      onProgress,\n      onError\n    );\n  }\n  parse(text) {\n    const scope = this;\n    function parseNode(node, style) {\n      if (node.nodeType !== 1)\n        return;\n      const transform = getNodeTransform(node);\n      let traverseChildNodes = true;\n      let path = null;\n      switch (node.nodeName) {\n        case \"svg\":\n          break;\n        case \"style\":\n          parseCSSStylesheet(node);\n          break;\n        case \"g\":\n          style = parseStyle(node, style);\n          break;\n        case \"path\":\n          style = parseStyle(node, style);\n          if (node.hasAttribute(\"d\"))\n            path = parsePathNode(node);\n          break;\n        case \"rect\":\n          style = parseStyle(node, style);\n          path = parseRectNode(node);\n          break;\n        case \"polygon\":\n          style = parseStyle(node, style);\n          path = parsePolygonNode(node);\n          break;\n        case \"polyline\":\n          style = parseStyle(node, style);\n          path = parsePolylineNode(node);\n          break;\n        case \"circle\":\n          style = parseStyle(node, style);\n          path = parseCircleNode(node);\n          break;\n        case \"ellipse\":\n          style = parseStyle(node, style);\n          path = parseEllipseNode(node);\n          break;\n        case \"line\":\n          style = parseStyle(node, style);\n          path = parseLineNode(node);\n          break;\n        case \"defs\":\n          traverseChildNodes = false;\n          break;\n        case \"mask\":\n          traverseChildNodes = false;\n          break;\n        case \"use\":\n          style = parseStyle(node, style);\n          const usedNodeId = node.href.baseVal.substring(1);\n          const usedNode = node.viewportElement.getElementById(usedNodeId);\n          if (usedNode) {\n            parseNode(usedNode, style);\n          } else {\n            console.warn(\"SVGLoader: 'use node' references non-existent node id: \" + usedNodeId);\n          }\n          break;\n        default:\n      }\n      if (path) {\n        if (style.fill !== void 0 && style.fill !== \"none\") {\n          path.color.setStyle(style.fill);\n        }\n        transformPath(path, currentTransform);\n        paths.push(path);\n        path.userData = { node, style };\n      }\n      if (traverseChildNodes) {\n        const nodes = node.childNodes;\n        for (let i = 0; i < nodes.length; i++) {\n          parseNode(nodes[i], style);\n        }\n      }\n      if (transform) {\n        transformStack.pop();\n        if (transformStack.length > 0) {\n          currentTransform.copy(transformStack[transformStack.length - 1]);\n        } else {\n          currentTransform.identity();\n        }\n      }\n    }\n    function parsePathNode(node) {\n      const path = new ShapePath();\n      const point = new Vector2();\n      const control = new Vector2();\n      const firstPoint = new Vector2();\n      let isFirstPoint = true;\n      let doSetFirstPoint = false;\n      const d = node.getAttribute(\"d\");\n      const commands = d.match(/[a-df-z][^a-df-z]*/gi);\n      for (let i = 0, l = commands.length; i < l; i++) {\n        const command = commands[i];\n        const type = command.charAt(0);\n        const data2 = command.substr(1).trim();\n        if (isFirstPoint === true) {\n          doSetFirstPoint = true;\n          isFirstPoint = false;\n        }\n        let numbers;\n        switch (type) {\n          case \"M\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j += 2) {\n              point.x = numbers[j + 0];\n              point.y = numbers[j + 1];\n              control.x = point.x;\n              control.y = point.y;\n              if (j === 0) {\n                path.moveTo(point.x, point.y);\n              } else {\n                path.lineTo(point.x, point.y);\n              }\n              if (j === 0)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"H\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j++) {\n              point.x = numbers[j];\n              control.x = point.x;\n              control.y = point.y;\n              path.lineTo(point.x, point.y);\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"V\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j++) {\n              point.y = numbers[j];\n              control.x = point.x;\n              control.y = point.y;\n              path.lineTo(point.x, point.y);\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"L\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j += 2) {\n              point.x = numbers[j + 0];\n              point.y = numbers[j + 1];\n              control.x = point.x;\n              control.y = point.y;\n              path.lineTo(point.x, point.y);\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"C\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j += 6) {\n              path.bezierCurveTo(\n                numbers[j + 0],\n                numbers[j + 1],\n                numbers[j + 2],\n                numbers[j + 3],\n                numbers[j + 4],\n                numbers[j + 5]\n              );\n              control.x = numbers[j + 2];\n              control.y = numbers[j + 3];\n              point.x = numbers[j + 4];\n              point.y = numbers[j + 5];\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"S\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j += 4) {\n              path.bezierCurveTo(\n                getReflection(point.x, control.x),\n                getReflection(point.y, control.y),\n                numbers[j + 0],\n                numbers[j + 1],\n                numbers[j + 2],\n                numbers[j + 3]\n              );\n              control.x = numbers[j + 0];\n              control.y = numbers[j + 1];\n              point.x = numbers[j + 2];\n              point.y = numbers[j + 3];\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"Q\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j += 4) {\n              path.quadraticCurveTo(numbers[j + 0], numbers[j + 1], numbers[j + 2], numbers[j + 3]);\n              control.x = numbers[j + 0];\n              control.y = numbers[j + 1];\n              point.x = numbers[j + 2];\n              point.y = numbers[j + 3];\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"T\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j += 2) {\n              const rx = getReflection(point.x, control.x);\n              const ry = getReflection(point.y, control.y);\n              path.quadraticCurveTo(rx, ry, numbers[j + 0], numbers[j + 1]);\n              control.x = rx;\n              control.y = ry;\n              point.x = numbers[j + 0];\n              point.y = numbers[j + 1];\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"A\":\n            numbers = parseFloats(data2, [3, 4], 7);\n            for (let j = 0, jl = numbers.length; j < jl; j += 7) {\n              if (numbers[j + 5] == point.x && numbers[j + 6] == point.y)\n                continue;\n              const start = point.clone();\n              point.x = numbers[j + 5];\n              point.y = numbers[j + 6];\n              control.x = point.x;\n              control.y = point.y;\n              parseArcCommand(\n                path,\n                numbers[j],\n                numbers[j + 1],\n                numbers[j + 2],\n                numbers[j + 3],\n                numbers[j + 4],\n                start,\n                point\n              );\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"m\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j += 2) {\n              point.x += numbers[j + 0];\n              point.y += numbers[j + 1];\n              control.x = point.x;\n              control.y = point.y;\n              if (j === 0) {\n                path.moveTo(point.x, point.y);\n              } else {\n                path.lineTo(point.x, point.y);\n              }\n              if (j === 0)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"h\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j++) {\n              point.x += numbers[j];\n              control.x = point.x;\n              control.y = point.y;\n              path.lineTo(point.x, point.y);\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"v\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j++) {\n              point.y += numbers[j];\n              control.x = point.x;\n              control.y = point.y;\n              path.lineTo(point.x, point.y);\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"l\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j += 2) {\n              point.x += numbers[j + 0];\n              point.y += numbers[j + 1];\n              control.x = point.x;\n              control.y = point.y;\n              path.lineTo(point.x, point.y);\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"c\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j += 6) {\n              path.bezierCurveTo(\n                point.x + numbers[j + 0],\n                point.y + numbers[j + 1],\n                point.x + numbers[j + 2],\n                point.y + numbers[j + 3],\n                point.x + numbers[j + 4],\n                point.y + numbers[j + 5]\n              );\n              control.x = point.x + numbers[j + 2];\n              control.y = point.y + numbers[j + 3];\n              point.x += numbers[j + 4];\n              point.y += numbers[j + 5];\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"s\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j += 4) {\n              path.bezierCurveTo(\n                getReflection(point.x, control.x),\n                getReflection(point.y, control.y),\n                point.x + numbers[j + 0],\n                point.y + numbers[j + 1],\n                point.x + numbers[j + 2],\n                point.y + numbers[j + 3]\n              );\n              control.x = point.x + numbers[j + 0];\n              control.y = point.y + numbers[j + 1];\n              point.x += numbers[j + 2];\n              point.y += numbers[j + 3];\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"q\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j += 4) {\n              path.quadraticCurveTo(\n                point.x + numbers[j + 0],\n                point.y + numbers[j + 1],\n                point.x + numbers[j + 2],\n                point.y + numbers[j + 3]\n              );\n              control.x = point.x + numbers[j + 0];\n              control.y = point.y + numbers[j + 1];\n              point.x += numbers[j + 2];\n              point.y += numbers[j + 3];\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"t\":\n            numbers = parseFloats(data2);\n            for (let j = 0, jl = numbers.length; j < jl; j += 2) {\n              const rx = getReflection(point.x, control.x);\n              const ry = getReflection(point.y, control.y);\n              path.quadraticCurveTo(rx, ry, point.x + numbers[j + 0], point.y + numbers[j + 1]);\n              control.x = rx;\n              control.y = ry;\n              point.x = point.x + numbers[j + 0];\n              point.y = point.y + numbers[j + 1];\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"a\":\n            numbers = parseFloats(data2, [3, 4], 7);\n            for (let j = 0, jl = numbers.length; j < jl; j += 7) {\n              if (numbers[j + 5] == 0 && numbers[j + 6] == 0)\n                continue;\n              const start = point.clone();\n              point.x += numbers[j + 5];\n              point.y += numbers[j + 6];\n              control.x = point.x;\n              control.y = point.y;\n              parseArcCommand(\n                path,\n                numbers[j],\n                numbers[j + 1],\n                numbers[j + 2],\n                numbers[j + 3],\n                numbers[j + 4],\n                start,\n                point\n              );\n              if (j === 0 && doSetFirstPoint === true)\n                firstPoint.copy(point);\n            }\n            break;\n          case \"Z\":\n          case \"z\":\n            path.currentPath.autoClose = true;\n            if (path.currentPath.curves.length > 0) {\n              point.copy(firstPoint);\n              path.currentPath.currentPoint.copy(point);\n              isFirstPoint = true;\n            }\n            break;\n          default:\n            console.warn(command);\n        }\n        doSetFirstPoint = false;\n      }\n      return path;\n    }\n    function parseCSSStylesheet(node) {\n      if (!node.sheet || !node.sheet.cssRules || !node.sheet.cssRules.length)\n        return;\n      for (let i = 0; i < node.sheet.cssRules.length; i++) {\n        const stylesheet = node.sheet.cssRules[i];\n        if (stylesheet.type !== 1)\n          continue;\n        const selectorList = stylesheet.selectorText.split(/,/gm).filter(Boolean).map((i2) => i2.trim());\n        for (let j = 0; j < selectorList.length; j++) {\n          stylesheets[selectorList[j]] = Object.assign(stylesheets[selectorList[j]] || {}, stylesheet.style);\n        }\n      }\n    }\n    function parseArcCommand(path, rx, ry, x_axis_rotation, large_arc_flag, sweep_flag, start, end) {\n      if (rx == 0 || ry == 0) {\n        path.lineTo(end.x, end.y);\n        return;\n      }\n      x_axis_rotation = x_axis_rotation * Math.PI / 180;\n      rx = Math.abs(rx);\n      ry = Math.abs(ry);\n      const dx2 = (start.x - end.x) / 2;\n      const dy2 = (start.y - end.y) / 2;\n      const x1p = Math.cos(x_axis_rotation) * dx2 + Math.sin(x_axis_rotation) * dy2;\n      const y1p = -Math.sin(x_axis_rotation) * dx2 + Math.cos(x_axis_rotation) * dy2;\n      let rxs = rx * rx;\n      let rys = ry * ry;\n      const x1ps = x1p * x1p;\n      const y1ps = y1p * y1p;\n      const cr = x1ps / rxs + y1ps / rys;\n      if (cr > 1) {\n        const s = Math.sqrt(cr);\n        rx = s * rx;\n        ry = s * ry;\n        rxs = rx * rx;\n        rys = ry * ry;\n      }\n      const dq = rxs * y1ps + rys * x1ps;\n      const pq = (rxs * rys - dq) / dq;\n      let q = Math.sqrt(Math.max(0, pq));\n      if (large_arc_flag === sweep_flag)\n        q = -q;\n      const cxp = q * rx * y1p / ry;\n      const cyp = -q * ry * x1p / rx;\n      const cx = Math.cos(x_axis_rotation) * cxp - Math.sin(x_axis_rotation) * cyp + (start.x + end.x) / 2;\n      const cy = Math.sin(x_axis_rotation) * cxp + Math.cos(x_axis_rotation) * cyp + (start.y + end.y) / 2;\n      const theta = svgAngle(1, 0, (x1p - cxp) / rx, (y1p - cyp) / ry);\n      const delta = svgAngle((x1p - cxp) / rx, (y1p - cyp) / ry, (-x1p - cxp) / rx, (-y1p - cyp) / ry) % (Math.PI * 2);\n      path.currentPath.absellipse(cx, cy, rx, ry, theta, theta + delta, sweep_flag === 0, x_axis_rotation);\n    }\n    function svgAngle(ux, uy, vx, vy) {\n      const dot = ux * vx + uy * vy;\n      const len = Math.sqrt(ux * ux + uy * uy) * Math.sqrt(vx * vx + vy * vy);\n      let ang = Math.acos(Math.max(-1, Math.min(1, dot / len)));\n      if (ux * vy - uy * vx < 0)\n        ang = -ang;\n      return ang;\n    }\n    function parseRectNode(node) {\n      const x = parseFloatWithUnits(node.getAttribute(\"x\") || 0);\n      const y = parseFloatWithUnits(node.getAttribute(\"y\") || 0);\n      const rx = parseFloatWithUnits(node.getAttribute(\"rx\") || node.getAttribute(\"ry\") || 0);\n      const ry = parseFloatWithUnits(node.getAttribute(\"ry\") || node.getAttribute(\"rx\") || 0);\n      const w = parseFloatWithUnits(node.getAttribute(\"width\"));\n      const h = parseFloatWithUnits(node.getAttribute(\"height\"));\n      const bci = 1 - 0.551915024494;\n      const path = new ShapePath();\n      path.moveTo(x + rx, y);\n      path.lineTo(x + w - rx, y);\n      if (rx !== 0 || ry !== 0) {\n        path.bezierCurveTo(x + w - rx * bci, y, x + w, y + ry * bci, x + w, y + ry);\n      }\n      path.lineTo(x + w, y + h - ry);\n      if (rx !== 0 || ry !== 0) {\n        path.bezierCurveTo(x + w, y + h - ry * bci, x + w - rx * bci, y + h, x + w - rx, y + h);\n      }\n      path.lineTo(x + rx, y + h);\n      if (rx !== 0 || ry !== 0) {\n        path.bezierCurveTo(x + rx * bci, y + h, x, y + h - ry * bci, x, y + h - ry);\n      }\n      path.lineTo(x, y + ry);\n      if (rx !== 0 || ry !== 0) {\n        path.bezierCurveTo(x, y + ry * bci, x + rx * bci, y, x + rx, y);\n      }\n      return path;\n    }\n    function parsePolygonNode(node) {\n      function iterator(match, a, b) {\n        const x = parseFloatWithUnits(a);\n        const y = parseFloatWithUnits(b);\n        if (index === 0) {\n          path.moveTo(x, y);\n        } else {\n          path.lineTo(x, y);\n        }\n        index++;\n      }\n      const regex = /(-?[\\d\\.?]+)[,|\\s](-?[\\d\\.?]+)/g;\n      const path = new ShapePath();\n      let index = 0;\n      node.getAttribute(\"points\").replace(regex, iterator);\n      path.currentPath.autoClose = true;\n      return path;\n    }\n    function parsePolylineNode(node) {\n      function iterator(match, a, b) {\n        const x = parseFloatWithUnits(a);\n        const y = parseFloatWithUnits(b);\n        if (index === 0) {\n          path.moveTo(x, y);\n        } else {\n          path.lineTo(x, y);\n        }\n        index++;\n      }\n      const regex = /(-?[\\d\\.?]+)[,|\\s](-?[\\d\\.?]+)/g;\n      const path = new ShapePath();\n      let index = 0;\n      node.getAttribute(\"points\").replace(regex, iterator);\n      path.currentPath.autoClose = false;\n      return path;\n    }\n    function parseCircleNode(node) {\n      const x = parseFloatWithUnits(node.getAttribute(\"cx\") || 0);\n      const y = parseFloatWithUnits(node.getAttribute(\"cy\") || 0);\n      const r = parseFloatWithUnits(node.getAttribute(\"r\") || 0);\n      const subpath = new Path();\n      subpath.absarc(x, y, r, 0, Math.PI * 2);\n      const path = new ShapePath();\n      path.subPaths.push(subpath);\n      return path;\n    }\n    function parseEllipseNode(node) {\n      const x = parseFloatWithUnits(node.getAttribute(\"cx\") || 0);\n      const y = parseFloatWithUnits(node.getAttribute(\"cy\") || 0);\n      const rx = parseFloatWithUnits(node.getAttribute(\"rx\") || 0);\n      const ry = parseFloatWithUnits(node.getAttribute(\"ry\") || 0);\n      const subpath = new Path();\n      subpath.absellipse(x, y, rx, ry, 0, Math.PI * 2);\n      const path = new ShapePath();\n      path.subPaths.push(subpath);\n      return path;\n    }\n    function parseLineNode(node) {\n      const x1 = parseFloatWithUnits(node.getAttribute(\"x1\") || 0);\n      const y1 = parseFloatWithUnits(node.getAttribute(\"y1\") || 0);\n      const x2 = parseFloatWithUnits(node.getAttribute(\"x2\") || 0);\n      const y2 = parseFloatWithUnits(node.getAttribute(\"y2\") || 0);\n      const path = new ShapePath();\n      path.moveTo(x1, y1);\n      path.lineTo(x2, y2);\n      path.currentPath.autoClose = false;\n      return path;\n    }\n    function parseStyle(node, style) {\n      style = Object.assign({}, style);\n      let stylesheetStyles = {};\n      if (node.hasAttribute(\"class\")) {\n        const classSelectors = node.getAttribute(\"class\").split(/\\s/).filter(Boolean).map((i) => i.trim());\n        for (let i = 0; i < classSelectors.length; i++) {\n          stylesheetStyles = Object.assign(stylesheetStyles, stylesheets[\".\" + classSelectors[i]]);\n        }\n      }\n      if (node.hasAttribute(\"id\")) {\n        stylesheetStyles = Object.assign(stylesheetStyles, stylesheets[\"#\" + node.getAttribute(\"id\")]);\n      }\n      function addStyle(svgName, jsName, adjustFunction) {\n        if (adjustFunction === void 0) {\n          adjustFunction = function copy(v) {\n            if (v.startsWith(\"url\"))\n              console.warn(\"SVGLoader: url access in attributes is not implemented.\");\n            return v;\n          };\n        }\n        if (node.hasAttribute(svgName))\n          style[jsName] = adjustFunction(node.getAttribute(svgName));\n        if (stylesheetStyles[svgName])\n          style[jsName] = adjustFunction(stylesheetStyles[svgName]);\n        if (node.style && node.style[svgName] !== \"\")\n          style[jsName] = adjustFunction(node.style[svgName]);\n      }\n      function clamp(v) {\n        return Math.max(0, Math.min(1, parseFloatWithUnits(v)));\n      }\n      function positive(v) {\n        return Math.max(0, parseFloatWithUnits(v));\n      }\n      addStyle(\"fill\", \"fill\");\n      addStyle(\"fill-opacity\", \"fillOpacity\", clamp);\n      addStyle(\"fill-rule\", \"fillRule\");\n      addStyle(\"opacity\", \"opacity\", clamp);\n      addStyle(\"stroke\", \"stroke\");\n      addStyle(\"stroke-opacity\", \"strokeOpacity\", clamp);\n      addStyle(\"stroke-width\", \"strokeWidth\", positive);\n      addStyle(\"stroke-linejoin\", \"strokeLineJoin\");\n      addStyle(\"stroke-linecap\", \"strokeLineCap\");\n      addStyle(\"stroke-miterlimit\", \"strokeMiterLimit\", positive);\n      addStyle(\"visibility\", \"visibility\");\n      return style;\n    }\n    function getReflection(a, b) {\n      return a - (b - a);\n    }\n    function parseFloats(input, flags, stride) {\n      if (typeof input !== \"string\") {\n        throw new TypeError(\"Invalid input: \" + typeof input);\n      }\n      const RE = {\n        SEPARATOR: /[ \\t\\r\\n\\,.\\-+]/,\n        WHITESPACE: /[ \\t\\r\\n]/,\n        DIGIT: /[\\d]/,\n        SIGN: /[-+]/,\n        POINT: /\\./,\n        COMMA: /,/,\n        EXP: /e/i,\n        FLAGS: /[01]/\n      };\n      const SEP = 0;\n      const INT = 1;\n      const FLOAT = 2;\n      const EXP = 3;\n      let state = SEP;\n      let seenComma = true;\n      let number = \"\", exponent = \"\";\n      const result = [];\n      function throwSyntaxError(current2, i, partial) {\n        const error = new SyntaxError('Unexpected character \"' + current2 + '\" at index ' + i + \".\");\n        error.partial = partial;\n        throw error;\n      }\n      function newNumber() {\n        if (number !== \"\") {\n          if (exponent === \"\")\n            result.push(Number(number));\n          else\n            result.push(Number(number) * Math.pow(10, Number(exponent)));\n        }\n        number = \"\";\n        exponent = \"\";\n      }\n      let current;\n      const length = input.length;\n      for (let i = 0; i < length; i++) {\n        current = input[i];\n        if (Array.isArray(flags) && flags.includes(result.length % stride) && RE.FLAGS.test(current)) {\n          state = INT;\n          number = current;\n          newNumber();\n          continue;\n        }\n        if (state === SEP) {\n          if (RE.WHITESPACE.test(current)) {\n            continue;\n          }\n          if (RE.DIGIT.test(current) || RE.SIGN.test(current)) {\n            state = INT;\n            number = current;\n            continue;\n          }\n          if (RE.POINT.test(current)) {\n            state = FLOAT;\n            number = current;\n            continue;\n          }\n          if (RE.COMMA.test(current)) {\n            if (seenComma) {\n              throwSyntaxError(current, i, result);\n            }\n            seenComma = true;\n          }\n        }\n        if (state === INT) {\n          if (RE.DIGIT.test(current)) {\n            number += current;\n            continue;\n          }\n          if (RE.POINT.test(current)) {\n            number += current;\n            state = FLOAT;\n            continue;\n          }\n          if (RE.EXP.test(current)) {\n            state = EXP;\n            continue;\n          }\n          if (RE.SIGN.test(current) && number.length === 1 && RE.SIGN.test(number[0])) {\n            throwSyntaxError(current, i, result);\n          }\n        }\n        if (state === FLOAT) {\n          if (RE.DIGIT.test(current)) {\n            number += current;\n            continue;\n          }\n          if (RE.EXP.test(current)) {\n            state = EXP;\n            continue;\n          }\n          if (RE.POINT.test(current) && number[number.length - 1] === \".\") {\n            throwSyntaxError(current, i, result);\n          }\n        }\n        if (state === EXP) {\n          if (RE.DIGIT.test(current)) {\n            exponent += current;\n            continue;\n          }\n          if (RE.SIGN.test(current)) {\n            if (exponent === \"\") {\n              exponent += current;\n              continue;\n            }\n            if (exponent.length === 1 && RE.SIGN.test(exponent)) {\n              throwSyntaxError(current, i, result);\n            }\n          }\n        }\n        if (RE.WHITESPACE.test(current)) {\n          newNumber();\n          state = SEP;\n          seenComma = false;\n        } else if (RE.COMMA.test(current)) {\n          newNumber();\n          state = SEP;\n          seenComma = true;\n        } else if (RE.SIGN.test(current)) {\n          newNumber();\n          state = INT;\n          number = current;\n        } else if (RE.POINT.test(current)) {\n          newNumber();\n          state = FLOAT;\n          number = current;\n        } else {\n          throwSyntaxError(current, i, result);\n        }\n      }\n      newNumber();\n      return result;\n    }\n    const units = [\"mm\", \"cm\", \"in\", \"pt\", \"pc\", \"px\"];\n    const unitConversion = {\n      mm: {\n        mm: 1,\n        cm: 0.1,\n        in: 1 / 25.4,\n        pt: 72 / 25.4,\n        pc: 6 / 25.4,\n        px: -1\n      },\n      cm: {\n        mm: 10,\n        cm: 1,\n        in: 1 / 2.54,\n        pt: 72 / 2.54,\n        pc: 6 / 2.54,\n        px: -1\n      },\n      in: {\n        mm: 25.4,\n        cm: 2.54,\n        in: 1,\n        pt: 72,\n        pc: 6,\n        px: -1\n      },\n      pt: {\n        mm: 25.4 / 72,\n        cm: 2.54 / 72,\n        in: 1 / 72,\n        pt: 1,\n        pc: 6 / 72,\n        px: -1\n      },\n      pc: {\n        mm: 25.4 / 6,\n        cm: 2.54 / 6,\n        in: 1 / 6,\n        pt: 72 / 6,\n        pc: 1,\n        px: -1\n      },\n      px: {\n        px: 1\n      }\n    };\n    function parseFloatWithUnits(string) {\n      let theUnit = \"px\";\n      if (typeof string === \"string\" || string instanceof String) {\n        for (let i = 0, n = units.length; i < n; i++) {\n          const u = units[i];\n          if (string.endsWith(u)) {\n            theUnit = u;\n            string = string.substring(0, string.length - u.length);\n            break;\n          }\n        }\n      }\n      let scale = void 0;\n      if (theUnit === \"px\" && scope.defaultUnit !== \"px\") {\n        scale = unitConversion[\"in\"][scope.defaultUnit] / scope.defaultDPI;\n      } else {\n        scale = unitConversion[theUnit][scope.defaultUnit];\n        if (scale < 0) {\n          scale = unitConversion[theUnit][\"in\"] * scope.defaultDPI;\n        }\n      }\n      return scale * parseFloat(string);\n    }\n    function getNodeTransform(node) {\n      if (!(node.hasAttribute(\"transform\") || node.nodeName === \"use\" && (node.hasAttribute(\"x\") || node.hasAttribute(\"y\")))) {\n        return null;\n      }\n      const transform = parseNodeTransform(node);\n      if (transformStack.length > 0) {\n        transform.premultiply(transformStack[transformStack.length - 1]);\n      }\n      currentTransform.copy(transform);\n      transformStack.push(transform);\n      return transform;\n    }\n    function parseNodeTransform(node) {\n      const transform = new Matrix3();\n      const currentTransform2 = tempTransform0;\n      if (node.nodeName === \"use\" && (node.hasAttribute(\"x\") || node.hasAttribute(\"y\"))) {\n        const tx = parseFloatWithUnits(node.getAttribute(\"x\"));\n        const ty = parseFloatWithUnits(node.getAttribute(\"y\"));\n        transform.translate(tx, ty);\n      }\n      if (node.hasAttribute(\"transform\")) {\n        const transformsTexts = node.getAttribute(\"transform\").split(\")\");\n        for (let tIndex = transformsTexts.length - 1; tIndex >= 0; tIndex--) {\n          const transformText = transformsTexts[tIndex].trim();\n          if (transformText === \"\")\n            continue;\n          const openParPos = transformText.indexOf(\"(\");\n          const closeParPos = transformText.length;\n          if (openParPos > 0 && openParPos < closeParPos) {\n            const transformType = transformText.substr(0, openParPos);\n            const array = parseFloats(transformText.substr(openParPos + 1, closeParPos - openParPos - 1));\n            currentTransform2.identity();\n            switch (transformType) {\n              case \"translate\":\n                if (array.length >= 1) {\n                  const tx = array[0];\n                  let ty = tx;\n                  if (array.length >= 2) {\n                    ty = array[1];\n                  }\n                  currentTransform2.translate(tx, ty);\n                }\n                break;\n              case \"rotate\":\n                if (array.length >= 1) {\n                  let angle = 0;\n                  let cx = 0;\n                  let cy = 0;\n                  angle = -array[0] * Math.PI / 180;\n                  if (array.length >= 3) {\n                    cx = array[1];\n                    cy = array[2];\n                  }\n                  tempTransform1.identity().translate(-cx, -cy);\n                  tempTransform2.identity().rotate(angle);\n                  tempTransform3.multiplyMatrices(tempTransform2, tempTransform1);\n                  tempTransform1.identity().translate(cx, cy);\n                  currentTransform2.multiplyMatrices(tempTransform1, tempTransform3);\n                }\n                break;\n              case \"scale\":\n                if (array.length >= 1) {\n                  const scaleX = array[0];\n                  let scaleY = scaleX;\n                  if (array.length >= 2) {\n                    scaleY = array[1];\n                  }\n                  currentTransform2.scale(scaleX, scaleY);\n                }\n                break;\n              case \"skewX\":\n                if (array.length === 1) {\n                  currentTransform2.set(1, Math.tan(array[0] * Math.PI / 180), 0, 0, 1, 0, 0, 0, 1);\n                }\n                break;\n              case \"skewY\":\n                if (array.length === 1) {\n                  currentTransform2.set(1, 0, 0, Math.tan(array[0] * Math.PI / 180), 1, 0, 0, 0, 1);\n                }\n                break;\n              case \"matrix\":\n                if (array.length === 6) {\n                  currentTransform2.set(array[0], array[2], array[4], array[1], array[3], array[5], 0, 0, 1);\n                }\n                break;\n            }\n          }\n          transform.premultiply(currentTransform2);\n        }\n      }\n      return transform;\n    }\n    function transformPath(path, m) {\n      function transfVec2(v2) {\n        tempV3.set(v2.x, v2.y, 1).applyMatrix3(m);\n        v2.set(tempV3.x, tempV3.y);\n      }\n      const isRotated = isTransformRotated(m);\n      const subPaths = path.subPaths;\n      for (let i = 0, n = subPaths.length; i < n; i++) {\n        const subPath = subPaths[i];\n        const curves = subPath.curves;\n        for (let j = 0; j < curves.length; j++) {\n          const curve = curves[j];\n          if (curve.isLineCurve) {\n            transfVec2(curve.v1);\n            transfVec2(curve.v2);\n          } else if (curve.isCubicBezierCurve) {\n            transfVec2(curve.v0);\n            transfVec2(curve.v1);\n            transfVec2(curve.v2);\n            transfVec2(curve.v3);\n          } else if (curve.isQuadraticBezierCurve) {\n            transfVec2(curve.v0);\n            transfVec2(curve.v1);\n            transfVec2(curve.v2);\n          } else if (curve.isEllipseCurve) {\n            if (isRotated) {\n              console.warn(\"SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented.\");\n            }\n            tempV2.set(curve.aX, curve.aY);\n            transfVec2(tempV2);\n            curve.aX = tempV2.x;\n            curve.aY = tempV2.y;\n            curve.xRadius *= getTransformScaleX(m);\n            curve.yRadius *= getTransformScaleY(m);\n          }\n        }\n      }\n    }\n    function isTransformRotated(m) {\n      return m.elements[1] !== 0 || m.elements[3] !== 0;\n    }\n    function getTransformScaleX(m) {\n      const te = m.elements;\n      return Math.sqrt(te[0] * te[0] + te[1] * te[1]);\n    }\n    function getTransformScaleY(m) {\n      const te = m.elements;\n      return Math.sqrt(te[3] * te[3] + te[4] * te[4]);\n    }\n    const paths = [];\n    const stylesheets = {};\n    const transformStack = [];\n    const tempTransform0 = new Matrix3();\n    const tempTransform1 = new Matrix3();\n    const tempTransform2 = new Matrix3();\n    const tempTransform3 = new Matrix3();\n    const tempV2 = new Vector2();\n    const tempV3 = new Vector3();\n    const currentTransform = new Matrix3();\n    const xml = new DOMParser().parseFromString(text, \"image/svg+xml\");\n    parseNode(xml.documentElement, {\n      fill: \"#000\",\n      fillOpacity: 1,\n      strokeOpacity: 1,\n      strokeWidth: 1,\n      strokeLineJoin: \"miter\",\n      strokeLineCap: \"butt\",\n      strokeMiterLimit: 4\n    });\n    const data = { paths, xml: xml.documentElement };\n    return data;\n  }\n  static createShapes(shapePath) {\n    const BIGNUMBER = 999999999;\n    const IntersectionLocationType = {\n      ORIGIN: 0,\n      DESTINATION: 1,\n      BETWEEN: 2,\n      LEFT: 3,\n      RIGHT: 4,\n      BEHIND: 5,\n      BEYOND: 6\n    };\n    const classifyResult = {\n      loc: IntersectionLocationType.ORIGIN,\n      t: 0\n    };\n    function findEdgeIntersection(a0, a1, b0, b1) {\n      const x1 = a0.x;\n      const x2 = a1.x;\n      const x3 = b0.x;\n      const x4 = b1.x;\n      const y1 = a0.y;\n      const y2 = a1.y;\n      const y3 = b0.y;\n      const y4 = b1.y;\n      const nom1 = (x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3);\n      const nom2 = (x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3);\n      const denom = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);\n      const t1 = nom1 / denom;\n      const t2 = nom2 / denom;\n      if (denom === 0 && nom1 !== 0 || t1 <= 0 || t1 >= 1 || t2 < 0 || t2 > 1) {\n        return null;\n      } else if (nom1 === 0 && denom === 0) {\n        for (let i = 0; i < 2; i++) {\n          classifyPoint(i === 0 ? b0 : b1, a0, a1);\n          if (classifyResult.loc == IntersectionLocationType.ORIGIN) {\n            const point = i === 0 ? b0 : b1;\n            return { x: point.x, y: point.y, t: classifyResult.t };\n          } else if (classifyResult.loc == IntersectionLocationType.BETWEEN) {\n            const x = +(x1 + classifyResult.t * (x2 - x1)).toPrecision(10);\n            const y = +(y1 + classifyResult.t * (y2 - y1)).toPrecision(10);\n            return { x, y, t: classifyResult.t };\n          }\n        }\n        return null;\n      } else {\n        for (let i = 0; i < 2; i++) {\n          classifyPoint(i === 0 ? b0 : b1, a0, a1);\n          if (classifyResult.loc == IntersectionLocationType.ORIGIN) {\n            const point = i === 0 ? b0 : b1;\n            return { x: point.x, y: point.y, t: classifyResult.t };\n          }\n        }\n        const x = +(x1 + t1 * (x2 - x1)).toPrecision(10);\n        const y = +(y1 + t1 * (y2 - y1)).toPrecision(10);\n        return { x, y, t: t1 };\n      }\n    }\n    function classifyPoint(p, edgeStart, edgeEnd) {\n      const ax = edgeEnd.x - edgeStart.x;\n      const ay = edgeEnd.y - edgeStart.y;\n      const bx = p.x - edgeStart.x;\n      const by = p.y - edgeStart.y;\n      const sa = ax * by - bx * ay;\n      if (p.x === edgeStart.x && p.y === edgeStart.y) {\n        classifyResult.loc = IntersectionLocationType.ORIGIN;\n        classifyResult.t = 0;\n        return;\n      }\n      if (p.x === edgeEnd.x && p.y === edgeEnd.y) {\n        classifyResult.loc = IntersectionLocationType.DESTINATION;\n        classifyResult.t = 1;\n        return;\n      }\n      if (sa < -Number.EPSILON) {\n        classifyResult.loc = IntersectionLocationType.LEFT;\n        return;\n      }\n      if (sa > Number.EPSILON) {\n        classifyResult.loc = IntersectionLocationType.RIGHT;\n        return;\n      }\n      if (ax * bx < 0 || ay * by < 0) {\n        classifyResult.loc = IntersectionLocationType.BEHIND;\n        return;\n      }\n      if (Math.sqrt(ax * ax + ay * ay) < Math.sqrt(bx * bx + by * by)) {\n        classifyResult.loc = IntersectionLocationType.BEYOND;\n        return;\n      }\n      let t;\n      if (ax !== 0) {\n        t = bx / ax;\n      } else {\n        t = by / ay;\n      }\n      classifyResult.loc = IntersectionLocationType.BETWEEN;\n      classifyResult.t = t;\n    }\n    function getIntersections(path1, path2) {\n      const intersectionsRaw = [];\n      const intersections = [];\n      for (let index = 1; index < path1.length; index++) {\n        const path1EdgeStart = path1[index - 1];\n        const path1EdgeEnd = path1[index];\n        for (let index2 = 1; index2 < path2.length; index2++) {\n          const path2EdgeStart = path2[index2 - 1];\n          const path2EdgeEnd = path2[index2];\n          const intersection = findEdgeIntersection(path1EdgeStart, path1EdgeEnd, path2EdgeStart, path2EdgeEnd);\n          if (intersection !== null && intersectionsRaw.find(\n            (i) => i.t <= intersection.t + Number.EPSILON && i.t >= intersection.t - Number.EPSILON\n          ) === void 0) {\n            intersectionsRaw.push(intersection);\n            intersections.push(new Vector2(intersection.x, intersection.y));\n          }\n        }\n      }\n      return intersections;\n    }\n    function getScanlineIntersections(scanline, boundingBox, paths) {\n      const center = new Vector2();\n      boundingBox.getCenter(center);\n      const allIntersections = [];\n      paths.forEach((path) => {\n        if (path.boundingBox.containsPoint(center)) {\n          const intersections = getIntersections(scanline, path.points);\n          intersections.forEach((p) => {\n            allIntersections.push({ identifier: path.identifier, isCW: path.isCW, point: p });\n          });\n        }\n      });\n      allIntersections.sort((i1, i2) => {\n        return i1.point.x - i2.point.x;\n      });\n      return allIntersections;\n    }\n    function isHoleTo(simplePath, allPaths, scanlineMinX2, scanlineMaxX2, _fillRule) {\n      if (_fillRule === null || _fillRule === void 0 || _fillRule === \"\") {\n        _fillRule = \"nonzero\";\n      }\n      const centerBoundingBox = new Vector2();\n      simplePath.boundingBox.getCenter(centerBoundingBox);\n      const scanline = [new Vector2(scanlineMinX2, centerBoundingBox.y), new Vector2(scanlineMaxX2, centerBoundingBox.y)];\n      const scanlineIntersections = getScanlineIntersections(scanline, simplePath.boundingBox, allPaths);\n      scanlineIntersections.sort((i1, i2) => {\n        return i1.point.x - i2.point.x;\n      });\n      const baseIntersections = [];\n      const otherIntersections = [];\n      scanlineIntersections.forEach((i2) => {\n        if (i2.identifier === simplePath.identifier) {\n          baseIntersections.push(i2);\n        } else {\n          otherIntersections.push(i2);\n        }\n      });\n      const firstXOfPath = baseIntersections[0].point.x;\n      const stack = [];\n      let i = 0;\n      while (i < otherIntersections.length && otherIntersections[i].point.x < firstXOfPath) {\n        if (stack.length > 0 && stack[stack.length - 1] === otherIntersections[i].identifier) {\n          stack.pop();\n        } else {\n          stack.push(otherIntersections[i].identifier);\n        }\n        i++;\n      }\n      stack.push(simplePath.identifier);\n      if (_fillRule === \"evenodd\") {\n        const isHole = stack.length % 2 === 0 ? true : false;\n        const isHoleFor = stack[stack.length - 2];\n        return { identifier: simplePath.identifier, isHole, for: isHoleFor };\n      } else if (_fillRule === \"nonzero\") {\n        let isHole = true;\n        let isHoleFor = null;\n        let lastCWValue = null;\n        for (let i2 = 0; i2 < stack.length; i2++) {\n          const identifier2 = stack[i2];\n          if (isHole) {\n            lastCWValue = allPaths[identifier2].isCW;\n            isHole = false;\n            isHoleFor = identifier2;\n          } else if (lastCWValue !== allPaths[identifier2].isCW) {\n            lastCWValue = allPaths[identifier2].isCW;\n            isHole = true;\n          }\n        }\n        return { identifier: simplePath.identifier, isHole, for: isHoleFor };\n      } else {\n        console.warn('fill-rule: \"' + _fillRule + '\" is currently not implemented.');\n      }\n    }\n    let identifier = 0;\n    let scanlineMinX = BIGNUMBER;\n    let scanlineMaxX = -BIGNUMBER;\n    let simplePaths = shapePath.subPaths.map((p) => {\n      const points = p.getPoints();\n      let maxY = -BIGNUMBER;\n      let minY = BIGNUMBER;\n      let maxX = -BIGNUMBER;\n      let minX = BIGNUMBER;\n      for (let i = 0; i < points.length; i++) {\n        const p2 = points[i];\n        if (p2.y > maxY) {\n          maxY = p2.y;\n        }\n        if (p2.y < minY) {\n          minY = p2.y;\n        }\n        if (p2.x > maxX) {\n          maxX = p2.x;\n        }\n        if (p2.x < minX) {\n          minX = p2.x;\n        }\n      }\n      if (scanlineMaxX <= maxX) {\n        scanlineMaxX = maxX + 1;\n      }\n      if (scanlineMinX >= minX) {\n        scanlineMinX = minX - 1;\n      }\n      return {\n        curves: p.curves,\n        points,\n        isCW: ShapeUtils.isClockWise(points),\n        identifier: identifier++,\n        boundingBox: new Box2(new Vector2(minX, minY), new Vector2(maxX, maxY))\n      };\n    });\n    simplePaths = simplePaths.filter((sp) => sp.points.length > 1);\n    const isAHole = simplePaths.map(\n      (p) => isHoleTo(p, simplePaths, scanlineMinX, scanlineMaxX, shapePath.userData.style.fillRule)\n    );\n    const shapesToReturn = [];\n    simplePaths.forEach((p) => {\n      const amIAHole = isAHole[p.identifier];\n      if (!amIAHole.isHole) {\n        const shape = new Shape();\n        shape.curves = p.curves;\n        const holes = isAHole.filter((h) => h.isHole && h.for === p.identifier);\n        holes.forEach((h) => {\n          const hole = simplePaths[h.identifier];\n          const path = new Path();\n          path.curves = hole.curves;\n          shape.holes.push(path);\n        });\n        shapesToReturn.push(shape);\n      }\n    });\n    return shapesToReturn;\n  }\n  static getStrokeStyle(width, color, lineJoin, lineCap, miterLimit) {\n    width = width !== void 0 ? width : 1;\n    color = color !== void 0 ? color : \"#000\";\n    lineJoin = lineJoin !== void 0 ? lineJoin : \"miter\";\n    lineCap = lineCap !== void 0 ? lineCap : \"butt\";\n    miterLimit = miterLimit !== void 0 ? miterLimit : 4;\n    return {\n      strokeColor: color,\n      strokeWidth: width,\n      strokeLineJoin: lineJoin,\n      strokeLineCap: lineCap,\n      strokeMiterLimit: miterLimit\n    };\n  }\n  static pointsToStroke(points, style, arcDivisions, minDistance) {\n    const vertices = [];\n    const normals = [];\n    const uvs = [];\n    if (SVGLoader.pointsToStrokeWithBuffers(points, style, arcDivisions, minDistance, vertices, normals, uvs) === 0) {\n      return null;\n    }\n    const geometry = new BufferGeometry();\n    geometry.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    geometry.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n    geometry.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n    return geometry;\n  }\n  static pointsToStrokeWithBuffers(points, style, arcDivisions, minDistance, vertices, normals, uvs, vertexOffset) {\n    const tempV2_1 = new Vector2();\n    const tempV2_2 = new Vector2();\n    const tempV2_3 = new Vector2();\n    const tempV2_4 = new Vector2();\n    const tempV2_5 = new Vector2();\n    const tempV2_6 = new Vector2();\n    const tempV2_7 = new Vector2();\n    const lastPointL = new Vector2();\n    const lastPointR = new Vector2();\n    const point0L = new Vector2();\n    const point0R = new Vector2();\n    const currentPointL = new Vector2();\n    const currentPointR = new Vector2();\n    const nextPointL = new Vector2();\n    const nextPointR = new Vector2();\n    const innerPoint = new Vector2();\n    const outerPoint = new Vector2();\n    arcDivisions = arcDivisions !== void 0 ? arcDivisions : 12;\n    minDistance = minDistance !== void 0 ? minDistance : 1e-3;\n    vertexOffset = vertexOffset !== void 0 ? vertexOffset : 0;\n    points = removeDuplicatedPoints(points);\n    const numPoints = points.length;\n    if (numPoints < 2)\n      return 0;\n    const isClosed = points[0].equals(points[numPoints - 1]);\n    let currentPoint;\n    let previousPoint = points[0];\n    let nextPoint;\n    const strokeWidth2 = style.strokeWidth / 2;\n    const deltaU = 1 / (numPoints - 1);\n    let u0 = 0, u1;\n    let innerSideModified;\n    let joinIsOnLeftSide;\n    let isMiter;\n    let initialJoinIsOnLeftSide = false;\n    let numVertices = 0;\n    let currentCoordinate = vertexOffset * 3;\n    let currentCoordinateUV = vertexOffset * 2;\n    getNormal(points[0], points[1], tempV2_1).multiplyScalar(strokeWidth2);\n    lastPointL.copy(points[0]).sub(tempV2_1);\n    lastPointR.copy(points[0]).add(tempV2_1);\n    point0L.copy(lastPointL);\n    point0R.copy(lastPointR);\n    for (let iPoint = 1; iPoint < numPoints; iPoint++) {\n      currentPoint = points[iPoint];\n      if (iPoint === numPoints - 1) {\n        if (isClosed) {\n          nextPoint = points[1];\n        } else {\n          nextPoint = void 0;\n        }\n      } else {\n        nextPoint = points[iPoint + 1];\n      }\n      const normal1 = tempV2_1;\n      getNormal(previousPoint, currentPoint, normal1);\n      tempV2_3.copy(normal1).multiplyScalar(strokeWidth2);\n      currentPointL.copy(currentPoint).sub(tempV2_3);\n      currentPointR.copy(currentPoint).add(tempV2_3);\n      u1 = u0 + deltaU;\n      innerSideModified = false;\n      if (nextPoint !== void 0) {\n        getNormal(currentPoint, nextPoint, tempV2_2);\n        tempV2_3.copy(tempV2_2).multiplyScalar(strokeWidth2);\n        nextPointL.copy(currentPoint).sub(tempV2_3);\n        nextPointR.copy(currentPoint).add(tempV2_3);\n        joinIsOnLeftSide = true;\n        tempV2_3.subVectors(nextPoint, previousPoint);\n        if (normal1.dot(tempV2_3) < 0) {\n          joinIsOnLeftSide = false;\n        }\n        if (iPoint === 1)\n          initialJoinIsOnLeftSide = joinIsOnLeftSide;\n        tempV2_3.subVectors(nextPoint, currentPoint);\n        tempV2_3.normalize();\n        const dot = Math.abs(normal1.dot(tempV2_3));\n        if (dot !== 0) {\n          const miterSide = strokeWidth2 / dot;\n          tempV2_3.multiplyScalar(-miterSide);\n          tempV2_4.subVectors(currentPoint, previousPoint);\n          tempV2_5.copy(tempV2_4).setLength(miterSide).add(tempV2_3);\n          innerPoint.copy(tempV2_5).negate();\n          const miterLength2 = tempV2_5.length();\n          const segmentLengthPrev = tempV2_4.length();\n          tempV2_4.divideScalar(segmentLengthPrev);\n          tempV2_6.subVectors(nextPoint, currentPoint);\n          const segmentLengthNext = tempV2_6.length();\n          tempV2_6.divideScalar(segmentLengthNext);\n          if (tempV2_4.dot(innerPoint) < segmentLengthPrev && tempV2_6.dot(innerPoint) < segmentLengthNext) {\n            innerSideModified = true;\n          }\n          outerPoint.copy(tempV2_5).add(currentPoint);\n          innerPoint.add(currentPoint);\n          isMiter = false;\n          if (innerSideModified) {\n            if (joinIsOnLeftSide) {\n              nextPointR.copy(innerPoint);\n              currentPointR.copy(innerPoint);\n            } else {\n              nextPointL.copy(innerPoint);\n              currentPointL.copy(innerPoint);\n            }\n          } else {\n            makeSegmentTriangles();\n          }\n          switch (style.strokeLineJoin) {\n            case \"bevel\":\n              makeSegmentWithBevelJoin(joinIsOnLeftSide, innerSideModified, u1);\n              break;\n            case \"round\":\n              createSegmentTrianglesWithMiddleSection(joinIsOnLeftSide, innerSideModified);\n              if (joinIsOnLeftSide) {\n                makeCircularSector(currentPoint, currentPointL, nextPointL, u1, 0);\n              } else {\n                makeCircularSector(currentPoint, nextPointR, currentPointR, u1, 1);\n              }\n              break;\n            case \"miter\":\n            case \"miter-clip\":\n            default:\n              const miterFraction = strokeWidth2 * style.strokeMiterLimit / miterLength2;\n              if (miterFraction < 1) {\n                if (style.strokeLineJoin !== \"miter-clip\") {\n                  makeSegmentWithBevelJoin(joinIsOnLeftSide, innerSideModified, u1);\n                  break;\n                } else {\n                  createSegmentTrianglesWithMiddleSection(joinIsOnLeftSide, innerSideModified);\n                  if (joinIsOnLeftSide) {\n                    tempV2_6.subVectors(outerPoint, currentPointL).multiplyScalar(miterFraction).add(currentPointL);\n                    tempV2_7.subVectors(outerPoint, nextPointL).multiplyScalar(miterFraction).add(nextPointL);\n                    addVertex(currentPointL, u1, 0);\n                    addVertex(tempV2_6, u1, 0);\n                    addVertex(currentPoint, u1, 0.5);\n                    addVertex(currentPoint, u1, 0.5);\n                    addVertex(tempV2_6, u1, 0);\n                    addVertex(tempV2_7, u1, 0);\n                    addVertex(currentPoint, u1, 0.5);\n                    addVertex(tempV2_7, u1, 0);\n                    addVertex(nextPointL, u1, 0);\n                  } else {\n                    tempV2_6.subVectors(outerPoint, currentPointR).multiplyScalar(miterFraction).add(currentPointR);\n                    tempV2_7.subVectors(outerPoint, nextPointR).multiplyScalar(miterFraction).add(nextPointR);\n                    addVertex(currentPointR, u1, 1);\n                    addVertex(tempV2_6, u1, 1);\n                    addVertex(currentPoint, u1, 0.5);\n                    addVertex(currentPoint, u1, 0.5);\n                    addVertex(tempV2_6, u1, 1);\n                    addVertex(tempV2_7, u1, 1);\n                    addVertex(currentPoint, u1, 0.5);\n                    addVertex(tempV2_7, u1, 1);\n                    addVertex(nextPointR, u1, 1);\n                  }\n                }\n              } else {\n                if (innerSideModified) {\n                  if (joinIsOnLeftSide) {\n                    addVertex(lastPointR, u0, 1);\n                    addVertex(lastPointL, u0, 0);\n                    addVertex(outerPoint, u1, 0);\n                    addVertex(lastPointR, u0, 1);\n                    addVertex(outerPoint, u1, 0);\n                    addVertex(innerPoint, u1, 1);\n                  } else {\n                    addVertex(lastPointR, u0, 1);\n                    addVertex(lastPointL, u0, 0);\n                    addVertex(outerPoint, u1, 1);\n                    addVertex(lastPointL, u0, 0);\n                    addVertex(innerPoint, u1, 0);\n                    addVertex(outerPoint, u1, 1);\n                  }\n                  if (joinIsOnLeftSide) {\n                    nextPointL.copy(outerPoint);\n                  } else {\n                    nextPointR.copy(outerPoint);\n                  }\n                } else {\n                  if (joinIsOnLeftSide) {\n                    addVertex(currentPointL, u1, 0);\n                    addVertex(outerPoint, u1, 0);\n                    addVertex(currentPoint, u1, 0.5);\n                    addVertex(currentPoint, u1, 0.5);\n                    addVertex(outerPoint, u1, 0);\n                    addVertex(nextPointL, u1, 0);\n                  } else {\n                    addVertex(currentPointR, u1, 1);\n                    addVertex(outerPoint, u1, 1);\n                    addVertex(currentPoint, u1, 0.5);\n                    addVertex(currentPoint, u1, 0.5);\n                    addVertex(outerPoint, u1, 1);\n                    addVertex(nextPointR, u1, 1);\n                  }\n                }\n                isMiter = true;\n              }\n              break;\n          }\n        } else {\n          makeSegmentTriangles();\n        }\n      } else {\n        makeSegmentTriangles();\n      }\n      if (!isClosed && iPoint === numPoints - 1) {\n        addCapGeometry(points[0], point0L, point0R, joinIsOnLeftSide, true, u0);\n      }\n      u0 = u1;\n      previousPoint = currentPoint;\n      lastPointL.copy(nextPointL);\n      lastPointR.copy(nextPointR);\n    }\n    if (!isClosed) {\n      addCapGeometry(currentPoint, currentPointL, currentPointR, joinIsOnLeftSide, false, u1);\n    } else if (innerSideModified && vertices) {\n      let lastOuter = outerPoint;\n      let lastInner = innerPoint;\n      if (initialJoinIsOnLeftSide !== joinIsOnLeftSide) {\n        lastOuter = innerPoint;\n        lastInner = outerPoint;\n      }\n      if (joinIsOnLeftSide) {\n        if (isMiter || initialJoinIsOnLeftSide) {\n          lastInner.toArray(vertices, 0 * 3);\n          lastInner.toArray(vertices, 3 * 3);\n          if (isMiter) {\n            lastOuter.toArray(vertices, 1 * 3);\n          }\n        }\n      } else {\n        if (isMiter || !initialJoinIsOnLeftSide) {\n          lastInner.toArray(vertices, 1 * 3);\n          lastInner.toArray(vertices, 3 * 3);\n          if (isMiter) {\n            lastOuter.toArray(vertices, 0 * 3);\n          }\n        }\n      }\n    }\n    return numVertices;\n    function getNormal(p1, p2, result) {\n      result.subVectors(p2, p1);\n      return result.set(-result.y, result.x).normalize();\n    }\n    function addVertex(position, u, v) {\n      if (vertices) {\n        vertices[currentCoordinate] = position.x;\n        vertices[currentCoordinate + 1] = position.y;\n        vertices[currentCoordinate + 2] = 0;\n        if (normals) {\n          normals[currentCoordinate] = 0;\n          normals[currentCoordinate + 1] = 0;\n          normals[currentCoordinate + 2] = 1;\n        }\n        currentCoordinate += 3;\n        if (uvs) {\n          uvs[currentCoordinateUV] = u;\n          uvs[currentCoordinateUV + 1] = v;\n          currentCoordinateUV += 2;\n        }\n      }\n      numVertices += 3;\n    }\n    function makeCircularSector(center, p1, p2, u, v) {\n      tempV2_1.copy(p1).sub(center).normalize();\n      tempV2_2.copy(p2).sub(center).normalize();\n      let angle = Math.PI;\n      const dot = tempV2_1.dot(tempV2_2);\n      if (Math.abs(dot) < 1)\n        angle = Math.abs(Math.acos(dot));\n      angle /= arcDivisions;\n      tempV2_3.copy(p1);\n      for (let i = 0, il = arcDivisions - 1; i < il; i++) {\n        tempV2_4.copy(tempV2_3).rotateAround(center, angle);\n        addVertex(tempV2_3, u, v);\n        addVertex(tempV2_4, u, v);\n        addVertex(center, u, 0.5);\n        tempV2_3.copy(tempV2_4);\n      }\n      addVertex(tempV2_4, u, v);\n      addVertex(p2, u, v);\n      addVertex(center, u, 0.5);\n    }\n    function makeSegmentTriangles() {\n      addVertex(lastPointR, u0, 1);\n      addVertex(lastPointL, u0, 0);\n      addVertex(currentPointL, u1, 0);\n      addVertex(lastPointR, u0, 1);\n      addVertex(currentPointL, u1, 1);\n      addVertex(currentPointR, u1, 0);\n    }\n    function makeSegmentWithBevelJoin(joinIsOnLeftSide2, innerSideModified2, u) {\n      if (innerSideModified2) {\n        if (joinIsOnLeftSide2) {\n          addVertex(lastPointR, u0, 1);\n          addVertex(lastPointL, u0, 0);\n          addVertex(currentPointL, u1, 0);\n          addVertex(lastPointR, u0, 1);\n          addVertex(currentPointL, u1, 0);\n          addVertex(innerPoint, u1, 1);\n          addVertex(currentPointL, u, 0);\n          addVertex(nextPointL, u, 0);\n          addVertex(innerPoint, u, 0.5);\n        } else {\n          addVertex(lastPointR, u0, 1);\n          addVertex(lastPointL, u0, 0);\n          addVertex(currentPointR, u1, 1);\n          addVertex(lastPointL, u0, 0);\n          addVertex(innerPoint, u1, 0);\n          addVertex(currentPointR, u1, 1);\n          addVertex(currentPointR, u, 1);\n          addVertex(nextPointR, u, 0);\n          addVertex(innerPoint, u, 0.5);\n        }\n      } else {\n        if (joinIsOnLeftSide2) {\n          addVertex(currentPointL, u, 0);\n          addVertex(nextPointL, u, 0);\n          addVertex(currentPoint, u, 0.5);\n        } else {\n          addVertex(currentPointR, u, 1);\n          addVertex(nextPointR, u, 0);\n          addVertex(currentPoint, u, 0.5);\n        }\n      }\n    }\n    function createSegmentTrianglesWithMiddleSection(joinIsOnLeftSide2, innerSideModified2) {\n      if (innerSideModified2) {\n        if (joinIsOnLeftSide2) {\n          addVertex(lastPointR, u0, 1);\n          addVertex(lastPointL, u0, 0);\n          addVertex(currentPointL, u1, 0);\n          addVertex(lastPointR, u0, 1);\n          addVertex(currentPointL, u1, 0);\n          addVertex(innerPoint, u1, 1);\n          addVertex(currentPointL, u0, 0);\n          addVertex(currentPoint, u1, 0.5);\n          addVertex(innerPoint, u1, 1);\n          addVertex(currentPoint, u1, 0.5);\n          addVertex(nextPointL, u0, 0);\n          addVertex(innerPoint, u1, 1);\n        } else {\n          addVertex(lastPointR, u0, 1);\n          addVertex(lastPointL, u0, 0);\n          addVertex(currentPointR, u1, 1);\n          addVertex(lastPointL, u0, 0);\n          addVertex(innerPoint, u1, 0);\n          addVertex(currentPointR, u1, 1);\n          addVertex(currentPointR, u0, 1);\n          addVertex(innerPoint, u1, 0);\n          addVertex(currentPoint, u1, 0.5);\n          addVertex(currentPoint, u1, 0.5);\n          addVertex(innerPoint, u1, 0);\n          addVertex(nextPointR, u0, 1);\n        }\n      }\n    }\n    function addCapGeometry(center, p1, p2, joinIsOnLeftSide2, start, u) {\n      switch (style.strokeLineCap) {\n        case \"round\":\n          if (start) {\n            makeCircularSector(center, p2, p1, u, 0.5);\n          } else {\n            makeCircularSector(center, p1, p2, u, 0.5);\n          }\n          break;\n        case \"square\":\n          if (start) {\n            tempV2_1.subVectors(p1, center);\n            tempV2_2.set(tempV2_1.y, -tempV2_1.x);\n            tempV2_3.addVectors(tempV2_1, tempV2_2).add(center);\n            tempV2_4.subVectors(tempV2_2, tempV2_1).add(center);\n            if (joinIsOnLeftSide2) {\n              tempV2_3.toArray(vertices, 1 * 3);\n              tempV2_4.toArray(vertices, 0 * 3);\n              tempV2_4.toArray(vertices, 3 * 3);\n            } else {\n              tempV2_3.toArray(vertices, 1 * 3);\n              tempV2_3.toArray(vertices, 3 * 3);\n              tempV2_4.toArray(vertices, 0 * 3);\n            }\n          } else {\n            tempV2_1.subVectors(p2, center);\n            tempV2_2.set(tempV2_1.y, -tempV2_1.x);\n            tempV2_3.addVectors(tempV2_1, tempV2_2).add(center);\n            tempV2_4.subVectors(tempV2_2, tempV2_1).add(center);\n            const vl = vertices.length;\n            if (joinIsOnLeftSide2) {\n              tempV2_3.toArray(vertices, vl - 1 * 3);\n              tempV2_4.toArray(vertices, vl - 2 * 3);\n              tempV2_4.toArray(vertices, vl - 4 * 3);\n            } else {\n              tempV2_3.toArray(vertices, vl - 2 * 3);\n              tempV2_4.toArray(vertices, vl - 1 * 3);\n              tempV2_4.toArray(vertices, vl - 4 * 3);\n            }\n          }\n          break;\n        case \"butt\":\n        default:\n          break;\n      }\n    }\n    function removeDuplicatedPoints(points2) {\n      let dupPoints = false;\n      for (let i = 1, n = points2.length - 1; i < n; i++) {\n        if (points2[i].distanceTo(points2[i + 1]) < minDistance) {\n          dupPoints = true;\n          break;\n        }\n      }\n      if (!dupPoints)\n        return points2;\n      const newPoints = [];\n      newPoints.push(points2[0]);\n      for (let i = 1, n = points2.length - 1; i < n; i++) {\n        if (points2[i].distanceTo(points2[i + 1]) >= minDistance) {\n          newPoints.push(points2[i]);\n        }\n      }\n      newPoints.push(points2[points2.length - 1]);\n      return newPoints;\n    }\n  }\n}\nexport {\n  SVGLoader\n};\n", "import { Vector3, Loader, FileLoader, Group, BufferGeometry, Float32BufferAttribute, LineBasicMaterial, Material, PointsMaterial, MeshPhongMaterial, LineSegments, Points, Mesh } from \"three\";\nconst _object_pattern = /^[og]\\s*(.+)?/;\nconst _material_library_pattern = /^mtllib /;\nconst _material_use_pattern = /^usemtl /;\nconst _map_use_pattern = /^usemap /;\nconst _vA = /* @__PURE__ */ new Vector3();\nconst _vB = /* @__PURE__ */ new Vector3();\nconst _vC = /* @__PURE__ */ new Vector3();\nconst _ab = /* @__PURE__ */ new Vector3();\nconst _cb = /* @__PURE__ */ new Vector3();\nfunction ParserState() {\n  const state = {\n    objects: [],\n    object: {},\n    vertices: [],\n    normals: [],\n    colors: [],\n    uvs: [],\n    materials: {},\n    materialLibraries: [],\n    startObject: function(name, fromDeclaration) {\n      if (this.object && this.object.fromDeclaration === false) {\n        this.object.name = name;\n        this.object.fromDeclaration = fromDeclaration !== false;\n        return;\n      }\n      const previousMaterial = this.object && typeof this.object.currentMaterial === \"function\" ? this.object.currentMaterial() : void 0;\n      if (this.object && typeof this.object._finalize === \"function\") {\n        this.object._finalize(true);\n      }\n      this.object = {\n        name: name || \"\",\n        fromDeclaration: fromDeclaration !== false,\n        geometry: {\n          vertices: [],\n          normals: [],\n          colors: [],\n          uvs: [],\n          hasUVIndices: false\n        },\n        materials: [],\n        smooth: true,\n        startMaterial: function(name2, libraries) {\n          const previous = this._finalize(false);\n          if (previous && (previous.inherited || previous.groupCount <= 0)) {\n            this.materials.splice(previous.index, 1);\n          }\n          const material = {\n            index: this.materials.length,\n            name: name2 || \"\",\n            mtllib: Array.isArray(libraries) && libraries.length > 0 ? libraries[libraries.length - 1] : \"\",\n            smooth: previous !== void 0 ? previous.smooth : this.smooth,\n            groupStart: previous !== void 0 ? previous.groupEnd : 0,\n            groupEnd: -1,\n            groupCount: -1,\n            inherited: false,\n            clone: function(index) {\n              const cloned = {\n                index: typeof index === \"number\" ? index : this.index,\n                name: this.name,\n                mtllib: this.mtllib,\n                smooth: this.smooth,\n                groupStart: 0,\n                groupEnd: -1,\n                groupCount: -1,\n                inherited: false\n              };\n              cloned.clone = this.clone.bind(cloned);\n              return cloned;\n            }\n          };\n          this.materials.push(material);\n          return material;\n        },\n        currentMaterial: function() {\n          if (this.materials.length > 0) {\n            return this.materials[this.materials.length - 1];\n          }\n          return void 0;\n        },\n        _finalize: function(end) {\n          const lastMultiMaterial = this.currentMaterial();\n          if (lastMultiMaterial && lastMultiMaterial.groupEnd === -1) {\n            lastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n            lastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n            lastMultiMaterial.inherited = false;\n          }\n          if (end && this.materials.length > 1) {\n            for (let mi = this.materials.length - 1; mi >= 0; mi--) {\n              if (this.materials[mi].groupCount <= 0) {\n                this.materials.splice(mi, 1);\n              }\n            }\n          }\n          if (end && this.materials.length === 0) {\n            this.materials.push({\n              name: \"\",\n              smooth: this.smooth\n            });\n          }\n          return lastMultiMaterial;\n        }\n      };\n      if (previousMaterial && previousMaterial.name && typeof previousMaterial.clone === \"function\") {\n        const declared = previousMaterial.clone(0);\n        declared.inherited = true;\n        this.object.materials.push(declared);\n      }\n      this.objects.push(this.object);\n    },\n    finalize: function() {\n      if (this.object && typeof this.object._finalize === \"function\") {\n        this.object._finalize(true);\n      }\n    },\n    parseVertexIndex: function(value, len) {\n      const index = parseInt(value, 10);\n      return (index >= 0 ? index - 1 : index + len / 3) * 3;\n    },\n    parseNormalIndex: function(value, len) {\n      const index = parseInt(value, 10);\n      return (index >= 0 ? index - 1 : index + len / 3) * 3;\n    },\n    parseUVIndex: function(value, len) {\n      const index = parseInt(value, 10);\n      return (index >= 0 ? index - 1 : index + len / 2) * 2;\n    },\n    addVertex: function(a, b, c) {\n      const src = this.vertices;\n      const dst = this.object.geometry.vertices;\n      dst.push(src[a + 0], src[a + 1], src[a + 2]);\n      dst.push(src[b + 0], src[b + 1], src[b + 2]);\n      dst.push(src[c + 0], src[c + 1], src[c + 2]);\n    },\n    addVertexPoint: function(a) {\n      const src = this.vertices;\n      const dst = this.object.geometry.vertices;\n      dst.push(src[a + 0], src[a + 1], src[a + 2]);\n    },\n    addVertexLine: function(a) {\n      const src = this.vertices;\n      const dst = this.object.geometry.vertices;\n      dst.push(src[a + 0], src[a + 1], src[a + 2]);\n    },\n    addNormal: function(a, b, c) {\n      const src = this.normals;\n      const dst = this.object.geometry.normals;\n      dst.push(src[a + 0], src[a + 1], src[a + 2]);\n      dst.push(src[b + 0], src[b + 1], src[b + 2]);\n      dst.push(src[c + 0], src[c + 1], src[c + 2]);\n    },\n    addFaceNormal: function(a, b, c) {\n      const src = this.vertices;\n      const dst = this.object.geometry.normals;\n      _vA.fromArray(src, a);\n      _vB.fromArray(src, b);\n      _vC.fromArray(src, c);\n      _cb.subVectors(_vC, _vB);\n      _ab.subVectors(_vA, _vB);\n      _cb.cross(_ab);\n      _cb.normalize();\n      dst.push(_cb.x, _cb.y, _cb.z);\n      dst.push(_cb.x, _cb.y, _cb.z);\n      dst.push(_cb.x, _cb.y, _cb.z);\n    },\n    addColor: function(a, b, c) {\n      const src = this.colors;\n      const dst = this.object.geometry.colors;\n      if (src[a] !== void 0)\n        dst.push(src[a + 0], src[a + 1], src[a + 2]);\n      if (src[b] !== void 0)\n        dst.push(src[b + 0], src[b + 1], src[b + 2]);\n      if (src[c] !== void 0)\n        dst.push(src[c + 0], src[c + 1], src[c + 2]);\n    },\n    addUV: function(a, b, c) {\n      const src = this.uvs;\n      const dst = this.object.geometry.uvs;\n      dst.push(src[a + 0], src[a + 1]);\n      dst.push(src[b + 0], src[b + 1]);\n      dst.push(src[c + 0], src[c + 1]);\n    },\n    addDefaultUV: function() {\n      const dst = this.object.geometry.uvs;\n      dst.push(0, 0);\n      dst.push(0, 0);\n      dst.push(0, 0);\n    },\n    addUVLine: function(a) {\n      const src = this.uvs;\n      const dst = this.object.geometry.uvs;\n      dst.push(src[a + 0], src[a + 1]);\n    },\n    addFace: function(a, b, c, ua, ub, uc, na, nb, nc) {\n      const vLen = this.vertices.length;\n      let ia = this.parseVertexIndex(a, vLen);\n      let ib = this.parseVertexIndex(b, vLen);\n      let ic = this.parseVertexIndex(c, vLen);\n      this.addVertex(ia, ib, ic);\n      this.addColor(ia, ib, ic);\n      if (na !== void 0 && na !== \"\") {\n        const nLen = this.normals.length;\n        ia = this.parseNormalIndex(na, nLen);\n        ib = this.parseNormalIndex(nb, nLen);\n        ic = this.parseNormalIndex(nc, nLen);\n        this.addNormal(ia, ib, ic);\n      } else {\n        this.addFaceNormal(ia, ib, ic);\n      }\n      if (ua !== void 0 && ua !== \"\") {\n        const uvLen = this.uvs.length;\n        ia = this.parseUVIndex(ua, uvLen);\n        ib = this.parseUVIndex(ub, uvLen);\n        ic = this.parseUVIndex(uc, uvLen);\n        this.addUV(ia, ib, ic);\n        this.object.geometry.hasUVIndices = true;\n      } else {\n        this.addDefaultUV();\n      }\n    },\n    addPointGeometry: function(vertices) {\n      this.object.geometry.type = \"Points\";\n      const vLen = this.vertices.length;\n      for (let vi = 0, l = vertices.length; vi < l; vi++) {\n        const index = this.parseVertexIndex(vertices[vi], vLen);\n        this.addVertexPoint(index);\n        this.addColor(index);\n      }\n    },\n    addLineGeometry: function(vertices, uvs) {\n      this.object.geometry.type = \"Line\";\n      const vLen = this.vertices.length;\n      const uvLen = this.uvs.length;\n      for (let vi = 0, l = vertices.length; vi < l; vi++) {\n        this.addVertexLine(this.parseVertexIndex(vertices[vi], vLen));\n      }\n      for (let uvi = 0, l = uvs.length; uvi < l; uvi++) {\n        this.addUVLine(this.parseUVIndex(uvs[uvi], uvLen));\n      }\n    }\n  };\n  state.startObject(\"\", false);\n  return state;\n}\nclass OBJLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n    this.materials = null;\n  }\n  load(url, onLoad, onProgress, onError) {\n    const scope = this;\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setRequestHeader(this.requestHeader);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(\n      url,\n      function(text) {\n        try {\n          onLoad(scope.parse(text));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n          scope.manager.itemError(url);\n        }\n      },\n      onProgress,\n      onError\n    );\n  }\n  setMaterials(materials) {\n    this.materials = materials;\n    return this;\n  }\n  parse(text) {\n    const state = new ParserState();\n    if (text.indexOf(\"\\r\\n\") !== -1) {\n      text = text.replace(/\\r\\n/g, \"\\n\");\n    }\n    if (text.indexOf(\"\\\\\\n\") !== -1) {\n      text = text.replace(/\\\\\\n/g, \"\");\n    }\n    const lines = text.split(\"\\n\");\n    let line = \"\", lineFirstChar = \"\";\n    let lineLength = 0;\n    let result = [];\n    const trimLeft = typeof \"\".trimLeft === \"function\";\n    for (let i = 0, l = lines.length; i < l; i++) {\n      line = lines[i];\n      line = trimLeft ? line.trimLeft() : line.trim();\n      lineLength = line.length;\n      if (lineLength === 0)\n        continue;\n      lineFirstChar = line.charAt(0);\n      if (lineFirstChar === \"#\")\n        continue;\n      if (lineFirstChar === \"v\") {\n        const data = line.split(/\\s+/);\n        switch (data[0]) {\n          case \"v\":\n            state.vertices.push(parseFloat(data[1]), parseFloat(data[2]), parseFloat(data[3]));\n            if (data.length >= 7) {\n              state.colors.push(parseFloat(data[4]), parseFloat(data[5]), parseFloat(data[6]));\n            } else {\n              state.colors.push(void 0, void 0, void 0);\n            }\n            break;\n          case \"vn\":\n            state.normals.push(parseFloat(data[1]), parseFloat(data[2]), parseFloat(data[3]));\n            break;\n          case \"vt\":\n            state.uvs.push(parseFloat(data[1]), parseFloat(data[2]));\n            break;\n        }\n      } else if (lineFirstChar === \"f\") {\n        const lineData = line.substr(1).trim();\n        const vertexData = lineData.split(/\\s+/);\n        const faceVertices = [];\n        for (let j = 0, jl = vertexData.length; j < jl; j++) {\n          const vertex = vertexData[j];\n          if (vertex.length > 0) {\n            const vertexParts = vertex.split(\"/\");\n            faceVertices.push(vertexParts);\n          }\n        }\n        const v1 = faceVertices[0];\n        for (let j = 1, jl = faceVertices.length - 1; j < jl; j++) {\n          const v2 = faceVertices[j];\n          const v3 = faceVertices[j + 1];\n          state.addFace(v1[0], v2[0], v3[0], v1[1], v2[1], v3[1], v1[2], v2[2], v3[2]);\n        }\n      } else if (lineFirstChar === \"l\") {\n        const lineParts = line.substring(1).trim().split(\" \");\n        let lineVertices = [];\n        const lineUVs = [];\n        if (line.indexOf(\"/\") === -1) {\n          lineVertices = lineParts;\n        } else {\n          for (let li = 0, llen = lineParts.length; li < llen; li++) {\n            const parts = lineParts[li].split(\"/\");\n            if (parts[0] !== \"\")\n              lineVertices.push(parts[0]);\n            if (parts[1] !== \"\")\n              lineUVs.push(parts[1]);\n          }\n        }\n        state.addLineGeometry(lineVertices, lineUVs);\n      } else if (lineFirstChar === \"p\") {\n        const lineData = line.substr(1).trim();\n        const pointData = lineData.split(\" \");\n        state.addPointGeometry(pointData);\n      } else if ((result = _object_pattern.exec(line)) !== null) {\n        const name = (\" \" + result[0].substr(1).trim()).substr(1);\n        state.startObject(name);\n      } else if (_material_use_pattern.test(line)) {\n        state.object.startMaterial(line.substring(7).trim(), state.materialLibraries);\n      } else if (_material_library_pattern.test(line)) {\n        state.materialLibraries.push(line.substring(7).trim());\n      } else if (_map_use_pattern.test(line)) {\n        console.warn(\n          'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.'\n        );\n      } else if (lineFirstChar === \"s\") {\n        result = line.split(\" \");\n        if (result.length > 1) {\n          const value = result[1].trim().toLowerCase();\n          state.object.smooth = value !== \"0\" && value !== \"off\";\n        } else {\n          state.object.smooth = true;\n        }\n        const material = state.object.currentMaterial();\n        if (material)\n          material.smooth = state.object.smooth;\n      } else {\n        if (line === \"\\0\")\n          continue;\n        console.warn('THREE.OBJLoader: Unexpected line: \"' + line + '\"');\n      }\n    }\n    state.finalize();\n    const container = new Group();\n    container.materialLibraries = [].concat(state.materialLibraries);\n    const hasPrimitives = !(state.objects.length === 1 && state.objects[0].geometry.vertices.length === 0);\n    if (hasPrimitives === true) {\n      for (let i = 0, l = state.objects.length; i < l; i++) {\n        const object = state.objects[i];\n        const geometry = object.geometry;\n        const materials = object.materials;\n        const isLine = geometry.type === \"Line\";\n        const isPoints = geometry.type === \"Points\";\n        let hasVertexColors = false;\n        if (geometry.vertices.length === 0)\n          continue;\n        const buffergeometry = new BufferGeometry();\n        buffergeometry.setAttribute(\"position\", new Float32BufferAttribute(geometry.vertices, 3));\n        if (geometry.normals.length > 0) {\n          buffergeometry.setAttribute(\"normal\", new Float32BufferAttribute(geometry.normals, 3));\n        }\n        if (geometry.colors.length > 0) {\n          hasVertexColors = true;\n          buffergeometry.setAttribute(\"color\", new Float32BufferAttribute(geometry.colors, 3));\n        }\n        if (geometry.hasUVIndices === true) {\n          buffergeometry.setAttribute(\"uv\", new Float32BufferAttribute(geometry.uvs, 2));\n        }\n        const createdMaterials = [];\n        for (let mi = 0, miLen = materials.length; mi < miLen; mi++) {\n          const sourceMaterial = materials[mi];\n          const materialHash = sourceMaterial.name + \"_\" + sourceMaterial.smooth + \"_\" + hasVertexColors;\n          let material = state.materials[materialHash];\n          if (this.materials !== null) {\n            material = this.materials.create(sourceMaterial.name);\n            if (isLine && material && !(material instanceof LineBasicMaterial)) {\n              const materialLine = new LineBasicMaterial();\n              Material.prototype.copy.call(materialLine, material);\n              materialLine.color.copy(material.color);\n              material = materialLine;\n            } else if (isPoints && material && !(material instanceof PointsMaterial)) {\n              const materialPoints = new PointsMaterial({ size: 10, sizeAttenuation: false });\n              Material.prototype.copy.call(materialPoints, material);\n              materialPoints.color.copy(material.color);\n              materialPoints.map = material.map;\n              material = materialPoints;\n            }\n          }\n          if (material === void 0) {\n            if (isLine) {\n              material = new LineBasicMaterial();\n            } else if (isPoints) {\n              material = new PointsMaterial({ size: 1, sizeAttenuation: false });\n            } else {\n              material = new MeshPhongMaterial();\n            }\n            material.name = sourceMaterial.name;\n            material.flatShading = sourceMaterial.smooth ? false : true;\n            material.vertexColors = hasVertexColors;\n            state.materials[materialHash] = material;\n          }\n          createdMaterials.push(material);\n        }\n        let mesh;\n        if (createdMaterials.length > 1) {\n          for (let mi = 0, miLen = materials.length; mi < miLen; mi++) {\n            const sourceMaterial = materials[mi];\n            buffergeometry.addGroup(sourceMaterial.groupStart, sourceMaterial.groupCount, mi);\n          }\n          if (isLine) {\n            mesh = new LineSegments(buffergeometry, createdMaterials);\n          } else if (isPoints) {\n            mesh = new Points(buffergeometry, createdMaterials);\n          } else {\n            mesh = new Mesh(buffergeometry, createdMaterials);\n          }\n        } else {\n          if (isLine) {\n            mesh = new LineSegments(buffergeometry, createdMaterials[0]);\n          } else if (isPoints) {\n            mesh = new Points(buffergeometry, createdMaterials[0]);\n          } else {\n            mesh = new Mesh(buffergeometry, createdMaterials[0]);\n          }\n        }\n        mesh.name = object.name;\n        container.add(mesh);\n      }\n    } else {\n      if (state.vertices.length > 0) {\n        const material = new PointsMaterial({ size: 1, sizeAttenuation: false });\n        const buffergeometry = new BufferGeometry();\n        buffergeometry.setAttribute(\"position\", new Float32BufferAttribute(state.vertices, 3));\n        if (state.colors.length > 0 && state.colors[0] !== void 0) {\n          buffergeometry.setAttribute(\"color\", new Float32BufferAttribute(state.colors, 3));\n          material.vertexColors = true;\n        }\n        const points = new Points(buffergeometry, material);\n        container.add(points);\n      }\n    }\n    return container;\n  }\n}\nexport {\n  OBJLoader\n};\n", "import { CompressedTextureLoader } from \"three\";\nclass KTXLoader extends CompressedTextureLoader {\n  constructor(manager) {\n    super(manager);\n  }\n  parse(buffer, loadMipmaps) {\n    const ktx = new KhronosTextureContainer(buffer, 1);\n    return {\n      mipmaps: ktx.mipmaps(loadMipmaps),\n      width: ktx.pixelWidth,\n      height: ktx.pixelHeight,\n      format: ktx.glInternalFormat,\n      isCubemap: ktx.numberOfFaces === 6,\n      mipmapCount: ktx.numberOfMipmapLevels\n    };\n  }\n}\nconst HEADER_LEN = 12 + 13 * 4;\nconst COMPRESSED_2D = 0;\nclass KhronosTextureContainer {\n  /**\n   * @param {ArrayBuffer} arrayBuffer- contents of the KTX container file\n   * @param {number} facesExpected- should be either 1 or 6, based whether a cube texture or or\n   * @param {boolean} threeDExpected- provision for indicating that data should be a 3D texture, not implemented\n   * @param {boolean} textureArrayExpected- provision for indicating that data should be a texture array, not implemented\n   */\n  constructor(arrayBuffer, facesExpected) {\n    this.arrayBuffer = arrayBuffer;\n    const identifier = new Uint8Array(this.arrayBuffer, 0, 12);\n    if (identifier[0] !== 171 || identifier[1] !== 75 || identifier[2] !== 84 || identifier[3] !== 88 || identifier[4] !== 32 || identifier[5] !== 49 || identifier[6] !== 49 || identifier[7] !== 187 || identifier[8] !== 13 || identifier[9] !== 10 || identifier[10] !== 26 || identifier[11] !== 10) {\n      console.error(\"texture missing KTX identifier\");\n      return;\n    }\n    const dataSize = Uint32Array.BYTES_PER_ELEMENT;\n    const headerDataView = new DataView(this.arrayBuffer, 12, 13 * dataSize);\n    const endianness = headerDataView.getUint32(0, true);\n    const littleEndian = endianness === 67305985;\n    this.glType = headerDataView.getUint32(1 * dataSize, littleEndian);\n    this.glTypeSize = headerDataView.getUint32(2 * dataSize, littleEndian);\n    this.glFormat = headerDataView.getUint32(3 * dataSize, littleEndian);\n    this.glInternalFormat = headerDataView.getUint32(4 * dataSize, littleEndian);\n    this.glBaseInternalFormat = headerDataView.getUint32(5 * dataSize, littleEndian);\n    this.pixelWidth = headerDataView.getUint32(6 * dataSize, littleEndian);\n    this.pixelHeight = headerDataView.getUint32(7 * dataSize, littleEndian);\n    this.pixelDepth = headerDataView.getUint32(8 * dataSize, littleEndian);\n    this.numberOfArrayElements = headerDataView.getUint32(9 * dataSize, littleEndian);\n    this.numberOfFaces = headerDataView.getUint32(10 * dataSize, littleEndian);\n    this.numberOfMipmapLevels = headerDataView.getUint32(11 * dataSize, littleEndian);\n    this.bytesOfKeyValueData = headerDataView.getUint32(12 * dataSize, littleEndian);\n    if (this.glType !== 0) {\n      console.warn(\"only compressed formats currently supported\");\n      return;\n    } else {\n      this.numberOfMipmapLevels = Math.max(1, this.numberOfMipmapLevels);\n    }\n    if (this.pixelHeight === 0 || this.pixelDepth !== 0) {\n      console.warn(\"only 2D textures currently supported\");\n      return;\n    }\n    if (this.numberOfArrayElements !== 0) {\n      console.warn(\"texture arrays not currently supported\");\n      return;\n    }\n    if (this.numberOfFaces !== facesExpected) {\n      console.warn(\"number of faces expected\" + facesExpected + \", but found \" + this.numberOfFaces);\n      return;\n    }\n    this.loadType = COMPRESSED_2D;\n  }\n  mipmaps(loadMipmaps) {\n    const mipmaps = [];\n    let dataOffset = HEADER_LEN + this.bytesOfKeyValueData;\n    let width = this.pixelWidth;\n    let height = this.pixelHeight;\n    const mipmapCount = loadMipmaps ? this.numberOfMipmapLevels : 1;\n    for (let level = 0; level < mipmapCount; level++) {\n      const imageSize = new Int32Array(this.arrayBuffer, dataOffset, 1)[0];\n      dataOffset += 4;\n      for (let face = 0; face < this.numberOfFaces; face++) {\n        const byteArray = new Uint8Array(this.arrayBuffer, dataOffset, imageSize);\n        mipmaps.push({ data: byteArray, width, height });\n        dataOffset += imageSize;\n        dataOffset += 3 - (imageSize + 3) % 4;\n      }\n      width = Math.max(1, width * 0.5);\n      height = Math.max(1, height * 0.5);\n    }\n    return mipmaps;\n  }\n}\nexport {\n  KTXLoader\n};\n", "import { Loader, FileLoader, BufferGeometry, BufferAttribute } from \"three\";\nconst _taskCache = /* @__PURE__ */ new WeakMap();\nclass DRACOLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n    this.decoderPath = \"\";\n    this.decoderConfig = {};\n    this.decoderBinary = null;\n    this.decoderPending = null;\n    this.workerLimit = 4;\n    this.workerPool = [];\n    this.workerNextTaskID = 1;\n    this.workerSourceURL = \"\";\n    this.defaultAttributeIDs = {\n      position: \"POSITION\",\n      normal: \"NORMAL\",\n      color: \"COLOR\",\n      uv: \"TEX_COORD\"\n    };\n    this.defaultAttributeTypes = {\n      position: \"Float32Array\",\n      normal: \"Float32Array\",\n      color: \"Float32Array\",\n      uv: \"Float32Array\"\n    };\n  }\n  setDecoderPath(path) {\n    this.decoderPath = path;\n    return this;\n  }\n  setDecoderConfig(config) {\n    this.decoderConfig = config;\n    return this;\n  }\n  setWorkerLimit(workerLimit) {\n    this.workerLimit = workerLimit;\n    return this;\n  }\n  load(url, onLoad, onProgress, onError) {\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setResponseType(\"arraybuffer\");\n    loader.setRequestHeader(this.requestHeader);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(\n      url,\n      (buffer) => {\n        const taskConfig = {\n          attributeIDs: this.defaultAttributeIDs,\n          attributeTypes: this.defaultAttributeTypes,\n          useUniqueIDs: false\n        };\n        this.decodeGeometry(buffer, taskConfig).then(onLoad).catch(onError);\n      },\n      onProgress,\n      onError\n    );\n  }\n  /** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */\n  decodeDracoFile(buffer, callback, attributeIDs, attributeTypes) {\n    const taskConfig = {\n      attributeIDs: attributeIDs || this.defaultAttributeIDs,\n      attributeTypes: attributeTypes || this.defaultAttributeTypes,\n      useUniqueIDs: !!attributeIDs\n    };\n    this.decodeGeometry(buffer, taskConfig).then(callback);\n  }\n  decodeGeometry(buffer, taskConfig) {\n    for (const attribute in taskConfig.attributeTypes) {\n      const type = taskConfig.attributeTypes[attribute];\n      if (type.BYTES_PER_ELEMENT !== void 0) {\n        taskConfig.attributeTypes[attribute] = type.name;\n      }\n    }\n    const taskKey = JSON.stringify(taskConfig);\n    if (_taskCache.has(buffer)) {\n      const cachedTask = _taskCache.get(buffer);\n      if (cachedTask.key === taskKey) {\n        return cachedTask.promise;\n      } else if (buffer.byteLength === 0) {\n        throw new Error(\n          \"THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.\"\n        );\n      }\n    }\n    let worker;\n    const taskID = this.workerNextTaskID++;\n    const taskCost = buffer.byteLength;\n    const geometryPending = this._getWorker(taskID, taskCost).then((_worker) => {\n      worker = _worker;\n      return new Promise((resolve, reject) => {\n        worker._callbacks[taskID] = { resolve, reject };\n        worker.postMessage({ type: \"decode\", id: taskID, taskConfig, buffer }, [buffer]);\n      });\n    }).then((message) => this._createGeometry(message.geometry));\n    geometryPending.catch(() => true).then(() => {\n      if (worker && taskID) {\n        this._releaseTask(worker, taskID);\n      }\n    });\n    _taskCache.set(buffer, {\n      key: taskKey,\n      promise: geometryPending\n    });\n    return geometryPending;\n  }\n  _createGeometry(geometryData) {\n    const geometry = new BufferGeometry();\n    if (geometryData.index) {\n      geometry.setIndex(new BufferAttribute(geometryData.index.array, 1));\n    }\n    for (let i = 0; i < geometryData.attributes.length; i++) {\n      const attribute = geometryData.attributes[i];\n      const name = attribute.name;\n      const array = attribute.array;\n      const itemSize = attribute.itemSize;\n      geometry.setAttribute(name, new BufferAttribute(array, itemSize));\n    }\n    return geometry;\n  }\n  _loadLibrary(url, responseType) {\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.decoderPath);\n    loader.setResponseType(responseType);\n    loader.setWithCredentials(this.withCredentials);\n    return new Promise((resolve, reject) => {\n      loader.load(url, resolve, void 0, reject);\n    });\n  }\n  preload() {\n    this._initDecoder();\n    return this;\n  }\n  _initDecoder() {\n    if (this.decoderPending)\n      return this.decoderPending;\n    const useJS = typeof WebAssembly !== \"object\" || this.decoderConfig.type === \"js\";\n    const librariesPending = [];\n    if (useJS) {\n      librariesPending.push(this._loadLibrary(\"draco_decoder.js\", \"text\"));\n    } else {\n      librariesPending.push(this._loadLibrary(\"draco_wasm_wrapper.js\", \"text\"));\n      librariesPending.push(this._loadLibrary(\"draco_decoder.wasm\", \"arraybuffer\"));\n    }\n    this.decoderPending = Promise.all(librariesPending).then((libraries) => {\n      const jsContent = libraries[0];\n      if (!useJS) {\n        this.decoderConfig.wasmBinary = libraries[1];\n      }\n      const fn = DRACOWorker.toString();\n      const body = [\n        \"/* draco decoder */\",\n        jsContent,\n        \"\",\n        \"/* worker */\",\n        fn.substring(fn.indexOf(\"{\") + 1, fn.lastIndexOf(\"}\"))\n      ].join(\"\\n\");\n      this.workerSourceURL = URL.createObjectURL(new Blob([body]));\n    });\n    return this.decoderPending;\n  }\n  _getWorker(taskID, taskCost) {\n    return this._initDecoder().then(() => {\n      if (this.workerPool.length < this.workerLimit) {\n        const worker2 = new Worker(this.workerSourceURL);\n        worker2._callbacks = {};\n        worker2._taskCosts = {};\n        worker2._taskLoad = 0;\n        worker2.postMessage({ type: \"init\", decoderConfig: this.decoderConfig });\n        worker2.onmessage = function(e) {\n          const message = e.data;\n          switch (message.type) {\n            case \"decode\":\n              worker2._callbacks[message.id].resolve(message);\n              break;\n            case \"error\":\n              worker2._callbacks[message.id].reject(message);\n              break;\n            default:\n              console.error('THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"');\n          }\n        };\n        this.workerPool.push(worker2);\n      } else {\n        this.workerPool.sort(function(a, b) {\n          return a._taskLoad > b._taskLoad ? -1 : 1;\n        });\n      }\n      const worker = this.workerPool[this.workerPool.length - 1];\n      worker._taskCosts[taskID] = taskCost;\n      worker._taskLoad += taskCost;\n      return worker;\n    });\n  }\n  _releaseTask(worker, taskID) {\n    worker._taskLoad -= worker._taskCosts[taskID];\n    delete worker._callbacks[taskID];\n    delete worker._taskCosts[taskID];\n  }\n  debug() {\n    console.log(\n      \"Task load: \",\n      this.workerPool.map((worker) => worker._taskLoad)\n    );\n  }\n  dispose() {\n    for (let i = 0; i < this.workerPool.length; ++i) {\n      this.workerPool[i].terminate();\n    }\n    this.workerPool.length = 0;\n    return this;\n  }\n}\nfunction DRACOWorker() {\n  let decoderConfig;\n  let decoderPending;\n  onmessage = function(e) {\n    const message = e.data;\n    switch (message.type) {\n      case \"init\":\n        decoderConfig = message.decoderConfig;\n        decoderPending = new Promise(function(resolve) {\n          decoderConfig.onModuleLoaded = function(draco) {\n            resolve({ draco });\n          };\n          DracoDecoderModule(decoderConfig);\n        });\n        break;\n      case \"decode\":\n        const buffer = message.buffer;\n        const taskConfig = message.taskConfig;\n        decoderPending.then((module) => {\n          const draco = module.draco;\n          const decoder = new draco.Decoder();\n          const decoderBuffer = new draco.DecoderBuffer();\n          decoderBuffer.Init(new Int8Array(buffer), buffer.byteLength);\n          try {\n            const geometry = decodeGeometry(draco, decoder, decoderBuffer, taskConfig);\n            const buffers = geometry.attributes.map((attr) => attr.array.buffer);\n            if (geometry.index)\n              buffers.push(geometry.index.array.buffer);\n            self.postMessage({ type: \"decode\", id: message.id, geometry }, buffers);\n          } catch (error) {\n            console.error(error);\n            self.postMessage({ type: \"error\", id: message.id, error: error.message });\n          } finally {\n            draco.destroy(decoderBuffer);\n            draco.destroy(decoder);\n          }\n        });\n        break;\n    }\n  };\n  function decodeGeometry(draco, decoder, decoderBuffer, taskConfig) {\n    const attributeIDs = taskConfig.attributeIDs;\n    const attributeTypes = taskConfig.attributeTypes;\n    let dracoGeometry;\n    let decodingStatus;\n    const geometryType = decoder.GetEncodedGeometryType(decoderBuffer);\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      dracoGeometry = new draco.Mesh();\n      decodingStatus = decoder.DecodeBufferToMesh(decoderBuffer, dracoGeometry);\n    } else if (geometryType === draco.POINT_CLOUD) {\n      dracoGeometry = new draco.PointCloud();\n      decodingStatus = decoder.DecodeBufferToPointCloud(decoderBuffer, dracoGeometry);\n    } else {\n      throw new Error(\"THREE.DRACOLoader: Unexpected geometry type.\");\n    }\n    if (!decodingStatus.ok() || dracoGeometry.ptr === 0) {\n      throw new Error(\"THREE.DRACOLoader: Decoding failed: \" + decodingStatus.error_msg());\n    }\n    const geometry = { index: null, attributes: [] };\n    for (const attributeName in attributeIDs) {\n      const attributeType = self[attributeTypes[attributeName]];\n      let attribute;\n      let attributeID;\n      if (taskConfig.useUniqueIDs) {\n        attributeID = attributeIDs[attributeName];\n        attribute = decoder.GetAttributeByUniqueId(dracoGeometry, attributeID);\n      } else {\n        attributeID = decoder.GetAttributeId(dracoGeometry, draco[attributeIDs[attributeName]]);\n        if (attributeID === -1)\n          continue;\n        attribute = decoder.GetAttribute(dracoGeometry, attributeID);\n      }\n      geometry.attributes.push(decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute));\n    }\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      geometry.index = decodeIndex(draco, decoder, dracoGeometry);\n    }\n    draco.destroy(dracoGeometry);\n    return geometry;\n  }\n  function decodeIndex(draco, decoder, dracoGeometry) {\n    const numFaces = dracoGeometry.num_faces();\n    const numIndices = numFaces * 3;\n    const byteLength = numIndices * 4;\n    const ptr = draco._malloc(byteLength);\n    decoder.GetTrianglesUInt32Array(dracoGeometry, byteLength, ptr);\n    const index = new Uint32Array(draco.HEAPF32.buffer, ptr, numIndices).slice();\n    draco._free(ptr);\n    return { array: index, itemSize: 1 };\n  }\n  function decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute) {\n    const numComponents = attribute.num_components();\n    const numPoints = dracoGeometry.num_points();\n    const numValues = numPoints * numComponents;\n    const byteLength = numValues * attributeType.BYTES_PER_ELEMENT;\n    const dataType = getDracoDataType(draco, attributeType);\n    const ptr = draco._malloc(byteLength);\n    decoder.GetAttributeDataArrayForAllPoints(dracoGeometry, attribute, dataType, byteLength, ptr);\n    const array = new attributeType(draco.HEAPF32.buffer, ptr, numValues).slice();\n    draco._free(ptr);\n    return {\n      name: attributeName,\n      array,\n      itemSize: numComponents\n    };\n  }\n  function getDracoDataType(draco, attributeType) {\n    switch (attributeType) {\n      case Float32Array:\n        return draco.DT_FLOAT32;\n      case Int8Array:\n        return draco.DT_INT8;\n      case Int16Array:\n        return draco.DT_INT16;\n      case Int32Array:\n        return draco.DT_INT32;\n      case Uint8Array:\n        return draco.DT_UINT8;\n      case Uint16Array:\n        return draco.DT_UINT16;\n      case Uint32Array:\n        return draco.DT_UINT32;\n    }\n  }\n}\nexport {\n  DRACOLoader\n};\n", "import { Box3, Vector3, InstancedBufferGeometry, Float32BufferAttribute, InstancedInterleavedBuffer, InterleavedBufferAttribute, WireframeGeometry, Sphere } from \"three\";\nconst _box = /* @__PURE__ */ new Box3();\nconst _vector = /* @__PURE__ */ new Vector3();\nclass LineSegmentsGeometry extends InstancedBufferGeometry {\n  constructor() {\n    super();\n    this.isLineSegmentsGeometry = true;\n    this.type = \"LineSegmentsGeometry\";\n    const positions = [-1, 2, 0, 1, 2, 0, -1, 1, 0, 1, 1, 0, -1, 0, 0, 1, 0, 0, -1, -1, 0, 1, -1, 0];\n    const uvs = [-1, 2, 1, 2, -1, 1, 1, 1, -1, -1, 1, -1, -1, -2, 1, -2];\n    const index = [0, 2, 1, 2, 3, 1, 2, 4, 3, 4, 5, 3, 4, 6, 5, 6, 7, 5];\n    this.setIndex(index);\n    this.setAttribute(\"position\", new Float32BufferAttribute(positions, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n  }\n  applyMatrix4(matrix) {\n    const start = this.attributes.instanceStart;\n    const end = this.attributes.instanceEnd;\n    if (start !== void 0) {\n      start.applyMatrix4(matrix);\n      end.applyMatrix4(matrix);\n      start.needsUpdate = true;\n    }\n    if (this.boundingBox !== null) {\n      this.computeBoundingBox();\n    }\n    if (this.boundingSphere !== null) {\n      this.computeBoundingSphere();\n    }\n    return this;\n  }\n  setPositions(array) {\n    let lineSegments;\n    if (array instanceof Float32Array) {\n      lineSegments = array;\n    } else if (Array.isArray(array)) {\n      lineSegments = new Float32Array(array);\n    }\n    const instanceBuffer = new InstancedInterleavedBuffer(lineSegments, 6, 1);\n    this.setAttribute(\"instanceStart\", new InterleavedBufferAttribute(instanceBuffer, 3, 0));\n    this.setAttribute(\"instanceEnd\", new InterleavedBufferAttribute(instanceBuffer, 3, 3));\n    this.computeBoundingBox();\n    this.computeBoundingSphere();\n    return this;\n  }\n  setColors(array) {\n    let colors;\n    if (array instanceof Float32Array) {\n      colors = array;\n    } else if (Array.isArray(array)) {\n      colors = new Float32Array(array);\n    }\n    const instanceColorBuffer = new InstancedInterleavedBuffer(colors, 6, 1);\n    this.setAttribute(\"instanceColorStart\", new InterleavedBufferAttribute(instanceColorBuffer, 3, 0));\n    this.setAttribute(\"instanceColorEnd\", new InterleavedBufferAttribute(instanceColorBuffer, 3, 3));\n    return this;\n  }\n  fromWireframeGeometry(geometry) {\n    this.setPositions(geometry.attributes.position.array);\n    return this;\n  }\n  fromEdgesGeometry(geometry) {\n    this.setPositions(geometry.attributes.position.array);\n    return this;\n  }\n  fromMesh(mesh) {\n    this.fromWireframeGeometry(new WireframeGeometry(mesh.geometry));\n    return this;\n  }\n  fromLineSegments(lineSegments) {\n    const geometry = lineSegments.geometry;\n    this.setPositions(geometry.attributes.position.array);\n    return this;\n  }\n  computeBoundingBox() {\n    if (this.boundingBox === null) {\n      this.boundingBox = new Box3();\n    }\n    const start = this.attributes.instanceStart;\n    const end = this.attributes.instanceEnd;\n    if (start !== void 0 && end !== void 0) {\n      this.boundingBox.setFromBufferAttribute(start);\n      _box.setFromBufferAttribute(end);\n      this.boundingBox.union(_box);\n    }\n  }\n  computeBoundingSphere() {\n    if (this.boundingSphere === null) {\n      this.boundingSphere = new Sphere();\n    }\n    if (this.boundingBox === null) {\n      this.computeBoundingBox();\n    }\n    const start = this.attributes.instanceStart;\n    const end = this.attributes.instanceEnd;\n    if (start !== void 0 && end !== void 0) {\n      const center = this.boundingSphere.center;\n      this.boundingBox.getCenter(center);\n      let maxRadiusSq = 0;\n      for (let i = 0, il = start.count; i < il; i++) {\n        _vector.fromBufferAttribute(start, i);\n        maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector));\n        _vector.fromBufferAttribute(end, i);\n        maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector));\n      }\n      this.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n      if (isNaN(this.boundingSphere.radius)) {\n        console.error(\n          \"THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.\",\n          this\n        );\n      }\n    }\n  }\n  toJSON() {\n  }\n  applyMatrix(matrix) {\n    console.warn(\"THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4().\");\n    return this.applyMatrix4(matrix);\n  }\n}\nexport {\n  LineSegmentsGeometry\n};\n", "import { LineSegmentsGeometry } from \"./LineSegmentsGeometry.js\";\nclass LineGeometry extends LineSegmentsGeometry {\n  constructor() {\n    super();\n    this.isLineGeometry = true;\n    this.type = \"LineGeometry\";\n  }\n  setPositions(array) {\n    const length = array.length - 3;\n    const points = new Float32Array(2 * length);\n    for (let i = 0; i < length; i += 3) {\n      points[2 * i] = array[i];\n      points[2 * i + 1] = array[i + 1];\n      points[2 * i + 2] = array[i + 2];\n      points[2 * i + 3] = array[i + 3];\n      points[2 * i + 4] = array[i + 4];\n      points[2 * i + 5] = array[i + 5];\n    }\n    super.setPositions(points);\n    return this;\n  }\n  setColors(array) {\n    const length = array.length - 3;\n    const colors = new Float32Array(2 * length);\n    for (let i = 0; i < length; i += 3) {\n      colors[2 * i] = array[i];\n      colors[2 * i + 1] = array[i + 1];\n      colors[2 * i + 2] = array[i + 2];\n      colors[2 * i + 3] = array[i + 3];\n      colors[2 * i + 4] = array[i + 4];\n      colors[2 * i + 5] = array[i + 5];\n    }\n    super.setColors(colors);\n    return this;\n  }\n  fromLine(line) {\n    const geometry = line.geometry;\n    this.setPositions(geometry.attributes.position.array);\n    return this;\n  }\n}\nexport {\n  LineGeometry\n};\n", "import { ShaderMaterial, UniformsUtils, UniformsLib, Vector2, REVISION } from \"three\";\nclass LineMaterial extends ShaderMaterial {\n  constructor(parameters) {\n    super({\n      type: \"LineMaterial\",\n      uniforms: UniformsUtils.clone(\n        UniformsUtils.merge([\n          UniformsLib.common,\n          UniformsLib.fog,\n          {\n            worldUnits: { value: 1 },\n            linewidth: { value: 1 },\n            resolution: { value: new Vector2(1, 1) },\n            dashOffset: { value: 0 },\n            dashScale: { value: 1 },\n            dashSize: { value: 1 },\n            gapSize: { value: 1 }\n            // todo FIX - maybe change to totalSize\n          }\n        ])\n      ),\n      vertexShader: (\n        /* glsl */\n        `\n\t\t\t\t#include <common>\n\t\t\t\t#include <color_pars_vertex>\n\t\t\t\t#include <fog_pars_vertex>\n\t\t\t\t#include <logdepthbuf_pars_vertex>\n\t\t\t\t#include <clipping_planes_pars_vertex>\n\n\t\t\t\tuniform float linewidth;\n\t\t\t\tuniform vec2 resolution;\n\n\t\t\t\tattribute vec3 instanceStart;\n\t\t\t\tattribute vec3 instanceEnd;\n\n\t\t\t\tattribute vec3 instanceColorStart;\n\t\t\t\tattribute vec3 instanceColorEnd;\n\n\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\tvarying vec4 worldPos;\n\t\t\t\t\tvarying vec3 worldStart;\n\t\t\t\t\tvarying vec3 worldEnd;\n\n\t\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\t\tvarying vec2 vUv;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t#else\n\n\t\t\t\t\tvarying vec2 vUv;\n\n\t\t\t\t#endif\n\n\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\tuniform float dashScale;\n\t\t\t\t\tattribute float instanceDistanceStart;\n\t\t\t\t\tattribute float instanceDistanceEnd;\n\t\t\t\t\tvarying float vLineDistance;\n\n\t\t\t\t#endif\n\n\t\t\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t\t\t// conservative estimate of the near plane\n\t\t\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#ifdef USE_COLOR\n\n\t\t\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\t\t\t\t\t\tvUv = uv;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\t\t\t// camera space\n\t\t\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\t\tworldStart = start.xyz;\n\t\t\t\t\t\tworldEnd = end.xyz;\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tvUv = uv;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\t\t\tif ( perspective ) {\n\n\t\t\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// clip space\n\t\t\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t\t\t// ndc space\n\t\t\t\t\tvec3 ndcStart = clipStart.xyz / clipStart.w;\n\t\t\t\t\tvec3 ndcEnd = clipEnd.xyz / clipEnd.w;\n\n\t\t\t\t\t// direction\n\t\t\t\t\tvec2 dir = ndcEnd.xy - ndcStart.xy;\n\n\t\t\t\t\t// account for clip-space aspect ratio\n\t\t\t\t\tdir.x *= aspect;\n\t\t\t\t\tdir = normalize( dir );\n\n\t\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\t\t// get the offset direction as perpendicular to the view vector\n\t\t\t\t\t\tvec3 worldDir = normalize( end.xyz - start.xyz );\n\t\t\t\t\t\tvec3 offset;\n\t\t\t\t\t\tif ( position.y < 0.5 ) {\n\n\t\t\t\t\t\t\toffset = normalize( cross( start.xyz, worldDir ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\toffset = normalize( cross( end.xyz, worldDir ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// sign flip\n\t\t\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\t\t\tfloat forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );\n\n\t\t\t\t\t\t// don't extend the line if we're rendering dashes because we\n\t\t\t\t\t\t// won't be rendering the endcaps\n\t\t\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t\t\t// extend the line bounds to encompass  endcaps\n\t\t\t\t\t\t\tstart.xyz += - worldDir * linewidth * 0.5;\n\t\t\t\t\t\t\tend.xyz += worldDir * linewidth * 0.5;\n\n\t\t\t\t\t\t\t// shift the position of the quad so it hugs the forward edge of the line\n\t\t\t\t\t\t\toffset.xy -= dir * forwardOffset;\n\t\t\t\t\t\t\toffset.z += 0.5;\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// endcaps\n\t\t\t\t\t\tif ( position.y > 1.0 || position.y < 0.0 ) {\n\n\t\t\t\t\t\t\toffset.xy += dir * 2.0 * forwardOffset;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// adjust for linewidth\n\t\t\t\t\t\toffset *= linewidth * 0.5;\n\n\t\t\t\t\t\t// set the world position\n\t\t\t\t\t\tworldPos = ( position.y < 0.5 ) ? start : end;\n\t\t\t\t\t\tworldPos.xyz += offset;\n\n\t\t\t\t\t\t// project the worldpos\n\t\t\t\t\t\tvec4 clip = projectionMatrix * worldPos;\n\n\t\t\t\t\t\t// shift the depth of the projected points so the line\n\t\t\t\t\t\t// segments overlap neatly\n\t\t\t\t\t\tvec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\n\t\t\t\t\t\tclip.z = clipPose.z * clip.w;\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\t\t\t\t\t\t// undo aspect ratio adjustment\n\t\t\t\t\t\tdir.x /= aspect;\n\t\t\t\t\t\toffset.x /= aspect;\n\n\t\t\t\t\t\t// sign flip\n\t\t\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\t\t\t// endcaps\n\t\t\t\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\t\t\t\toffset += - dir;\n\n\t\t\t\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\t\t\t\toffset += dir;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// adjust for linewidth\n\t\t\t\t\t\toffset *= linewidth;\n\n\t\t\t\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\t\t\t\toffset /= resolution.y;\n\n\t\t\t\t\t\t// select end\n\t\t\t\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t\t\t\t// back to clip space\n\t\t\t\t\t\toffset *= clip.w;\n\n\t\t\t\t\t\tclip.xy += offset;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\tgl_Position = clip;\n\n\t\t\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t\t\t#include <logdepthbuf_vertex>\n\t\t\t\t\t#include <clipping_planes_vertex>\n\t\t\t\t\t#include <fog_vertex>\n\n\t\t\t\t}\n\t\t\t`\n      ),\n      fragmentShader: (\n        /* glsl */\n        `\n\t\t\t\tuniform vec3 diffuse;\n\t\t\t\tuniform float opacity;\n\t\t\t\tuniform float linewidth;\n\n\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\tuniform float dashOffset;\n\t\t\t\t\tuniform float dashSize;\n\t\t\t\t\tuniform float gapSize;\n\n\t\t\t\t#endif\n\n\t\t\t\tvarying float vLineDistance;\n\n\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\tvarying vec4 worldPos;\n\t\t\t\t\tvarying vec3 worldStart;\n\t\t\t\t\tvarying vec3 worldEnd;\n\n\t\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\t\tvarying vec2 vUv;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t#else\n\n\t\t\t\t\tvarying vec2 vUv;\n\n\t\t\t\t#endif\n\n\t\t\t\t#include <common>\n\t\t\t\t#include <color_pars_fragment>\n\t\t\t\t#include <fog_pars_fragment>\n\t\t\t\t#include <logdepthbuf_pars_fragment>\n\t\t\t\t#include <clipping_planes_pars_fragment>\n\n\t\t\t\tvec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\n\n\t\t\t\t\tfloat mua;\n\t\t\t\t\tfloat mub;\n\n\t\t\t\t\tvec3 p13 = p1 - p3;\n\t\t\t\t\tvec3 p43 = p4 - p3;\n\n\t\t\t\t\tvec3 p21 = p2 - p1;\n\n\t\t\t\t\tfloat d1343 = dot( p13, p43 );\n\t\t\t\t\tfloat d4321 = dot( p43, p21 );\n\t\t\t\t\tfloat d1321 = dot( p13, p21 );\n\t\t\t\t\tfloat d4343 = dot( p43, p43 );\n\t\t\t\t\tfloat d2121 = dot( p21, p21 );\n\n\t\t\t\t\tfloat denom = d2121 * d4343 - d4321 * d4321;\n\n\t\t\t\t\tfloat numer = d1343 * d4321 - d1321 * d4343;\n\n\t\t\t\t\tmua = numer / denom;\n\t\t\t\t\tmua = clamp( mua, 0.0, 1.0 );\n\t\t\t\t\tmub = ( d1343 + d4321 * ( mua ) ) / d4343;\n\t\t\t\t\tmub = clamp( mub, 0.0, 1.0 );\n\n\t\t\t\t\treturn vec2( mua, mub );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\tfloat alpha = opacity;\n\n\t\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\t\t// Find the closest points on the view ray and the line segment\n\t\t\t\t\t\tvec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\n\t\t\t\t\t\tvec3 lineDir = worldEnd - worldStart;\n\t\t\t\t\t\tvec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\n\n\t\t\t\t\t\tvec3 p1 = worldStart + lineDir * params.x;\n\t\t\t\t\t\tvec3 p2 = rayEnd * params.y;\n\t\t\t\t\t\tvec3 delta = p1 - p2;\n\t\t\t\t\t\tfloat len = length( delta );\n\t\t\t\t\t\tfloat norm = len / linewidth;\n\n\t\t\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\t\t\tfloat dnorm = fwidth( norm );\n\t\t\t\t\t\t\t\talpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );\n\n\t\t\t\t\t\t\t#else\n\n\t\t\t\t\t\t\t\tif ( norm > 0.5 ) {\n\n\t\t\t\t\t\t\t\t\tdiscard;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\t\t\tfloat len2 = a * a + b * b;\n\t\t\t\t\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t#else\n\n\t\t\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\t\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\n\t\t\t\t\t#include <logdepthbuf_fragment>\n\t\t\t\t\t#include <color_fragment>\n\n\t\t\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n\t\t\t\t\t#include <tonemapping_fragment>\n\t\t\t\t\t#include <${parseInt(REVISION.replace(/\\D+/g, \"\")) >= 154 ? \"colorspace_fragment\" : \"encodings_fragment\"}>\n\t\t\t\t\t#include <fog_fragment>\n\t\t\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t\t\t}\n\t\t\t`\n      ),\n      clipping: true\n      // required for clipping support\n    });\n    this.isLineMaterial = true;\n    Object.defineProperties(this, {\n      color: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.diffuse.value;\n        },\n        set: function(value) {\n          this.uniforms.diffuse.value = value;\n        }\n      },\n      worldUnits: {\n        enumerable: true,\n        get: function() {\n          return \"WORLD_UNITS\" in this.defines;\n        },\n        set: function(value) {\n          if (value === true) {\n            this.defines.WORLD_UNITS = \"\";\n          } else {\n            delete this.defines.WORLD_UNITS;\n          }\n        }\n      },\n      linewidth: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.linewidth.value;\n        },\n        set: function(value) {\n          this.uniforms.linewidth.value = value;\n        }\n      },\n      dashed: {\n        enumerable: true,\n        get: function() {\n          return Boolean(\"USE_DASH\" in this.defines);\n        },\n        set(value) {\n          if (Boolean(value) !== Boolean(\"USE_DASH\" in this.defines)) {\n            this.needsUpdate = true;\n          }\n          if (value === true) {\n            this.defines.USE_DASH = \"\";\n          } else {\n            delete this.defines.USE_DASH;\n          }\n        }\n      },\n      dashScale: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.dashScale.value;\n        },\n        set: function(value) {\n          this.uniforms.dashScale.value = value;\n        }\n      },\n      dashSize: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.dashSize.value;\n        },\n        set: function(value) {\n          this.uniforms.dashSize.value = value;\n        }\n      },\n      dashOffset: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.dashOffset.value;\n        },\n        set: function(value) {\n          this.uniforms.dashOffset.value = value;\n        }\n      },\n      gapSize: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.gapSize.value;\n        },\n        set: function(value) {\n          this.uniforms.gapSize.value = value;\n        }\n      },\n      opacity: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.opacity.value;\n        },\n        set: function(value) {\n          this.uniforms.opacity.value = value;\n        }\n      },\n      resolution: {\n        enumerable: true,\n        get: function() {\n          return this.uniforms.resolution.value;\n        },\n        set: function(value) {\n          this.uniforms.resolution.value.copy(value);\n        }\n      },\n      alphaToCoverage: {\n        enumerable: true,\n        get: function() {\n          return Boolean(\"USE_ALPHA_TO_COVERAGE\" in this.defines);\n        },\n        set: function(value) {\n          if (Boolean(value) !== Boolean(\"USE_ALPHA_TO_COVERAGE\" in this.defines)) {\n            this.needsUpdate = true;\n          }\n          if (value === true) {\n            this.defines.USE_ALPHA_TO_COVERAGE = \"\";\n            this.extensions.derivatives = true;\n          } else {\n            delete this.defines.USE_ALPHA_TO_COVERAGE;\n            this.extensions.derivatives = false;\n          }\n        }\n      }\n    });\n    this.setValues(parameters);\n  }\n}\nexport {\n  LineMaterial\n};\n", "import { Vector3, Mesh, InstancedInterleavedBuffer, InterleavedBufferAttribute } from \"three\";\nimport { LineSegmentsGeometry } from \"./LineSegmentsGeometry.js\";\nimport { LineMaterial } from \"./LineMaterial.js\";\nconst _start = /* @__PURE__ */ new Vector3();\nconst _end = /* @__PURE__ */ new Vector3();\nclass Wireframe extends Mesh {\n  constructor(geometry = new LineSegmentsGeometry(), material = new LineMaterial({ color: Math.random() * 16777215 })) {\n    super(geometry, material);\n    this.isWireframe = true;\n    this.type = \"Wireframe\";\n  }\n  // for backwards-compatibility, but could be a method of LineSegmentsGeometry...\n  computeLineDistances() {\n    const geometry = this.geometry;\n    const instanceStart = geometry.attributes.instanceStart;\n    const instanceEnd = geometry.attributes.instanceEnd;\n    const lineDistances = new Float32Array(2 * instanceStart.count);\n    for (let i = 0, j = 0, l = instanceStart.count; i < l; i++, j += 2) {\n      _start.fromBufferAttribute(instanceStart, i);\n      _end.fromBufferAttribute(instanceEnd, i);\n      lineDistances[j] = j === 0 ? 0 : lineDistances[j - 1];\n      lineDistances[j + 1] = lineDistances[j] + _start.distanceTo(_end);\n    }\n    const instanceDistanceBuffer = new InstancedInterleavedBuffer(lineDistances, 2, 1);\n    geometry.setAttribute(\"instanceDistanceStart\", new InterleavedBufferAttribute(instanceDistanceBuffer, 1, 0));\n    geometry.setAttribute(\"instanceDistanceEnd\", new InterleavedBufferAttribute(instanceDistanceBuffer, 1, 1));\n    return this;\n  }\n}\nexport {\n  Wireframe\n};\n", "import { Vector3, Vector4, Matrix4, Line3, Box3, Sphere, MathUtils, Mesh, InstancedInterleavedBuffer, InterleavedBufferAttribute } from \"three\";\nimport { LineSegmentsGeometry } from \"./LineSegmentsGeometry.js\";\nimport { LineMaterial } from \"./LineMaterial.js\";\nconst _start = /* @__PURE__ */ new Vector3();\nconst _end = /* @__PURE__ */ new Vector3();\nconst _start4 = /* @__PURE__ */ new Vector4();\nconst _end4 = /* @__PURE__ */ new Vector4();\nconst _ssOrigin = /* @__PURE__ */ new Vector4();\nconst _ssOrigin3 = /* @__PURE__ */ new Vector3();\nconst _mvMatrix = /* @__PURE__ */ new Matrix4();\nconst _line = /* @__PURE__ */ new Line3();\nconst _closestPoint = /* @__PURE__ */ new Vector3();\nconst _box = /* @__PURE__ */ new Box3();\nconst _sphere = /* @__PURE__ */ new Sphere();\nconst _clipToWorldVector = /* @__PURE__ */ new Vector4();\nlet _ray, _instanceStart, _instanceEnd, _lineWidth;\nfunction getWorldSpaceHalfWidth(camera, distance, resolution) {\n  _clipToWorldVector.set(0, 0, -distance, 1).applyMatrix4(camera.projectionMatrix);\n  _clipToWorldVector.multiplyScalar(1 / _clipToWorldVector.w);\n  _clipToWorldVector.x = _lineWidth / resolution.width;\n  _clipToWorldVector.y = _lineWidth / resolution.height;\n  _clipToWorldVector.applyMatrix4(camera.projectionMatrixInverse);\n  _clipToWorldVector.multiplyScalar(1 / _clipToWorldVector.w);\n  return Math.abs(Math.max(_clipToWorldVector.x, _clipToWorldVector.y));\n}\nfunction raycastWorldUnits(lineSegments, intersects) {\n  for (let i = 0, l = _instanceStart.count; i < l; i++) {\n    _line.start.fromBufferAttribute(_instanceStart, i);\n    _line.end.fromBufferAttribute(_instanceEnd, i);\n    const pointOnLine = new Vector3();\n    const point = new Vector3();\n    _ray.distanceSqToSegment(_line.start, _line.end, point, pointOnLine);\n    const isInside = point.distanceTo(pointOnLine) < _lineWidth * 0.5;\n    if (isInside) {\n      intersects.push({\n        point,\n        pointOnLine,\n        distance: _ray.origin.distanceTo(point),\n        object: lineSegments,\n        face: null,\n        faceIndex: i,\n        uv: null,\n        uv2: null\n      });\n    }\n  }\n}\nfunction raycastScreenSpace(lineSegments, camera, intersects) {\n  const projectionMatrix = camera.projectionMatrix;\n  const material = lineSegments.material;\n  const resolution = material.resolution;\n  const matrixWorld = lineSegments.matrixWorld;\n  const geometry = lineSegments.geometry;\n  const instanceStart = geometry.attributes.instanceStart;\n  const instanceEnd = geometry.attributes.instanceEnd;\n  const near = -camera.near;\n  _ray.at(1, _ssOrigin);\n  _ssOrigin.w = 1;\n  _ssOrigin.applyMatrix4(camera.matrixWorldInverse);\n  _ssOrigin.applyMatrix4(projectionMatrix);\n  _ssOrigin.multiplyScalar(1 / _ssOrigin.w);\n  _ssOrigin.x *= resolution.x / 2;\n  _ssOrigin.y *= resolution.y / 2;\n  _ssOrigin.z = 0;\n  _ssOrigin3.copy(_ssOrigin);\n  _mvMatrix.multiplyMatrices(camera.matrixWorldInverse, matrixWorld);\n  for (let i = 0, l = instanceStart.count; i < l; i++) {\n    _start4.fromBufferAttribute(instanceStart, i);\n    _end4.fromBufferAttribute(instanceEnd, i);\n    _start4.w = 1;\n    _end4.w = 1;\n    _start4.applyMatrix4(_mvMatrix);\n    _end4.applyMatrix4(_mvMatrix);\n    const isBehindCameraNear = _start4.z > near && _end4.z > near;\n    if (isBehindCameraNear) {\n      continue;\n    }\n    if (_start4.z > near) {\n      const deltaDist = _start4.z - _end4.z;\n      const t = (_start4.z - near) / deltaDist;\n      _start4.lerp(_end4, t);\n    } else if (_end4.z > near) {\n      const deltaDist = _end4.z - _start4.z;\n      const t = (_end4.z - near) / deltaDist;\n      _end4.lerp(_start4, t);\n    }\n    _start4.applyMatrix4(projectionMatrix);\n    _end4.applyMatrix4(projectionMatrix);\n    _start4.multiplyScalar(1 / _start4.w);\n    _end4.multiplyScalar(1 / _end4.w);\n    _start4.x *= resolution.x / 2;\n    _start4.y *= resolution.y / 2;\n    _end4.x *= resolution.x / 2;\n    _end4.y *= resolution.y / 2;\n    _line.start.copy(_start4);\n    _line.start.z = 0;\n    _line.end.copy(_end4);\n    _line.end.z = 0;\n    const param = _line.closestPointToPointParameter(_ssOrigin3, true);\n    _line.at(param, _closestPoint);\n    const zPos = MathUtils.lerp(_start4.z, _end4.z, param);\n    const isInClipSpace = zPos >= -1 && zPos <= 1;\n    const isInside = _ssOrigin3.distanceTo(_closestPoint) < _lineWidth * 0.5;\n    if (isInClipSpace && isInside) {\n      _line.start.fromBufferAttribute(instanceStart, i);\n      _line.end.fromBufferAttribute(instanceEnd, i);\n      _line.start.applyMatrix4(matrixWorld);\n      _line.end.applyMatrix4(matrixWorld);\n      const pointOnLine = new Vector3();\n      const point = new Vector3();\n      _ray.distanceSqToSegment(_line.start, _line.end, point, pointOnLine);\n      intersects.push({\n        point,\n        pointOnLine,\n        distance: _ray.origin.distanceTo(point),\n        object: lineSegments,\n        face: null,\n        faceIndex: i,\n        uv: null,\n        uv2: null\n      });\n    }\n  }\n}\nclass LineSegments2 extends Mesh {\n  constructor(geometry = new LineSegmentsGeometry(), material = new LineMaterial({ color: Math.random() * 16777215 })) {\n    super(geometry, material);\n    this.isLineSegments2 = true;\n    this.type = \"LineSegments2\";\n  }\n  // for backwards-compatibility, but could be a method of LineSegmentsGeometry...\n  computeLineDistances() {\n    const geometry = this.geometry;\n    const instanceStart = geometry.attributes.instanceStart;\n    const instanceEnd = geometry.attributes.instanceEnd;\n    const lineDistances = new Float32Array(2 * instanceStart.count);\n    for (let i = 0, j = 0, l = instanceStart.count; i < l; i++, j += 2) {\n      _start.fromBufferAttribute(instanceStart, i);\n      _end.fromBufferAttribute(instanceEnd, i);\n      lineDistances[j] = j === 0 ? 0 : lineDistances[j - 1];\n      lineDistances[j + 1] = lineDistances[j] + _start.distanceTo(_end);\n    }\n    const instanceDistanceBuffer = new InstancedInterleavedBuffer(lineDistances, 2, 1);\n    geometry.setAttribute(\"instanceDistanceStart\", new InterleavedBufferAttribute(instanceDistanceBuffer, 1, 0));\n    geometry.setAttribute(\"instanceDistanceEnd\", new InterleavedBufferAttribute(instanceDistanceBuffer, 1, 1));\n    return this;\n  }\n  raycast(raycaster, intersects) {\n    const worldUnits = this.material.worldUnits;\n    const camera = raycaster.camera;\n    if (camera === null && !worldUnits) {\n      console.error(\n        'LineSegments2: \"Raycaster.camera\" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.'\n      );\n    }\n    const threshold = raycaster.params.Line2 !== void 0 ? raycaster.params.Line2.threshold || 0 : 0;\n    _ray = raycaster.ray;\n    const matrixWorld = this.matrixWorld;\n    const geometry = this.geometry;\n    const material = this.material;\n    _lineWidth = material.linewidth + threshold;\n    _instanceStart = geometry.attributes.instanceStart;\n    _instanceEnd = geometry.attributes.instanceEnd;\n    if (geometry.boundingSphere === null) {\n      geometry.computeBoundingSphere();\n    }\n    _sphere.copy(geometry.boundingSphere).applyMatrix4(matrixWorld);\n    let sphereMargin;\n    if (worldUnits) {\n      sphereMargin = _lineWidth * 0.5;\n    } else {\n      const distanceToSphere = Math.max(camera.near, _sphere.distanceToPoint(_ray.origin));\n      sphereMargin = getWorldSpaceHalfWidth(camera, distanceToSphere, material.resolution);\n    }\n    _sphere.radius += sphereMargin;\n    if (_ray.intersectsSphere(_sphere) === false) {\n      return;\n    }\n    if (geometry.boundingBox === null) {\n      geometry.computeBoundingBox();\n    }\n    _box.copy(geometry.boundingBox).applyMatrix4(matrixWorld);\n    let boxMargin;\n    if (worldUnits) {\n      boxMargin = _lineWidth * 0.5;\n    } else {\n      const distanceToBox = Math.max(camera.near, _box.distanceToPoint(_ray.origin));\n      boxMargin = getWorldSpaceHalfWidth(camera, distanceToBox, material.resolution);\n    }\n    _box.expandByScalar(boxMargin);\n    if (_ray.intersectsBox(_box) === false) {\n      return;\n    }\n    if (worldUnits) {\n      raycastWorldUnits(this, intersects);\n    } else {\n      raycastScreenSpace(this, camera, intersects);\n    }\n  }\n}\nexport {\n  LineSegments2\n};\n", "import { LineSegments2 } from \"./LineSegments2.js\";\nimport { LineGeometry } from \"./LineGeometry.js\";\nimport { LineMaterial } from \"./LineMaterial.js\";\nclass Line2 extends LineSegments2 {\n  constructor(geometry = new LineGeometry(), material = new LineMaterial({ color: Math.random() * 16777215 })) {\n    super(geometry, material);\n    this.isLine2 = true;\n    this.type = \"Line2\";\n  }\n}\nexport {\n  Line2\n};\n", "import { Vector3, LineSegments, BufferGeometry, Float32BufferAttribute, LineBasicMaterial } from \"three\";\nconst _v1 = /* @__PURE__ */ new Vector3();\nconst _v2 = /* @__PURE__ */ new Vector3();\nclass VertexTangentsHelper extends LineSegments {\n  constructor(object, size = 1, color = 65535) {\n    const geometry = new BufferGeometry();\n    const nTangents = object.geometry.attributes.tangent.count;\n    const positions = new Float32BufferAttribute(nTangents * 2 * 3, 3);\n    geometry.setAttribute(\"position\", positions);\n    super(geometry, new LineBasicMaterial({ color, toneMapped: false }));\n    this.object = object;\n    this.size = size;\n    this.type = \"VertexTangentsHelper\";\n    this.matrixAutoUpdate = false;\n    this.update();\n  }\n  update() {\n    this.object.updateMatrixWorld(true);\n    const matrixWorld = this.object.matrixWorld;\n    const position = this.geometry.attributes.position;\n    const objGeometry = this.object.geometry;\n    const objPos = objGeometry.attributes.position;\n    const objTan = objGeometry.attributes.tangent;\n    let idx = 0;\n    for (let j = 0, jl = objPos.count; j < jl; j++) {\n      _v1.fromBufferAttribute(objPos, j).applyMatrix4(matrixWorld);\n      _v2.fromBufferAttribute(objTan, j);\n      _v2.transformDirection(matrixWorld).multiplyScalar(this.size).add(_v1);\n      position.setXYZ(idx, _v1.x, _v1.y, _v1.z);\n      idx = idx + 1;\n      position.setXYZ(idx, _v2.x, _v2.y, _v2.z);\n      idx = idx + 1;\n    }\n    position.needsUpdate = true;\n  }\n  dispose() {\n    this.geometry.dispose();\n    this.material.dispose();\n  }\n}\nexport {\n  VertexTangentsHelper\n};\n", "import { Vector3, Matrix3, LineSegments, BufferGeometry, Float32BufferAttribute, LineBasicMaterial } from \"three\";\nconst _v1 = /* @__PURE__ */ new Vector3();\nconst _v2 = /* @__PURE__ */ new Vector3();\nconst _normalMatrix = /* @__PURE__ */ new Matrix3();\nclass VertexNormalsHelper extends LineSegments {\n  constructor(object, size = 1, color = 16711680) {\n    const geometry = new BufferGeometry();\n    const nNormals = object.geometry.attributes.normal.count;\n    const positions = new Float32BufferAttribute(nNormals * 2 * 3, 3);\n    geometry.setAttribute(\"position\", positions);\n    super(geometry, new LineBasicMaterial({ color, toneMapped: false }));\n    this.object = object;\n    this.size = size;\n    this.type = \"VertexNormalsHelper\";\n    this.matrixAutoUpdate = false;\n    this.update();\n  }\n  update() {\n    this.object.updateMatrixWorld(true);\n    _normalMatrix.getNormalMatrix(this.object.matrixWorld);\n    const matrixWorld = this.object.matrixWorld;\n    const position = this.geometry.attributes.position;\n    const objGeometry = this.object.geometry;\n    if (objGeometry) {\n      const objPos = objGeometry.attributes.position;\n      const objNorm = objGeometry.attributes.normal;\n      let idx = 0;\n      for (let j = 0, jl = objPos.count; j < jl; j++) {\n        _v1.fromBufferAttribute(objPos, j).applyMatrix4(matrixWorld);\n        _v2.fromBufferAttribute(objNorm, j);\n        _v2.applyMatrix3(_normalMatrix).normalize().multiplyScalar(this.size).add(_v1);\n        position.setXYZ(idx, _v1.x, _v1.y, _v1.z);\n        idx = idx + 1;\n        position.setXYZ(idx, _v2.x, _v2.y, _v2.z);\n        idx = idx + 1;\n      }\n    }\n    position.needsUpdate = true;\n  }\n  dispose() {\n    this.geometry.dispose();\n    this.material.dispose();\n  }\n}\nexport {\n  VertexNormalsHelper\n};\n", "import { Matrix4, Object3D, Vector3, EventDispatcher, BufferGeometry, Float32BufferAttribute, MathUtils, Matrix3, Color, Vector2, Box3, Sphere, BufferAttribute } from \"three\";\nconst _m1 = /* @__PURE__ */ new Matrix4();\nconst _obj = /* @__PURE__ */ new Object3D();\nconst _offset = /* @__PURE__ */ new Vector3();\nclass Geometry extends EventDispatcher {\n  static createBufferGeometryFromObject(object) {\n    let buffergeometry = new BufferGeometry();\n    const geometry = object.geometry;\n    if (object.isPoints || object.isLine) {\n      const positions = new Float32BufferAttribute(geometry.vertices.length * 3, 3);\n      const colors = new Float32BufferAttribute(geometry.colors.length * 3, 3);\n      buffergeometry.setAttribute(\"position\", positions.copyVector3sArray(geometry.vertices));\n      buffergeometry.setAttribute(\"color\", colors.copyColorsArray(geometry.colors));\n      if (geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length) {\n        const lineDistances = new Float32BufferAttribute(geometry.lineDistances.length, 1);\n        buffergeometry.setAttribute(\"lineDistance\", lineDistances.copyArray(geometry.lineDistances));\n      }\n      if (geometry.boundingSphere !== null) {\n        buffergeometry.boundingSphere = geometry.boundingSphere.clone();\n      }\n      if (geometry.boundingBox !== null) {\n        buffergeometry.boundingBox = geometry.boundingBox.clone();\n      }\n    } else if (object.isMesh) {\n      buffergeometry = geometry.toBufferGeometry();\n    }\n    return buffergeometry;\n  }\n  constructor() {\n    super();\n    this.isGeometry = true;\n    this.uuid = MathUtils.generateUUID();\n    this.name = \"\";\n    this.type = \"Geometry\";\n    this.vertices = [];\n    this.colors = [];\n    this.faces = [];\n    this.faceVertexUvs = [[]];\n    this.morphTargets = [];\n    this.morphNormals = [];\n    this.skinWeights = [];\n    this.skinIndices = [];\n    this.lineDistances = [];\n    this.boundingBox = null;\n    this.boundingSphere = null;\n    this.elementsNeedUpdate = false;\n    this.verticesNeedUpdate = false;\n    this.uvsNeedUpdate = false;\n    this.normalsNeedUpdate = false;\n    this.colorsNeedUpdate = false;\n    this.lineDistancesNeedUpdate = false;\n    this.groupsNeedUpdate = false;\n  }\n  applyMatrix4(matrix) {\n    const normalMatrix = new Matrix3().getNormalMatrix(matrix);\n    for (let i = 0, il = this.vertices.length; i < il; i++) {\n      const vertex = this.vertices[i];\n      vertex.applyMatrix4(matrix);\n    }\n    for (let i = 0, il = this.faces.length; i < il; i++) {\n      const face = this.faces[i];\n      face.normal.applyMatrix3(normalMatrix).normalize();\n      for (let j = 0, jl = face.vertexNormals.length; j < jl; j++) {\n        face.vertexNormals[j].applyMatrix3(normalMatrix).normalize();\n      }\n    }\n    if (this.boundingBox !== null) {\n      this.computeBoundingBox();\n    }\n    if (this.boundingSphere !== null) {\n      this.computeBoundingSphere();\n    }\n    this.verticesNeedUpdate = true;\n    this.normalsNeedUpdate = true;\n    return this;\n  }\n  rotateX(angle) {\n    _m1.makeRotationX(angle);\n    this.applyMatrix4(_m1);\n    return this;\n  }\n  rotateY(angle) {\n    _m1.makeRotationY(angle);\n    this.applyMatrix4(_m1);\n    return this;\n  }\n  rotateZ(angle) {\n    _m1.makeRotationZ(angle);\n    this.applyMatrix4(_m1);\n    return this;\n  }\n  translate(x, y, z) {\n    _m1.makeTranslation(x, y, z);\n    this.applyMatrix4(_m1);\n    return this;\n  }\n  scale(x, y, z) {\n    _m1.makeScale(x, y, z);\n    this.applyMatrix4(_m1);\n    return this;\n  }\n  lookAt(vector) {\n    _obj.lookAt(vector);\n    _obj.updateMatrix();\n    this.applyMatrix4(_obj.matrix);\n    return this;\n  }\n  fromBufferGeometry(geometry) {\n    const scope = this;\n    const index = geometry.index !== null ? geometry.index : void 0;\n    const attributes = geometry.attributes;\n    if (attributes.position === void 0) {\n      console.error(\"THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.\");\n      return this;\n    }\n    const position = attributes.position;\n    const normal = attributes.normal;\n    const color = attributes.color;\n    const uv = attributes.uv;\n    const uv2 = attributes.uv2;\n    if (uv2 !== void 0)\n      this.faceVertexUvs[1] = [];\n    for (let i = 0; i < position.count; i++) {\n      scope.vertices.push(new Vector3().fromBufferAttribute(position, i));\n      if (color !== void 0) {\n        scope.colors.push(new Color().fromBufferAttribute(color, i));\n      }\n    }\n    function addFace(a, b, c, materialIndex) {\n      const vertexColors = color === void 0 ? [] : [scope.colors[a].clone(), scope.colors[b].clone(), scope.colors[c].clone()];\n      const vertexNormals = normal === void 0 ? [] : [\n        new Vector3().fromBufferAttribute(normal, a),\n        new Vector3().fromBufferAttribute(normal, b),\n        new Vector3().fromBufferAttribute(normal, c)\n      ];\n      const face = new Face3(a, b, c, vertexNormals, vertexColors, materialIndex);\n      scope.faces.push(face);\n      if (uv !== void 0) {\n        scope.faceVertexUvs[0].push([\n          new Vector2().fromBufferAttribute(uv, a),\n          new Vector2().fromBufferAttribute(uv, b),\n          new Vector2().fromBufferAttribute(uv, c)\n        ]);\n      }\n      if (uv2 !== void 0) {\n        scope.faceVertexUvs[1].push([\n          new Vector2().fromBufferAttribute(uv2, a),\n          new Vector2().fromBufferAttribute(uv2, b),\n          new Vector2().fromBufferAttribute(uv2, c)\n        ]);\n      }\n    }\n    const groups = geometry.groups;\n    if (groups.length > 0) {\n      for (let i = 0; i < groups.length; i++) {\n        const group = groups[i];\n        const start = group.start;\n        const count = group.count;\n        for (let j = start, jl = start + count; j < jl; j += 3) {\n          if (index !== void 0) {\n            addFace(index.getX(j), index.getX(j + 1), index.getX(j + 2), group.materialIndex);\n          } else {\n            addFace(j, j + 1, j + 2, group.materialIndex);\n          }\n        }\n      }\n    } else {\n      if (index !== void 0) {\n        for (let i = 0; i < index.count; i += 3) {\n          addFace(index.getX(i), index.getX(i + 1), index.getX(i + 2));\n        }\n      } else {\n        for (let i = 0; i < position.count; i += 3) {\n          addFace(i, i + 1, i + 2);\n        }\n      }\n    }\n    this.computeFaceNormals();\n    if (geometry.boundingBox !== null) {\n      this.boundingBox = geometry.boundingBox.clone();\n    }\n    if (geometry.boundingSphere !== null) {\n      this.boundingSphere = geometry.boundingSphere.clone();\n    }\n    return this;\n  }\n  center() {\n    this.computeBoundingBox();\n    this.boundingBox.getCenter(_offset).negate();\n    this.translate(_offset.x, _offset.y, _offset.z);\n    return this;\n  }\n  normalize() {\n    this.computeBoundingSphere();\n    const center = this.boundingSphere.center;\n    const radius = this.boundingSphere.radius;\n    const s = radius === 0 ? 1 : 1 / radius;\n    const matrix = new Matrix4();\n    matrix.set(s, 0, 0, -s * center.x, 0, s, 0, -s * center.y, 0, 0, s, -s * center.z, 0, 0, 0, 1);\n    this.applyMatrix4(matrix);\n    return this;\n  }\n  computeFaceNormals() {\n    const cb = new Vector3(), ab = new Vector3();\n    for (let f = 0, fl = this.faces.length; f < fl; f++) {\n      const face = this.faces[f];\n      const vA = this.vertices[face.a];\n      const vB = this.vertices[face.b];\n      const vC = this.vertices[face.c];\n      cb.subVectors(vC, vB);\n      ab.subVectors(vA, vB);\n      cb.cross(ab);\n      cb.normalize();\n      face.normal.copy(cb);\n    }\n  }\n  computeVertexNormals(areaWeighted = true) {\n    const vertices = new Array(this.vertices.length);\n    for (let v = 0, vl = this.vertices.length; v < vl; v++) {\n      vertices[v] = new Vector3();\n    }\n    if (areaWeighted) {\n      const cb = new Vector3(), ab = new Vector3();\n      for (let f = 0, fl = this.faces.length; f < fl; f++) {\n        const face = this.faces[f];\n        const vA = this.vertices[face.a];\n        const vB = this.vertices[face.b];\n        const vC = this.vertices[face.c];\n        cb.subVectors(vC, vB);\n        ab.subVectors(vA, vB);\n        cb.cross(ab);\n        vertices[face.a].add(cb);\n        vertices[face.b].add(cb);\n        vertices[face.c].add(cb);\n      }\n    } else {\n      this.computeFaceNormals();\n      for (let f = 0, fl = this.faces.length; f < fl; f++) {\n        const face = this.faces[f];\n        vertices[face.a].add(face.normal);\n        vertices[face.b].add(face.normal);\n        vertices[face.c].add(face.normal);\n      }\n    }\n    for (let v = 0, vl = this.vertices.length; v < vl; v++) {\n      vertices[v].normalize();\n    }\n    for (let f = 0, fl = this.faces.length; f < fl; f++) {\n      const face = this.faces[f];\n      const vertexNormals = face.vertexNormals;\n      if (vertexNormals.length === 3) {\n        vertexNormals[0].copy(vertices[face.a]);\n        vertexNormals[1].copy(vertices[face.b]);\n        vertexNormals[2].copy(vertices[face.c]);\n      } else {\n        vertexNormals[0] = vertices[face.a].clone();\n        vertexNormals[1] = vertices[face.b].clone();\n        vertexNormals[2] = vertices[face.c].clone();\n      }\n    }\n    if (this.faces.length > 0) {\n      this.normalsNeedUpdate = true;\n    }\n  }\n  computeFlatVertexNormals() {\n    this.computeFaceNormals();\n    for (let f = 0, fl = this.faces.length; f < fl; f++) {\n      const face = this.faces[f];\n      const vertexNormals = face.vertexNormals;\n      if (vertexNormals.length === 3) {\n        vertexNormals[0].copy(face.normal);\n        vertexNormals[1].copy(face.normal);\n        vertexNormals[2].copy(face.normal);\n      } else {\n        vertexNormals[0] = face.normal.clone();\n        vertexNormals[1] = face.normal.clone();\n        vertexNormals[2] = face.normal.clone();\n      }\n    }\n    if (this.faces.length > 0) {\n      this.normalsNeedUpdate = true;\n    }\n  }\n  computeMorphNormals() {\n    for (let f = 0, fl = this.faces.length; f < fl; f++) {\n      const face = this.faces[f];\n      if (!face.__originalFaceNormal) {\n        face.__originalFaceNormal = face.normal.clone();\n      } else {\n        face.__originalFaceNormal.copy(face.normal);\n      }\n      if (!face.__originalVertexNormals)\n        face.__originalVertexNormals = [];\n      for (let i = 0, il = face.vertexNormals.length; i < il; i++) {\n        if (!face.__originalVertexNormals[i]) {\n          face.__originalVertexNormals[i] = face.vertexNormals[i].clone();\n        } else {\n          face.__originalVertexNormals[i].copy(face.vertexNormals[i]);\n        }\n      }\n    }\n    const tmpGeo = new Geometry();\n    tmpGeo.faces = this.faces;\n    for (let i = 0, il = this.morphTargets.length; i < il; i++) {\n      if (!this.morphNormals[i]) {\n        this.morphNormals[i] = {};\n        this.morphNormals[i].faceNormals = [];\n        this.morphNormals[i].vertexNormals = [];\n        const dstNormalsFace = this.morphNormals[i].faceNormals;\n        const dstNormalsVertex = this.morphNormals[i].vertexNormals;\n        for (let f = 0, fl = this.faces.length; f < fl; f++) {\n          const faceNormal = new Vector3();\n          const vertexNormals = {\n            a: new Vector3(),\n            b: new Vector3(),\n            c: new Vector3()\n          };\n          dstNormalsFace.push(faceNormal);\n          dstNormalsVertex.push(vertexNormals);\n        }\n      }\n      const morphNormals = this.morphNormals[i];\n      tmpGeo.vertices = this.morphTargets[i].vertices;\n      tmpGeo.computeFaceNormals();\n      tmpGeo.computeVertexNormals();\n      for (let f = 0, fl = this.faces.length; f < fl; f++) {\n        const face = this.faces[f];\n        const faceNormal = morphNormals.faceNormals[f];\n        const vertexNormals = morphNormals.vertexNormals[f];\n        faceNormal.copy(face.normal);\n        vertexNormals.a.copy(face.vertexNormals[0]);\n        vertexNormals.b.copy(face.vertexNormals[1]);\n        vertexNormals.c.copy(face.vertexNormals[2]);\n      }\n    }\n    for (let f = 0, fl = this.faces.length; f < fl; f++) {\n      const face = this.faces[f];\n      face.normal = face.__originalFaceNormal;\n      face.vertexNormals = face.__originalVertexNormals;\n    }\n  }\n  computeBoundingBox() {\n    if (this.boundingBox === null) {\n      this.boundingBox = new Box3();\n    }\n    this.boundingBox.setFromPoints(this.vertices);\n  }\n  computeBoundingSphere() {\n    if (this.boundingSphere === null) {\n      this.boundingSphere = new Sphere();\n    }\n    this.boundingSphere.setFromPoints(this.vertices);\n  }\n  merge(geometry, matrix, materialIndexOffset = 0) {\n    if (!(geometry && geometry.isGeometry)) {\n      console.error(\"THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.\", geometry);\n      return;\n    }\n    let normalMatrix;\n    const vertexOffset = this.vertices.length, vertices1 = this.vertices, vertices2 = geometry.vertices, faces1 = this.faces, faces2 = geometry.faces, colors1 = this.colors, colors2 = geometry.colors;\n    if (matrix !== void 0) {\n      normalMatrix = new Matrix3().getNormalMatrix(matrix);\n    }\n    for (let i = 0, il = vertices2.length; i < il; i++) {\n      const vertex = vertices2[i];\n      const vertexCopy = vertex.clone();\n      if (matrix !== void 0)\n        vertexCopy.applyMatrix4(matrix);\n      vertices1.push(vertexCopy);\n    }\n    for (let i = 0, il = colors2.length; i < il; i++) {\n      colors1.push(colors2[i].clone());\n    }\n    for (let i = 0, il = faces2.length; i < il; i++) {\n      const face = faces2[i];\n      let normal, color;\n      const faceVertexNormals = face.vertexNormals, faceVertexColors = face.vertexColors;\n      const faceCopy = new Face3(face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset);\n      faceCopy.normal.copy(face.normal);\n      if (normalMatrix !== void 0) {\n        faceCopy.normal.applyMatrix3(normalMatrix).normalize();\n      }\n      for (let j = 0, jl = faceVertexNormals.length; j < jl; j++) {\n        normal = faceVertexNormals[j].clone();\n        if (normalMatrix !== void 0) {\n          normal.applyMatrix3(normalMatrix).normalize();\n        }\n        faceCopy.vertexNormals.push(normal);\n      }\n      faceCopy.color.copy(face.color);\n      for (let j = 0, jl = faceVertexColors.length; j < jl; j++) {\n        color = faceVertexColors[j];\n        faceCopy.vertexColors.push(color.clone());\n      }\n      faceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n      faces1.push(faceCopy);\n    }\n    for (let i = 0, il = geometry.faceVertexUvs.length; i < il; i++) {\n      const faceVertexUvs2 = geometry.faceVertexUvs[i];\n      if (this.faceVertexUvs[i] === void 0)\n        this.faceVertexUvs[i] = [];\n      for (let j = 0, jl = faceVertexUvs2.length; j < jl; j++) {\n        const uvs2 = faceVertexUvs2[j], uvsCopy = [];\n        for (let k = 0, kl = uvs2.length; k < kl; k++) {\n          uvsCopy.push(uvs2[k].clone());\n        }\n        this.faceVertexUvs[i].push(uvsCopy);\n      }\n    }\n  }\n  mergeMesh(mesh) {\n    if (!(mesh && mesh.isMesh)) {\n      console.error(\"THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.\", mesh);\n      return;\n    }\n    if (mesh.matrixAutoUpdate)\n      mesh.updateMatrix();\n    this.merge(mesh.geometry, mesh.matrix);\n  }\n  /*\n   * Checks for duplicate vertices with hashmap.\n   * Duplicated vertices are removed\n   * and faces' vertices are updated.\n   */\n  mergeVertices(precisionPoints = 4) {\n    const verticesMap = {};\n    const unique = [], changes = [];\n    const precision = Math.pow(10, precisionPoints);\n    for (let i = 0, il = this.vertices.length; i < il; i++) {\n      const v = this.vertices[i];\n      const key = `${Math.round(v.x * precision)}_${Math.round(v.y * precision)}_${Math.round(v.z * precision)}`;\n      if (verticesMap[key] === void 0) {\n        verticesMap[key] = i;\n        unique.push(this.vertices[i]);\n        changes[i] = unique.length - 1;\n      } else {\n        changes[i] = changes[verticesMap[key]];\n      }\n    }\n    const faceIndicesToRemove = [];\n    for (let i = 0, il = this.faces.length; i < il; i++) {\n      const face = this.faces[i];\n      face.a = changes[face.a];\n      face.b = changes[face.b];\n      face.c = changes[face.c];\n      const indices = [face.a, face.b, face.c];\n      for (let n = 0; n < 3; n++) {\n        if (indices[n] === indices[(n + 1) % 3]) {\n          faceIndicesToRemove.push(i);\n          break;\n        }\n      }\n    }\n    for (let i = faceIndicesToRemove.length - 1; i >= 0; i--) {\n      const idx = faceIndicesToRemove[i];\n      this.faces.splice(idx, 1);\n      for (let j = 0, jl = this.faceVertexUvs.length; j < jl; j++) {\n        this.faceVertexUvs[j].splice(idx, 1);\n      }\n    }\n    const diff = this.vertices.length - unique.length;\n    this.vertices = unique;\n    return diff;\n  }\n  setFromPoints(points) {\n    this.vertices = [];\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      this.vertices.push(new Vector3(point.x, point.y, point.z || 0));\n    }\n    return this;\n  }\n  sortFacesByMaterialIndex() {\n    const faces = this.faces;\n    const length = faces.length;\n    for (let i = 0; i < length; i++) {\n      faces[i]._id = i;\n    }\n    function materialIndexSort(a, b) {\n      return a.materialIndex - b.materialIndex;\n    }\n    faces.sort(materialIndexSort);\n    const uvs1 = this.faceVertexUvs[0];\n    const uvs2 = this.faceVertexUvs[1];\n    let newUvs1, newUvs2;\n    if (uvs1 && uvs1.length === length)\n      newUvs1 = [];\n    if (uvs2 && uvs2.length === length)\n      newUvs2 = [];\n    for (let i = 0; i < length; i++) {\n      const id = faces[i]._id;\n      if (newUvs1)\n        newUvs1.push(uvs1[id]);\n      if (newUvs2)\n        newUvs2.push(uvs2[id]);\n    }\n    if (newUvs1)\n      this.faceVertexUvs[0] = newUvs1;\n    if (newUvs2)\n      this.faceVertexUvs[1] = newUvs2;\n  }\n  toJSON() {\n    const data = {\n      metadata: {\n        version: 4.5,\n        type: \"Geometry\",\n        generator: \"Geometry.toJSON\"\n      }\n    };\n    data.uuid = this.uuid;\n    data.type = this.type;\n    if (this.name !== \"\")\n      data.name = this.name;\n    if (this.parameters !== void 0) {\n      const parameters = this.parameters;\n      for (let key in parameters) {\n        if (parameters[key] !== void 0)\n          data[key] = parameters[key];\n      }\n      return data;\n    }\n    const vertices = [];\n    for (let i = 0; i < this.vertices.length; i++) {\n      const vertex = this.vertices[i];\n      vertices.push(vertex.x, vertex.y, vertex.z);\n    }\n    const faces = [];\n    const normals = [];\n    const normalsHash = {};\n    const colors = [];\n    const colorsHash = {};\n    const uvs = [];\n    const uvsHash = {};\n    for (let i = 0; i < this.faces.length; i++) {\n      const face = this.faces[i];\n      const hasMaterial = true;\n      const hasFaceUv = false;\n      const hasFaceVertexUv = this.faceVertexUvs[0][i] !== void 0;\n      const hasFaceNormal = face.normal.length() > 0;\n      const hasFaceVertexNormal = face.vertexNormals.length > 0;\n      const hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n      const hasFaceVertexColor = face.vertexColors.length > 0;\n      let faceType = 0;\n      faceType = setBit(faceType, 0, 0);\n      faceType = setBit(faceType, 1, hasMaterial);\n      faceType = setBit(faceType, 2, hasFaceUv);\n      faceType = setBit(faceType, 3, hasFaceVertexUv);\n      faceType = setBit(faceType, 4, hasFaceNormal);\n      faceType = setBit(faceType, 5, hasFaceVertexNormal);\n      faceType = setBit(faceType, 6, hasFaceColor);\n      faceType = setBit(faceType, 7, hasFaceVertexColor);\n      faces.push(faceType);\n      faces.push(face.a, face.b, face.c);\n      faces.push(face.materialIndex);\n      if (hasFaceVertexUv) {\n        const faceVertexUvs = this.faceVertexUvs[0][i];\n        faces.push(getUvIndex(faceVertexUvs[0]), getUvIndex(faceVertexUvs[1]), getUvIndex(faceVertexUvs[2]));\n      }\n      if (hasFaceNormal) {\n        faces.push(getNormalIndex(face.normal));\n      }\n      if (hasFaceVertexNormal) {\n        const vertexNormals = face.vertexNormals;\n        faces.push(getNormalIndex(vertexNormals[0]), getNormalIndex(vertexNormals[1]), getNormalIndex(vertexNormals[2]));\n      }\n      if (hasFaceColor) {\n        faces.push(getColorIndex(face.color));\n      }\n      if (hasFaceVertexColor) {\n        const vertexColors = face.vertexColors;\n        faces.push(getColorIndex(vertexColors[0]), getColorIndex(vertexColors[1]), getColorIndex(vertexColors[2]));\n      }\n    }\n    function setBit(value, position, enabled) {\n      return enabled ? value | 1 << position : value & ~(1 << position);\n    }\n    function getNormalIndex(normal) {\n      const hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n      if (normalsHash[hash] !== void 0) {\n        return normalsHash[hash];\n      }\n      normalsHash[hash] = normals.length / 3;\n      normals.push(normal.x, normal.y, normal.z);\n      return normalsHash[hash];\n    }\n    function getColorIndex(color) {\n      const hash = color.r.toString() + color.g.toString() + color.b.toString();\n      if (colorsHash[hash] !== void 0) {\n        return colorsHash[hash];\n      }\n      colorsHash[hash] = colors.length;\n      colors.push(color.getHex());\n      return colorsHash[hash];\n    }\n    function getUvIndex(uv) {\n      const hash = uv.x.toString() + uv.y.toString();\n      if (uvsHash[hash] !== void 0) {\n        return uvsHash[hash];\n      }\n      uvsHash[hash] = uvs.length / 2;\n      uvs.push(uv.x, uv.y);\n      return uvsHash[hash];\n    }\n    data.data = {};\n    data.data.vertices = vertices;\n    data.data.normals = normals;\n    if (colors.length > 0)\n      data.data.colors = colors;\n    if (uvs.length > 0)\n      data.data.uvs = [uvs];\n    data.data.faces = faces;\n    return data;\n  }\n  clone() {\n    return new Geometry().copy(this);\n  }\n  copy(source) {\n    this.vertices = [];\n    this.colors = [];\n    this.faces = [];\n    this.faceVertexUvs = [[]];\n    this.morphTargets = [];\n    this.morphNormals = [];\n    this.skinWeights = [];\n    this.skinIndices = [];\n    this.lineDistances = [];\n    this.boundingBox = null;\n    this.boundingSphere = null;\n    this.name = source.name;\n    const vertices = source.vertices;\n    for (let i = 0, il = vertices.length; i < il; i++) {\n      this.vertices.push(vertices[i].clone());\n    }\n    const colors = source.colors;\n    for (let i = 0, il = colors.length; i < il; i++) {\n      this.colors.push(colors[i].clone());\n    }\n    const faces = source.faces;\n    for (let i = 0, il = faces.length; i < il; i++) {\n      this.faces.push(faces[i].clone());\n    }\n    for (let i = 0, il = source.faceVertexUvs.length; i < il; i++) {\n      const faceVertexUvs = source.faceVertexUvs[i];\n      if (this.faceVertexUvs[i] === void 0) {\n        this.faceVertexUvs[i] = [];\n      }\n      for (let j = 0, jl = faceVertexUvs.length; j < jl; j++) {\n        const uvs = faceVertexUvs[j], uvsCopy = [];\n        for (let k = 0, kl = uvs.length; k < kl; k++) {\n          const uv = uvs[k];\n          uvsCopy.push(uv.clone());\n        }\n        this.faceVertexUvs[i].push(uvsCopy);\n      }\n    }\n    const morphTargets = source.morphTargets;\n    for (let i = 0, il = morphTargets.length; i < il; i++) {\n      const morphTarget = {};\n      morphTarget.name = morphTargets[i].name;\n      if (morphTargets[i].vertices !== void 0) {\n        morphTarget.vertices = [];\n        for (let j = 0, jl = morphTargets[i].vertices.length; j < jl; j++) {\n          morphTarget.vertices.push(morphTargets[i].vertices[j].clone());\n        }\n      }\n      if (morphTargets[i].normals !== void 0) {\n        morphTarget.normals = [];\n        for (let j = 0, jl = morphTargets[i].normals.length; j < jl; j++) {\n          morphTarget.normals.push(morphTargets[i].normals[j].clone());\n        }\n      }\n      this.morphTargets.push(morphTarget);\n    }\n    const morphNormals = source.morphNormals;\n    for (let i = 0, il = morphNormals.length; i < il; i++) {\n      const morphNormal = {};\n      if (morphNormals[i].vertexNormals !== void 0) {\n        morphNormal.vertexNormals = [];\n        for (let j = 0, jl = morphNormals[i].vertexNormals.length; j < jl; j++) {\n          const srcVertexNormal = morphNormals[i].vertexNormals[j];\n          const destVertexNormal = {};\n          destVertexNormal.a = srcVertexNormal.a.clone();\n          destVertexNormal.b = srcVertexNormal.b.clone();\n          destVertexNormal.c = srcVertexNormal.c.clone();\n          morphNormal.vertexNormals.push(destVertexNormal);\n        }\n      }\n      if (morphNormals[i].faceNormals !== void 0) {\n        morphNormal.faceNormals = [];\n        for (let j = 0, jl = morphNormals[i].faceNormals.length; j < jl; j++) {\n          morphNormal.faceNormals.push(morphNormals[i].faceNormals[j].clone());\n        }\n      }\n      this.morphNormals.push(morphNormal);\n    }\n    const skinWeights = source.skinWeights;\n    for (let i = 0, il = skinWeights.length; i < il; i++) {\n      this.skinWeights.push(skinWeights[i].clone());\n    }\n    const skinIndices = source.skinIndices;\n    for (let i = 0, il = skinIndices.length; i < il; i++) {\n      this.skinIndices.push(skinIndices[i].clone());\n    }\n    const lineDistances = source.lineDistances;\n    for (let i = 0, il = lineDistances.length; i < il; i++) {\n      this.lineDistances.push(lineDistances[i]);\n    }\n    const boundingBox = source.boundingBox;\n    if (boundingBox !== null) {\n      this.boundingBox = boundingBox.clone();\n    }\n    const boundingSphere = source.boundingSphere;\n    if (boundingSphere !== null) {\n      this.boundingSphere = boundingSphere.clone();\n    }\n    this.elementsNeedUpdate = source.elementsNeedUpdate;\n    this.verticesNeedUpdate = source.verticesNeedUpdate;\n    this.uvsNeedUpdate = source.uvsNeedUpdate;\n    this.normalsNeedUpdate = source.normalsNeedUpdate;\n    this.colorsNeedUpdate = source.colorsNeedUpdate;\n    this.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n    this.groupsNeedUpdate = source.groupsNeedUpdate;\n    return this;\n  }\n  toBufferGeometry() {\n    const geometry = new DirectGeometry().fromGeometry(this);\n    const buffergeometry = new BufferGeometry();\n    const positions = new Float32Array(geometry.vertices.length * 3);\n    buffergeometry.setAttribute(\"position\", new BufferAttribute(positions, 3).copyVector3sArray(geometry.vertices));\n    if (geometry.normals.length > 0) {\n      const normals = new Float32Array(geometry.normals.length * 3);\n      buffergeometry.setAttribute(\"normal\", new BufferAttribute(normals, 3).copyVector3sArray(geometry.normals));\n    }\n    if (geometry.colors.length > 0) {\n      const colors = new Float32Array(geometry.colors.length * 3);\n      buffergeometry.setAttribute(\"color\", new BufferAttribute(colors, 3).copyColorsArray(geometry.colors));\n    }\n    if (geometry.uvs.length > 0) {\n      const uvs = new Float32Array(geometry.uvs.length * 2);\n      buffergeometry.setAttribute(\"uv\", new BufferAttribute(uvs, 2).copyVector2sArray(geometry.uvs));\n    }\n    if (geometry.uvs2.length > 0) {\n      const uvs2 = new Float32Array(geometry.uvs2.length * 2);\n      buffergeometry.setAttribute(\"uv2\", new BufferAttribute(uvs2, 2).copyVector2sArray(geometry.uvs2));\n    }\n    buffergeometry.groups = geometry.groups;\n    for (let name in geometry.morphTargets) {\n      const array = [];\n      const morphTargets = geometry.morphTargets[name];\n      for (let i = 0, l = morphTargets.length; i < l; i++) {\n        const morphTarget = morphTargets[i];\n        const attribute = new Float32BufferAttribute(morphTarget.data.length * 3, 3);\n        attribute.name = morphTarget.name;\n        array.push(attribute.copyVector3sArray(morphTarget.data));\n      }\n      buffergeometry.morphAttributes[name] = array;\n    }\n    if (geometry.skinIndices.length > 0) {\n      const skinIndices = new Float32BufferAttribute(geometry.skinIndices.length * 4, 4);\n      buffergeometry.setAttribute(\"skinIndex\", skinIndices.copyVector4sArray(geometry.skinIndices));\n    }\n    if (geometry.skinWeights.length > 0) {\n      const skinWeights = new Float32BufferAttribute(geometry.skinWeights.length * 4, 4);\n      buffergeometry.setAttribute(\"skinWeight\", skinWeights.copyVector4sArray(geometry.skinWeights));\n    }\n    if (geometry.boundingSphere !== null) {\n      buffergeometry.boundingSphere = geometry.boundingSphere.clone();\n    }\n    if (geometry.boundingBox !== null) {\n      buffergeometry.boundingBox = geometry.boundingBox.clone();\n    }\n    return buffergeometry;\n  }\n  computeTangents() {\n    console.error(\"THREE.Geometry: .computeTangents() has been removed.\");\n  }\n  computeLineDistances() {\n    console.error(\n      \"THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.\"\n    );\n  }\n  applyMatrix(matrix) {\n    console.warn(\"THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().\");\n    return this.applyMatrix4(matrix);\n  }\n  dispose() {\n    this.dispatchEvent({ type: \"dispose\" });\n  }\n}\nclass DirectGeometry {\n  constructor() {\n    this.vertices = [];\n    this.normals = [];\n    this.colors = [];\n    this.uvs = [];\n    this.uvs2 = [];\n    this.groups = [];\n    this.morphTargets = {};\n    this.skinWeights = [];\n    this.skinIndices = [];\n    this.boundingBox = null;\n    this.boundingSphere = null;\n    this.verticesNeedUpdate = false;\n    this.normalsNeedUpdate = false;\n    this.colorsNeedUpdate = false;\n    this.uvsNeedUpdate = false;\n    this.groupsNeedUpdate = false;\n  }\n  computeGroups(geometry) {\n    const groups = [];\n    let group, i;\n    let materialIndex = void 0;\n    const faces = geometry.faces;\n    for (i = 0; i < faces.length; i++) {\n      const face = faces[i];\n      if (face.materialIndex !== materialIndex) {\n        materialIndex = face.materialIndex;\n        if (group !== void 0) {\n          group.count = i * 3 - group.start;\n          groups.push(group);\n        }\n        group = {\n          start: i * 3,\n          materialIndex\n        };\n      }\n    }\n    if (group !== void 0) {\n      group.count = i * 3 - group.start;\n      groups.push(group);\n    }\n    this.groups = groups;\n  }\n  fromGeometry(geometry) {\n    const faces = geometry.faces;\n    const vertices = geometry.vertices;\n    const faceVertexUvs = geometry.faceVertexUvs;\n    const hasFaceVertexUv = faceVertexUvs[0] && faceVertexUvs[0].length > 0;\n    const hasFaceVertexUv2 = faceVertexUvs[1] && faceVertexUvs[1].length > 0;\n    const morphTargets = geometry.morphTargets;\n    const morphTargetsLength = morphTargets.length;\n    let morphTargetsPosition;\n    if (morphTargetsLength > 0) {\n      morphTargetsPosition = [];\n      for (let i = 0; i < morphTargetsLength; i++) {\n        morphTargetsPosition[i] = {\n          name: morphTargets[i].name,\n          data: []\n        };\n      }\n      this.morphTargets.position = morphTargetsPosition;\n    }\n    const morphNormals = geometry.morphNormals;\n    const morphNormalsLength = morphNormals.length;\n    let morphTargetsNormal;\n    if (morphNormalsLength > 0) {\n      morphTargetsNormal = [];\n      for (let i = 0; i < morphNormalsLength; i++) {\n        morphTargetsNormal[i] = {\n          name: morphNormals[i].name,\n          data: []\n        };\n      }\n      this.morphTargets.normal = morphTargetsNormal;\n    }\n    const skinIndices = geometry.skinIndices;\n    const skinWeights = geometry.skinWeights;\n    const hasSkinIndices = skinIndices.length === vertices.length;\n    const hasSkinWeights = skinWeights.length === vertices.length;\n    if (vertices.length > 0 && faces.length === 0) {\n      console.error(\"THREE.DirectGeometry: Faceless geometries are not supported.\");\n    }\n    for (let i = 0; i < faces.length; i++) {\n      const face = faces[i];\n      this.vertices.push(vertices[face.a], vertices[face.b], vertices[face.c]);\n      const vertexNormals = face.vertexNormals;\n      if (vertexNormals.length === 3) {\n        this.normals.push(vertexNormals[0], vertexNormals[1], vertexNormals[2]);\n      } else {\n        const normal = face.normal;\n        this.normals.push(normal, normal, normal);\n      }\n      const vertexColors = face.vertexColors;\n      if (vertexColors.length === 3) {\n        this.colors.push(vertexColors[0], vertexColors[1], vertexColors[2]);\n      } else {\n        const color = face.color;\n        this.colors.push(color, color, color);\n      }\n      if (hasFaceVertexUv === true) {\n        const vertexUvs = faceVertexUvs[0][i];\n        if (vertexUvs !== void 0) {\n          this.uvs.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);\n        } else {\n          console.warn(\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv \", i);\n          this.uvs.push(new Vector2(), new Vector2(), new Vector2());\n        }\n      }\n      if (hasFaceVertexUv2 === true) {\n        const vertexUvs = faceVertexUvs[1][i];\n        if (vertexUvs !== void 0) {\n          this.uvs2.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);\n        } else {\n          console.warn(\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 \", i);\n          this.uvs2.push(new Vector2(), new Vector2(), new Vector2());\n        }\n      }\n      for (let j = 0; j < morphTargetsLength; j++) {\n        const morphTarget = morphTargets[j].vertices;\n        morphTargetsPosition[j].data.push(morphTarget[face.a], morphTarget[face.b], morphTarget[face.c]);\n      }\n      for (let j = 0; j < morphNormalsLength; j++) {\n        const morphNormal = morphNormals[j].vertexNormals[i];\n        morphTargetsNormal[j].data.push(morphNormal.a, morphNormal.b, morphNormal.c);\n      }\n      if (hasSkinIndices) {\n        this.skinIndices.push(skinIndices[face.a], skinIndices[face.b], skinIndices[face.c]);\n      }\n      if (hasSkinWeights) {\n        this.skinWeights.push(skinWeights[face.a], skinWeights[face.b], skinWeights[face.c]);\n      }\n    }\n    this.computeGroups(geometry);\n    this.verticesNeedUpdate = geometry.verticesNeedUpdate;\n    this.normalsNeedUpdate = geometry.normalsNeedUpdate;\n    this.colorsNeedUpdate = geometry.colorsNeedUpdate;\n    this.uvsNeedUpdate = geometry.uvsNeedUpdate;\n    this.groupsNeedUpdate = geometry.groupsNeedUpdate;\n    if (geometry.boundingSphere !== null) {\n      this.boundingSphere = geometry.boundingSphere.clone();\n    }\n    if (geometry.boundingBox !== null) {\n      this.boundingBox = geometry.boundingBox.clone();\n    }\n    return this;\n  }\n}\nclass Face3 {\n  constructor(a, b, c, normal, color, materialIndex = 0) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.normal = normal && normal.isVector3 ? normal : new Vector3();\n    this.vertexNormals = Array.isArray(normal) ? normal : [];\n    this.color = color && color.isColor ? color : new Color();\n    this.vertexColors = Array.isArray(color) ? color : [];\n    this.materialIndex = materialIndex;\n  }\n  clone() {\n    return new this.constructor().copy(this);\n  }\n  copy(source) {\n    this.a = source.a;\n    this.b = source.b;\n    this.c = source.c;\n    this.normal.copy(source.normal);\n    this.color.copy(source.color);\n    this.materialIndex = source.materialIndex;\n    for (let i = 0, il = source.vertexNormals.length; i < il; i++) {\n      this.vertexNormals[i] = source.vertexNormals[i].clone();\n    }\n    for (let i = 0, il = source.vertexColors.length; i < il; i++) {\n      this.vertexColors[i] = source.vertexColors[i].clone();\n    }\n    return this;\n  }\n}\nexport {\n  Face3,\n  Geometry\n};\n", "let generated;\nconst MeshoptDecoder = () => {\n  if (generated)\n    return generated;\n  const wasm_base = \"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\";\n  const wasm_simd = \"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\";\n  const detector = new Uint8Array([\n    0,\n    97,\n    115,\n    109,\n    1,\n    0,\n    0,\n    0,\n    1,\n    4,\n    1,\n    96,\n    0,\n    0,\n    3,\n    3,\n    2,\n    0,\n    0,\n    5,\n    3,\n    1,\n    0,\n    1,\n    12,\n    1,\n    0,\n    10,\n    22,\n    2,\n    12,\n    0,\n    65,\n    0,\n    65,\n    0,\n    65,\n    0,\n    252,\n    10,\n    0,\n    0,\n    11,\n    7,\n    0,\n    65,\n    0,\n    253,\n    15,\n    26,\n    11\n  ]);\n  const wasmpack = new Uint8Array([\n    32,\n    0,\n    65,\n    253,\n    3,\n    1,\n    2,\n    34,\n    4,\n    106,\n    6,\n    5,\n    11,\n    8,\n    7,\n    20,\n    13,\n    33,\n    12,\n    16,\n    128,\n    9,\n    116,\n    64,\n    19,\n    113,\n    127,\n    15,\n    10,\n    21,\n    22,\n    14,\n    255,\n    66,\n    24,\n    54,\n    136,\n    107,\n    18,\n    23,\n    192,\n    26,\n    114,\n    118,\n    132,\n    17,\n    77,\n    101,\n    130,\n    144,\n    27,\n    87,\n    131,\n    44,\n    45,\n    74,\n    156,\n    154,\n    70,\n    167\n  ]);\n  if (typeof WebAssembly !== \"object\") {\n    return {\n      supported: false\n    };\n  }\n  let wasm = wasm_base;\n  if (WebAssembly.validate(detector)) {\n    wasm = wasm_simd;\n  }\n  let instance;\n  const promise = WebAssembly.instantiate(unpack(wasm), {}).then((result) => {\n    instance = result.instance;\n    instance.exports.__wasm_call_ctors();\n  });\n  function unpack(data) {\n    const result = new Uint8Array(data.length);\n    for (let i = 0; i < data.length; ++i) {\n      const ch = data.charCodeAt(i);\n      result[i] = ch > 96 ? ch - 71 : ch > 64 ? ch - 65 : ch > 47 ? ch + 4 : ch > 46 ? 63 : 62;\n    }\n    let write = 0;\n    for (let i = 0; i < data.length; ++i) {\n      result[write++] = result[i] < 60 ? wasmpack[result[i]] : (result[i] - 60) * 64 + result[++i];\n    }\n    return result.buffer.slice(0, write);\n  }\n  function decode(fun, target, count, size, source, filter) {\n    const sbrk = instance.exports.sbrk;\n    const count4 = count + 3 & ~3;\n    const tp = sbrk(count4 * size);\n    const sp = sbrk(source.length);\n    const heap = new Uint8Array(instance.exports.memory.buffer);\n    heap.set(source, sp);\n    const res = fun(tp, count, size, sp, source.length);\n    if (res === 0 && filter) {\n      filter(tp, count4, size);\n    }\n    target.set(heap.subarray(tp, tp + count * size));\n    sbrk(tp - sbrk(0));\n    if (res !== 0) {\n      throw new Error(`Malformed buffer data: ${res}`);\n    }\n  }\n  const filters = {\n    // legacy index-based enums for glTF\n    0: \"\",\n    1: \"meshopt_decodeFilterOct\",\n    2: \"meshopt_decodeFilterQuat\",\n    3: \"meshopt_decodeFilterExp\",\n    // string-based enums for glTF\n    NONE: \"\",\n    OCTAHEDRAL: \"meshopt_decodeFilterOct\",\n    QUATERNION: \"meshopt_decodeFilterQuat\",\n    EXPONENTIAL: \"meshopt_decodeFilterExp\"\n  };\n  const decoders = {\n    // legacy index-based enums for glTF\n    0: \"meshopt_decodeVertexBuffer\",\n    1: \"meshopt_decodeIndexBuffer\",\n    2: \"meshopt_decodeIndexSequence\",\n    // string-based enums for glTF\n    ATTRIBUTES: \"meshopt_decodeVertexBuffer\",\n    TRIANGLES: \"meshopt_decodeIndexBuffer\",\n    INDICES: \"meshopt_decodeIndexSequence\"\n  };\n  generated = {\n    ready: promise,\n    supported: true,\n    decodeVertexBuffer(target, count, size, source, filter) {\n      decode(\n        instance.exports.meshopt_decodeVertexBuffer,\n        target,\n        count,\n        size,\n        source,\n        instance.exports[filters[filter]]\n      );\n    },\n    decodeIndexBuffer(target, count, size, source) {\n      decode(instance.exports.meshopt_decodeIndexBuffer, target, count, size, source);\n    },\n    decodeIndexSequence(target, count, size, source) {\n      decode(instance.exports.meshopt_decodeIndexSequence, target, count, size, source);\n    },\n    decodeGltfBuffer(target, count, size, source, mode, filter) {\n      decode(\n        instance.exports[decoders[mode]],\n        target,\n        count,\n        size,\n        source,\n        instance.exports[filters[filter]]\n      );\n    }\n  };\n  return generated;\n};\nexport {\n  MeshoptDecoder\n};\n"],
  "mappings": "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,GAAG,EAAE,GAAG,IAAI,KAAK,GAAG,IAAI,EAAE,CAAC;AAC3P,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,GAAG,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,KAAK,GAAG,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,IAAI,GAAG,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,GAAG,KAAK,IAAI,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,GAAG,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAA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ACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,CAAC;AACD,IAAM,WAAW,IAAI,WAAW;AAAA,EAC9B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;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CX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GA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AAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;A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A;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA,WAASE,KAAI,GAAGA,KAAI,KAAKA,MAAK;AAC5B,QAAI,MAAMA,EAAC,IAAI,IAAIA,EAAC;AAAA,EACtB;AACA,SAAO;AACT;AACA,IAAM,KAAqB,KAAK;;;ACtQhC,IAAMC,OAAsB,IAAI,QAAQ;AACxC,IAAMC,OAAsB,IAAI,QAAQ;AACxC,IAAMC,UAAyB,IAAI,MAAM;AACzC,IAAM,SAAyB,IAAI,MAAM;AACzC,IAAM,SAAyB,IAAI,MAAM;AACzC,IAAM,UAA0B,IAAI,OAAO;AAC3C,IAAM,WAA2B,IAAI,QAAQ;;;ACD7C,IAAI,SAAyB,CAACC,YAAW;AACvC,EAAAA,QAAOA,QAAO,MAAM,IAAI,EAAE,IAAI;AAC9B,EAAAA,QAAOA,QAAO,QAAQ,IAAI,CAAC,IAAI;AAC/B,EAAAA,QAAOA,QAAO,OAAO,IAAI,CAAC,IAAI;AAC9B,EAAAA,QAAOA,QAAO,KAAK,IAAI,CAAC,IAAI;AAC5B,EAAAA,QAAOA,QAAO,cAAc,IAAI,CAAC,IAAI;AACrC,EAAAA,QAAOA,QAAO,WAAW,IAAI,CAAC,IAAI;AAClC,EAAAA,QAAOA,QAAO,iBAAiB,IAAI,CAAC,IAAI;AACxC,EAAAA,QAAOA,QAAO,oBAAoB,IAAI,CAAC,IAAI;AAC3C,SAAOA;AACT,GAAG,SAAS,CAAC,CAAC;;;ACjBd,IAAIC,cAAY,OAAO;AACvB,IAAIC,oBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAMD,YAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,MAAM,CAAC,IAAI,IAAI,GAAG,IAAI;AAC1J,IAAIE,kBAAgB,CAAC,KAAK,KAAK,UAAU;AACvC,EAAAD,kBAAgB,KAAK,OAAO,QAAQ,WAAW,MAAM,KAAK,KAAK,KAAK;AACpE,SAAO;AACT;AAEA,IAAM,iBAAiC,IAAI,QAAQ;AACnD,IAAM,sBAAN,cAAkC,gBAAgB;AAAA,EAChD,YAAY,QAAQ,YAAY;AAC9B,UAAM;AACN,IAAAC,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,YAAY;AAChC,IAAAA,gBAAc,MAAM,WAAW,IAAI;AACnC,IAAAA,gBAAc,MAAM,iBAAiB,CAAC;AACtC,IAAAA,gBAAc,MAAM,aAAa,IAAI;AACrC,IAAAA,gBAAc,MAAM,gBAAgB,IAAI;AACxC,IAAAA,gBAAc,MAAM,eAAe,KAAK;AACxC,IAAAA,gBAAc,MAAM,cAAc,IAAI;AACtC,IAAAA,gBAAc,MAAM,eAAe,KAAK;AACxC,IAAAA,gBAAc,MAAM,cAAc,CAAC;AACnC,IAAAA,gBAAc,MAAM,aAAa,CAAC;AAClC,IAAAA,gBAAc,MAAM,aAAa,CAAC;AAClC,IAAAA,gBAAc,MAAM,qBAAqB,KAAK;AAC9C,IAAAA,gBAAc,MAAM,eAAe,CAAC;AACpC,IAAAA,gBAAc,MAAM,eAAe,KAAK,EAAE;AAC1C,IAAAA,gBAAc,MAAM,eAAe,KAAK;AAExC,IAAAA,gBAAc,MAAM,mBAAmB,CAAC;AACxC,IAAAA,gBAAc,MAAM,UAAU,CAAC;AAC/B,IAAAA,gBAAc,MAAM,UAAU,CAAC;AAC/B,IAAAA,gBAAc,MAAM,eAAe,KAAK;AACxC,IAAAA,gBAAc,MAAM,gBAAgB,KAAK;AACzC,IAAAA,gBAAc,MAAM,YAAY,KAAK;AACrC,IAAAA,gBAAc,MAAM,aAAa,KAAK;AACtC,IAAAA,gBAAc,MAAM,UAAU,KAAK;AACnC,IAAAA,gBAAc,MAAM,YAAY,KAAK;AACrC,IAAAA,gBAAc,MAAM,aAAa,CAAC;AAClC,IAAAA,gBAAc,MAAM,aAAa,CAAC;AAClC,IAAAA,gBAAc,MAAM,OAAO,CAAC;AAC5B,IAAAA,gBAAc,MAAM,OAAO,CAAC;AAC5B,IAAAA,gBAAc,MAAM,iBAAiB,IAAI,QAAQ,CAAC;AAClD,IAAAA,gBAAc,MAAM,aAAa,IAAI,UAAU,CAAC;AAChD,IAAAA,gBAAc,MAAM,UAAU,IAAI,QAAQ,CAAC;AAC3C,IAAAA,gBAAc,MAAM,WAAW,CAACC,gBAAe;AAC7C,MAAAA,YAAW,aAAa,YAAY,IAAI;AACxC,MAAAA,YAAW,MAAM,cAAc;AAC/B,MAAAA,YAAW,iBAAiB,eAAe,KAAK,WAAW;AAC3D,MAAAA,YAAW,iBAAiB,aAAa,KAAK,WAAW;AACzD,MAAAA,YAAW,iBAAiB,aAAa,KAAK,WAAW;AACzD,MAAAA,YAAW,iBAAiB,WAAW,KAAK,SAAS;AACrD,WAAK,aAAaA;AAClB,aAAO,iBAAiB,WAAW,KAAK,SAAS;AACjD,aAAO,iBAAiB,SAAS,KAAK,OAAO;AAC7C,WAAK,aAAa;AAAA,IACpB,CAAC;AACD,IAAAD,gBAAc,MAAM,WAAW,MAAM;AACnC,UAAIE,KAAIC,KAAI,IAAI;AAChB,OAACD,MAAK,KAAK,eAAe,OAAO,SAASA,IAAG,oBAAoB,eAAe,KAAK,WAAW;AAChG,OAACC,MAAK,KAAK,eAAe,OAAO,SAASA,IAAG,oBAAoB,aAAa,KAAK,WAAW;AAC9F,OAAC,KAAK,KAAK,eAAe,OAAO,SAAS,GAAG,oBAAoB,aAAa,KAAK,WAAW;AAC9F,OAAC,KAAK,KAAK,eAAe,OAAO,SAAS,GAAG,oBAAoB,WAAW,KAAK,SAAS;AAC1F,aAAO,oBAAoB,WAAW,KAAK,SAAS;AACpD,aAAO,oBAAoB,SAAS,KAAK,OAAO;AAAA,IAClD,CAAC;AACD,IAAAH,gBAAc,MAAM,gBAAgB,MAAM;AACxC,UAAI,KAAK,YAAY;AACnB,aAAK,YAAY,KAAK,WAAW,cAAc;AAC/C,aAAK,YAAY,KAAK,WAAW,eAAe;AAAA,MAClD;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,CAAC,UAAU;AAC5C,UAAIE;AACJ,OAACA,MAAK,KAAK,eAAe,OAAO,SAASA,IAAG,MAAM;AACnD,UAAI,KAAK,YAAY;AACnB,gBAAQ,MAAM,QAAQ;AAAA,UACpB,KAAK;AACH,iBAAK,cAAc;AACnB;AAAA,UACF,KAAK;AACH,iBAAK,eAAe;AACpB;AAAA,QACJ;AAAA,MACF;AACA,WAAK,cAAc;AAAA,IACrB,CAAC;AACD,IAAAF,gBAAc,MAAM,aAAa,CAAC,UAAU;AAC1C,UAAI,KAAK,YAAY;AACnB,gBAAQ,MAAM,QAAQ;AAAA,UACpB,KAAK;AACH,iBAAK,cAAc;AACnB;AAAA,UACF,KAAK;AACH,iBAAK,eAAe;AACpB;AAAA,QACJ;AAAA,MACF;AACA,WAAK,cAAc;AAAA,IACrB,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,CAAC,UAAU;AAC5C,UAAI,KAAK,YAAY;AACnB,aAAK,SAAS,MAAM,QAAQ,KAAK,WAAW,aAAa,KAAK;AAC9D,aAAK,SAAS,MAAM,QAAQ,KAAK,WAAW,YAAY,KAAK;AAAA,MAC/D;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,aAAa,CAAC,UAAU;AAC1C,cAAQ,MAAM,MAAM;AAAA,QAClB,KAAK;AAAA,QACL,KAAK;AACH,eAAK,cAAc;AACnB;AAAA,QACF,KAAK;AAAA,QACL,KAAK;AACH,eAAK,WAAW;AAChB;AAAA,QACF,KAAK;AAAA,QACL,KAAK;AACH,eAAK,eAAe;AACpB;AAAA,QACF,KAAK;AAAA,QACL,KAAK;AACH,eAAK,YAAY;AACjB;AAAA,QACF,KAAK;AACH,eAAK,SAAS;AACd;AAAA,QACF,KAAK;AACH,eAAK,WAAW;AAChB;AAAA,MACJ;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,WAAW,CAAC,UAAU;AACxC,cAAQ,MAAM,MAAM;AAAA,QAClB,KAAK;AAAA,QACL,KAAK;AACH,eAAK,cAAc;AACnB;AAAA,QACF,KAAK;AAAA,QACL,KAAK;AACH,eAAK,WAAW;AAChB;AAAA,QACF,KAAK;AAAA,QACL,KAAK;AACH,eAAK,eAAe;AACpB;AAAA,QACF,KAAK;AAAA,QACL,KAAK;AACH,eAAK,YAAY;AACjB;AAAA,QACF,KAAK;AACH,eAAK,SAAS;AACd;AAAA,QACF,KAAK;AACH,eAAK,WAAW;AAChB;AAAA,MACJ;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,UAAU,CAAC,GAAG,GAAG,MAAM;AACzC,UAAI,aAAa,SAAS;AACxB,aAAK,OAAO,KAAK,CAAC;AAAA,MACpB,WAAW,KAAK,GAAG;AACjB,aAAK,OAAO,IAAI,GAAG,GAAG,CAAC;AAAA,MACzB;AACA,WAAK,OAAO,OAAO,KAAK,MAAM;AAC9B,WAAK,eAAe;AACpB,aAAO;AAAA,IACT,CAAC;AACD,IAAAA,gBAAc,MAAM,UAAU,CAAC,UAAU;AACvC,UAAI,CAAC,KAAK;AACR;AACF,UAAI,KAAK,aAAa;AACpB,cAAM,IAAI,UAAU,MAAM,KAAK,OAAO,SAAS,GAAG,KAAK,WAAW,KAAK,SAAS;AAChF,cAAM,cAAc,IAAI,KAAK;AAC7B,aAAK,kBAAkB,SAAS,cAAc,KAAK;AAAA,MACrD,OAAO;AACL,aAAK,kBAAkB;AAAA,MACzB;AACA,YAAM,kBAAkB,QAAQ,KAAK;AACrC,UAAI,KAAK,eAAe,KAAK,eAAe,CAAC,KAAK,cAAc;AAC9D,aAAK,OAAO,WAAW,EAAE,kBAAkB,KAAK,gBAAgB;AAAA,MAClE;AACA,UAAI,KAAK;AACP,aAAK,OAAO,WAAW,eAAe;AACxC,UAAI,KAAK;AACP,aAAK,OAAO,WAAW,CAAC,eAAe;AACzC,UAAI,KAAK;AACP,aAAK,OAAO,WAAW,eAAe;AACxC,UAAI,KAAK;AACP,aAAK,OAAO,WAAW,eAAe;AACxC,UAAI,KAAK;AACP,aAAK,OAAO,WAAW,CAAC,eAAe;AACzC,UAAI,kBAAkB,QAAQ,KAAK;AACnC,UAAI,CAAC,KAAK,YAAY;AACpB,0BAAkB;AAAA,MACpB;AACA,UAAI,oBAAoB;AACxB,UAAI,KAAK,mBAAmB;AAC1B,4BAAoB,KAAK,MAAM,KAAK,cAAc,KAAK;AAAA,MACzD;AACA,WAAK,OAAO,KAAK,SAAS;AAC1B,UAAI,KAAK;AACP,aAAK,OAAO,KAAK,SAAS,kBAAkB;AAC9C,WAAK,MAAM,KAAK,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,GAAG,CAAC;AAC/C,UAAI,MAAM,UAAU,SAAS,KAAK,KAAK,GAAG;AAC1C,YAAM,QAAQ,UAAU,SAAS,KAAK,GAAG;AACzC,UAAI,KAAK,mBAAmB;AAC1B,cAAM,UAAU,UAAU,KAAK,GAAG,KAAK,IAAI,KAAK,aAAa,KAAK,WAAW;AAAA,MAC/E;AACA,YAAM,WAAW,KAAK,OAAO;AAC7B,qBAAe,uBAAuB,GAAG,KAAK,KAAK,EAAE,IAAI,QAAQ;AACjE,WAAK,OAAO,OAAO,cAAc;AAAA,IACnC,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,CAAC,UAAU,MAAM,eAAe,CAAC;AACpE,IAAAA,gBAAc,MAAM,kBAAkB,MAAM;AAC1C,WAAK,cAAc,IAAI,GAAG,GAAG,EAAE,EAAE,gBAAgB,KAAK,OAAO,UAAU;AACvE,WAAK,UAAU,eAAe,KAAK,aAAa;AAChD,WAAK,MAAM,KAAK,UAAU,SAAS,KAAK,UAAU,GAAG;AACrD,WAAK,MAAM,UAAU,SAAS,KAAK,UAAU,KAAK;AAAA,IACpD,CAAC;AACD,SAAK,SAAS;AACd,SAAK,aAAa;AAClB,SAAK,eAAe;AACpB,QAAI;AACF,WAAK,QAAQ,UAAU;AAAA,EAC3B;AACF;;;ACjOA,IAAII,cAAY,OAAO;AACvB,IAAIC,oBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAMD,YAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,MAAM,CAAC,IAAI,IAAI,GAAG,IAAI;AAC1J,IAAIE,kBAAgB,CAAC,KAAK,KAAK,UAAU;AACvC,EAAAD,kBAAgB,KAAK,OAAO,QAAQ,WAAW,MAAM,KAAK,KAAK,KAAK;AACpE,SAAO;AACT;AAEA,IAAM,oBAAN,cAAgC,SAAS;AAAA,EACvC,YAAY,QAAQ,YAAY;AAC9B,UAAM;AACN,IAAAC,gBAAc,MAAM,uBAAuB,IAAI;AAC/C,IAAAA,gBAAc,MAAM,WAAW,KAAK;AACpC,IAAAA,gBAAc,MAAM,YAAY;AAChC,IAAAA,gBAAc,MAAM,aAAa,IAAI,UAAU,CAAC;AAChD,IAAAA,gBAAc,MAAM,OAAO;AAC3B,IAAAA,gBAAc,MAAM,OAAO;AAC3B,IAAAA,gBAAc,MAAM,cAAc,IAAI,QAAQ,CAAC;AAC/C,IAAAA,gBAAc,MAAM,eAAe,IAAI,QAAQ,CAAC;AAChD,IAAAA,gBAAc,MAAM,kBAAkB,IAAI,WAAW,CAAC;AACtD,IAAAA,gBAAc,MAAM,QAAQ;AAAA,MAC1B,GAAG,IAAI,QAAQ,GAAG,GAAG,CAAC;AAAA,MACtB,GAAG,IAAI,QAAQ,GAAG,GAAG,CAAC;AAAA,MACtB,GAAG,IAAI,QAAQ,GAAG,GAAG,CAAC;AAAA,IACxB,CAAC;AACD,IAAAA,gBAAc,MAAM,cAAc,IAAI,QAAQ,CAAC;AAC/C,IAAAA,gBAAc,MAAM,YAAY,IAAI,QAAQ,CAAC;AAC7C,IAAAA,gBAAc,MAAM,UAAU,IAAI,QAAQ,CAAC;AAC3C,IAAAA,gBAAc,MAAM,gBAAgB,IAAI,QAAQ,CAAC;AACjD,IAAAA,gBAAc,MAAM,aAAa,IAAI,QAAQ,CAAC;AAC9C,IAAAA,gBAAc,MAAM,WAAW,IAAI,QAAQ,CAAC;AAC5C,IAAAA,gBAAc,MAAM,iBAAiB,CAAC;AACtC,IAAAA,gBAAc,MAAM,kBAAkB,IAAI,QAAQ,CAAC;AACnD,IAAAA,gBAAc,MAAM,oBAAoB,IAAI,WAAW,CAAC;AACxD,IAAAA,gBAAc,MAAM,eAAe,IAAI,QAAQ,CAAC;AAChD,IAAAA,gBAAc,MAAM,kBAAkB,IAAI,QAAQ,CAAC;AACnD,IAAAA,gBAAc,MAAM,oBAAoB,IAAI,WAAW,CAAC;AACxD,IAAAA,gBAAc,MAAM,uBAAuB,IAAI,WAAW,CAAC;AAC3D,IAAAA,gBAAc,MAAM,eAAe,IAAI,QAAQ,CAAC;AAChD,IAAAA,gBAAc,MAAM,sBAAsB,IAAI,QAAQ,CAAC;AACvD,IAAAA,gBAAc,MAAM,wBAAwB,IAAI,WAAW,CAAC;AAC5D,IAAAA,gBAAc,MAAM,mBAAmB,IAAI,QAAQ,CAAC;AACpD,IAAAA,gBAAc,MAAM,iBAAiB,IAAI,QAAQ,CAAC;AAClD,IAAAA,gBAAc,MAAM,mBAAmB,IAAI,WAAW,CAAC;AACvD,IAAAA,gBAAc,MAAM,sBAAsB,IAAI,WAAW,CAAC;AAC1D,IAAAA,gBAAc,MAAM,cAAc,IAAI,QAAQ,CAAC;AAC/C,IAAAA,gBAAc,MAAM,OAAO,IAAI,QAAQ,CAAC;AACxC,IAAAA,gBAAc,MAAM,iBAAiB,IAAI,QAAQ,CAAC;AAClD,IAAAA,gBAAc,MAAM,mBAAmB,IAAI,WAAW,CAAC;AACvD,IAAAA,gBAAc,MAAM,cAAc,IAAI,QAAQ,CAAC;AAC/C,IAAAA,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,WAAW,IAAI;AACnC,IAAAA,gBAAc,MAAM,QAAQ,IAAI;AAChC,IAAAA,gBAAc,MAAM,QAAQ,WAAW;AACvC,IAAAA,gBAAc,MAAM,mBAAmB,IAAI;AAC3C,IAAAA,gBAAc,MAAM,gBAAgB,IAAI;AACxC,IAAAA,gBAAc,MAAM,aAAa,IAAI;AACrC,IAAAA,gBAAc,MAAM,SAAS,OAAO;AACpC,IAAAA,gBAAc,MAAM,QAAQ,CAAC;AAC7B,IAAAA,gBAAc,MAAM,YAAY,KAAK;AACrC,IAAAA,gBAAc,MAAM,SAAS,IAAI;AACjC,IAAAA,gBAAc,MAAM,SAAS,IAAI;AACjC,IAAAA,gBAAc,MAAM,SAAS,IAAI;AAEjC,IAAAA,gBAAc,MAAM,eAAe,EAAE,MAAM,SAAS,CAAC;AACrD,IAAAA,gBAAc,MAAM,kBAAkB,EAAE,MAAM,aAAa,MAAM,KAAK,KAAK,CAAC;AAC5E,IAAAA,gBAAc,MAAM,gBAAgB,EAAE,MAAM,WAAW,MAAM,KAAK,KAAK,CAAC;AACxE,IAAAA,gBAAc,MAAM,qBAAqB,EAAE,MAAM,eAAe,CAAC;AACjE,IAAAA,gBAAc,MAAM,0BAA0B,CAAC,QAAQ,WAAW,qBAAqB;AACrF,YAAM,mBAAmB,UAAU,gBAAgB,QAAQ,IAAI;AAC/D,eAASC,KAAI,GAAGA,KAAI,iBAAiB,QAAQA,MAAK;AAChD,YAAI,iBAAiBA,EAAC,EAAE,OAAO,WAAW,kBAAkB;AAC1D,iBAAO,iBAAiBA,EAAC;AAAA,QAC3B;AAAA,MACF;AACA,aAAO;AAAA,IACT,CAAC;AAED,IAAAD,gBAAc,MAAM,UAAU,CAAC,WAAW;AACxC,WAAK,SAAS;AACd,WAAK,UAAU;AACf,aAAO;AAAA,IACT,CAAC;AAED,IAAAA,gBAAc,MAAM,UAAU,MAAM;AAClC,WAAK,SAAS;AACd,WAAK,UAAU;AACf,WAAK,OAAO;AACZ,aAAO;AAAA,IACT,CAAC;AAED,IAAAA,gBAAc,MAAM,SAAS,MAAM;AACjC,UAAI,CAAC,KAAK;AACR,eAAO;AACT,UAAI,KAAK,UAAU;AACjB,YAAI,KAAK,WAAW,QAAQ;AAC1B,eAAK,OAAO,SAAS,KAAK,KAAK,aAAa;AAC5C,eAAK,OAAO,WAAW,KAAK,KAAK,eAAe;AAChD,eAAK,OAAO,MAAM,KAAK,KAAK,UAAU;AACtC,eAAK,cAAc,KAAK,WAAW;AACnC,eAAK,cAAc,KAAK,iBAAiB;AACzC,eAAK,WAAW,KAAK,KAAK,QAAQ;AAAA,QACpC;AAAA,MACF;AACA,aAAO;AAAA,IACT,CAAC;AACD,IAAAA,gBAAc,MAAM,qBAAqB,MAAM;AAC7C,UAAI,KAAK,WAAW,QAAQ;AAC1B,aAAK,OAAO,kBAAkB;AAC9B,YAAI,KAAK,OAAO,WAAW,MAAM;AAC/B,kBAAQ,MAAM,8EAA8E;AAAA,QAC9F,OAAO;AACL,eAAK,OAAO,OAAO,YAAY,UAAU,KAAK,gBAAgB,KAAK,kBAAkB,KAAK,WAAW;AAAA,QACvG;AACA,aAAK,OAAO,YAAY,UAAU,KAAK,eAAe,KAAK,iBAAiB,KAAK,UAAU;AAC3F,aAAK,oBAAoB,KAAK,KAAK,gBAAgB,EAAE,OAAO;AAC5D,aAAK,mBAAmB,KAAK,KAAK,eAAe,EAAE,OAAO;AAAA,MAC5D;AACA,WAAK,OAAO,kBAAkB;AAC9B,WAAK,OAAO,YAAY,UAAU,KAAK,gBAAgB,KAAK,kBAAkB,KAAK,WAAW;AAC9F,WAAK,IAAI,KAAK,KAAK,cAAc,EAAE,IAAI,KAAK,aAAa,EAAE,UAAU;AACrE,YAAM,kBAAkB;AAAA,IAC1B,CAAC;AACD,IAAAA,gBAAc,MAAM,gBAAgB,CAAC,YAAY;AAC/C,UAAI,KAAK,WAAW,UAAU,KAAK,aAAa;AAC9C;AACF,WAAK,UAAU,cAAc,SAAS,KAAK,MAAM;AACjD,YAAM,YAAY,KAAK,uBAAuB,KAAK,MAAM,OAAO,KAAK,IAAI,GAAG,KAAK,SAAS;AAC1F,UAAI,WAAW;AACb,aAAK,OAAO,UAAU,OAAO;AAAA,MAC/B,OAAO;AACL,aAAK,OAAO;AAAA,MACd;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,CAAC,YAAY;AAC9C,UAAI,KAAK,WAAW,UAAU,KAAK,aAAa,QAAQ,QAAQ,WAAW;AACzE;AACF,UAAI,KAAK,SAAS,MAAM;AACtB,aAAK,UAAU,cAAc,SAAS,KAAK,MAAM;AACjD,cAAM,iBAAiB,KAAK,uBAAuB,KAAK,OAAO,KAAK,WAAW,IAAI;AACnF,YAAI,gBAAgB;AAClB,cAAI,QAAQ,KAAK;AACjB,cAAI,KAAK,SAAS,SAAS;AACzB,oBAAQ;AAAA,UACV,WAAW,KAAK,SAAS,OAAO,KAAK,SAAS,UAAU,KAAK,SAAS,OAAO;AAC3E,oBAAQ;AAAA,UACV;AACA,cAAI,UAAU,WAAW,KAAK,SAAS,UAAU;AAC/C,kBAAM,OAAO,KAAK;AAClB,gBAAI,KAAK,SAAS,OAAO;AACvB,mBAAK,OAAO,SAAS,IAAI,KAAK,MAAM,KAAK,OAAO,SAAS,IAAI,IAAI,IAAI;AACvE,gBAAI,KAAK,SAAS,OAAO;AACvB,mBAAK,OAAO,SAAS,IAAI,KAAK,MAAM,KAAK,OAAO,SAAS,IAAI,IAAI,IAAI;AACvE,gBAAI,KAAK,SAAS,OAAO;AACvB,mBAAK,OAAO,SAAS,IAAI,KAAK,MAAM,KAAK,OAAO,SAAS,IAAI,IAAI,IAAI;AAAA,UACzE;AACA,eAAK,OAAO,kBAAkB;AAC9B,cAAI,KAAK,OAAO,QAAQ;AACtB,iBAAK,OAAO,OAAO,kBAAkB;AAAA,UACvC;AACA,eAAK,cAAc,KAAK,KAAK,OAAO,QAAQ;AAC5C,eAAK,gBAAgB,KAAK,KAAK,OAAO,UAAU;AAChD,eAAK,WAAW,KAAK,KAAK,OAAO,KAAK;AACtC,eAAK,OAAO,YAAY,UAAU,KAAK,oBAAoB,KAAK,sBAAsB,KAAK,eAAe;AAC1G,eAAK,WAAW,KAAK,eAAe,KAAK,EAAE,IAAI,KAAK,kBAAkB;AAAA,QACxE;AACA,aAAK,WAAW;AAChB,aAAK,eAAe,OAAO,KAAK;AAChC,aAAK,cAAc,KAAK,cAAc;AAAA,MACxC;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,CAAC,YAAY;AAC9C,YAAM,OAAO,KAAK;AAClB,YAAM,OAAO,KAAK;AAClB,YAAM,SAAS,KAAK;AACpB,UAAI,QAAQ,KAAK;AACjB,UAAI,SAAS,SAAS;AACpB,gBAAQ;AAAA,MACV,WAAW,SAAS,OAAO,SAAS,UAAU,SAAS,OAAO;AAC5D,gBAAQ;AAAA,MACV;AACA,UAAI,WAAW,UAAU,SAAS,QAAQ,KAAK,aAAa,SAAS,QAAQ,WAAW;AACtF;AACF,WAAK,UAAU,cAAc,SAAS,KAAK,MAAM;AACjD,YAAM,iBAAiB,KAAK,uBAAuB,KAAK,OAAO,KAAK,WAAW,IAAI;AACnF,UAAI,CAAC;AACH;AACF,WAAK,SAAS,KAAK,eAAe,KAAK,EAAE,IAAI,KAAK,kBAAkB;AACpE,UAAI,SAAS,aAAa;AACxB,aAAK,OAAO,KAAK,KAAK,QAAQ,EAAE,IAAI,KAAK,UAAU;AACnD,YAAI,UAAU,WAAW,SAAS,OAAO;AACvC,eAAK,OAAO,gBAAgB,KAAK,kBAAkB;AAAA,QACrD;AACA,YAAI,KAAK,QAAQ,GAAG,MAAM;AACxB,eAAK,OAAO,IAAI;AAClB,YAAI,KAAK,QAAQ,GAAG,MAAM;AACxB,eAAK,OAAO,IAAI;AAClB,YAAI,KAAK,QAAQ,GAAG,MAAM;AACxB,eAAK,OAAO,IAAI;AAClB,YAAI,UAAU,WAAW,SAAS,OAAO;AACvC,eAAK,OAAO,gBAAgB,KAAK,eAAe,EAAE,OAAO,KAAK,WAAW;AAAA,QAC3E,OAAO;AACL,eAAK,OAAO,gBAAgB,KAAK,mBAAmB,EAAE,OAAO,KAAK,WAAW;AAAA,QAC/E;AACA,eAAO,SAAS,KAAK,KAAK,MAAM,EAAE,IAAI,KAAK,aAAa;AACxD,YAAI,KAAK,iBAAiB;AACxB,cAAI,UAAU,SAAS;AACrB,mBAAO,SAAS,gBAAgB,KAAK,eAAe,KAAK,KAAK,eAAe,EAAE,OAAO,CAAC;AACvF,gBAAI,KAAK,OAAO,GAAG,MAAM,IAAI;AAC3B,qBAAO,SAAS,IAAI,KAAK,MAAM,OAAO,SAAS,IAAI,KAAK,eAAe,IAAI,KAAK;AAAA,YAClF;AACA,gBAAI,KAAK,OAAO,GAAG,MAAM,IAAI;AAC3B,qBAAO,SAAS,IAAI,KAAK,MAAM,OAAO,SAAS,IAAI,KAAK,eAAe,IAAI,KAAK;AAAA,YAClF;AACA,gBAAI,KAAK,OAAO,GAAG,MAAM,IAAI;AAC3B,qBAAO,SAAS,IAAI,KAAK,MAAM,OAAO,SAAS,IAAI,KAAK,eAAe,IAAI,KAAK;AAAA,YAClF;AACA,mBAAO,SAAS,gBAAgB,KAAK,eAAe;AAAA,UACtD;AACA,cAAI,UAAU,SAAS;AACrB,gBAAI,OAAO,QAAQ;AACjB,qBAAO,SAAS,IAAI,KAAK,WAAW,sBAAsB,OAAO,OAAO,WAAW,CAAC;AAAA,YACtF;AACA,gBAAI,KAAK,OAAO,GAAG,MAAM,IAAI;AAC3B,qBAAO,SAAS,IAAI,KAAK,MAAM,OAAO,SAAS,IAAI,KAAK,eAAe,IAAI,KAAK;AAAA,YAClF;AACA,gBAAI,KAAK,OAAO,GAAG,MAAM,IAAI;AAC3B,qBAAO,SAAS,IAAI,KAAK,MAAM,OAAO,SAAS,IAAI,KAAK,eAAe,IAAI,KAAK;AAAA,YAClF;AACA,gBAAI,KAAK,OAAO,GAAG,MAAM,IAAI;AAC3B,qBAAO,SAAS,IAAI,KAAK,MAAM,OAAO,SAAS,IAAI,KAAK,eAAe,IAAI,KAAK;AAAA,YAClF;AACA,gBAAI,OAAO,QAAQ;AACjB,qBAAO,SAAS,IAAI,KAAK,WAAW,sBAAsB,OAAO,OAAO,WAAW,CAAC;AAAA,YACtF;AAAA,UACF;AAAA,QACF;AAAA,MACF,WAAW,SAAS,SAAS;AAC3B,YAAI,KAAK,OAAO,KAAK,MAAM,IAAI;AAC7B,cAAI,IAAI,KAAK,SAAS,OAAO,IAAI,KAAK,WAAW,OAAO;AACxD,cAAI,KAAK,SAAS,IAAI,KAAK,UAAU,IAAI;AACvC,iBAAK;AACP,eAAK,YAAY,IAAI,GAAG,GAAG,CAAC;AAAA,QAC9B,OAAO;AACL,eAAK,WAAW,KAAK,KAAK,UAAU;AACpC,eAAK,YAAY,KAAK,KAAK,QAAQ;AACnC,eAAK,WAAW,gBAAgB,KAAK,kBAAkB;AACvD,eAAK,YAAY,gBAAgB,KAAK,kBAAkB;AACxD,eAAK,YAAY,OAAO,KAAK,UAAU;AACvC,cAAI,KAAK,OAAO,GAAG,MAAM,IAAI;AAC3B,iBAAK,YAAY,IAAI;AAAA,UACvB;AACA,cAAI,KAAK,OAAO,GAAG,MAAM,IAAI;AAC3B,iBAAK,YAAY,IAAI;AAAA,UACvB;AACA,cAAI,KAAK,OAAO,GAAG,MAAM,IAAI;AAC3B,iBAAK,YAAY,IAAI;AAAA,UACvB;AAAA,QACF;AACA,eAAO,MAAM,KAAK,KAAK,UAAU,EAAE,SAAS,KAAK,WAAW;AAC5D,YAAI,KAAK,aAAa,KAAK,QAAQ;AACjC,cAAI,KAAK,OAAO,GAAG,MAAM,IAAI;AAC3B,iBAAK,OAAO,MAAM,IAAI,KAAK,MAAM,OAAO,MAAM,IAAI,KAAK,SAAS,IAAI,KAAK,aAAa,KAAK;AAAA,UAC7F;AACA,cAAI,KAAK,OAAO,GAAG,MAAM,IAAI;AAC3B,mBAAO,MAAM,IAAI,KAAK,MAAM,OAAO,MAAM,IAAI,KAAK,SAAS,IAAI,KAAK,aAAa,KAAK;AAAA,UACxF;AACA,cAAI,KAAK,OAAO,GAAG,MAAM,IAAI;AAC3B,mBAAO,MAAM,IAAI,KAAK,MAAM,OAAO,MAAM,IAAI,KAAK,SAAS,IAAI,KAAK,aAAa,KAAK;AAAA,UACxF;AAAA,QACF;AAAA,MACF,WAAW,SAAS,UAAU;AAC5B,aAAK,OAAO,KAAK,KAAK,QAAQ,EAAE,IAAI,KAAK,UAAU;AACnD,cAAM,iBAAiB,KAAK,KAAK,cAAc,WAAW,KAAK,WAAW,sBAAsB,KAAK,OAAO,WAAW,CAAC;AACxH,YAAI,SAAS,KAAK;AAChB,eAAK,aAAa,KAAK,KAAK,GAAG;AAC/B,eAAK,gBAAgB,KAAK,SAAS,QAAQ,KAAK,UAAU;AAC1D,eAAK,UAAU,KAAK,KAAK,UAAU,EAAE,UAAU;AAC/C,eAAK,QAAQ,KAAK,KAAK,QAAQ,EAAE,UAAU;AAC3C,eAAK,iBAAiB,KAAK,QAAQ,MAAM,KAAK,SAAS,EAAE,IAAI,KAAK,GAAG,IAAI,IAAI,IAAI;AAAA,QACnF,WAAW,SAAS,QAAQ;AAC1B,eAAK,aAAa,KAAK,KAAK,MAAM,EAAE,MAAM,KAAK,GAAG,EAAE,UAAU;AAC9D,eAAK,gBAAgB,KAAK,OAAO,IAAI,KAAK,WAAW,KAAK,KAAK,YAAY,EAAE,MAAM,KAAK,GAAG,CAAC,IAAI;AAAA,QAClG,WAAW,SAAS,OAAO,SAAS,OAAO,SAAS,KAAK;AACvD,eAAK,aAAa,KAAK,KAAK,KAAK,IAAI,CAAC;AACtC,eAAK,WAAW,KAAK,KAAK,KAAK,IAAI,CAAC;AACpC,cAAI,UAAU,SAAS;AACrB,iBAAK,WAAW,gBAAgB,KAAK,eAAe;AAAA,UACtD;AACA,eAAK,gBAAgB,KAAK,OAAO,IAAI,KAAK,WAAW,MAAM,KAAK,GAAG,EAAE,UAAU,CAAC,IAAI;AAAA,QACtF;AACA,YAAI,KAAK,cAAc;AACrB,eAAK,gBAAgB,KAAK,MAAM,KAAK,gBAAgB,KAAK,YAAY,IAAI,KAAK;AAAA,QACjF;AACA,YAAI,UAAU,WAAW,SAAS,OAAO,SAAS,QAAQ;AACxD,iBAAO,WAAW,KAAK,KAAK,eAAe;AAC3C,iBAAO,WAAW,SAAS,KAAK,eAAe,iBAAiB,KAAK,cAAc,KAAK,aAAa,CAAC,EAAE,UAAU;AAAA,QACpH,OAAO;AACL,eAAK,aAAa,gBAAgB,KAAK,mBAAmB;AAC1D,iBAAO,WAAW,KAAK,KAAK,eAAe,iBAAiB,KAAK,cAAc,KAAK,aAAa,CAAC;AAClG,iBAAO,WAAW,SAAS,KAAK,eAAe,EAAE,UAAU;AAAA,QAC7D;AAAA,MACF;AACA,WAAK,cAAc,KAAK,WAAW;AACnC,WAAK,cAAc,KAAK,iBAAiB;AAAA,IAC3C,CAAC;AACD,IAAAA,gBAAc,MAAM,aAAa,CAAC,YAAY;AAC5C,UAAI,QAAQ,WAAW;AACrB;AACF,UAAI,KAAK,YAAY,KAAK,SAAS,MAAM;AACvC,aAAK,aAAa,OAAO,KAAK;AAC9B,aAAK,cAAc,KAAK,YAAY;AAAA,MACtC;AACA,WAAK,WAAW;AAChB,WAAK,OAAO;AAAA,IACd,CAAC;AACD,IAAAA,gBAAc,MAAM,cAAc,CAAC,UAAU;AAC3C,UAAIE,KAAIC;AACR,UAAI,KAAK,gBAAgBD,MAAK,KAAK,WAAW,kBAAkB,OAAO,SAASA,IAAG,qBAAqB;AACtG,eAAO;AAAA,UACL,GAAG;AAAA,UACH,GAAG;AAAA,UACH,QAAQ,MAAM;AAAA,QAChB;AAAA,MACF,OAAO;AACL,cAAM,UAAU,MAAM,iBAAiB,MAAM,eAAe,CAAC,IAAI;AACjE,cAAM,QAAQC,MAAK,KAAK,eAAe,OAAO,SAASA,IAAG,sBAAsB;AAChF,eAAO;AAAA,UACL,IAAI,QAAQ,UAAU,KAAK,QAAQ,KAAK,QAAQ,IAAI;AAAA,UACpD,GAAG,EAAE,QAAQ,UAAU,KAAK,OAAO,KAAK,SAAS,IAAI;AAAA,UACrD,QAAQ,MAAM;AAAA,QAChB;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAH,gBAAc,MAAM,kBAAkB,CAAC,UAAU;AAC/C,UAAI,CAAC,KAAK;AACR;AACF,cAAQ,MAAM,aAAa;AAAA,QACzB,KAAK;AAAA,QACL,KAAK;AACH,eAAK,aAAa,KAAK,WAAW,KAAK,CAAC;AACxC;AAAA,MACJ;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,iBAAiB,CAAC,UAAU;AAC9C,UAAI,CAAC,KAAK,WAAW,CAAC,KAAK;AACzB;AACF,WAAK,WAAW,MAAM,cAAc;AACpC,WAAK,WAAW,cAAc,iBAAiB,eAAe,KAAK,aAAa;AAChF,WAAK,aAAa,KAAK,WAAW,KAAK,CAAC;AACxC,WAAK,YAAY,KAAK,WAAW,KAAK,CAAC;AAAA,IACzC,CAAC;AACD,IAAAA,gBAAc,MAAM,iBAAiB,CAAC,UAAU;AAC9C,UAAI,CAAC,KAAK;AACR;AACF,WAAK,YAAY,KAAK,WAAW,KAAK,CAAC;AAAA,IACzC,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,CAAC,UAAU;AAC5C,UAAI,CAAC,KAAK,WAAW,CAAC,KAAK;AACzB;AACF,WAAK,WAAW,MAAM,cAAc;AACpC,WAAK,WAAW,cAAc,oBAAoB,eAAe,KAAK,aAAa;AACnF,WAAK,UAAU,KAAK,WAAW,KAAK,CAAC;AAAA,IACvC,CAAC;AACD,IAAAA,gBAAc,MAAM,WAAW,MAAM,KAAK,IAAI;AAC9C,IAAAA,gBAAc,MAAM,WAAW,CAAC,SAAS;AACvC,WAAK,OAAO;AAAA,IACd,CAAC;AACD,IAAAA,gBAAc,MAAM,sBAAsB,CAAC,oBAAoB;AAC7D,WAAK,kBAAkB;AAAA,IACzB,CAAC;AACD,IAAAA,gBAAc,MAAM,mBAAmB,CAAC,iBAAiB;AACvD,WAAK,eAAe;AAAA,IACtB,CAAC;AACD,IAAAA,gBAAc,MAAM,gBAAgB,CAAC,cAAc;AACjD,WAAK,YAAY;AAAA,IACnB,CAAC;AACD,IAAAA,gBAAc,MAAM,WAAW,CAACI,UAAS;AACvC,WAAK,OAAOA;AAAA,IACd,CAAC;AACD,IAAAJ,gBAAc,MAAM,YAAY,CAAC,UAAU;AACzC,WAAK,QAAQ;AAAA,IACf,CAAC;AACD,IAAAA,gBAAc,MAAM,UAAU,MAAM;AAClC,cAAQ;AAAA,QACN;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,WAAW,CAACK,gBAAe;AAC7C,UAAIA,gBAAe,UAAU;AAC3B,gBAAQ;AAAA,UACN;AAAA,QACF;AAAA,MACF;AACA,WAAK,aAAaA;AAClB,WAAK,WAAW,iBAAiB,eAAe,KAAK,aAAa;AAClE,WAAK,WAAW,iBAAiB,eAAe,KAAK,cAAc;AACnE,WAAK,WAAW,cAAc,iBAAiB,aAAa,KAAK,WAAW;AAAA,IAC9E,CAAC;AACD,IAAAL,gBAAc,MAAM,WAAW,MAAM;AACnC,UAAIE,KAAIC,KAAI,IAAI,IAAI,IAAI;AACxB,OAACD,MAAK,KAAK,eAAe,OAAO,SAASA,IAAG,oBAAoB,eAAe,KAAK,aAAa;AAClG,OAACC,MAAK,KAAK,eAAe,OAAO,SAASA,IAAG,oBAAoB,eAAe,KAAK,cAAc;AACnG,OAAC,MAAM,KAAK,KAAK,eAAe,OAAO,SAAS,GAAG,kBAAkB,OAAO,SAAS,GAAG,oBAAoB,eAAe,KAAK,aAAa;AAC7I,OAAC,MAAM,KAAK,KAAK,eAAe,OAAO,SAAS,GAAG,kBAAkB,OAAO,SAAS,GAAG,oBAAoB,aAAa,KAAK,WAAW;AACzI,WAAK,SAAS,CAAC,UAAU;AACvB,cAAM,OAAO;AACb,YAAI,KAAK,UAAU;AACjB,eAAK,SAAS,QAAQ;AAAA,QACxB;AACA,YAAI,KAAK,UAAU;AACjB,eAAK,SAAS,QAAQ;AAAA,QACxB;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AACD,SAAK,aAAa;AAClB,SAAK,SAAS;AACd,SAAK,QAAQ,IAAI,uBAAuB;AACxC,SAAK,IAAI,KAAK,KAAK;AACnB,SAAK,QAAQ,IAAI,uBAAuB;AACxC,SAAK,IAAI,KAAK,KAAK;AACnB,UAAM,iBAAiB,CAAC,UAAU,iBAAiB;AACjD,UAAI,YAAY;AAChB,aAAO,eAAe,MAAM,UAAU;AAAA,QACpC,KAAK,WAAW;AACd,iBAAO,cAAc,SAAS,YAAY;AAAA,QAC5C;AAAA,QACA,KAAK,SAAS,OAAO;AACnB,cAAI,cAAc,OAAO;AACvB,wBAAY;AACZ,iBAAK,MAAM,QAAQ,IAAI;AACvB,iBAAK,MAAM,QAAQ,IAAI;AACvB,iBAAK,cAAc,EAAE,MAAM,WAAW,YAAY,MAAM,CAAC;AACzD,iBAAK,cAAc,KAAK,WAAW;AAAA,UACrC;AAAA,QACF;AAAA,MACF,CAAC;AACD,WAAK,QAAQ,IAAI;AACjB,WAAK,MAAM,QAAQ,IAAI;AACvB,WAAK,MAAM,QAAQ,IAAI;AAAA,IACzB;AACA,mBAAe,UAAU,KAAK,MAAM;AACpC,mBAAe,UAAU,KAAK,MAAM;AACpC,mBAAe,WAAW,KAAK,OAAO;AACtC,mBAAe,QAAQ,KAAK,IAAI;AAChC,mBAAe,QAAQ,KAAK,IAAI;AAChC,mBAAe,mBAAmB,KAAK,eAAe;AACtD,mBAAe,gBAAgB,KAAK,YAAY;AAChD,mBAAe,aAAa,KAAK,SAAS;AAC1C,mBAAe,SAAS,KAAK,KAAK;AAClC,mBAAe,QAAQ,KAAK,IAAI;AAChC,mBAAe,YAAY,KAAK,QAAQ;AACxC,mBAAe,SAAS,KAAK,KAAK;AAClC,mBAAe,SAAS,KAAK,KAAK;AAClC,mBAAe,SAAS,KAAK,KAAK;AAClC,mBAAe,iBAAiB,KAAK,aAAa;AAClD,mBAAe,sBAAsB,KAAK,kBAAkB;AAC5D,mBAAe,mBAAmB,KAAK,eAAe;AACtD,mBAAe,wBAAwB,KAAK,oBAAoB;AAChE,mBAAe,kBAAkB,KAAK,cAAc;AACpD,mBAAe,oBAAoB,KAAK,gBAAgB;AACxD,mBAAe,cAAc,KAAK,UAAU;AAC5C,mBAAe,YAAY,KAAK,QAAQ;AACxC,mBAAe,gBAAgB,KAAK,YAAY;AAChD,mBAAe,iBAAiB,KAAK,aAAa;AAClD,mBAAe,OAAO,KAAK,GAAG;AAC9B,QAAI,eAAe;AACjB,WAAK,QAAQ,UAAU;AAAA,EAC3B;AACF;AACA,IAAM,yBAAN,cAAqC,SAAS;AAAA,EAC5C,cAAc;AACZ,UAAM;AACN,IAAAH,gBAAc,MAAM,4BAA4B,IAAI;AACpD,IAAAA,gBAAc,MAAM,QAAQ,wBAAwB;AACpD,IAAAA,gBAAc,MAAM,cAAc,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC;AACtD,IAAAA,gBAAc,MAAM,aAAa,IAAI,MAAM,CAAC;AAC5C,IAAAA,gBAAc,MAAM,eAAe,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC;AACvD,IAAAA,gBAAc,MAAM,cAAc,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC;AACtD,IAAAA,gBAAc,MAAM,gBAAgB,IAAI,QAAQ,CAAC;AACjD,IAAAA,gBAAc,MAAM,kBAAkB,IAAI,WAAW,CAAC;AACtD,IAAAA,gBAAc,MAAM,mBAAmB,IAAI,WAAW,CAAC;AACvD,IAAAA,gBAAc,MAAM,sBAAsB,IAAI,WAAW,CAAC;AAC1D,IAAAA,gBAAc,MAAM,SAAS,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC;AACjD,IAAAA,gBAAc,MAAM,SAAS,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC;AACjD,IAAAA,gBAAc,MAAM,SAAS,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC;AACjD,IAAAA,gBAAc,MAAM,OAAO;AAC3B,IAAAA,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,QAAQ;AAE5B,IAAAA,gBAAc,MAAM,gBAAgB,IAAI,QAAQ,CAAC;AACjD,IAAAA,gBAAc,MAAM,kBAAkB,IAAI,QAAQ,CAAC;AACnD,IAAAA,gBAAc,MAAM,sBAAsB,IAAI,QAAQ,CAAC;AACvD,IAAAA,gBAAc,MAAM,wBAAwB,IAAI,WAAW,CAAC;AAC5D,IAAAA,gBAAc,MAAM,iBAAiB,IAAI,QAAQ,CAAC;AAClD,IAAAA,gBAAc,MAAM,mBAAmB,IAAI,WAAW,CAAC;AACvD,IAAAA,gBAAc,MAAM,OAAO,IAAI,QAAQ,CAAC;AACxC,IAAAA,gBAAc,MAAM,UAAU,IAAI;AAClC,IAAAA,gBAAc,MAAM,WAAW,IAAI;AACnC,IAAAA,gBAAc,MAAM,QAAQ,IAAI;AAChC,IAAAA,gBAAc,MAAM,QAAQ,WAAW;AACvC,IAAAA,gBAAc,MAAM,SAAS,OAAO;AACpC,IAAAA,gBAAc,MAAM,QAAQ,CAAC;AAC7B,IAAAA,gBAAc,MAAM,YAAY,KAAK;AACrC,IAAAA,gBAAc,MAAM,SAAS,IAAI;AACjC,IAAAA,gBAAc,MAAM,SAAS,IAAI;AACjC,IAAAA,gBAAc,MAAM,SAAS,IAAI;AAEjC,IAAAA,gBAAc,MAAM,qBAAqB,MAAM;AAC7C,UAAI,QAAQ,KAAK;AACjB,UAAI,KAAK,SAAS,SAAS;AACzB,gBAAQ;AAAA,MACV;AACA,YAAM,aAAa,UAAU,UAAU,KAAK,kBAAkB,KAAK;AACnE,WAAK,MAAM,WAAW,EAAE,UAAU,KAAK,SAAS;AAChD,WAAK,MAAM,QAAQ,EAAE,UAAU,KAAK,SAAS;AAC7C,WAAK,MAAM,OAAO,EAAE,UAAU,KAAK,SAAS;AAC5C,WAAK,OAAO,WAAW,EAAE,UAAU,KAAK,SAAS;AACjD,WAAK,OAAO,QAAQ,EAAE,UAAU,KAAK,SAAS;AAC9C,WAAK,OAAO,OAAO,EAAE,UAAU,KAAK,SAAS;AAC7C,UAAI,UAAU,CAAC;AACf,gBAAU,QAAQ,OAAO,KAAK,OAAO,KAAK,IAAI,EAAE,QAAQ;AACxD,gBAAU,QAAQ,OAAO,KAAK,MAAM,KAAK,IAAI,EAAE,QAAQ;AACvD,gBAAU,QAAQ,OAAO,KAAK,OAAO,KAAK,IAAI,EAAE,QAAQ;AACxD,eAASC,KAAI,GAAGA,KAAI,QAAQ,QAAQA,MAAK;AACvC,cAAM,SAAS,QAAQA,EAAC;AACxB,eAAO,UAAU;AACjB,eAAO,SAAS,IAAI,GAAG,GAAG,CAAC;AAC3B,eAAO,SAAS,KAAK,KAAK,aAAa;AACvC,YAAI;AACJ,YAAI,KAAK,OAAO,sBAAsB;AACpC,oBAAU,KAAK,OAAO,MAAM,KAAK,OAAO,UAAU,KAAK,OAAO;AAAA,QAChE,OAAO;AACL,mBAAS,KAAK,cAAc,WAAW,KAAK,cAAc,IAAI,KAAK,IAAI,MAAM,KAAK,IAAI,KAAK,KAAK,KAAK,OAAO,MAAM,GAAG,IAAI,KAAK,OAAO,MAAM,CAAC;AAAA,QAC9I;AACA,eAAO,MAAM,IAAI,GAAG,GAAG,CAAC,EAAE,eAAe,SAAS,KAAK,OAAO,CAAC;AAC/D,YAAI,OAAO,QAAQ,UAAU;AAC3B,iBAAO,UAAU;AACjB,cAAI,OAAO,SAAS,QAAQ;AAC1B,mBAAO,SAAS,KAAK,KAAK,kBAAkB;AAC5C,mBAAO,UAAU,CAAC,CAAC,KAAK;AACxB,gBAAI,KAAK,SAAS,KAAK;AACrB,mBAAK,eAAe,aAAa,KAAK,UAAU,IAAI,GAAG,GAAG,CAAC,CAAC;AAC5D,qBAAO,WAAW,KAAK,UAAU,EAAE,SAAS,KAAK,cAAc;AAC/D,kBAAI,KAAK,IAAI,KAAK,YAAY,KAAK,KAAK,KAAK,EAAE,gBAAgB,UAAU,EAAE,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK;AAC/F,uBAAO,UAAU;AAAA,cACnB;AAAA,YACF;AACA,gBAAI,KAAK,SAAS,KAAK;AACrB,mBAAK,eAAe,aAAa,KAAK,UAAU,IAAI,GAAG,GAAG,KAAK,KAAK,CAAC,CAAC;AACtE,qBAAO,WAAW,KAAK,UAAU,EAAE,SAAS,KAAK,cAAc;AAC/D,kBAAI,KAAK,IAAI,KAAK,YAAY,KAAK,KAAK,KAAK,EAAE,gBAAgB,UAAU,EAAE,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK;AAC/F,uBAAO,UAAU;AAAA,cACnB;AAAA,YACF;AACA,gBAAI,KAAK,SAAS,KAAK;AACrB,mBAAK,eAAe,aAAa,KAAK,UAAU,IAAI,GAAG,KAAK,KAAK,GAAG,CAAC,CAAC;AACtE,qBAAO,WAAW,KAAK,UAAU,EAAE,SAAS,KAAK,cAAc;AAC/D,kBAAI,KAAK,IAAI,KAAK,YAAY,KAAK,KAAK,KAAK,EAAE,gBAAgB,UAAU,EAAE,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK;AAC/F,uBAAO,UAAU;AAAA,cACnB;AAAA,YACF;AACA,gBAAI,KAAK,SAAS,QAAQ;AACxB,mBAAK,eAAe,aAAa,KAAK,UAAU,IAAI,GAAG,KAAK,KAAK,GAAG,CAAC,CAAC;AACtE,mBAAK,YAAY,KAAK,KAAK,YAAY;AACvC,qBAAO,WAAW;AAAA,gBAChB,KAAK,aAAa,OAAO,KAAK,YAAY,KAAK,aAAa,KAAK,KAAK;AAAA,cACxE;AACA,qBAAO,WAAW,SAAS,KAAK,cAAc;AAC9C,qBAAO,UAAU,KAAK;AAAA,YACxB;AACA,gBAAI,KAAK,SAAS,KAAK;AACrB,qBAAO,UAAU;AAAA,YACnB;AAAA,UACF,WAAW,OAAO,SAAS,SAAS;AAClC,mBAAO,SAAS,KAAK,KAAK,kBAAkB;AAC5C,mBAAO,UAAU,KAAK;AAAA,UACxB,WAAW,OAAO,SAAS,OAAO;AAChC,mBAAO,SAAS,KAAK,KAAK,aAAa;AACvC,mBAAO,UAAU,KAAK;AAAA,UACxB,WAAW,OAAO,SAAS,SAAS;AAClC,mBAAO,SAAS,KAAK,KAAK,kBAAkB;AAC5C,mBAAO,WAAW,KAAK,KAAK,oBAAoB;AAChD,iBAAK,WAAW,IAAI,OAAO,OAAO,KAAK,EAAE,IAAI,KAAK,kBAAkB,EAAE,IAAI,KAAK,aAAa,EAAE,eAAe,EAAE;AAC/G,iBAAK,WAAW,gBAAgB,KAAK,qBAAqB,MAAM,EAAE,OAAO,CAAC;AAC1E,mBAAO,MAAM,KAAK,KAAK,UAAU;AACjC,mBAAO,UAAU,KAAK;AAAA,UACxB,OAAO;AACL,mBAAO,WAAW,KAAK,UAAU;AACjC,gBAAI,KAAK,UAAU;AACjB,qBAAO,SAAS,KAAK,KAAK,kBAAkB;AAAA,YAC9C,OAAO;AACL,qBAAO,SAAS,KAAK,KAAK,aAAa;AAAA,YACzC;AACA,gBAAI,KAAK,MAAM;AACb,qBAAO,UAAU,KAAK,KAAK,OAAO,OAAO,IAAI,MAAM;AAAA,YACrD;AAAA,UACF;AACA;AAAA,QACF;AACA,eAAO,WAAW,KAAK,UAAU;AACjC,YAAI,KAAK,SAAS,eAAe,KAAK,SAAS,SAAS;AACtD,gBAAM,qBAAqB;AAC3B,gBAAM,sBAAsB;AAC5B,gBAAM,qBAAqB;AAC3B,cAAI,OAAO,SAAS,OAAO,OAAO,SAAS,QAAQ;AACjD,gBAAI,KAAK,IAAI,KAAK,YAAY,KAAK,KAAK,KAAK,EAAE,gBAAgB,UAAU,EAAE,IAAI,KAAK,GAAG,CAAC,IAAI,oBAAoB;AAC9G,qBAAO,MAAM,IAAI,OAAO,OAAO,KAAK;AACpC,qBAAO,UAAU;AAAA,YACnB;AAAA,UACF;AACA,cAAI,OAAO,SAAS,OAAO,OAAO,SAAS,QAAQ;AACjD,gBAAI,KAAK,IAAI,KAAK,YAAY,KAAK,KAAK,KAAK,EAAE,gBAAgB,UAAU,EAAE,IAAI,KAAK,GAAG,CAAC,IAAI,oBAAoB;AAC9G,qBAAO,MAAM,IAAI,OAAO,OAAO,KAAK;AACpC,qBAAO,UAAU;AAAA,YACnB;AAAA,UACF;AACA,cAAI,OAAO,SAAS,OAAO,OAAO,SAAS,QAAQ;AACjD,gBAAI,KAAK,IAAI,KAAK,YAAY,KAAK,KAAK,KAAK,EAAE,gBAAgB,UAAU,EAAE,IAAI,KAAK,GAAG,CAAC,IAAI,oBAAoB;AAC9G,qBAAO,MAAM,IAAI,OAAO,OAAO,KAAK;AACpC,qBAAO,UAAU;AAAA,YACnB;AAAA,UACF;AACA,cAAI,OAAO,SAAS,MAAM;AACxB,gBAAI,KAAK,IAAI,KAAK,YAAY,KAAK,KAAK,KAAK,EAAE,gBAAgB,UAAU,EAAE,IAAI,KAAK,GAAG,CAAC,IAAI,qBAAqB;AAC/G,qBAAO,MAAM,IAAI,OAAO,OAAO,KAAK;AACpC,qBAAO,UAAU;AAAA,YACnB;AAAA,UACF;AACA,cAAI,OAAO,SAAS,MAAM;AACxB,gBAAI,KAAK,IAAI,KAAK,YAAY,KAAK,KAAK,KAAK,EAAE,gBAAgB,UAAU,EAAE,IAAI,KAAK,GAAG,CAAC,IAAI,qBAAqB;AAC/G,qBAAO,MAAM,IAAI,OAAO,OAAO,KAAK;AACpC,qBAAO,UAAU;AAAA,YACnB;AAAA,UACF;AACA,cAAI,OAAO,SAAS,MAAM;AACxB,gBAAI,KAAK,IAAI,KAAK,YAAY,KAAK,KAAK,KAAK,EAAE,gBAAgB,UAAU,EAAE,IAAI,KAAK,GAAG,CAAC,IAAI,qBAAqB;AAC/G,qBAAO,MAAM,IAAI,OAAO,OAAO,KAAK;AACpC,qBAAO,UAAU;AAAA,YACnB;AAAA,UACF;AACA,cAAI,OAAO,KAAK,OAAO,GAAG,MAAM,IAAI;AAClC,gBAAI,KAAK,YAAY,KAAK,KAAK,KAAK,EAAE,gBAAgB,UAAU,EAAE,IAAI,KAAK,GAAG,IAAI,oBAAoB;AACpG,kBAAI,OAAO,QAAQ,OAAO;AACxB,uBAAO,UAAU;AAAA,cACnB,OAAO;AACL,uBAAO,MAAM,KAAK;AAAA,cACpB;AAAA,YACF,WAAW,OAAO,QAAQ,OAAO;AAC/B,qBAAO,UAAU;AAAA,YACnB;AAAA,UACF;AACA,cAAI,OAAO,KAAK,OAAO,GAAG,MAAM,IAAI;AAClC,gBAAI,KAAK,YAAY,KAAK,KAAK,KAAK,EAAE,gBAAgB,UAAU,EAAE,IAAI,KAAK,GAAG,IAAI,oBAAoB;AACpG,kBAAI,OAAO,QAAQ,OAAO;AACxB,uBAAO,UAAU;AAAA,cACnB,OAAO;AACL,uBAAO,MAAM,KAAK;AAAA,cACpB;AAAA,YACF,WAAW,OAAO,QAAQ,OAAO;AAC/B,qBAAO,UAAU;AAAA,YACnB;AAAA,UACF;AACA,cAAI,OAAO,KAAK,OAAO,GAAG,MAAM,IAAI;AAClC,gBAAI,KAAK,YAAY,KAAK,KAAK,KAAK,EAAE,gBAAgB,UAAU,EAAE,IAAI,KAAK,GAAG,IAAI,oBAAoB;AACpG,kBAAI,OAAO,QAAQ,OAAO;AACxB,uBAAO,UAAU;AAAA,cACnB,OAAO;AACL,uBAAO,MAAM,KAAK;AAAA,cACpB;AAAA,YACF,WAAW,OAAO,QAAQ,OAAO;AAC/B,qBAAO,UAAU;AAAA,YACnB;AAAA,UACF;AAAA,QACF,WAAW,KAAK,SAAS,UAAU;AACjC,eAAK,gBAAgB,KAAK,UAAU;AACpC,eAAK,YAAY,KAAK,KAAK,GAAG,EAAE,gBAAgB,KAAK,eAAe,KAAK,UAAU,EAAE,OAAO,CAAC;AAC7F,cAAI,OAAO,KAAK,OAAO,GAAG,MAAM,IAAI;AAClC,mBAAO,WAAW,sBAAsB,KAAK,aAAa,OAAO,KAAK,KAAK,KAAK,YAAY,KAAK,KAAK,CAAC;AAAA,UACzG;AACA,cAAI,OAAO,SAAS,KAAK;AACvB,iBAAK,eAAe,iBAAiB,KAAK,OAAO,KAAK,MAAM,CAAC,KAAK,YAAY,GAAG,KAAK,YAAY,CAAC,CAAC;AACpG,iBAAK,eAAe,oBAAoB,KAAK,iBAAiB,KAAK,cAAc;AACjF,mBAAO,WAAW,KAAK,KAAK,cAAc;AAAA,UAC5C;AACA,cAAI,OAAO,SAAS,KAAK;AACvB,iBAAK,eAAe,iBAAiB,KAAK,OAAO,KAAK,MAAM,KAAK,YAAY,GAAG,KAAK,YAAY,CAAC,CAAC;AACnG,iBAAK,eAAe,oBAAoB,KAAK,iBAAiB,KAAK,cAAc;AACjF,mBAAO,WAAW,KAAK,KAAK,cAAc;AAAA,UAC5C;AACA,cAAI,OAAO,SAAS,KAAK;AACvB,iBAAK,eAAe,iBAAiB,KAAK,OAAO,KAAK,MAAM,KAAK,YAAY,GAAG,KAAK,YAAY,CAAC,CAAC;AACnG,iBAAK,eAAe,oBAAoB,KAAK,iBAAiB,KAAK,cAAc;AACjF,mBAAO,WAAW,KAAK,KAAK,cAAc;AAAA,UAC5C;AAAA,QACF;AACA,eAAO,UAAU,OAAO,YAAY,OAAO,KAAK,QAAQ,GAAG,MAAM,MAAM,KAAK;AAC5E,eAAO,UAAU,OAAO,YAAY,OAAO,KAAK,QAAQ,GAAG,MAAM,MAAM,KAAK;AAC5E,eAAO,UAAU,OAAO,YAAY,OAAO,KAAK,QAAQ,GAAG,MAAM,MAAM,KAAK;AAC5E,eAAO,UAAU,OAAO,YAAY,OAAO,KAAK,QAAQ,GAAG,MAAM,MAAM,KAAK,SAAS,KAAK,SAAS,KAAK;AACxG,eAAO,SAAS,cAAc,OAAO,SAAS,eAAe,OAAO,SAAS;AAC7E,eAAO,SAAS,YAAY,OAAO,SAAS,aAAa,OAAO,SAAS,MAAM,MAAM;AACrF,eAAO,SAAS,MAAM,KAAK,OAAO,SAAS,SAAS;AACpD,eAAO,SAAS,UAAU,OAAO,SAAS;AAC1C,YAAI,CAAC,KAAK,SAAS;AACjB,iBAAO,SAAS,WAAW;AAC3B,iBAAO,SAAS,MAAM,KAAK,IAAI,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG;AAAA,QACpD,WAAW,KAAK,MAAM;AACpB,cAAI,OAAO,SAAS,KAAK,MAAM;AAC7B,mBAAO,SAAS,UAAU;AAC1B,mBAAO,SAAS,MAAM,KAAK,IAAI,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG;AAAA,UACpD,WAAW,KAAK,KAAK,MAAM,EAAE,EAAE,KAAK,SAASK,IAAG;AAC9C,mBAAO,OAAO,SAASA;AAAA,UACzB,CAAC,GAAG;AACF,mBAAO,SAAS,UAAU;AAC1B,mBAAO,SAAS,MAAM,KAAK,IAAI,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG;AAAA,UACpD,OAAO;AACL,mBAAO,SAAS,WAAW;AAC3B,mBAAO,SAAS,MAAM,KAAK,IAAI,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG;AAAA,UACpD;AAAA,QACF;AAAA,MACF;AACA,YAAM,kBAAkB;AAAA,IAC1B,CAAC;AACD,UAAM,gBAAgB,IAAI,kBAAkB;AAAA,MAC1C,WAAW;AAAA,MACX,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,MAAM;AAAA,MACN,KAAK;AAAA,MACL,YAAY;AAAA,IACd,CAAC;AACD,UAAM,oBAAoB,IAAI,kBAAkB;AAAA,MAC9C,WAAW;AAAA,MACX,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,WAAW;AAAA,MACX,KAAK;AAAA,MACL,YAAY;AAAA,IACd,CAAC;AACD,UAAM,eAAe,cAAc,MAAM;AACzC,iBAAa,UAAU;AACvB,UAAM,YAAY,cAAc,MAAM;AACtC,cAAU,UAAU;AACpB,UAAM,SAAS,cAAc,MAAM;AACnC,WAAO,MAAM,IAAI,QAAQ;AACzB,UAAM,WAAW,cAAc,MAAM;AACrC,aAAS,MAAM,IAAI,KAAK;AACxB,UAAM,UAAU,cAAc,MAAM;AACpC,YAAQ,MAAM,IAAI,GAAG;AACrB,UAAM,sBAAsB,cAAc,MAAM;AAChD,wBAAoB,UAAU;AAC9B,UAAM,uBAAuB,oBAAoB,MAAM;AACvD,yBAAqB,MAAM,IAAI,QAAQ;AACvC,UAAM,qBAAqB,oBAAoB,MAAM;AACrD,uBAAmB,MAAM,IAAI,KAAK;AAClC,UAAM,wBAAwB,oBAAoB,MAAM;AACxD,0BAAsB,MAAM,IAAI,QAAQ;AACxC,UAAM,YAAY,cAAc,MAAM;AACtC,cAAU,MAAM,IAAI,QAAQ;AAC5B,UAAM,aAAa,kBAAkB,MAAM;AAC3C,eAAW,MAAM,IAAI,QAAQ;AAC7B,UAAM,eAAe,kBAAkB,MAAM;AAC7C,iBAAa,MAAM,IAAI,KAAK;AAC5B,UAAM,cAAc,kBAAkB,MAAM;AAC5C,gBAAY,MAAM,IAAI,GAAG;AACzB,UAAM,cAAc,kBAAkB,MAAM;AAC5C,gBAAY,MAAM,IAAI,KAAK;AAC3B,UAAM,iBAAiB,kBAAkB,MAAM;AAC/C,mBAAe,MAAM,IAAI,QAAQ;AACjC,UAAM,gBAAgB,kBAAkB,MAAM;AAC9C,kBAAc,MAAM,IAAI,QAAQ;AAChC,UAAM,cAAc,kBAAkB,MAAM;AAC5C,gBAAY,MAAM,IAAI,OAAO;AAC7B,UAAM,2BAA2B,cAAc,MAAM;AACrD,6BAAyB,UAAU;AACnC,UAAM,gBAAgB,IAAI,iBAAiB,GAAG,MAAM,KAAK,IAAI,GAAG,KAAK;AACrE,UAAM,sBAAsB,IAAI,YAAY,OAAO,OAAO,KAAK;AAC/D,UAAM,eAAe,IAAI,eAAe;AACxC,iBAAa,aAAa,YAAY,IAAI,uBAAuB,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;AACvF,UAAM,iBAAiB,CAAC,QAAQ,QAAQ;AACtC,YAAMC,YAAW,IAAI,eAAe;AACpC,YAAM,WAAW,CAAC;AAClB,eAASN,KAAI,GAAGA,MAAK,KAAK,KAAK,EAAEA,IAAG;AAClC,iBAAS,KAAK,GAAG,KAAK,IAAIA,KAAI,KAAK,KAAK,EAAE,IAAI,QAAQ,KAAK,IAAIA,KAAI,KAAK,KAAK,EAAE,IAAI,MAAM;AAAA,MAC3F;AACA,MAAAM,UAAS,aAAa,YAAY,IAAI,uBAAuB,UAAU,CAAC,CAAC;AACzE,aAAOA;AAAA,IACT;AACA,UAAM,0BAA0B,MAAM;AACpC,YAAMA,YAAW,IAAI,eAAe;AACpC,MAAAA,UAAS,aAAa,YAAY,IAAI,uBAAuB,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;AACnF,aAAOA;AAAA,IACT;AACA,UAAM,iBAAiB;AAAA,MACrB,GAAG;AAAA,QACD,CAAC,IAAI,KAAK,eAAe,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,KAAK,CAAC,GAAG,MAAM,KAAK;AAAA,QAC9E,CAAC,IAAI,KAAK,eAAe,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC,GAAG,MAAM,KAAK;AAAA,QAC7E,CAAC,IAAI,KAAK,cAAc,UAAU,CAAC;AAAA,MACrC;AAAA,MACA,GAAG;AAAA,QACD,CAAC,IAAI,KAAK,eAAe,QAAQ,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,MAAM,MAAM,KAAK;AAAA,QAChE,CAAC,IAAI,KAAK,eAAe,QAAQ,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,GAAG,MAAM,KAAK;AAAA,QAC3E,CAAC,IAAI,KAAK,cAAc,YAAY,GAAG,MAAM,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC,CAAC;AAAA,MAClE;AAAA,MACA,GAAG;AAAA,QACD,CAAC,IAAI,KAAK,eAAe,OAAO,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,KAAK,GAAG,GAAG,CAAC,GAAG,MAAM,KAAK;AAAA,QAC9E,CAAC,IAAI,KAAK,eAAe,OAAO,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,KAAK,GAAG,GAAG,CAAC,GAAG,MAAM,KAAK;AAAA,QAC/E,CAAC,IAAI,KAAK,cAAc,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,CAAC;AAAA,MAClE;AAAA,MACA,KAAK,CAAC,CAAC,IAAI,KAAK,IAAI,mBAAmB,KAAK,CAAC,GAAG,oBAAoB,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;AAAA,MACnG,IAAI;AAAA,QACF,CAAC,IAAI,KAAK,IAAI,cAAc,OAAO,KAAK,GAAG,qBAAqB,MAAM,CAAC,GAAG,CAAC,MAAM,MAAM,CAAC,CAAC;AAAA,QACzF,CAAC,IAAI,KAAK,cAAc,aAAa,GAAG,CAAC,MAAM,KAAK,CAAC,GAAG,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC;AAAA,QAC3E,CAAC,IAAI,KAAK,cAAc,aAAa,GAAG,CAAC,KAAK,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC;AAAA,MAC5F;AAAA,MACA,IAAI;AAAA,QACF,CAAC,IAAI,KAAK,IAAI,cAAc,OAAO,KAAK,GAAG,mBAAmB,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,IAAI,GAAG,CAAC,GAAG,KAAK,KAAK,GAAG,CAAC,CAAC;AAAA,QAC5G,CAAC,IAAI,KAAK,cAAc,WAAW,GAAG,CAAC,GAAG,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC;AAAA,QACxF,CAAC,IAAI,KAAK,cAAc,WAAW,GAAG,CAAC,GAAG,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC;AAAA,MAC3F;AAAA,MACA,IAAI;AAAA,QACF;AAAA,UACE,IAAI,KAAK,IAAI,cAAc,OAAO,KAAK,GAAG,sBAAsB,MAAM,CAAC;AAAA,UACvE,CAAC,MAAM,GAAG,IAAI;AAAA,UACd,CAAC,CAAC,KAAK,KAAK,GAAG,GAAG,CAAC;AAAA,QACrB;AAAA,QACA,CAAC,IAAI,KAAK,cAAc,cAAc,GAAG,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC;AAAA,QAC5E,CAAC,IAAI,KAAK,cAAc,cAAc,GAAG,CAAC,KAAK,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC;AAAA,MAC9F;AAAA,IACF;AACA,UAAM,kBAAkB;AAAA,MACtB,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,iBAAiB,KAAK,GAAG,GAAG,GAAG,GAAG,KAAK,GAAG,YAAY,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;AAAA,MAC7G,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,iBAAiB,KAAK,GAAG,GAAG,GAAG,GAAG,KAAK,GAAG,YAAY,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;AAAA,MACvF,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,iBAAiB,KAAK,GAAG,GAAG,GAAG,GAAG,KAAK,GAAG,YAAY,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,KAAK,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC;AAAA,MAC5G,KAAK,CAAC,CAAC,IAAI,KAAK,IAAI,mBAAmB,KAAK,CAAC,GAAG,YAAY,CAAC,CAAC;AAAA,MAC9D,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,cAAc,KAAK,GAAG,GAAG,YAAY,GAAG,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;AAAA,MACzE,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,cAAc,KAAK,GAAG,GAAG,YAAY,GAAG,CAAC,GAAG,KAAK,GAAG,GAAG,CAAC,GAAG,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC;AAAA,MAC9F,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,cAAc,KAAK,GAAG,GAAG,YAAY,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,CAAC,CAAC,KAAK,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC;AAAA,IACjG;AACA,UAAM,kBAAkB;AAAA,MACtB,OAAO,CAAC,CAAC,IAAI,KAAK,IAAI,mBAAmB,MAAM,CAAC,GAAG,SAAS,GAAG,MAAM,MAAM,MAAM,QAAQ,CAAC;AAAA,MAC1F,KAAK,CAAC,CAAC,IAAI,KAAK,IAAI,mBAAmB,MAAM,CAAC,GAAG,SAAS,GAAG,MAAM,MAAM,MAAM,QAAQ,CAAC;AAAA,MACxF,OAAO,CAAC,CAAC,IAAI,KAAK,wBAAwB,GAAG,SAAS,GAAG,MAAM,MAAM,MAAM,QAAQ,CAAC;AAAA,MACpF,GAAG,CAAC,CAAC,IAAI,KAAK,cAAc,UAAU,MAAM,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,GAAG,QAAQ,CAAC;AAAA,MAC1F,GAAG,CAAC,CAAC,IAAI,KAAK,cAAc,UAAU,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,QAAQ,CAAC;AAAA,MACzG,GAAG,CAAC,CAAC,IAAI,KAAK,cAAc,UAAU,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,QAAQ,CAAC;AAAA,IAC5G;AACA,UAAM,cAAc;AAAA,MAClB,GAAG;AAAA,QACD,CAAC,IAAI,KAAK,eAAe,GAAG,GAAG,GAAG,UAAU,CAAC;AAAA,QAC7C,CAAC,IAAI,KAAK,IAAI,mBAAmB,MAAM,CAAC,GAAG,MAAM,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC;AAAA,MACnF;AAAA,MACA,GAAG;AAAA,QACD,CAAC,IAAI,KAAK,eAAe,GAAG,GAAG,GAAG,YAAY,GAAG,MAAM,CAAC,GAAG,GAAG,CAAC,KAAK,KAAK,CAAC,CAAC;AAAA,QAC3E,CAAC,IAAI,KAAK,IAAI,mBAAmB,MAAM,CAAC,GAAG,QAAQ,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC;AAAA,MACrF;AAAA,MACA,GAAG;AAAA,QACD,CAAC,IAAI,KAAK,eAAe,GAAG,GAAG,GAAG,WAAW,GAAG,MAAM,CAAC,GAAG,KAAK,KAAK,GAAG,CAAC,CAAC;AAAA,QACzE,CAAC,IAAI,KAAK,IAAI,mBAAmB,MAAM,CAAC,GAAG,OAAO,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC;AAAA,MACpF;AAAA,MACA,GAAG;AAAA,QACD,CAAC,IAAI,KAAK,eAAe,MAAM,CAAC,GAAG,wBAAwB,GAAG,MAAM,CAAC,GAAG,KAAK,KAAK,GAAG,CAAC,CAAC;AAAA,QACvF;AAAA,UACE,IAAI,KAAK,IAAI,iBAAiB,MAAM,GAAG,MAAM,GAAG,GAAG,KAAK,GAAG,wBAAwB;AAAA,UACnF,CAAC,MAAM,GAAG,CAAC;AAAA,UACX,CAAC,GAAG,GAAG,CAAC,KAAK,KAAK,CAAC;AAAA,UACnB,CAAC,GAAG,GAAG,IAAI;AAAA,QACb;AAAA,QACA;AAAA,UACE,IAAI,KAAK,IAAI,iBAAiB,MAAM,GAAG,MAAM,GAAG,GAAG,KAAK,GAAG,wBAAwB;AAAA,UACnF,CAAC,OAAO,GAAG,CAAC;AAAA,UACZ,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC;AAAA,UAClB,CAAC,GAAG,GAAG,IAAI;AAAA,QACb;AAAA,QACA;AAAA,UACE,IAAI,KAAK,IAAI,iBAAiB,MAAM,GAAG,MAAM,GAAG,GAAG,KAAK,GAAG,wBAAwB;AAAA,UACnF,CAAC,GAAG,OAAO,CAAC;AAAA,UACZ,CAAC,KAAK,IAAI,GAAG,CAAC;AAAA,UACd,CAAC,GAAG,GAAG,IAAI;AAAA,QACb;AAAA,QACA;AAAA,UACE,IAAI,KAAK,IAAI,iBAAiB,MAAM,GAAG,MAAM,GAAG,GAAG,KAAK,GAAG,wBAAwB;AAAA,UACnF,CAAC,GAAG,MAAM,CAAC;AAAA,UACX,CAAC,GAAG,GAAG,CAAC;AAAA,UACR,CAAC,GAAG,GAAG,IAAI;AAAA,QACb;AAAA,MACF;AAAA,MACA,MAAM,CAAC,CAAC,IAAI,KAAK,eAAe,GAAG,CAAC,GAAG,WAAW,GAAG,MAAM,CAAC,GAAG,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC;AAAA,IACjF;AACA,UAAM,eAAe;AAAA,MACnB,MAAM,CAAC,CAAC,IAAI,KAAK,cAAc,UAAU,MAAM,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,GAAG,QAAQ,CAAC;AAAA,IAC/F;AACA,UAAM,eAAe;AAAA,MACnB,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,cAAc,GAAG,KAAK,GAAG,EAAE,GAAG,YAAY,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;AAAA,MAC1G,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,cAAc,GAAG,KAAK,GAAG,EAAE,GAAG,YAAY,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC;AAAA,MAC9F,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,cAAc,GAAG,KAAK,GAAG,EAAE,GAAG,YAAY,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;AAAA,MAC/F,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,cAAc,MAAM,KAAK,GAAG,EAAE,GAAG,YAAY,CAAC,CAAC;AAAA,MACjE,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,eAAe,KAAK,IAAI,CAAC,GAAG,YAAY,CAAC,CAAC;AAAA,IACjE;AACA,UAAM,aAAa;AAAA,MACjB,GAAG;AAAA,QACD,CAAC,IAAI,KAAK,qBAAqB,MAAM,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,KAAK,CAAC,CAAC;AAAA,QACzE,CAAC,IAAI,KAAK,cAAc,UAAU,GAAG,MAAM,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;AAAA,MAC9D;AAAA,MACA,GAAG;AAAA,QACD,CAAC,IAAI,KAAK,qBAAqB,QAAQ,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC;AAAA,QACrD,CAAC,IAAI,KAAK,cAAc,YAAY,GAAG,MAAM,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC;AAAA,MAC/E;AAAA,MACA,GAAG;AAAA,QACD,CAAC,IAAI,KAAK,qBAAqB,OAAO,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,KAAK,KAAK,GAAG,GAAG,CAAC,CAAC;AAAA,QACzE,CAAC,IAAI,KAAK,cAAc,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC;AAAA,MAC/E;AAAA,MACA,IAAI;AAAA,QACF,CAAC,IAAI,KAAK,qBAAqB,oBAAoB,GAAG,CAAC,MAAM,MAAM,CAAC,GAAG,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,QACxF,CAAC,IAAI,KAAK,cAAc,aAAa,GAAG,CAAC,OAAO,MAAM,CAAC,GAAG,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC;AAAA,QAC7E,CAAC,IAAI,KAAK,cAAc,aAAa,GAAG,CAAC,MAAM,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC;AAAA,MAC9F;AAAA,MACA,IAAI;AAAA,QACF,CAAC,IAAI,KAAK,qBAAqB,kBAAkB,GAAG,CAAC,GAAG,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;AAAA,QACtF,CAAC,IAAI,KAAK,cAAc,WAAW,GAAG,CAAC,GAAG,OAAO,IAAI,GAAG,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC;AAAA,QAC1F,CAAC,IAAI,KAAK,cAAc,WAAW,GAAG,CAAC,GAAG,MAAM,KAAK,GAAG,CAAC,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC;AAAA,MAC7F;AAAA,MACA,IAAI;AAAA,QACF,CAAC,IAAI,KAAK,qBAAqB,qBAAqB,GAAG,CAAC,MAAM,GAAG,IAAI,GAAG,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC;AAAA,QACzF,CAAC,IAAI,KAAK,cAAc,cAAc,GAAG,CAAC,OAAO,GAAG,IAAI,GAAG,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC;AAAA,QAC9E,CAAC,IAAI,KAAK,cAAc,cAAc,GAAG,CAAC,MAAM,GAAG,KAAK,GAAG,CAAC,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC;AAAA,MAChG;AAAA,MACA,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,YAAY,OAAO,OAAO,KAAK,GAAG,oBAAoB,MAAM,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;AAAA,MACjG,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,YAAY,OAAO,OAAO,KAAK,GAAG,oBAAoB,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;AAAA,MACjG,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,YAAY,OAAO,OAAO,KAAK,GAAG,oBAAoB,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;AAAA,IACnG;AACA,UAAM,cAAc;AAAA,MAClB,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,iBAAiB,KAAK,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,YAAY,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;AAAA,MAC/G,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,iBAAiB,KAAK,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,YAAY,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;AAAA,MACzF,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,iBAAiB,KAAK,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,YAAY,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,KAAK,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC;AAAA,MAC9G,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB,YAAY,GAAG,CAAC,MAAM,MAAM,CAAC,GAAG,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;AAAA,MACtF,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB,YAAY,GAAG,CAAC,GAAG,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;AAAA,MACtF,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB,YAAY,GAAG,CAAC,MAAM,GAAG,IAAI,GAAG,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;AAAA,MACtF,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,YAAY,KAAK,KAAK,GAAG,GAAG,YAAY,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;AAAA,MAC5E,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,YAAY,KAAK,KAAK,GAAG,GAAG,YAAY,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;AAAA,MAC5E,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,YAAY,KAAK,KAAK,GAAG,GAAG,YAAY,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;AAAA,IAC9E;AACA,UAAM,cAAc;AAAA,MAClB,GAAG,CAAC,CAAC,IAAI,KAAK,cAAc,UAAU,MAAM,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,GAAG,QAAQ,CAAC;AAAA,MAC1F,GAAG,CAAC,CAAC,IAAI,KAAK,cAAc,UAAU,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,QAAQ,CAAC;AAAA,MACzG,GAAG,CAAC,CAAC,IAAI,KAAK,cAAc,UAAU,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,QAAQ,CAAC;AAAA,IAC5G;AACA,UAAM,aAAa,CAAC,aAAa;AAC/B,YAAM,QAAQ,IAAI,SAAS;AAC3B,eAAS,QAAQ,UAAU;AACzB,iBAASN,KAAI,SAAS,IAAI,EAAE,QAAQA,QAAO;AACzC,gBAAM,SAAS,SAAS,IAAI,EAAEA,EAAC,EAAE,CAAC,EAAE,MAAM;AAC1C,gBAAM,WAAW,SAAS,IAAI,EAAEA,EAAC,EAAE,CAAC;AACpC,gBAAM,WAAW,SAAS,IAAI,EAAEA,EAAC,EAAE,CAAC;AACpC,gBAAMO,SAAQ,SAAS,IAAI,EAAEP,EAAC,EAAE,CAAC;AACjC,gBAAM,MAAM,SAAS,IAAI,EAAEA,EAAC,EAAE,CAAC;AAC/B,iBAAO,OAAO;AACd,iBAAO,MAAM;AACb,cAAI,UAAU;AACZ,mBAAO,SAAS,IAAI,SAAS,CAAC,GAAG,SAAS,CAAC,GAAG,SAAS,CAAC,CAAC;AAAA,UAC3D;AACA,cAAI,UAAU;AACZ,mBAAO,SAAS,IAAI,SAAS,CAAC,GAAG,SAAS,CAAC,GAAG,SAAS,CAAC,CAAC;AAAA,UAC3D;AACA,cAAIO,QAAO;AACT,mBAAO,MAAM,IAAIA,OAAM,CAAC,GAAGA,OAAM,CAAC,GAAGA,OAAM,CAAC,CAAC;AAAA,UAC/C;AACA,iBAAO,aAAa;AACpB,gBAAM,eAAe,OAAO,SAAS,MAAM;AAC3C,uBAAa,aAAa,OAAO,MAAM;AACvC,iBAAO,WAAW;AAClB,iBAAO,cAAc;AACrB,iBAAO,SAAS,IAAI,GAAG,GAAG,CAAC;AAC3B,iBAAO,SAAS,IAAI,GAAG,GAAG,CAAC;AAC3B,iBAAO,MAAM,IAAI,GAAG,GAAG,CAAC;AACxB,gBAAM,IAAI,MAAM;AAAA,QAClB;AAAA,MACF;AACA,aAAO;AAAA,IACT;AACA,SAAK,QAAQ,CAAC;AACd,SAAK,SAAS,CAAC;AACf,SAAK,SAAS,CAAC;AACf,SAAK,IAAI,KAAK,MAAM,WAAW,IAAI,WAAW,cAAc,CAAC;AAC7D,SAAK,IAAI,KAAK,MAAM,QAAQ,IAAI,WAAW,WAAW,CAAC;AACvD,SAAK,IAAI,KAAK,MAAM,OAAO,IAAI,WAAW,UAAU,CAAC;AACrD,SAAK,IAAI,KAAK,OAAO,WAAW,IAAI,WAAW,eAAe,CAAC;AAC/D,SAAK,IAAI,KAAK,OAAO,QAAQ,IAAI,WAAW,YAAY,CAAC;AACzD,SAAK,IAAI,KAAK,OAAO,OAAO,IAAI,WAAW,WAAW,CAAC;AACvD,SAAK,IAAI,KAAK,OAAO,WAAW,IAAI,WAAW,eAAe,CAAC;AAC/D,SAAK,IAAI,KAAK,OAAO,QAAQ,IAAI,WAAW,YAAY,CAAC;AACzD,SAAK,IAAI,KAAK,OAAO,OAAO,IAAI,WAAW,WAAW,CAAC;AACvD,SAAK,OAAO,WAAW,EAAE,UAAU;AACnC,SAAK,OAAO,QAAQ,EAAE,UAAU;AAChC,SAAK,OAAO,OAAO,EAAE,UAAU;AAAA,EACjC;AACF;AACA,IAAM,yBAAN,cAAqC,KAAK;AAAA,EACxC,cAAc;AACZ;AAAA,MACE,IAAI,cAAc,KAAK,KAAK,GAAG,CAAC;AAAA,MAChC,IAAI,kBAAkB;AAAA,QACpB,SAAS;AAAA,QACT,WAAW;AAAA,QACX,MAAM;AAAA,QACN,aAAa;AAAA,QACb,SAAS;AAAA,QACT,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AACA,IAAAR,gBAAc,MAAM,4BAA4B,IAAI;AACpD,IAAAA,gBAAc,MAAM,QAAQ,wBAAwB;AACpD,IAAAA,gBAAc,MAAM,SAAS,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC;AACjD,IAAAA,gBAAc,MAAM,SAAS,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC;AACjD,IAAAA,gBAAc,MAAM,SAAS,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC;AACjD,IAAAA,gBAAc,MAAM,cAAc,IAAI,QAAQ,CAAC;AAC/C,IAAAA,gBAAc,MAAM,aAAa,IAAI,QAAQ,CAAC;AAC9C,IAAAA,gBAAc,MAAM,eAAe,IAAI,QAAQ,CAAC;AAChD,IAAAA,gBAAc,MAAM,cAAc,IAAI,QAAQ,CAAC;AAC/C,IAAAA,gBAAc,MAAM,sBAAsB,IAAI,WAAW,CAAC;AAE1D,IAAAA,gBAAc,MAAM,oBAAoB,IAAI,WAAW,CAAC;AACxD,IAAAA,gBAAc,MAAM,iBAAiB,IAAI,QAAQ,CAAC;AAClD,IAAAA,gBAAc,MAAM,mBAAmB,IAAI,WAAW,CAAC;AACvD,IAAAA,gBAAc,MAAM,OAAO,IAAI,QAAQ,CAAC;AACxC,IAAAA,gBAAc,MAAM,QAAQ,IAAI;AAChC,IAAAA,gBAAc,MAAM,QAAQ,WAAW;AACvC,IAAAA,gBAAc,MAAM,SAAS,OAAO;AACpC,IAAAA,gBAAc,MAAM,qBAAqB,MAAM;AAC7C,UAAI,QAAQ,KAAK;AACjB,WAAK,SAAS,KAAK,KAAK,aAAa;AACrC,UAAI,KAAK,SAAS;AAChB,gBAAQ;AACV,WAAK,MAAM,IAAI,GAAG,GAAG,CAAC,EAAE,gBAAgB,UAAU,UAAU,KAAK,kBAAkB,KAAK,kBAAkB;AAC1G,WAAK,MAAM,IAAI,GAAG,GAAG,CAAC,EAAE,gBAAgB,UAAU,UAAU,KAAK,kBAAkB,KAAK,kBAAkB;AAC1G,WAAK,MAAM,IAAI,GAAG,GAAG,CAAC,EAAE,gBAAgB,UAAU,UAAU,KAAK,kBAAkB,KAAK,kBAAkB;AAC1G,WAAK,YAAY,KAAK,KAAK,KAAK;AAChC,cAAQ,KAAK,MAAM;AAAA,QACjB,KAAK;AAAA,QACL,KAAK;AACH,kBAAQ,KAAK,MAAM;AAAA,YACjB,KAAK;AACH,mBAAK,YAAY,KAAK,KAAK,GAAG,EAAE,MAAM,KAAK,KAAK;AAChD,mBAAK,UAAU,KAAK,KAAK,KAAK,EAAE,MAAM,KAAK,WAAW;AACtD;AAAA,YACF,KAAK;AACH,mBAAK,YAAY,KAAK,KAAK,GAAG,EAAE,MAAM,KAAK,KAAK;AAChD,mBAAK,UAAU,KAAK,KAAK,KAAK,EAAE,MAAM,KAAK,WAAW;AACtD;AAAA,YACF,KAAK;AACH,mBAAK,YAAY,KAAK,KAAK,GAAG,EAAE,MAAM,KAAK,KAAK;AAChD,mBAAK,UAAU,KAAK,KAAK,KAAK,EAAE,MAAM,KAAK,WAAW;AACtD;AAAA,YACF,KAAK;AACH,mBAAK,UAAU,KAAK,KAAK,KAAK;AAC9B;AAAA,YACF,KAAK;AACH,mBAAK,UAAU,KAAK,KAAK,KAAK;AAC9B;AAAA,YACF,KAAK;AACH,mBAAK,YAAY,KAAK,KAAK,KAAK;AAChC,mBAAK,UAAU,KAAK,KAAK,KAAK;AAC9B;AAAA,YACF,KAAK;AAAA,YACL,KAAK;AACH,mBAAK,UAAU,IAAI,GAAG,GAAG,CAAC;AAC1B;AAAA,UACJ;AACA;AAAA,QACF,KAAK;AAAA,QACL;AACE,eAAK,UAAU,IAAI,GAAG,GAAG,CAAC;AAAA,MAC9B;AACA,UAAI,KAAK,UAAU,OAAO,MAAM,GAAG;AACjC,aAAK,WAAW,KAAK,KAAK,gBAAgB;AAAA,MAC5C,OAAO;AACL,aAAK,WAAW,OAAO,KAAK,WAAW,IAAI,GAAG,GAAG,CAAC,GAAG,KAAK,WAAW,KAAK,WAAW;AACrF,aAAK,WAAW,sBAAsB,KAAK,UAAU;AAAA,MACvD;AACA,YAAM,kBAAkB;AAAA,IAC1B,CAAC;AAAA,EACH;AACF;;;AC3jCA,IAAIS,cAAY,OAAO;AACvB,IAAIC,oBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAMD,YAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,MAAM,CAAC,IAAI,IAAI,GAAG,IAAI;AAC1J,IAAIE,kBAAgB,CAAC,KAAK,KAAK,UAAU;AACvC,EAAAD,kBAAgB,KAAK,OAAO,QAAQ,WAAW,MAAM,KAAK,KAAK,KAAK;AACpE,SAAO;AACT;AAEA,IAAM,SAAyB,IAAI,MAAM,GAAG,GAAG,GAAG,KAAK;AACvD,IAAME,WAA0B,IAAI,QAAQ;AAC5C,IAAM,eAAe,EAAE,MAAM,SAAS;AACtC,IAAM,aAAa,EAAE,MAAM,OAAO;AAClC,IAAM,eAAe,EAAE,MAAM,SAAS;AACtC,IAAM,QAAQ,KAAK,KAAK;AACxB,IAAM,sBAAN,cAAkC,gBAAgB;AAAA,EAChD,YAAY,QAAQ,YAAY;AAC9B,UAAM;AACN,IAAAD,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,YAAY;AAChC,IAAAA,gBAAc,MAAM,UAAU;AAC9B,IAAAA,gBAAc,MAAM,eAAe;AACnC,IAAAA,gBAAc,MAAM,eAAe;AACnC,IAAAA,gBAAc,MAAM,cAAc;AAClC,IAAAA,gBAAc,MAAM,eAAe,CAAC,UAAU;AAC5C,UAAI,CAAC,KAAK,cAAc,KAAK,aAAa;AACxC;AACF,YAAM,YAAY,MAAM,aAAa,MAAM,gBAAgB,MAAM,mBAAmB;AACpF,YAAM,YAAY,MAAM,aAAa,MAAM,gBAAgB,MAAM,mBAAmB;AACpF,aAAO,kBAAkB,KAAK,OAAO,UAAU;AAC/C,aAAO,KAAK,YAAY,OAAO,KAAK;AACpC,aAAO,KAAK,YAAY,OAAO,KAAK;AACpC,aAAO,IAAI,KAAK,IAAI,QAAQ,KAAK,eAAe,KAAK,IAAI,QAAQ,KAAK,eAAe,OAAO,CAAC,CAAC;AAC9F,WAAK,OAAO,WAAW,aAAa,MAAM;AAC1C,WAAK,cAAc,YAAY;AAAA,IACjC,CAAC;AACD,IAAAA,gBAAc,MAAM,uBAAuB,MAAM;AAC/C,UAAI,CAAC,KAAK;AACR;AACF,UAAI,KAAK,WAAW,cAAc,uBAAuB,KAAK,YAAY;AACxE,aAAK,cAAc,UAAU;AAC7B,aAAK,WAAW;AAAA,MAClB,OAAO;AACL,aAAK,cAAc,YAAY;AAC/B,aAAK,WAAW;AAAA,MAClB;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,sBAAsB,MAAM;AAC9C,cAAQ,MAAM,2DAA2D;AAAA,IAC3E,CAAC;AACD,IAAAA,gBAAc,MAAM,WAAW,CAACE,gBAAe;AAC7C,WAAK,aAAaA,eAAc,KAAK;AACrC,UAAI,CAAC,KAAK;AACR;AACF,WAAK,WAAW,cAAc,iBAAiB,aAAa,KAAK,WAAW;AAC5E,WAAK,WAAW,cAAc,iBAAiB,qBAAqB,KAAK,mBAAmB;AAC5F,WAAK,WAAW,cAAc,iBAAiB,oBAAoB,KAAK,kBAAkB;AAAA,IAC5F,CAAC;AACD,IAAAF,gBAAc,MAAM,cAAc,MAAM;AACtC,UAAI,CAAC,KAAK;AACR;AACF,WAAK,WAAW,cAAc,oBAAoB,aAAa,KAAK,WAAW;AAC/E,WAAK,WAAW,cAAc,oBAAoB,qBAAqB,KAAK,mBAAmB;AAC/F,WAAK,WAAW,cAAc,oBAAoB,oBAAoB,KAAK,kBAAkB;AAAA,IAC/F,CAAC;AACD,IAAAA,gBAAc,MAAM,WAAW,MAAM;AACnC,WAAK,WAAW;AAAA,IAClB,CAAC;AACD,IAAAA,gBAAc,MAAM,aAAa,MAAM;AACrC,aAAO,KAAK;AAAA,IACd,CAAC;AACD,IAAAA,gBAAc,MAAM,aAAa,IAAI,QAAQ,GAAG,GAAG,EAAE,CAAC;AACtD,IAAAA,gBAAc,MAAM,gBAAgB,CAAC,MAAM;AACzC,aAAO,EAAE,KAAK,KAAK,SAAS,EAAE,gBAAgB,KAAK,OAAO,UAAU;AAAA,IACtE,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,CAACG,cAAa;AAC/C,MAAAF,SAAQ,oBAAoB,KAAK,OAAO,QAAQ,CAAC;AACjD,MAAAA,SAAQ,aAAa,KAAK,OAAO,IAAIA,QAAO;AAC5C,WAAK,OAAO,SAAS,gBAAgBA,UAASE,SAAQ;AAAA,IACxD,CAAC;AACD,IAAAH,gBAAc,MAAM,aAAa,CAACG,cAAa;AAC7C,MAAAF,SAAQ,oBAAoB,KAAK,OAAO,QAAQ,CAAC;AACjD,WAAK,OAAO,SAAS,gBAAgBA,UAASE,SAAQ;AAAA,IACxD,CAAC;AACD,IAAAH,gBAAc,MAAM,QAAQ,MAAM;AAChC,UAAI,KAAK;AACP,aAAK,WAAW,mBAAmB;AAAA,IACvC,CAAC;AACD,IAAAA,gBAAc,MAAM,UAAU,MAAM;AAClC,UAAI,KAAK;AACP,aAAK,WAAW,cAAc,gBAAgB;AAAA,IAClD,CAAC;AACD,SAAK,SAAS;AACd,SAAK,aAAa;AAClB,SAAK,WAAW;AAChB,SAAK,gBAAgB;AACrB,SAAK,gBAAgB,KAAK;AAC1B,SAAK,eAAe;AACpB,QAAI;AACF,WAAK,QAAQ,UAAU;AAAA,EAC3B;AACF;;;ACnGA,IAAII,cAAY,OAAO;AACvB,IAAIC,oBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAMD,YAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,MAAM,CAAC,IAAI,IAAI,GAAG,IAAI;AAC1J,IAAIE,kBAAgB,CAAC,KAAK,KAAK,UAAU;AACvC,EAAAD,kBAAgB,KAAK,OAAO,QAAQ,WAAW,MAAM,KAAK,KAAK,KAAK;AACpE,SAAO;AACT;AAEA,IAAM,4BAAN,cAAwC,gBAAgB;AAAA;AAAA,EAEtD,YAAY,QAAQ;AAClB,UAAM;AACN,IAAAC,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,eAAe,EAAE,MAAM,SAAS,CAAC;AACrD,IAAAA,gBAAc,MAAM,OAAO,IAAI;AAC/B,IAAAA,gBAAc,MAAM,WAAW,IAAI;AACnC,IAAAA,gBAAc,MAAM,qBAAqB,EAAE,OAAO,GAAG,MAAM,GAAG,OAAO,EAAE,CAAC;AACxE,IAAAA,gBAAc,MAAM,qBAAqB,CAAC;AAC1C,IAAAA,gBAAc,MAAM,eAAe,CAAC;AACpC,IAAAA,gBAAc,MAAM,kCAAkC,CAAC,UAAU;AAC/D,WAAK,oBAAoB;AAAA,IAC3B,CAAC;AACD,IAAAA,gBAAc,MAAM,kCAAkC,MAAM;AAC1D,WAAK,oBAAoB,OAAO,eAAe;AAAA,IACjD,CAAC;AAED,IAAAA,gBAAc,MAAM,OAAO,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC;AAC/C,IAAAA,gBAAc,MAAM,SAAS,IAAI,MAAM,CAAC;AACxC,IAAAA,gBAAc,MAAM,MAAM,IAAI,WAAW,CAAC;AAC1C,IAAAA,gBAAc,MAAM,MAAM,IAAI,WAAW,CAAC,KAAK,KAAK,GAAG,GAAG,GAAG,GAAG,KAAK,KAAK,GAAG,CAAC,CAAC;AAE/E,IAAAA,gBAAc,MAAM,uBAAuB,CAAC,YAAY,OAAO,MAAM,OAAO,WAAW;AACrF,WAAK,MAAM,IAAI,MAAM,OAAO,CAAC,OAAO,KAAK;AACzC,iBAAW,aAAa,KAAK,KAAK;AAClC,iBAAW,SAAS,KAAK,EAAE;AAC3B,iBAAW,SAAS,KAAK,GAAG,iBAAiB,KAAK,KAAK,CAAC,MAAM,CAAC;AAAA,IACjE,CAAC;AACD,IAAAA,gBAAc,MAAM,WAAW,MAAM;AACnC,WAAK,+BAA+B;AACpC,UAAI,OAAO,2BAA2B;AAAA,MACtC,OAAO,OAAO,uBAAuB,sBAAsB,YAAY;AACrE,eAAO,uBAAuB,kBAAkB,EAAE,KAAK,CAAC,aAAa;AACnE,cAAI,YAAY,WAAW;AACzB,mBAAO,iBAAiB,qBAAqB,KAAK,8BAA8B;AAChF,mBAAO,iBAAiB,qBAAqB,KAAK,8BAA8B;AAAA,UAClF;AAAA,QACF,CAAC,EAAE,MAAM,CAAC,UAAU;AAClB,kBAAQ,MAAM,yEAAyE,KAAK;AAAA,QAC9F,CAAC;AAAA,MACH,OAAO;AACL,eAAO,iBAAiB,qBAAqB,KAAK,8BAA8B;AAChF,eAAO,iBAAiB,qBAAqB,KAAK,8BAA8B;AAAA,MAClF;AACA,WAAK,UAAU;AAAA,IACjB,CAAC;AACD,IAAAA,gBAAc,MAAM,cAAc,MAAM;AACtC,aAAO,oBAAoB,qBAAqB,KAAK,8BAA8B;AACnF,aAAO,oBAAoB,qBAAqB,KAAK,8BAA8B;AACnF,WAAK,UAAU;AAAA,IACjB,CAAC;AACD,IAAAA,gBAAc,MAAM,kBAAkB,IAAI,WAAW,CAAC;AACtD,IAAAA,gBAAc,MAAM,UAAU,MAAM;AAClC,UAAI,KAAK,YAAY;AACnB;AACF,YAAM,SAAS,KAAK;AACpB,UAAI,QAAQ;AACV,cAAM,QAAQ,OAAO,QAAQ,UAAU,SAAS,OAAO,KAAK,IAAI,KAAK,cAAc;AACnF,cAAM,OAAO,OAAO,OAAO,UAAU,SAAS,OAAO,IAAI,IAAI;AAC7D,cAAM,QAAQ,OAAO,QAAQ,UAAU,SAAS,OAAO,KAAK,IAAI;AAChE,cAAM,SAAS,KAAK,oBAAoB,UAAU,SAAS,KAAK,iBAAiB,IAAI;AACrF,aAAK,oBAAoB,KAAK,OAAO,YAAY,OAAO,MAAM,OAAO,MAAM;AAC3E,YAAI,KAAK,IAAI,KAAK,eAAe,IAAI,KAAK,OAAO,UAAU,KAAK,KAAK,KAAK;AACxE,eAAK,eAAe,KAAK,KAAK,OAAO,UAAU;AAC/C,eAAK,cAAc,KAAK,WAAW;AAAA,QACrC;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,WAAW,MAAM,KAAK,WAAW,CAAC;AACtD,SAAK,SAAS;AACd,SAAK,OAAO,SAAS,QAAQ,KAAK;AAClC,SAAK,QAAQ;AAAA,EACf;AACF;;;ACjFA,IAAIC,cAAY,OAAO;AACvB,IAAIC,oBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAMD,YAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,MAAM,CAAC,IAAI,IAAI,GAAG,IAAI;AAC1J,IAAIE,kBAAgB,CAAC,KAAK,KAAK,UAAU;AACvC,EAAAD,kBAAgB,KAAK,OAAO,QAAQ,WAAW,MAAM,KAAK,KAAK,KAAK;AACpE,SAAO;AACT;AAEA,IAAM,oBAAN,cAAgC,gBAAgB;AAAA,EAC9C,YAAY,QAAQ,YAAY;AAC9B,UAAM;AACN,IAAAC,gBAAc,MAAM,WAAW,IAAI;AACnC,IAAAA,gBAAc,MAAM,UAAU,EAAE,MAAM,GAAG,KAAK,GAAG,OAAO,GAAG,QAAQ,EAAE,CAAC;AACtE,IAAAA,gBAAc,MAAM,eAAe,CAAC;AACpC,IAAAA,gBAAc,MAAM,aAAa,GAAG;AACpC,IAAAA,gBAAc,MAAM,YAAY,GAAG;AACnC,IAAAA,gBAAc,MAAM,YAAY,KAAK;AACrC,IAAAA,gBAAc,MAAM,UAAU,KAAK;AACnC,IAAAA,gBAAc,MAAM,SAAS,KAAK;AAClC,IAAAA,gBAAc,MAAM,gBAAgB,KAAK;AACzC,IAAAA,gBAAc,MAAM,wBAAwB,GAAG;AAC/C,IAAAA,gBAAc,MAAM,eAAe,CAAC;AACpC,IAAAA,gBAAc,MAAM,eAAe,QAAQ;AAC3C,IAAAA,gBAAc,MAAM,QAAQ;AAAA,MAC1B;AAAA,MACA;AAAA,MACA;AAAA;AAAA,IAEF,CAAC;AACD,IAAAA,gBAAc,MAAM,gBAAgB;AAAA,MAClC,MAAM,MAAM;AAAA,MACZ,QAAQ,MAAM;AAAA,MACd,OAAO,MAAM;AAAA,IACf,CAAC;AACD,IAAAA,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,YAAY;AAChC,IAAAA,gBAAc,MAAM,cAAc,KAAK;AACvC,IAAAA,gBAAc,MAAM,UAAU,IAAI,QAAQ,CAAC;AAC3C,IAAAA,gBAAc,MAAM,iBAAiB,IAAI,QAAQ,CAAC;AAElD,IAAAA,gBAAc,MAAM,SAAS;AAAA,MAC3B,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,KAAK;AAAA,MACL,cAAc;AAAA,MACd,gBAAgB;AAAA,IAClB,CAAC;AACD,IAAAA,gBAAc,MAAM,OAAO,IAAI;AAC/B,IAAAA,gBAAc,MAAM,YAAY,CAAC;AACjC,IAAAA,gBAAc,MAAM,gBAAgB,IAAI,QAAQ,CAAC;AACjD,IAAAA,gBAAc,MAAM,gBAAgB,IAAI,QAAQ,CAAC;AACjD,IAAAA,gBAAc,MAAM,gBAAgB,IAAI,QAAQ,CAAC;AACjD,IAAAA,gBAAc,MAAM,UAAU,KAAK,MAAM,IAAI;AAC7C,IAAAA,gBAAc,MAAM,aAAa,KAAK,MAAM,IAAI;AAChD,IAAAA,gBAAc,MAAM,QAAQ,IAAI,QAAQ,CAAC;AACzC,IAAAA,gBAAc,MAAM,aAAa,IAAI,QAAQ,CAAC;AAC9C,IAAAA,gBAAc,MAAM,aAAa,IAAI,QAAQ,CAAC;AAC9C,IAAAA,gBAAc,MAAM,aAAa,IAAI,QAAQ,CAAC;AAC9C,IAAAA,gBAAc,MAAM,cAAc,CAAC;AACnC,IAAAA,gBAAc,MAAM,cAAc,IAAI,QAAQ,CAAC;AAC/C,IAAAA,gBAAc,MAAM,YAAY,IAAI,QAAQ,CAAC;AAC7C,IAAAA,gBAAc,MAAM,2BAA2B,CAAC;AAChD,IAAAA,gBAAc,MAAM,yBAAyB,CAAC;AAC9C,IAAAA,gBAAc,MAAM,aAAa,IAAI,QAAQ,CAAC;AAC9C,IAAAA,gBAAc,MAAM,WAAW,IAAI,QAAQ,CAAC;AAC5C,IAAAA,gBAAc,MAAM,SAAS;AAC7B,IAAAA,gBAAc,MAAM,WAAW;AAC/B,IAAAA,gBAAc,MAAM,KAAK;AACzB,IAAAA,gBAAc,MAAM,OAAO;AAE3B,IAAAA,gBAAc,MAAM,eAAe,EAAE,MAAM,SAAS,CAAC;AACrD,IAAAA,gBAAc,MAAM,cAAc,EAAE,MAAM,QAAQ,CAAC;AACnD,IAAAA,gBAAc,MAAM,YAAY,EAAE,MAAM,MAAM,CAAC;AAC/C,IAAAA,gBAAc,MAAM,kBAAkB,IAAI,QAAQ,CAAC;AACnD,IAAAA,gBAAc,MAAM,oBAAoB,CAAC,OAAO,UAAU;AACxD,WAAK,eAAe;AAAA,SACjB,QAAQ,KAAK,OAAO,QAAQ,KAAK,OAAO;AAAA,SACxC,QAAQ,KAAK,OAAO,OAAO,KAAK,OAAO;AAAA,MAC1C;AACA,aAAO,KAAK;AAAA,IACd,CAAC;AACD,IAAAA,gBAAc,MAAM,kBAAkB,IAAI,QAAQ,CAAC;AACnD,IAAAA,gBAAc,MAAM,oBAAoB,CAAC,OAAO,UAAU;AACxD,WAAK,eAAe;AAAA,SACjB,QAAQ,KAAK,OAAO,QAAQ,MAAM,KAAK,OAAO,SAAS,KAAK,OAAO,QAAQ;AAAA,SAC3E,KAAK,OAAO,SAAS,KAAK,KAAK,OAAO,MAAM,UAAU,KAAK,OAAO;AAAA;AAAA,MAErE;AACA,aAAO,KAAK;AAAA,IACd,CAAC;AACD,IAAAA,gBAAc,MAAM,QAAQ,IAAI,QAAQ,CAAC;AACzC,IAAAA,gBAAc,MAAM,cAAc,IAAI,WAAW,CAAC;AAClD,IAAAA,gBAAc,MAAM,gBAAgB,IAAI,QAAQ,CAAC;AACjD,IAAAA,gBAAc,MAAM,qBAAqB,IAAI,QAAQ,CAAC;AACtD,IAAAA,gBAAc,MAAM,2BAA2B,IAAI,QAAQ,CAAC;AAC5D,IAAAA,gBAAc,MAAM,iBAAiB,IAAI,QAAQ,CAAC;AAClD,IAAAA,gBAAc,MAAM,SAAS,CAAC;AAC9B,IAAAA,gBAAc,MAAM,gBAAgB,MAAM;AACxC,WAAK,cAAc,IAAI,KAAK,UAAU,IAAI,KAAK,UAAU,GAAG,KAAK,UAAU,IAAI,KAAK,UAAU,GAAG,CAAC;AAClG,WAAK,QAAQ,KAAK,cAAc,OAAO;AACvC,UAAI,KAAK,OAAO;AACd,aAAK,KAAK,KAAK,KAAK,OAAO,QAAQ,EAAE,IAAI,KAAK,MAAM;AACpD,aAAK,aAAa,KAAK,KAAK,IAAI,EAAE,UAAU;AAC5C,aAAK,kBAAkB,KAAK,KAAK,OAAO,EAAE,EAAE,UAAU;AACtD,aAAK,wBAAwB,aAAa,KAAK,mBAAmB,KAAK,YAAY,EAAE,UAAU;AAC/F,aAAK,kBAAkB,UAAU,KAAK,UAAU,IAAI,KAAK,UAAU,CAAC;AACpE,aAAK,wBAAwB,UAAU,KAAK,UAAU,IAAI,KAAK,UAAU,CAAC;AAC1E,aAAK,cAAc,KAAK,KAAK,kBAAkB,IAAI,KAAK,uBAAuB,CAAC;AAChF,aAAK,KAAK,aAAa,KAAK,eAAe,KAAK,IAAI,EAAE,UAAU;AAChE,aAAK,SAAS,KAAK;AACnB,aAAK,WAAW,iBAAiB,KAAK,MAAM,KAAK,KAAK;AACtD,aAAK,KAAK,gBAAgB,KAAK,UAAU;AACzC,aAAK,OAAO,GAAG,gBAAgB,KAAK,UAAU;AAC9C,aAAK,UAAU,KAAK,KAAK,IAAI;AAC7B,aAAK,aAAa,KAAK;AAAA,MACzB,WAAW,CAAC,KAAK,gBAAgB,KAAK,YAAY;AAChD,aAAK,cAAc,KAAK,KAAK,IAAI,KAAK,oBAAoB;AAC1D,aAAK,KAAK,KAAK,KAAK,OAAO,QAAQ,EAAE,IAAI,KAAK,MAAM;AACpD,aAAK,WAAW,iBAAiB,KAAK,WAAW,KAAK,UAAU;AAChE,aAAK,KAAK,gBAAgB,KAAK,UAAU;AACzC,aAAK,OAAO,GAAG,gBAAgB,KAAK,UAAU;AAAA,MAChD;AACA,WAAK,UAAU,KAAK,KAAK,SAAS;AAAA,IACpC,CAAC;AACD,IAAAA,gBAAc,MAAM,cAAc,MAAM;AACtC,UAAI;AACJ,UAAI,KAAK,WAAW,KAAK,MAAM,gBAAgB;AAC7C,iBAAS,KAAK,0BAA0B,KAAK;AAC7C,aAAK,0BAA0B,KAAK;AACpC,YAAI,KAAK,OAAO,qBAAqB;AACnC,eAAK,KAAK,eAAe,MAAM;AAAA,QACjC,WAAW,KAAK,OAAO,sBAAsB;AAC3C,eAAK,OAAO,QAAQ;AACpB,eAAK,OAAO,uBAAuB;AAAA,QACrC,OAAO;AACL,kBAAQ,KAAK,kDAAkD;AAAA,QACjE;AAAA,MACF,OAAO;AACL,iBAAS,KAAK,KAAK,SAAS,IAAI,KAAK,WAAW,KAAK,KAAK;AAC1D,YAAI,KAAK,IAAI,SAAS,CAAC,IAAI,KAAK,OAAO,SAAS,GAAG;AACjD,cAAI,KAAK,OAAO,qBAAqB;AACnC,gBAAI,SAAS,KAAK,KAAK,KAAK,OAAO,KAAK,KAAK,cAAc,KAAK,KAAK;AACnE,uBAAS;AAAA,YACX;AACA,iBAAK,KAAK,eAAe,MAAM;AAAA,UACjC,WAAW,KAAK,OAAO,sBAAsB;AAC3C,gBAAI,SAAS,KAAK,KAAK,OAAO,OAAO,KAAK,cAAc,KAAK,aAAa;AACxE,uBAAS;AAAA,YACX;AACA,iBAAK,OAAO,QAAQ;AAAA,UACtB,OAAO;AACL,oBAAQ,KAAK,kDAAkD;AAAA,UACjE;AAAA,QACF;AACA,YAAI,KAAK,cAAc;AACrB,eAAK,WAAW,KAAK,KAAK,QAAQ;AAAA,QACpC,OAAO;AACL,eAAK,WAAW,MAAM,KAAK,SAAS,IAAI,KAAK,WAAW,KAAK,KAAK;AAAA,QACpE;AACA,YAAI,KAAK,YAAY;AACnB,eAAK,aAAa,KAAK,KAAK,MAAM,EAAE,QAAQ,KAAK,MAAM;AACvD,cAAI,WAAW,KAAK,aAAa,IAAI,KAAK,cAAc,GAAG,KAAK,cAAc,GAAG,KAAK,aAAa,CAAC,EAAE,UAAU,KAAK,MAAM;AAC3H,eAAK,OAAO,YAAY,UAAU,KAAK,QAAQ,MAAM;AAAA,QACvD;AACA,YAAI,KAAK,OAAO,sBAAsB;AACpC,eAAK,OAAO,uBAAuB;AAAA,QACrC;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,IAAI,QAAQ,CAAC;AAChD,IAAAA,gBAAc,MAAM,YAAY,IAAI,QAAQ,CAAC;AAC7C,IAAAA,gBAAc,MAAM,OAAO,IAAI,QAAQ,CAAC;AACxC,IAAAA,gBAAc,MAAM,aAAa,MAAM;AACrC,UAAI,CAAC,KAAK;AACR;AACF,WAAK,YAAY,KAAK,KAAK,OAAO,EAAE,IAAI,KAAK,SAAS;AACtD,UAAI,KAAK,YAAY,SAAS,IAAI,KAAK,KAAK;AAC1C,YAAI,KAAK,OAAO,sBAAsB;AACpC,gBAAM,cAAc,KAAK;AACzB,gBAAM,WAAW,YAAY,QAAQ,YAAY,QAAQ,KAAK,OAAO;AACrE,gBAAM,WAAW,YAAY,MAAM,YAAY,UAAU,KAAK,OAAO;AACrE,eAAK,YAAY,KAAK;AACtB,eAAK,YAAY,KAAK;AAAA,QACxB,OAAO;AACL,eAAK,YAAY,eAAe,KAAK,KAAK,OAAO,IAAI,KAAK,QAAQ;AAAA,QACpE;AACA,aAAK,IAAI,KAAK,KAAK,IAAI,EAAE,MAAM,KAAK,OAAO,EAAE,EAAE,UAAU,KAAK,YAAY,CAAC;AAC3E,aAAK,IAAI,IAAI,KAAK,SAAS,KAAK,KAAK,OAAO,EAAE,EAAE,UAAU,KAAK,YAAY,CAAC,CAAC;AAC7E,aAAK,OAAO,SAAS,IAAI,KAAK,GAAG;AACjC,aAAK,OAAO,IAAI,KAAK,GAAG;AACxB,YAAI,KAAK,cAAc;AACrB,eAAK,UAAU,KAAK,KAAK,OAAO;AAAA,QAClC,OAAO;AACL,eAAK,UAAU;AAAA,YACb,KAAK,YAAY,WAAW,KAAK,SAAS,KAAK,SAAS,EAAE,eAAe,KAAK,oBAAoB;AAAA,UACpG;AAAA,QACF;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,kBAAkB,MAAM;AAC1C,UAAI,CAAC,KAAK,UAAU,CAAC,KAAK,OAAO;AAC/B,YAAI,KAAK,KAAK,SAAS,IAAI,KAAK,cAAc,KAAK,aAAa;AAC9D,eAAK,OAAO,SAAS,WAAW,KAAK,QAAQ,KAAK,KAAK,UAAU,KAAK,WAAW,CAAC;AAClF,eAAK,WAAW,KAAK,KAAK,QAAQ;AAAA,QACpC;AACA,YAAI,KAAK,KAAK,SAAS,IAAI,KAAK,cAAc,KAAK,aAAa;AAC9D,eAAK,OAAO,SAAS,WAAW,KAAK,QAAQ,KAAK,KAAK,UAAU,KAAK,WAAW,CAAC;AAClF,eAAK,WAAW,KAAK,KAAK,QAAQ;AAAA,QACpC;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,gBAAgB,MAAM;AACxC,UAAI,CAAC,KAAK;AACR;AACF,YAAM,MAAM,KAAK,WAAW,sBAAsB;AAClD,YAAM,IAAI,KAAK,WAAW,cAAc;AACxC,WAAK,OAAO,OAAO,IAAI,OAAO,OAAO,cAAc,EAAE;AACrD,WAAK,OAAO,MAAM,IAAI,MAAM,OAAO,cAAc,EAAE;AACnD,WAAK,OAAO,QAAQ,IAAI;AACxB,WAAK,OAAO,SAAS,IAAI;AAAA,IAC3B,CAAC;AACD,IAAAA,gBAAc,MAAM,UAAU,MAAM;AAClC,WAAK,KAAK,WAAW,KAAK,OAAO,UAAU,KAAK,MAAM;AACtD,UAAI,CAAC,KAAK,UAAU;AAClB,aAAK,aAAa;AAAA,MACpB;AACA,UAAI,CAAC,KAAK,QAAQ;AAChB,aAAK,WAAW;AAAA,MAClB;AACA,UAAI,CAAC,KAAK,OAAO;AACf,aAAK,UAAU;AAAA,MACjB;AACA,WAAK,OAAO,SAAS,WAAW,KAAK,QAAQ,KAAK,IAAI;AACtD,UAAI,KAAK,OAAO,qBAAqB;AACnC,aAAK,eAAe;AACpB,aAAK,OAAO,OAAO,KAAK,MAAM;AAC9B,YAAI,KAAK,aAAa,kBAAkB,KAAK,OAAO,QAAQ,IAAI,KAAK,KAAK;AACxE,eAAK,cAAc,KAAK,WAAW;AACnC,eAAK,aAAa,KAAK,KAAK,OAAO,QAAQ;AAAA,QAC7C;AAAA,MACF,WAAW,KAAK,OAAO,sBAAsB;AAC3C,aAAK,OAAO,OAAO,KAAK,MAAM;AAC9B,YAAI,KAAK,aAAa,kBAAkB,KAAK,OAAO,QAAQ,IAAI,KAAK,OAAO,KAAK,aAAa,KAAK,OAAO,MAAM;AAC9G,eAAK,cAAc,KAAK,WAAW;AACnC,eAAK,aAAa,KAAK,KAAK,OAAO,QAAQ;AAC3C,eAAK,WAAW,KAAK,OAAO;AAAA,QAC9B;AAAA,MACF,OAAO;AACL,gBAAQ,KAAK,kDAAkD;AAAA,MACjE;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,SAAS,MAAM;AACjC,WAAK,SAAS,KAAK,MAAM;AACzB,WAAK,YAAY,KAAK,MAAM;AAC5B,WAAK,OAAO,KAAK,KAAK,OAAO;AAC7B,WAAK,OAAO,SAAS,KAAK,KAAK,SAAS;AACxC,WAAK,OAAO,GAAG,KAAK,KAAK,GAAG;AAC5B,WAAK,OAAO,OAAO,KAAK;AACxB,WAAK,OAAO,uBAAuB;AACnC,WAAK,KAAK,WAAW,KAAK,OAAO,UAAU,KAAK,MAAM;AACtD,WAAK,OAAO,OAAO,KAAK,MAAM;AAC9B,WAAK,cAAc,KAAK,WAAW;AACnC,WAAK,aAAa,KAAK,KAAK,OAAO,QAAQ;AAC3C,WAAK,WAAW,KAAK,OAAO;AAAA,IAC9B,CAAC;AACD,IAAAA,gBAAc,MAAM,WAAW,CAAC,UAAU;AACxC,UAAI,KAAK,YAAY;AACnB;AACF,aAAO,oBAAoB,WAAW,KAAK,OAAO;AAClD,UAAI,KAAK,cAAc,KAAK,MAAM,MAAM;AACtC;AAAA,MACF,WAAW,MAAM,SAAS,KAAK,KAAK,KAAK,MAAM,MAAM,KAAK,CAAC,KAAK,UAAU;AACxE,aAAK,YAAY,KAAK,MAAM;AAAA,MAC9B,WAAW,MAAM,SAAS,KAAK,KAAK,KAAK,MAAM,IAAI,KAAK,CAAC,KAAK,QAAQ;AACpE,aAAK,YAAY,KAAK,MAAM;AAAA,MAC9B,WAAW,MAAM,SAAS,KAAK,KAAK,KAAK,MAAM,GAAG,KAAK,CAAC,KAAK,OAAO;AAClE,aAAK,YAAY,KAAK,MAAM;AAAA,MAC9B;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,iBAAiB,CAAC,UAAU;AAC9C,UAAI,KAAK,YAAY;AACnB;AACF,cAAQ,MAAM,aAAa;AAAA,QACzB,KAAK;AAAA,QACL,KAAK;AACH,eAAK,YAAY,KAAK;AACtB;AAAA,MACJ;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,iBAAiB,CAAC,UAAU;AAC9C,UAAI,KAAK,YAAY;AACnB;AACF,cAAQ,MAAM,aAAa;AAAA,QACzB,KAAK;AAAA,QACL,KAAK;AACH,eAAK,YAAY,KAAK;AACtB;AAAA,MACJ;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,CAAC,UAAU;AAC5C,UAAI,KAAK,YAAY;AACnB;AACF,cAAQ,MAAM,aAAa;AAAA,QACzB,KAAK;AAAA,QACL,KAAK;AACH,eAAK,UAAU;AACf;AAAA,MACJ;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,SAAS,MAAM;AACjC,UAAI,KAAK,YAAY;AACnB;AACF,WAAK,YAAY,KAAK,MAAM;AAC5B,aAAO,iBAAiB,WAAW,KAAK,OAAO;AAAA,IACjD,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,CAAC,UAAU;AAC5C,UAAI,CAAC,KAAK;AACR;AACF,UAAI,KAAK,WAAW,KAAK,MAAM,MAAM;AACnC,gBAAQ,MAAM,QAAQ;AAAA,UACpB,KAAK,KAAK,aAAa;AACrB,iBAAK,SAAS,KAAK,MAAM;AACzB;AAAA,UACF,KAAK,KAAK,aAAa;AACrB,iBAAK,SAAS,KAAK,MAAM;AACzB;AAAA,UACF,KAAK,KAAK,aAAa;AACrB,iBAAK,SAAS,KAAK,MAAM;AACzB;AAAA,UACF;AACE,iBAAK,SAAS,KAAK,MAAM;AAAA,QAC7B;AAAA,MACF;AACA,YAAM,QAAQ,KAAK,cAAc,KAAK,MAAM,OAAO,KAAK,YAAY,KAAK;AACzE,UAAI,UAAU,KAAK,MAAM,UAAU,CAAC,KAAK,UAAU;AACjD,aAAK,UAAU,KAAK,KAAK,iBAAiB,MAAM,OAAO,MAAM,KAAK,CAAC;AACnE,aAAK,UAAU,KAAK,KAAK,SAAS;AAAA,MACpC,WAAW,UAAU,KAAK,MAAM,QAAQ,CAAC,KAAK,QAAQ;AACpD,aAAK,WAAW,KAAK,KAAK,iBAAiB,MAAM,OAAO,MAAM,KAAK,CAAC;AACpE,aAAK,SAAS,KAAK,KAAK,UAAU;AAAA,MACpC,WAAW,UAAU,KAAK,MAAM,OAAO,CAAC,KAAK,OAAO;AAClD,aAAK,UAAU,KAAK,KAAK,iBAAiB,MAAM,OAAO,MAAM,KAAK,CAAC;AACnE,aAAK,QAAQ,KAAK,KAAK,SAAS;AAAA,MAClC;AACA,WAAK,WAAW,cAAc,iBAAiB,eAAe,KAAK,aAAa;AAChF,WAAK,WAAW,cAAc,iBAAiB,aAAa,KAAK,WAAW;AAC5E,WAAK,cAAc,KAAK,UAAU;AAAA,IACpC,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,CAAC,UAAU;AAC5C,UAAI,KAAK,YAAY;AACnB;AACF,YAAM,QAAQ,KAAK,cAAc,KAAK,MAAM,OAAO,KAAK,YAAY,KAAK;AACzE,UAAI,UAAU,KAAK,MAAM,UAAU,CAAC,KAAK,UAAU;AACjD,aAAK,UAAU,KAAK,KAAK,SAAS;AAClC,aAAK,UAAU,KAAK,KAAK,iBAAiB,MAAM,OAAO,MAAM,KAAK,CAAC;AAAA,MACrE,WAAW,UAAU,KAAK,MAAM,QAAQ,CAAC,KAAK,QAAQ;AACpD,aAAK,SAAS,KAAK,KAAK,iBAAiB,MAAM,OAAO,MAAM,KAAK,CAAC;AAAA,MACpE,WAAW,UAAU,KAAK,MAAM,OAAO,CAAC,KAAK,OAAO;AAClD,aAAK,QAAQ,KAAK,KAAK,iBAAiB,MAAM,OAAO,MAAM,KAAK,CAAC;AAAA,MACnE;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,aAAa,MAAM;AACrC,UAAI,CAAC,KAAK;AACR;AACF,UAAI,KAAK,YAAY;AACnB;AACF,WAAK,SAAS,KAAK,MAAM;AACzB,WAAK,WAAW,cAAc,oBAAoB,eAAe,KAAK,aAAa;AACnF,WAAK,WAAW,cAAc,oBAAoB,aAAa,KAAK,WAAW;AAC/E,WAAK,cAAc,KAAK,QAAQ;AAAA,IAClC,CAAC;AACD,IAAAA,gBAAc,MAAM,cAAc,CAAC,UAAU;AAC3C,UAAI,KAAK,YAAY;AACnB;AACF,UAAI,KAAK,WAAW;AAClB;AACF,YAAM,eAAe;AACrB,cAAQ,MAAM,WAAW;AAAA,QACvB,KAAK;AACH,eAAK,WAAW,KAAK,MAAM,SAAS;AACpC;AAAA,QACF,KAAK;AACH,eAAK,WAAW,KAAK,MAAM,SAAS;AACpC;AAAA,QACF;AACE,eAAK,WAAW,KAAK,MAAM,SAAS;AACpC;AAAA,MACJ;AACA,WAAK,cAAc,IAAI,MAAM,UAAU,KAAK,OAAO,QAAQ,IAAI;AAC/D,WAAK,cAAc,IAAI,EAAE,MAAM,UAAU,KAAK,OAAO,UAAU,IAAI;AACnE,WAAK,cAAc,KAAK,UAAU;AAClC,WAAK,cAAc,KAAK,QAAQ;AAAA,IAClC,CAAC;AACD,IAAAA,gBAAc,MAAM,cAAc,CAAC,UAAU;AAC3C,UAAI,KAAK,YAAY;AACnB;AACF,YAAM,eAAe;AACrB,cAAQ,MAAM,QAAQ,QAAQ;AAAA,QAC5B,KAAK;AACH,eAAK,SAAS,KAAK,MAAM;AACzB,eAAK,UAAU,KAAK,KAAK,iBAAiB,MAAM,QAAQ,CAAC,EAAE,OAAO,MAAM,QAAQ,CAAC,EAAE,KAAK,CAAC;AACzF,eAAK,UAAU,KAAK,KAAK,SAAS;AAClC;AAAA,QACF;AACE,eAAK,SAAS,KAAK,MAAM;AACzB,gBAAM,KAAK,MAAM,QAAQ,CAAC,EAAE,QAAQ,MAAM,QAAQ,CAAC,EAAE;AACrD,gBAAM,KAAK,MAAM,QAAQ,CAAC,EAAE,QAAQ,MAAM,QAAQ,CAAC,EAAE;AACrD,eAAK,wBAAwB,KAAK,0BAA0B,KAAK,KAAK,KAAK,KAAK,KAAK,EAAE;AACvF,gBAAM,KAAK,MAAM,QAAQ,CAAC,EAAE,QAAQ,MAAM,QAAQ,CAAC,EAAE,SAAS;AAC9D,gBAAM,KAAK,MAAM,QAAQ,CAAC,EAAE,QAAQ,MAAM,QAAQ,CAAC,EAAE,SAAS;AAC9D,eAAK,UAAU,KAAK,KAAK,iBAAiB,GAAG,CAAC,CAAC;AAC/C,eAAK,QAAQ,KAAK,KAAK,SAAS;AAChC;AAAA,MACJ;AACA,WAAK,cAAc,KAAK,UAAU;AAAA,IACpC,CAAC;AACD,IAAAA,gBAAc,MAAM,aAAa,CAAC,UAAU;AAC1C,UAAI,KAAK,YAAY;AACnB;AACF,YAAM,eAAe;AACrB,cAAQ,MAAM,QAAQ,QAAQ;AAAA,QAC5B,KAAK;AACH,eAAK,UAAU,KAAK,KAAK,SAAS;AAClC,eAAK,UAAU,KAAK,KAAK,iBAAiB,MAAM,QAAQ,CAAC,EAAE,OAAO,MAAM,QAAQ,CAAC,EAAE,KAAK,CAAC;AACzF;AAAA,QACF;AACE,gBAAM,KAAK,MAAM,QAAQ,CAAC,EAAE,QAAQ,MAAM,QAAQ,CAAC,EAAE;AACrD,gBAAM,KAAK,MAAM,QAAQ,CAAC,EAAE,QAAQ,MAAM,QAAQ,CAAC,EAAE;AACrD,eAAK,wBAAwB,KAAK,KAAK,KAAK,KAAK,KAAK,EAAE;AACxD,gBAAM,KAAK,MAAM,QAAQ,CAAC,EAAE,QAAQ,MAAM,QAAQ,CAAC,EAAE,SAAS;AAC9D,gBAAM,KAAK,MAAM,QAAQ,CAAC,EAAE,QAAQ,MAAM,QAAQ,CAAC,EAAE,SAAS;AAC9D,eAAK,QAAQ,KAAK,KAAK,iBAAiB,GAAG,CAAC,CAAC;AAC7C;AAAA,MACJ;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,YAAY,CAAC,UAAU;AACzC,UAAI,KAAK,YAAY;AACnB;AACF,cAAQ,MAAM,QAAQ,QAAQ;AAAA,QAC5B,KAAK;AACH,eAAK,SAAS,KAAK,MAAM;AACzB;AAAA,QACF,KAAK;AACH,eAAK,SAAS,KAAK,MAAM;AACzB,eAAK,UAAU,KAAK,KAAK,iBAAiB,MAAM,QAAQ,CAAC,EAAE,OAAO,MAAM,QAAQ,CAAC,EAAE,KAAK,CAAC;AACzF,eAAK,UAAU,KAAK,KAAK,SAAS;AAClC;AAAA,MACJ;AACA,WAAK,cAAc,KAAK,QAAQ;AAAA,IAClC,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,CAAC,UAAU;AAC5C,UAAI,KAAK,YAAY;AACnB;AACF,YAAM,eAAe;AAAA,IACvB,CAAC;AAED,IAAAA,gBAAc,MAAM,WAAW,CAACC,gBAAe;AAC7C,UAAIA,gBAAe,UAAU;AAC3B,gBAAQ;AAAA,UACN;AAAA,QACF;AAAA,MACF;AACA,WAAK,aAAaA;AAClB,WAAK,WAAW,iBAAiB,eAAe,KAAK,WAAW;AAChE,WAAK,WAAW,iBAAiB,eAAe,KAAK,aAAa;AAClE,WAAK,WAAW,iBAAiB,SAAS,KAAK,UAAU;AACzD,WAAK,WAAW,iBAAiB,cAAc,KAAK,UAAU;AAC9D,WAAK,WAAW,iBAAiB,YAAY,KAAK,QAAQ;AAC1D,WAAK,WAAW,iBAAiB,aAAa,KAAK,SAAS;AAC5D,WAAK,WAAW,cAAc,iBAAiB,eAAe,KAAK,aAAa;AAChF,WAAK,WAAW,cAAc,iBAAiB,aAAa,KAAK,WAAW;AAC5E,aAAO,iBAAiB,WAAW,KAAK,OAAO;AAC/C,aAAO,iBAAiB,SAAS,KAAK,KAAK;AAC3C,WAAK,aAAa;AAAA,IACpB,CAAC;AACD,IAAAD,gBAAc,MAAM,WAAW,MAAM;AACnC,UAAI,CAAC,KAAK;AACR;AACF,WAAK,WAAW,oBAAoB,eAAe,KAAK,WAAW;AACnE,WAAK,WAAW,oBAAoB,eAAe,KAAK,aAAa;AACrE,WAAK,WAAW,oBAAoB,SAAS,KAAK,UAAU;AAC5D,WAAK,WAAW,oBAAoB,cAAc,KAAK,UAAU;AACjE,WAAK,WAAW,oBAAoB,YAAY,KAAK,QAAQ;AAC7D,WAAK,WAAW,oBAAoB,aAAa,KAAK,SAAS;AAC/D,WAAK,WAAW,cAAc,oBAAoB,eAAe,KAAK,aAAa;AACnF,WAAK,WAAW,cAAc,oBAAoB,aAAa,KAAK,WAAW;AAC/E,aAAO,oBAAoB,WAAW,KAAK,OAAO;AAClD,aAAO,oBAAoB,SAAS,KAAK,KAAK;AAAA,IAChD,CAAC;AACD,SAAK,SAAS;AACd,SAAK,UAAU,KAAK,OAAO,MAAM;AACjC,SAAK,YAAY,KAAK,OAAO,SAAS,MAAM;AAC5C,SAAK,MAAM,KAAK,OAAO,GAAG,MAAM;AAChC,SAAK,QAAQ,KAAK,OAAO;AACzB,QAAI,eAAe;AACjB,WAAK,QAAQ,UAAU;AACzB,SAAK,OAAO;AAAA,EACd;AACF;;;AClfA,IAAIE,cAAY,OAAO;AACvB,IAAIC,oBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAMD,YAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,MAAM,CAAC,IAAI,IAAI,GAAG,IAAI;AAC1J,IAAIE,kBAAgB,CAAC,KAAK,KAAK,UAAU;AACvC,EAAAD,kBAAgB,KAAK,OAAO,QAAQ,WAAW,MAAM,KAAK,KAAK,KAAK;AACpE,SAAO;AACT;AAEA,IAAM,mBAAmB,CAAC,QAAQ,cAAc,SAAS,WAAW,YAAY;AAChF,IAAM,gBAAN,cAA4B,gBAAgB;AAAA,EAC1C,YAAY,QAAQ,YAAY;AAC9B,UAAM;AACN,IAAAC,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,YAAY;AAEhC,IAAAA,gBAAc,MAAM,WAAW,IAAI;AAEnC,IAAAA,gBAAc,MAAM,UAAU,IAAI,QAAQ,CAAC;AAE3C,IAAAA,gBAAc,MAAM,eAAe,CAAC;AACpC,IAAAA,gBAAc,MAAM,eAAe,QAAQ;AAE3C,IAAAA,gBAAc,MAAM,WAAW,CAAC;AAChC,IAAAA,gBAAc,MAAM,WAAW,QAAQ;AAGvC,IAAAA,gBAAc,MAAM,iBAAiB,CAAC;AAEtC,IAAAA,gBAAc,MAAM,iBAAiB,KAAK,EAAE;AAI5C,IAAAA,gBAAc,MAAM,mBAAmB,SAAS;AAEhD,IAAAA,gBAAc,MAAM,mBAAmB,QAAQ;AAI/C,IAAAA,gBAAc,MAAM,iBAAiB,KAAK;AAC1C,IAAAA,gBAAc,MAAM,iBAAiB,IAAI;AAGzC,IAAAA,gBAAc,MAAM,cAAc,IAAI;AACtC,IAAAA,gBAAc,MAAM,aAAa,CAAC;AAElC,IAAAA,gBAAc,MAAM,gBAAgB,IAAI;AACxC,IAAAA,gBAAc,MAAM,eAAe,CAAC;AAEpC,IAAAA,gBAAc,MAAM,aAAa,IAAI;AACrC,IAAAA,gBAAc,MAAM,YAAY,CAAC;AACjC,IAAAA,gBAAc,MAAM,sBAAsB,IAAI;AAE9C,IAAAA,gBAAc,MAAM,eAAe,CAAC;AAIpC,IAAAA,gBAAc,MAAM,cAAc,KAAK;AACvC,IAAAA,gBAAc,MAAM,mBAAmB,CAAC;AAExC,IAAAA,gBAAc,MAAM,gBAAgB,KAAK;AAEzC,IAAAA,gBAAc,MAAM,0BAA0B,KAAK;AAEnD,IAAAA,gBAAc,MAAM,wBAAwB,KAAK;AAGjD,IAAAA,gBAAc,MAAM,QAAQ,EAAE,MAAM,aAAa,IAAI,WAAW,OAAO,cAAc,QAAQ,YAAY,CAAC;AAE1G,IAAAA,gBAAc,MAAM,gBAAgB;AAAA,MAClC,MAAM,MAAM;AAAA,MACZ,QAAQ,MAAM;AAAA,MACd,OAAO,MAAM;AAAA,IACf,CAAC;AAED,IAAAA,gBAAc,MAAM,WAAW,EAAE,KAAK,MAAM,QAAQ,KAAK,MAAM,UAAU,CAAC;AAC1E,IAAAA,gBAAc,MAAM,SAAS;AAC7B,IAAAA,gBAAc,MAAM,WAAW;AAC/B,IAAAA,gBAAc,MAAM,OAAO;AAE3B,IAAAA,gBAAc,MAAM,wBAAwB,IAAI;AAChD,IAAAA,gBAAc,MAAM,eAAe;AACnC,IAAAA,gBAAc,MAAM,mBAAmB;AACvC,IAAAA,gBAAc,MAAM,eAAe;AACnC,IAAAA,gBAAc,MAAM,mBAAmB;AACvC,IAAAA,gBAAc,MAAM,aAAa;AACjC,IAAAA,gBAAc,MAAM,mBAAmB;AACvC,IAAAA,gBAAc,MAAM,uBAAuB;AAC3C,IAAAA,gBAAc,MAAM,WAAW;AAC/B,IAAAA,gBAAc,MAAM,OAAO;AAC3B,IAAAA,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,SAAS;AAC7B,IAAAA,gBAAc,MAAM,SAAS;AAC7B,SAAK,SAAS;AACd,SAAK,aAAa;AAClB,SAAK,UAAU,KAAK,OAAO,MAAM;AACjC,SAAK,YAAY,KAAK,OAAO,SAAS,MAAM;AAC5C,SAAK,QAAQ,KAAK,OAAO;AACzB,SAAK,gBAAgB,MAAMC,WAAU;AACrC,SAAK,oBAAoB,MAAMA,WAAU;AACzC,SAAK,gBAAgB,CAAC,UAAU;AAC9B,UAAI,MAAM,iBAAiB,OAAO,IAAI,KAAK,EAAE;AAC7C,UAAI,aAAaA,WAAU;AAC3B,UAAI,aAAa;AACf,sBAAc,IAAI,KAAK;AACzB,UAAI,MAAM;AACR,eAAO,IAAI,KAAK;AAClB,UAAI,UAAU,KAAK,IAAI,MAAM,UAAU;AACvC,UAAI,IAAI,KAAK,KAAK,UAAU,SAAS;AACnC,YAAI,MAAM,YAAY;AACpB,iBAAO,IAAI,KAAK;AAAA,QAClB,OAAO;AACL,wBAAc,IAAI,KAAK;AAAA,QACzB;AAAA,MACF;AACA,qBAAe,MAAM,MAAM;AAC3B,YAAM,OAAO;AAAA,IACf;AACA,SAAK,oBAAoB,CAAC,UAAU;AAClC,UAAI,QAAQ,iBAAiB,OAAO,IAAI,KAAK,EAAE;AAC/C,UAAI,eAAeA,WAAU;AAC7B,UAAI,eAAe;AACjB,wBAAgB,IAAI,KAAK;AAC3B,UAAI,QAAQ;AACV,iBAAS,IAAI,KAAK;AACpB,UAAI,YAAY,KAAK,IAAI,QAAQ,YAAY;AAC7C,UAAI,IAAI,KAAK,KAAK,YAAY,WAAW;AACvC,YAAI,QAAQ,cAAc;AACxB,mBAAS,IAAI,KAAK;AAAA,QACpB,OAAO;AACL,0BAAgB,IAAI,KAAK;AAAA,QAC3B;AAAA,MACF;AACA,qBAAe,QAAQ,QAAQ;AAC/B,YAAM,OAAO;AAAA,IACf;AACA,SAAK,cAAc,MAAM,MAAM,OAAO,SAAS,WAAW,MAAM,MAAM;AACtE,SAAK,oBAAoB,CAAC,gBAAgB;AACxC,kBAAY,iBAAiB,WAAW,SAAS;AACjD,WAAK,uBAAuB;AAAA,IAC9B;AACA,SAAK,wBAAwB,MAAM;AACjC,WAAK,qBAAqB,oBAAoB,WAAW,SAAS;AAClE,WAAK,uBAAuB;AAAA,IAC9B;AACA,SAAK,YAAY,MAAM;AACrB,YAAM,QAAQ,KAAK,MAAM,MAAM;AAC/B,YAAM,UAAU,KAAK,MAAM,OAAO,QAAQ;AAC1C,YAAM,QAAQ,MAAM,OAAO;AAAA,IAC7B;AACA,SAAK,QAAQ,MAAM;AACjB,YAAM,OAAO,KAAK,MAAM,OAAO;AAC/B,YAAM,OAAO,SAAS,KAAK,MAAM,SAAS;AAC1C,YAAM,OAAO,OAAO,MAAM;AAC1B,YAAM,OAAO,uBAAuB;AACpC,YAAM,cAAc,WAAW;AAC/B,YAAM,OAAO;AACb,cAAQC,OAAM;AAAA,IAChB;AACA,SAAK,UAAU,MAAM;AACnB,YAAM,SAAS,IAAI,QAAQ;AAC3B,YAAM,KAAK,IAAI,QAAQ,GAAG,GAAG,CAAC;AAC9B,YAAM,OAAO,IAAI,WAAW,EAAE,mBAAmB,OAAO,IAAI,EAAE;AAC9D,YAAM,cAAc,KAAK,MAAM,EAAE,OAAO;AACxC,YAAM,eAAe,IAAI,QAAQ;AACjC,YAAM,iBAAiB,IAAI,WAAW;AACtC,YAAM,QAAQ,IAAI,KAAK;AACvB,aAAO,SAAS,SAAS;AACvB,cAAM,WAAW,MAAM,OAAO;AAC9B,aAAK,mBAAmB,OAAO,IAAI,EAAE;AACrC,oBAAY,KAAK,IAAI,EAAE,OAAO;AAC9B,eAAO,KAAK,QAAQ,EAAE,IAAI,MAAM,MAAM;AACtC,eAAO,gBAAgB,IAAI;AAC3B,QAAAD,WAAU,eAAe,MAAM;AAC/B,YAAI,MAAM,cAAc,UAAUC,OAAM,MAAM;AAC5C,qBAAW,qBAAqB,CAAC;AAAA,QACnC;AACA,YAAI,MAAM,eAAe;AACvB,UAAAD,WAAU,SAAS,eAAe,QAAQ,MAAM;AAChD,UAAAA,WAAU,OAAO,eAAe,MAAM,MAAM;AAAA,QAC9C,OAAO;AACL,UAAAA,WAAU,SAAS,eAAe;AAClC,UAAAA,WAAU,OAAO,eAAe;AAAA,QAClC;AACA,YAAI,MAAM,MAAM;AAChB,YAAI,MAAM,MAAM;AAChB,YAAI,SAAS,GAAG,KAAK,SAAS,GAAG,GAAG;AAClC,cAAI,MAAM,CAAC,KAAK;AACd,mBAAO;AAAA,mBACA,MAAM,KAAK;AAClB,mBAAO;AACT,cAAI,MAAM,CAAC,KAAK;AACd,mBAAO;AAAA,mBACA,MAAM,KAAK;AAClB,mBAAO;AACT,cAAI,OAAO,KAAK;AACd,YAAAA,WAAU,QAAQ,KAAK,IAAI,KAAK,KAAK,IAAI,KAAKA,WAAU,KAAK,CAAC;AAAA,UAChE,OAAO;AACL,YAAAA,WAAU,QAAQA,WAAU,SAAS,MAAM,OAAO,IAAI,KAAK,IAAI,KAAKA,WAAU,KAAK,IAAI,KAAK,IAAI,KAAKA,WAAU,KAAK;AAAA,UACtH;AAAA,QACF;AACA,QAAAA,WAAU,MAAM,KAAK,IAAI,MAAM,eAAe,KAAK,IAAI,MAAM,eAAeA,WAAU,GAAG,CAAC;AAC1F,QAAAA,WAAU,SAAS;AACnB,QAAAA,WAAU,UAAUE;AACpB,QAAAF,WAAU,SAAS,KAAK,IAAI,MAAM,aAAa,KAAK,IAAI,MAAM,aAAaA,WAAU,MAAM,CAAC;AAC5F,YAAI,MAAM,kBAAkB,MAAM;AAChC,gBAAM,OAAO,gBAAgB,WAAW,MAAM,aAAa;AAAA,QAC7D,OAAO;AACL,gBAAM,OAAO,IAAI,SAAS;AAAA,QAC5B;AACA,eAAO,iBAAiBA,UAAS;AACjC,eAAO,gBAAgB,WAAW;AAClC,iBAAS,KAAK,MAAM,MAAM,EAAE,IAAI,MAAM;AACtC,cAAM,OAAO,OAAO,MAAM,MAAM;AAChC,YAAI,MAAM,kBAAkB,MAAM;AAChC,yBAAe,SAAS,IAAI,MAAM;AAClC,yBAAe,OAAO,IAAI,MAAM;AAChC,oBAAU,eAAe,IAAI,MAAM,aAAa;AAAA,QAClD,OAAO;AACL,yBAAe,IAAI,GAAG,GAAG,CAAC;AAC1B,oBAAU,IAAI,GAAG,GAAG,CAAC;AAAA,QACvB;AACA,QAAAE,SAAQ;AACR,YAAI,eAAe,aAAa,kBAAkB,MAAM,OAAO,QAAQ,IAAIC,QAAO,KAAK,IAAI,eAAe,IAAI,MAAM,OAAO,UAAU,KAAKA,MAAK;AAC7I,gBAAM,cAAc,WAAW;AAC/B,uBAAa,KAAK,MAAM,OAAO,QAAQ;AACvC,yBAAe,KAAK,MAAM,OAAO,UAAU;AAC3C,wBAAc;AACd,iBAAO;AAAA,QACT;AACA,eAAO;AAAA,MACT;AAAA,IACF,GAAG;AACH,SAAK,UAAU,CAAC,gBAAgB;AAC9B,UAAI,gBAAgB,UAAU;AAC5B,gBAAQ;AAAA,UACN;AAAA,QACF;AAAA,MACF;AACA,YAAM,aAAa;AACnB,YAAM,WAAW,MAAM,cAAc;AACrC,YAAM,WAAW,iBAAiB,eAAe,aAAa;AAC9D,YAAM,WAAW,iBAAiB,eAAe,aAAa;AAC9D,YAAM,WAAW,iBAAiB,iBAAiB,eAAe;AAClE,YAAM,WAAW,iBAAiB,SAAS,YAAY;AAAA,IACzD;AACA,SAAK,UAAU,MAAM;AACnB,UAAIC,KAAIC,KAAI,IAAI,IAAI,IAAI;AACxB,OAACD,MAAK,MAAM,eAAe,OAAO,SAASA,IAAG,oBAAoB,eAAe,aAAa;AAC9F,OAACC,MAAK,MAAM,eAAe,OAAO,SAASA,IAAG,oBAAoB,eAAe,aAAa;AAC9F,OAAC,KAAK,MAAM,eAAe,OAAO,SAAS,GAAG,oBAAoB,iBAAiB,eAAe;AAClG,OAAC,KAAK,MAAM,eAAe,OAAO,SAAS,GAAG,oBAAoB,SAAS,YAAY;AACvF,OAAC,KAAK,MAAM,eAAe,OAAO,SAAS,GAAG,cAAc,oBAAoB,eAAe,aAAa;AAC5G,OAAC,KAAK,MAAM,eAAe,OAAO,SAAS,GAAG,cAAc,oBAAoB,aAAa,WAAW;AACxG,UAAI,MAAM,yBAAyB,MAAM;AACvC,cAAM,qBAAqB,oBAAoB,WAAW,SAAS;AAAA,MACrE;AAAA,IACF;AACA,UAAM,QAAQ;AACd,UAAM,cAAc,EAAE,MAAM,SAAS;AACrC,UAAM,aAAa,EAAE,MAAM,QAAQ;AACnC,UAAM,WAAW,EAAE,MAAM,MAAM;AAC/B,UAAMJ,SAAQ;AAAA,MACZ,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,KAAK;AAAA,MACL,cAAc;AAAA,MACd,WAAW;AAAA,MACX,iBAAiB;AAAA,MACjB,oBAAoB;AAAA,IACtB;AACA,QAAI,QAAQA,OAAM;AAClB,UAAME,OAAM;AACZ,UAAMH,aAAY,IAAI,UAAU;AAChC,UAAM,iBAAiB,IAAI,UAAU;AACrC,QAAIE,SAAQ;AACZ,UAAM,YAAY,IAAI,QAAQ;AAC9B,QAAI,cAAc;AAClB,UAAM,cAAc,IAAI,QAAQ;AAChC,UAAM,YAAY,IAAI,QAAQ;AAC9B,UAAM,cAAc,IAAI,QAAQ;AAChC,UAAM,WAAW,IAAI,QAAQ;AAC7B,UAAM,SAAS,IAAI,QAAQ;AAC3B,UAAM,WAAW,IAAI,QAAQ;AAC7B,UAAM,aAAa,IAAI,QAAQ;AAC/B,UAAM,WAAW,IAAI,QAAQ;AAC7B,UAAM,aAAa,IAAI,QAAQ;AAC/B,UAAM,WAAW,CAAC;AAClB,UAAM,mBAAmB,CAAC;AAC1B,aAAS,uBAAuB;AAC9B,aAAO,IAAI,KAAK,KAAK,KAAK,KAAK,MAAM;AAAA,IACvC;AACA,aAAS,eAAe;AACtB,aAAO,KAAK,IAAI,MAAM,MAAM,SAAS;AAAA,IACvC;AACA,aAAS,WAAW,OAAO;AACzB,UAAI,MAAM,gBAAgB,MAAM,wBAAwB;AACtD,uBAAe,SAAS;AAAA,MAC1B,OAAO;AACL,uBAAe,SAAS;AAAA,MAC1B;AAAA,IACF;AACA,aAAS,SAAS,OAAO;AACvB,UAAI,MAAM,gBAAgB,MAAM,sBAAsB;AACpD,uBAAe,OAAO;AAAA,MACxB,OAAO;AACL,uBAAe,OAAO;AAAA,MACxB;AAAA,IACF;AACA,UAAM,WAAW,MAAM;AACrB,YAAM,IAAI,IAAI,QAAQ;AACtB,aAAO,SAAS,SAASI,WAAU,cAAc;AAC/C,UAAE,oBAAoB,cAAc,CAAC;AACrC,UAAE,eAAe,CAACA,SAAQ;AAC1B,kBAAU,IAAI,CAAC;AAAA,MACjB;AAAA,IACF,GAAG;AACH,UAAM,SAAS,MAAM;AACnB,YAAM,IAAI,IAAI,QAAQ;AACtB,aAAO,SAAS,OAAOA,WAAU,cAAc;AAC7C,YAAI,MAAM,uBAAuB,MAAM;AACrC,YAAE,oBAAoB,cAAc,CAAC;AAAA,QACvC,OAAO;AACL,YAAE,oBAAoB,cAAc,CAAC;AACrC,YAAE,aAAa,MAAM,OAAO,IAAI,CAAC;AAAA,QACnC;AACA,UAAE,eAAeA,SAAQ;AACzB,kBAAU,IAAI,CAAC;AAAA,MACjB;AAAA,IACF,GAAG;AACH,UAAM,OAAO,MAAM;AACjB,YAAM,SAAS,IAAI,QAAQ;AAC3B,aAAO,SAAS,KAAK,QAAQ,QAAQ;AACnC,cAAM,UAAU,MAAM;AACtB,YAAI,WAAW,MAAM,kBAAkB,qBAAqB,MAAM,OAAO,qBAAqB;AAC5F,gBAAM,WAAW,MAAM,OAAO;AAC9B,iBAAO,KAAK,QAAQ,EAAE,IAAI,MAAM,MAAM;AACtC,cAAI,iBAAiB,OAAO,OAAO;AACnC,4BAAkB,KAAK,IAAI,MAAM,OAAO,MAAM,IAAI,KAAK,KAAK,GAAG;AAC/D,kBAAQ,IAAI,SAAS,iBAAiB,QAAQ,cAAc,MAAM,OAAO,MAAM;AAC/E,gBAAM,IAAI,SAAS,iBAAiB,QAAQ,cAAc,MAAM,OAAO,MAAM;AAAA,QAC/E,WAAW,WAAW,MAAM,kBAAkB,sBAAsB,MAAM,OAAO,sBAAsB;AACrG;AAAA,YACE,UAAU,MAAM,OAAO,QAAQ,MAAM,OAAO,QAAQ,MAAM,OAAO,OAAO,QAAQ;AAAA,YAChF,MAAM,OAAO;AAAA,UACf;AACA;AAAA,YACE,UAAU,MAAM,OAAO,MAAM,MAAM,OAAO,UAAU,MAAM,OAAO,OAAO,QAAQ;AAAA,YAChF,MAAM,OAAO;AAAA,UACf;AAAA,QACF,OAAO;AACL,kBAAQ,KAAK,8EAA8E;AAC3F,gBAAM,YAAY;AAAA,QACpB;AAAA,MACF;AAAA,IACF,GAAG;AACH,aAAS,SAAS,YAAY;AAC5B,UAAI,MAAM,kBAAkB,qBAAqB,MAAM,OAAO,qBAAqB;AACjF,QAAAJ,UAAS;AAAA,MACX,WAAW,MAAM,kBAAkB,sBAAsB,MAAM,OAAO,sBAAsB;AAC1F,cAAM,OAAO,OAAO,KAAK,IAAI,MAAM,SAAS,KAAK,IAAI,MAAM,SAAS,MAAM,OAAO,OAAO,UAAU,CAAC;AACnG,cAAM,OAAO,uBAAuB;AACpC,sBAAc;AAAA,MAChB,OAAO;AACL,gBAAQ,KAAK,qFAAqF;AAClG,cAAM,aAAa;AAAA,MACrB;AAAA,IACF;AACA,aAAS,QAAQ,YAAY;AAC3B,UAAI,MAAM,kBAAkB,qBAAqB,MAAM,OAAO,qBAAqB;AACjF,QAAAA,UAAS;AAAA,MACX,WAAW,MAAM,kBAAkB,sBAAsB,MAAM,OAAO,sBAAsB;AAC1F,cAAM,OAAO,OAAO,KAAK,IAAI,MAAM,SAAS,KAAK,IAAI,MAAM,SAAS,MAAM,OAAO,OAAO,UAAU,CAAC;AACnG,cAAM,OAAO,uBAAuB;AACpC,sBAAc;AAAA,MAChB,OAAO;AACL,gBAAQ,KAAK,qFAAqF;AAClG,cAAM,aAAa;AAAA,MACrB;AAAA,IACF;AACA,aAAS,sBAAsB,OAAO;AACpC,kBAAY,IAAI,MAAM,SAAS,MAAM,OAAO;AAAA,IAC9C;AACA,aAAS,qBAAqB,OAAO;AACnC,iBAAW,IAAI,MAAM,SAAS,MAAM,OAAO;AAAA,IAC7C;AACA,aAAS,mBAAmB,OAAO;AACjC,eAAS,IAAI,MAAM,SAAS,MAAM,OAAO;AAAA,IAC3C;AACA,aAAS,sBAAsB,OAAO;AACpC,gBAAU,IAAI,MAAM,SAAS,MAAM,OAAO;AAC1C,kBAAY,WAAW,WAAW,WAAW,EAAE,eAAe,MAAM,WAAW;AAC/E,YAAM,UAAU,MAAM;AACtB,UAAI,SAAS;AACX,mBAAW,IAAI,KAAK,KAAK,YAAY,IAAI,QAAQ,YAAY;AAC7D,iBAAS,IAAI,KAAK,KAAK,YAAY,IAAI,QAAQ,YAAY;AAAA,MAC7D;AACA,kBAAY,KAAK,SAAS;AAC1B,YAAM,OAAO;AAAA,IACf;AACA,aAAS,qBAAqB,OAAO;AACnC,eAAS,IAAI,MAAM,SAAS,MAAM,OAAO;AACzC,iBAAW,WAAW,UAAU,UAAU;AAC1C,UAAI,WAAW,IAAI,GAAG;AACpB,iBAAS,aAAa,CAAC;AAAA,MACzB,WAAW,WAAW,IAAI,GAAG;AAC3B,gBAAQ,aAAa,CAAC;AAAA,MACxB;AACA,iBAAW,KAAK,QAAQ;AACxB,YAAM,OAAO;AAAA,IACf;AACA,aAAS,mBAAmB,OAAO;AACjC,aAAO,IAAI,MAAM,SAAS,MAAM,OAAO;AACvC,eAAS,WAAW,QAAQ,QAAQ,EAAE,eAAe,MAAM,QAAQ;AACnE,UAAI,SAAS,GAAG,SAAS,CAAC;AAC1B,eAAS,KAAK,MAAM;AACpB,YAAM,OAAO;AAAA,IACf;AACA,aAAS,iBAAiB,OAAO;AAC/B,UAAI,MAAM,SAAS,GAAG;AACpB,gBAAQ,aAAa,CAAC;AAAA,MACxB,WAAW,MAAM,SAAS,GAAG;AAC3B,iBAAS,aAAa,CAAC;AAAA,MACzB;AACA,YAAM,OAAO;AAAA,IACf;AACA,aAAS,cAAc,OAAO;AAC5B,UAAI,cAAc;AAClB,cAAQ,MAAM,MAAM;AAAA,QAClB,KAAK,MAAM,KAAK;AACd,cAAI,GAAG,MAAM,WAAW;AACxB,wBAAc;AACd;AAAA,QACF,KAAK,MAAM,KAAK;AACd,cAAI,GAAG,CAAC,MAAM,WAAW;AACzB,wBAAc;AACd;AAAA,QACF,KAAK,MAAM,KAAK;AACd,cAAI,MAAM,aAAa,CAAC;AACxB,wBAAc;AACd;AAAA,QACF,KAAK,MAAM,KAAK;AACd,cAAI,CAAC,MAAM,aAAa,CAAC;AACzB,wBAAc;AACd;AAAA,MACJ;AACA,UAAI,aAAa;AACf,cAAM,eAAe;AACrB,cAAM,OAAO;AAAA,MACf;AAAA,IACF;AACA,aAAS,yBAAyB;AAChC,UAAI,SAAS,UAAU,GAAG;AACxB,oBAAY,IAAI,SAAS,CAAC,EAAE,OAAO,SAAS,CAAC,EAAE,KAAK;AAAA,MACtD,OAAO;AACL,cAAM,IAAI,OAAO,SAAS,CAAC,EAAE,QAAQ,SAAS,CAAC,EAAE;AACjD,cAAM,IAAI,OAAO,SAAS,CAAC,EAAE,QAAQ,SAAS,CAAC,EAAE;AACjD,oBAAY,IAAI,GAAG,CAAC;AAAA,MACtB;AAAA,IACF;AACA,aAAS,sBAAsB;AAC7B,UAAI,SAAS,UAAU,GAAG;AACxB,iBAAS,IAAI,SAAS,CAAC,EAAE,OAAO,SAAS,CAAC,EAAE,KAAK;AAAA,MACnD,OAAO;AACL,cAAM,IAAI,OAAO,SAAS,CAAC,EAAE,QAAQ,SAAS,CAAC,EAAE;AACjD,cAAM,IAAI,OAAO,SAAS,CAAC,EAAE,QAAQ,SAAS,CAAC,EAAE;AACjD,iBAAS,IAAI,GAAG,CAAC;AAAA,MACnB;AAAA,IACF;AACA,aAAS,wBAAwB;AAC/B,YAAM,KAAK,SAAS,CAAC,EAAE,QAAQ,SAAS,CAAC,EAAE;AAC3C,YAAM,KAAK,SAAS,CAAC,EAAE,QAAQ,SAAS,CAAC,EAAE;AAC3C,YAAMI,YAAW,KAAK,KAAK,KAAK,KAAK,KAAK,EAAE;AAC5C,iBAAW,IAAI,GAAGA,SAAQ;AAAA,IAC5B;AACA,aAAS,2BAA2B;AAClC,UAAI,MAAM;AACR,8BAAsB;AACxB,UAAI,MAAM;AACR,4BAAoB;AAAA,IACxB;AACA,aAAS,8BAA8B;AACrC,UAAI,MAAM;AACR,8BAAsB;AACxB,UAAI,MAAM;AACR,+BAAuB;AAAA,IAC3B;AACA,aAAS,sBAAsB,OAAO;AACpC,UAAI,SAAS,UAAU,GAAG;AACxB,kBAAU,IAAI,MAAM,OAAO,MAAM,KAAK;AAAA,MACxC,OAAO;AACL,cAAM,WAAW,yBAAyB,KAAK;AAC/C,cAAM,IAAI,OAAO,MAAM,QAAQ,SAAS;AACxC,cAAM,IAAI,OAAO,MAAM,QAAQ,SAAS;AACxC,kBAAU,IAAI,GAAG,CAAC;AAAA,MACpB;AACA,kBAAY,WAAW,WAAW,WAAW,EAAE,eAAe,MAAM,WAAW;AAC/E,YAAM,UAAU,MAAM;AACtB,UAAI,SAAS;AACX,mBAAW,IAAI,KAAK,KAAK,YAAY,IAAI,QAAQ,YAAY;AAC7D,iBAAS,IAAI,KAAK,KAAK,YAAY,IAAI,QAAQ,YAAY;AAAA,MAC7D;AACA,kBAAY,KAAK,SAAS;AAAA,IAC5B;AACA,aAAS,mBAAmB,OAAO;AACjC,UAAI,SAAS,UAAU,GAAG;AACxB,eAAO,IAAI,MAAM,OAAO,MAAM,KAAK;AAAA,MACrC,OAAO;AACL,cAAM,WAAW,yBAAyB,KAAK;AAC/C,cAAM,IAAI,OAAO,MAAM,QAAQ,SAAS;AACxC,cAAM,IAAI,OAAO,MAAM,QAAQ,SAAS;AACxC,eAAO,IAAI,GAAG,CAAC;AAAA,MACjB;AACA,eAAS,WAAW,QAAQ,QAAQ,EAAE,eAAe,MAAM,QAAQ;AACnE,UAAI,SAAS,GAAG,SAAS,CAAC;AAC1B,eAAS,KAAK,MAAM;AAAA,IACtB;AACA,aAAS,qBAAqB,OAAO;AACnC,YAAM,WAAW,yBAAyB,KAAK;AAC/C,YAAM,KAAK,MAAM,QAAQ,SAAS;AAClC,YAAM,KAAK,MAAM,QAAQ,SAAS;AAClC,YAAMA,YAAW,KAAK,KAAK,KAAK,KAAK,KAAK,EAAE;AAC5C,eAAS,IAAI,GAAGA,SAAQ;AACxB,iBAAW,IAAI,GAAG,KAAK,IAAI,SAAS,IAAI,WAAW,GAAG,MAAM,SAAS,CAAC;AACtE,eAAS,WAAW,CAAC;AACrB,iBAAW,KAAK,QAAQ;AAAA,IAC1B;AACA,aAAS,wBAAwB,OAAO;AACtC,UAAI,MAAM;AACR,6BAAqB,KAAK;AAC5B,UAAI,MAAM;AACR,2BAAmB,KAAK;AAAA,IAC5B;AACA,aAAS,2BAA2B,OAAO;AACzC,UAAI,MAAM;AACR,6BAAqB,KAAK;AAC5B,UAAI,MAAM;AACR,8BAAsB,KAAK;AAAA,IAC/B;AACA,aAAS,cAAc,OAAO;AAC5B,UAAIF,KAAIC;AACR,UAAI,MAAM,YAAY;AACpB;AACF,UAAI,SAAS,WAAW,GAAG;AACzB,SAACD,MAAK,MAAM,eAAe,OAAO,SAASA,IAAG,cAAc,iBAAiB,eAAe,aAAa;AACzG,SAACC,MAAK,MAAM,eAAe,OAAO,SAASA,IAAG,cAAc,iBAAiB,aAAa,WAAW;AAAA,MACvG;AACA,iBAAW,KAAK;AAChB,UAAI,MAAM,gBAAgB,SAAS;AACjC,qBAAa,KAAK;AAAA,MACpB,OAAO;AACL,oBAAY,KAAK;AAAA,MACnB;AAAA,IACF;AACA,aAAS,cAAc,OAAO;AAC5B,UAAI,MAAM,YAAY;AACpB;AACF,UAAI,MAAM,gBAAgB,SAAS;AACjC,oBAAY,KAAK;AAAA,MACnB,OAAO;AACL,oBAAY,KAAK;AAAA,MACnB;AAAA,IACF;AACA,aAAS,YAAY,OAAO;AAC1B,UAAID,KAAIC,KAAI;AACZ,oBAAc,KAAK;AACnB,UAAI,SAAS,WAAW,GAAG;AACzB,SAACD,MAAK,MAAM,eAAe,OAAO,SAASA,IAAG,sBAAsB,MAAM,SAAS;AACnF,SAACC,MAAK,MAAM,eAAe,OAAO,SAASA,IAAG,cAAc,oBAAoB,eAAe,aAAa;AAC5G,SAAC,KAAK,MAAM,eAAe,OAAO,SAAS,GAAG,cAAc,oBAAoB,aAAa,WAAW;AAAA,MAC1G;AACA,YAAM,cAAc,QAAQ;AAC5B,cAAQJ,OAAM;AAAA,IAChB;AACA,aAAS,gBAAgB,OAAO;AAC9B,oBAAc,KAAK;AAAA,IACrB;AACA,aAAS,YAAY,OAAO;AAC1B,UAAI;AACJ,cAAQ,MAAM,QAAQ;AAAA,QACpB,KAAK;AACH,wBAAc,MAAM,aAAa;AACjC;AAAA,QACF,KAAK;AACH,wBAAc,MAAM,aAAa;AACjC;AAAA,QACF,KAAK;AACH,wBAAc,MAAM,aAAa;AACjC;AAAA,QACF;AACE,wBAAc;AAAA,MAClB;AACA,cAAQ,aAAa;AAAA,QACnB,KAAK,MAAM;AACT,cAAI,MAAM,eAAe;AACvB;AACF,+BAAqB,KAAK;AAC1B,kBAAQA,OAAM;AACd;AAAA,QACF,KAAK,MAAM;AACT,cAAI,MAAM,WAAW,MAAM,WAAW,MAAM,UAAU;AACpD,gBAAI,MAAM,cAAc;AACtB;AACF,+BAAmB,KAAK;AACxB,oBAAQA,OAAM;AAAA,UAChB,OAAO;AACL,gBAAI,MAAM,iBAAiB;AACzB;AACF,kCAAsB,KAAK;AAC3B,oBAAQA,OAAM;AAAA,UAChB;AACA;AAAA,QACF,KAAK,MAAM;AACT,cAAI,MAAM,WAAW,MAAM,WAAW,MAAM,UAAU;AACpD,gBAAI,MAAM,iBAAiB;AACzB;AACF,kCAAsB,KAAK;AAC3B,oBAAQA,OAAM;AAAA,UAChB,OAAO;AACL,gBAAI,MAAM,cAAc;AACtB;AACF,+BAAmB,KAAK;AACxB,oBAAQA,OAAM;AAAA,UAChB;AACA;AAAA,QACF;AACE,kBAAQA,OAAM;AAAA,MAClB;AACA,UAAI,UAAUA,OAAM,MAAM;AACxB,cAAM,cAAc,UAAU;AAAA,MAChC;AAAA,IACF;AACA,aAAS,YAAY,OAAO;AAC1B,UAAI,MAAM,YAAY;AACpB;AACF,cAAQ,OAAO;AAAA,QACb,KAAKA,OAAM;AACT,cAAI,MAAM,iBAAiB;AACzB;AACF,gCAAsB,KAAK;AAC3B;AAAA,QACF,KAAKA,OAAM;AACT,cAAI,MAAM,eAAe;AACvB;AACF,+BAAqB,KAAK;AAC1B;AAAA,QACF,KAAKA,OAAM;AACT,cAAI,MAAM,cAAc;AACtB;AACF,6BAAmB,KAAK;AACxB;AAAA,MACJ;AAAA,IACF;AACA,aAAS,aAAa,OAAO;AAC3B,UAAI,MAAM,YAAY,SAAS,MAAM,eAAe,SAAS,UAAUA,OAAM,QAAQ,UAAUA,OAAM,QAAQ;AAC3G;AAAA,MACF;AACA,YAAM,eAAe;AACrB,YAAM,cAAc,UAAU;AAC9B,uBAAiB,KAAK;AACtB,YAAM,cAAc,QAAQ;AAAA,IAC9B;AACA,aAAS,UAAU,OAAO;AACxB,UAAI,MAAM,YAAY,SAAS,MAAM,cAAc;AACjD;AACF,oBAAc,KAAK;AAAA,IACrB;AACA,aAAS,aAAa,OAAO;AAC3B,mBAAa,KAAK;AAClB,cAAQ,SAAS,QAAQ;AAAA,QACvB,KAAK;AACH,kBAAQ,MAAM,QAAQ,KAAK;AAAA,YACzB,KAAK,MAAM;AACT,kBAAI,MAAM,iBAAiB;AACzB;AACF,qCAAuB;AACvB,sBAAQA,OAAM;AACd;AAAA,YACF,KAAK,MAAM;AACT,kBAAI,MAAM,cAAc;AACtB;AACF,kCAAoB;AACpB,sBAAQA,OAAM;AACd;AAAA,YACF;AACE,sBAAQA,OAAM;AAAA,UAClB;AACA;AAAA,QACF,KAAK;AACH,kBAAQ,MAAM,QAAQ,KAAK;AAAA,YACzB,KAAK,MAAM;AACT,kBAAI,MAAM,eAAe,SAAS,MAAM,cAAc;AACpD;AACF,uCAAyB;AACzB,sBAAQA,OAAM;AACd;AAAA,YACF,KAAK,MAAM;AACT,kBAAI,MAAM,eAAe,SAAS,MAAM,iBAAiB;AACvD;AACF,0CAA4B;AAC5B,sBAAQA,OAAM;AACd;AAAA,YACF;AACE,sBAAQA,OAAM;AAAA,UAClB;AACA;AAAA,QACF;AACE,kBAAQA,OAAM;AAAA,MAClB;AACA,UAAI,UAAUA,OAAM,MAAM;AACxB,cAAM,cAAc,UAAU;AAAA,MAChC;AAAA,IACF;AACA,aAAS,YAAY,OAAO;AAC1B,mBAAa,KAAK;AAClB,cAAQ,OAAO;AAAA,QACb,KAAKA,OAAM;AACT,cAAI,MAAM,iBAAiB;AACzB;AACF,gCAAsB,KAAK;AAC3B,gBAAM,OAAO;AACb;AAAA,QACF,KAAKA,OAAM;AACT,cAAI,MAAM,cAAc;AACtB;AACF,6BAAmB,KAAK;AACxB,gBAAM,OAAO;AACb;AAAA,QACF,KAAKA,OAAM;AACT,cAAI,MAAM,eAAe,SAAS,MAAM,cAAc;AACpD;AACF,kCAAwB,KAAK;AAC7B,gBAAM,OAAO;AACb;AAAA,QACF,KAAKA,OAAM;AACT,cAAI,MAAM,eAAe,SAAS,MAAM,iBAAiB;AACvD;AACF,qCAA2B,KAAK;AAChC,gBAAM,OAAO;AACb;AAAA,QACF;AACE,kBAAQA,OAAM;AAAA,MAClB;AAAA,IACF;AACA,aAAS,cAAc,OAAO;AAC5B,UAAI,MAAM,YAAY;AACpB;AACF,YAAM,eAAe;AAAA,IACvB;AACA,aAAS,WAAW,OAAO;AACzB,eAAS,KAAK,KAAK;AAAA,IACrB;AACA,aAAS,cAAc,OAAO;AAC5B,aAAO,iBAAiB,MAAM,SAAS;AACvC,eAASM,KAAI,GAAGA,KAAI,SAAS,QAAQA,MAAK;AACxC,YAAI,SAASA,EAAC,EAAE,aAAa,MAAM,WAAW;AAC5C,mBAAS,OAAOA,IAAG,CAAC;AACpB;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,aAAS,aAAa,OAAO;AAC3B,UAAI,WAAW,iBAAiB,MAAM,SAAS;AAC/C,UAAI,aAAa,QAAQ;AACvB,mBAAW,IAAI,QAAQ;AACvB,yBAAiB,MAAM,SAAS,IAAI;AAAA,MACtC;AACA,eAAS,IAAI,MAAM,OAAO,MAAM,KAAK;AAAA,IACvC;AACA,aAAS,yBAAyB,OAAO;AACvC,YAAM,UAAU,MAAM,cAAc,SAAS,CAAC,EAAE,YAAY,SAAS,CAAC,IAAI,SAAS,CAAC;AACpF,aAAO,iBAAiB,QAAQ,SAAS;AAAA,IAC3C;AACA,QAAI,eAAe;AACjB,WAAK,QAAQ,UAAU;AACzB,SAAK,OAAO;AAAA,EACd;AACF;AACA,IAAM,cAAN,cAA0B,cAAc;AAAA,EACtC,YAAY,QAAQ,YAAY;AAC9B,UAAM,QAAQ,UAAU;AACxB,SAAK,qBAAqB;AAC1B,SAAK,aAAa,OAAO,MAAM;AAC/B,SAAK,aAAa,QAAQ,MAAM;AAChC,SAAK,QAAQ,MAAM,MAAM;AACzB,SAAK,QAAQ,MAAM,MAAM;AAAA,EAC3B;AACF;;;AClxBA,IAAIC,cAAY,OAAO;AACvB,IAAIC,oBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAMD,YAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,MAAM,CAAC,IAAI,IAAI,GAAG,IAAI;AAC1J,IAAIE,kBAAgB,CAAC,KAAK,KAAK,UAAU;AACvC,EAAAD,kBAAgB,KAAK,OAAO,QAAQ,WAAW,MAAM,KAAK,KAAK,KAAK;AACpE,SAAO;AACT;AAEA,IAAME,SAAQ;AAAA,EACZ,MAAM,OAAO;AAAA,EACb,QAAQ,OAAO;AAAA,EACf,KAAK,OAAO;AAAA,EACZ,OAAO,OAAO;AAAA,EACd,KAAK,OAAO;AAAA,EACZ,OAAO,OAAO;AAAA,EACd,SAAS,OAAO;AAAA,EAChB,aAAa,OAAO;AAAA,EACpB,iBAAiB,OAAO;AAAA,EACxB,kBAAkB,OAAO;AAC3B;AACA,IAAM,QAAQ;AAAA,EACZ,MAAM,OAAO;AAAA,EACb,YAAY,OAAO;AAAA,EACnB,qBAAqB,OAAO;AAAA,EAC5B,YAAY,OAAO;AAAA,EACnB,aAAa,OAAO;AAAA,EACpB,QAAQ,OAAO;AACjB;AACA,IAAM,UAAU;AAAA,EACd,GAAG;AAAA,EACH,GAAG;AACL;AACA,IAAM,kBAAkB;AAAA,EACtB,QAAwB,IAAI,QAAQ;AAAA,EACpC,QAAwB,IAAI,QAAQ;AACtC;AACA,IAAMC,gBAAe,EAAE,MAAM,SAAS;AACtC,IAAM,cAAc,EAAE,MAAM,QAAQ;AACpC,IAAM,YAAY,EAAE,MAAM,MAAM;AAChC,IAAM,kBAAN,cAA8B,gBAAgB;AAAA,EAC5C,YAAY,QAAQ,aAAa,MAAM,QAAQ,MAAM;AACnD,UAAM;AACN,IAAAF,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,YAAY;AAChC,IAAAA,gBAAc,MAAM,OAAO;AAC3B,IAAAA,gBAAc,MAAM,cAAc;AAClC,IAAAA,gBAAc,MAAM,UAAU;AAC9B,IAAAA,gBAAc,MAAM,OAAO;AAC3B,IAAAA,gBAAc,MAAM,OAAO;AAC3B,IAAAA,gBAAc,MAAM,OAAO;AAC3B,IAAAA,gBAAc,MAAM,OAAO;AAC3B,IAAAA,gBAAc,MAAM,OAAO;AAC3B,IAAAA,gBAAc,MAAM,OAAO;AAC3B,IAAAA,gBAAc,MAAM,oBAAoB;AACxC,IAAAA,gBAAc,MAAM,iBAAiB;AACrC,IAAAA,gBAAc,MAAM,cAAc;AAClC,IAAAA,gBAAc,MAAM,eAAe;AACnC,IAAAA,gBAAc,MAAM,oBAAoB;AACxC,IAAAA,gBAAc,MAAM,wBAAwB;AAC5C,IAAAA,gBAAc,MAAM,WAAW;AAC/B,IAAAA,gBAAc,MAAM,UAAU;AAC9B,IAAAA,gBAAc,MAAM,YAAY;AAChC,IAAAA,gBAAc,MAAM,UAAU;AAC9B,IAAAA,gBAAc,MAAM,SAAS;AAC7B,IAAAA,gBAAc,MAAM,mBAAmB;AACvC,IAAAA,gBAAc,MAAM,MAAM;AAC1B,IAAAA,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,OAAO;AAC3B,IAAAA,gBAAc,MAAM,cAAc;AAClC,IAAAA,gBAAc,MAAM,WAAW;AAC/B,IAAAA,gBAAc,MAAM,aAAa;AACjC,IAAAA,gBAAc,MAAM,UAAU;AAC9B,IAAAA,gBAAc,MAAM,qBAAqB;AACzC,IAAAA,gBAAc,MAAM,oBAAoB;AACxC,IAAAA,gBAAc,MAAM,SAAS;AAC7B,IAAAA,gBAAc,MAAM,aAAa;AACjC,IAAAA,gBAAc,MAAM,eAAe;AACnC,IAAAA,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,oBAAoB;AACxC,IAAAA,gBAAc,MAAM,sBAAsB;AAC1C,IAAAA,gBAAc,MAAM,wBAAwB;AAC5C,IAAAA,gBAAc,MAAM,sBAAsB;AAC1C,IAAAA,gBAAc,MAAM,wBAAwB;AAC5C,IAAAA,gBAAc,MAAM,aAAa;AACjC,IAAAA,gBAAc,MAAM,YAAY;AAChC,IAAAA,gBAAc,MAAM,UAAU;AAC9B,IAAAA,gBAAc,MAAM,aAAa;AACjC,IAAAA,gBAAc,MAAM,aAAa;AACjC,IAAAA,gBAAc,MAAM,cAAc;AAClC,IAAAA,gBAAc,MAAM,cAAc;AAClC,IAAAA,gBAAc,MAAM,eAAe;AACnC,IAAAA,gBAAc,MAAM,oBAAoB;AACxC,IAAAA,gBAAc,MAAM,wBAAwB;AAC5C,IAAAA,gBAAc,MAAM,sBAAsB;AAC1C,IAAAA,gBAAc,MAAM,OAAO;AAC3B,IAAAA,gBAAc,MAAM,eAAe;AACnC,IAAAA,gBAAc,MAAM,SAAS;AAC7B,IAAAA,gBAAc,MAAM,WAAW;AAC/B,IAAAA,gBAAc,MAAM,YAAY;AAChC,IAAAA,gBAAc,MAAM,cAAc;AAClC,IAAAA,gBAAc,MAAM,oBAAoB;AACxC,IAAAA,gBAAc,MAAM,WAAW;AAC/B,IAAAA,gBAAc,MAAM,cAAc;AAClC,IAAAA,gBAAc,MAAM,YAAY;AAChC,IAAAA,gBAAc,MAAM,eAAe;AACnC,IAAAA,gBAAc,MAAM,gBAAgB;AACpC,IAAAA,gBAAc,MAAM,gBAAgB;AACpC,IAAAA,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,eAAe;AACnC,IAAAA,gBAAc,MAAM,aAAa;AACjC,IAAAA,gBAAc,MAAM,eAAe;AACnC,IAAAA,gBAAc,MAAM,MAAM;AAC1B,IAAAA,gBAAc,MAAM,kBAAkB;AACtC,IAAAA,gBAAc,MAAM,YAAY;AAChC,IAAAA,gBAAc,MAAM,YAAY;AAChC,IAAAA,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,SAAS;AAC7B,IAAAA,gBAAc,MAAM,WAAW;AAC/B,IAAAA,gBAAc,MAAM,cAAc;AAClC,IAAAA,gBAAc,MAAM,YAAY;AAChC,IAAAA,gBAAc,MAAM,aAAa;AACjC,IAAAA,gBAAc,MAAM,aAAa;AACjC,IAAAA,gBAAc,MAAM,SAAS;AAC7B,IAAAA,gBAAc,MAAM,SAAS;AAC7B,IAAAA,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,gBAAgB;AACpC,IAAAA,gBAAc,MAAM,WAAW;AAC/B,IAAAA,gBAAc,MAAM,QAAQ;AAE5B,IAAAA,gBAAc,MAAM,kBAAkB,MAAM;AAC1C,YAAMG,UAAS,KAAK,QAAQ,MAAM,IAAI,KAAK,QAAQ,MAAM,IAAI,KAAK,QAAQ,MAAM,KAAK;AACrF,UAAI,KAAK,QAAQ;AACf,cAAM,WAAW,KAAK,kBAAkB,KAAK,MAAM;AACnD,YAAI,aAAa,QAAQ;AACvB,eAAK,YAAY;AAAA,QACnB;AAAA,MACF;AACA,YAAM,YAAY,KAAK,YAAYA;AACnC,YAAM,QAAQ,IAAI,aAAa,GAAG,GAAG,WAAW,SAAS;AACzD,YAAM,SAAS,MAAM,UAAU,KAAK,SAAS;AAC7C,YAAM,gBAAgB,IAAI,eAAe,EAAE,cAAc,MAAM;AAC/D,iBAAW,SAAS,KAAK,QAAQ,UAAU;AACzC,cAAM,QAAQ,KAAK,QAAQ,SAAS,KAAK;AACzC,cAAM,WAAW;AAAA,MACnB;AACA,WAAK,cAAcD,aAAY;AAAA,IACjC,CAAC;AACD,IAAAF,gBAAc,MAAM,iBAAiB,CAAC,UAAU;AAC9C,UAAI,CAAC,KAAK,SAAS;AACjB;AAAA,MACF;AACA,eAASI,KAAI,GAAGA,KAAI,KAAK,aAAa,QAAQA,MAAK;AACjD,YAAI,KAAK,aAAaA,EAAC,EAAE,SAAS,GAAG;AACnC,gBAAM,eAAe;AACrB;AAAA,QACF;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAJ,gBAAc,MAAM,mBAAmB,MAAM;AAC3C,WAAK,YAAY,OAAO,GAAG,KAAK,YAAY,MAAM;AAClD,WAAK,cAAc,OAAO,GAAG,KAAK,cAAc,MAAM;AACtD,WAAK,SAAS,MAAM;AAAA,IACtB,CAAC;AACD,IAAAA,gBAAc,MAAM,iBAAiB,CAAC,UAAU;AAC9C,UAAI,MAAM,UAAU,KAAK,MAAM,WAAW;AACxC,aAAK,aAAa;AAClB,aAAK,YAAY,KAAK,KAAK;AAAA,MAC7B,OAAO;AACL,aAAK,aAAa;AAAA,MACpB;AACA,UAAI,MAAM,eAAe,WAAW,KAAK,UAAU,MAAM,QAAQ;AAC/D,aAAK,YAAY,KAAK,KAAK;AAC3B,aAAK,cAAc,KAAK,KAAK;AAC7B,gBAAQ,KAAK,QAAQ;AAAA,UACnB,KAAK,MAAM;AACT,iBAAK,SAAS,MAAM;AACpB,iBAAK,iBAAiB,OAAO,QAAQ;AACrC,mBAAO,iBAAiB,eAAe,KAAK,aAAa;AACzD,mBAAO,iBAAiB,aAAa,KAAK,WAAW;AACrD;AAAA,UACF,KAAK,MAAM;AAAA,UACX,KAAK,MAAM;AACT,iBAAK,SAAS,MAAM;AACpB,iBAAK,cAAc;AACnB,iBAAK,aAAa;AAClB,iBAAK,iBAAiB;AACtB;AAAA,UACF,KAAK,MAAM;AACT,iBAAK,SAAS,MAAM;AACpB,iBAAK,iBAAiB;AACtB;AAAA,QACJ;AAAA,MACF,WAAW,MAAM,eAAe,WAAW,KAAK,UAAU,MAAM,MAAM;AACpE,YAAI,WAAW;AACf,YAAI,MAAM,WAAW,MAAM,SAAS;AAClC,qBAAW;AAAA,QACb,WAAW,MAAM,UAAU;AACzB,qBAAW;AAAA,QACb;AACA,aAAK,WAAW,KAAK,gBAAgB,MAAM,QAAQ,QAAQ;AAC3D,YAAI,KAAK,UAAU;AACjB,iBAAO,iBAAiB,eAAe,KAAK,aAAa;AACzD,iBAAO,iBAAiB,aAAa,KAAK,WAAW;AACrD,eAAK,SAAS,MAAM;AACpB,eAAK,UAAU,MAAM;AACrB,eAAK,iBAAiB,OAAO,KAAK,QAAQ;AAAA,QAC5C;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,iBAAiB,CAAC,UAAU;AAC9C,UAAI,MAAM,eAAe,WAAW,KAAK,UAAU,MAAM,QAAQ;AAC/D,gBAAQ,KAAK,QAAQ;AAAA,UACnB,KAAK,MAAM;AACT,iBAAK,iBAAiB,KAAK;AAC3B,iBAAK,gBAAgB,OAAOC,OAAM,MAAM;AACxC;AAAA,UACF,KAAK,MAAM;AACT,kBAAM,WAAW,KAAK,0BAA0B,KAAK,cAAc,CAAC,GAAG,KAAK,IAAI,KAAK;AACrF,gBAAI,YAAY,KAAK,oBAAoB;AACvC,mBAAK,SAAS,MAAM;AACpB,mBAAK,iBAAiB,KAAK;AAC3B,mBAAK,iBAAiB,OAAO,QAAQ;AACrC;AAAA,YACF;AACA;AAAA,UACF,KAAK,MAAM;AACT,iBAAK,iBAAiB,KAAK;AAC3B,iBAAK,aAAa;AAClB,iBAAK,YAAY;AACjB,iBAAK,gBAAgB;AACrB;AAAA,UACF,KAAK,MAAM;AACT,iBAAK,iBAAiB,KAAK;AAC3B,iBAAK,gBAAgB;AACrB;AAAA,QACJ;AAAA,MACF,WAAW,MAAM,eAAe,WAAW,KAAK,UAAU,MAAM,QAAQ;AACtE,YAAI,WAAW;AACf,YAAI,MAAM,WAAW,MAAM,SAAS;AAClC,qBAAW;AAAA,QACb,WAAW,MAAM,UAAU;AACzB,qBAAW;AAAA,QACb;AACA,cAAM,eAAe,KAAK,qBAAqB,KAAK,SAAS,QAAQ;AACrE,YAAI,cAAc;AAChB,eAAK,gBAAgB,OAAO,YAAY;AAAA,QAC1C;AAAA,MACF;AACA,UAAI,KAAK,YAAY;AACnB,cAAM,WAAW,KAAK,0BAA0B,KAAK,YAAY,KAAK,YAAY,SAAS,CAAC,GAAG,KAAK,IAAI,KAAK;AAC7G,YAAI,WAAW,KAAK,oBAAoB;AACtC,eAAK,aAAa;AAAA,QACpB;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAD,gBAAc,MAAM,eAAe,CAAC,UAAU;AAC5C,UAAI,MAAM,eAAe,WAAW,KAAK,UAAU,MAAM,QAAQ;AAC/D,cAAM,SAAS,KAAK,cAAc;AAClC,iBAASI,KAAI,GAAGA,KAAI,QAAQA,MAAK;AAC/B,cAAI,KAAK,cAAcA,EAAC,EAAE,aAAa,MAAM,WAAW;AACtD,iBAAK,cAAc,OAAOA,IAAG,CAAC;AAC9B,iBAAK,YAAY,OAAOA,IAAG,CAAC;AAC5B;AAAA,UACF;AAAA,QACF;AACA,gBAAQ,KAAK,QAAQ;AAAA,UACnB,KAAK,MAAM;AAAA,UACX,KAAK,MAAM;AACT,mBAAO,oBAAoB,eAAe,KAAK,aAAa;AAC5D,mBAAO,oBAAoB,aAAa,KAAK,WAAW;AACxD,iBAAK,SAAS,MAAM;AACpB,iBAAK,eAAe;AACpB;AAAA,UACF,KAAK,MAAM;AACT,iBAAK,eAAe;AACpB,iBAAK,WAAW;AAChB,iBAAK,YAAY;AACjB,iBAAK,SAAS,MAAM;AACpB;AAAA,UACF,KAAK,MAAM;AACT,gBAAI,KAAK,cAAc,UAAU,GAAG;AAClC,qBAAO,oBAAoB,eAAe,KAAK,aAAa;AAC5D,qBAAO,oBAAoB,aAAa,KAAK,WAAW;AACxD,mBAAK,SAAS,MAAM;AACpB,mBAAK,eAAe;AAAA,YACtB;AACA;AAAA,QACJ;AAAA,MACF,WAAW,MAAM,eAAe,WAAW,KAAK,UAAU,MAAM,QAAQ;AACtE,eAAO,oBAAoB,eAAe,KAAK,aAAa;AAC5D,eAAO,oBAAoB,aAAa,KAAK,WAAW;AACxD,aAAK,SAAS,MAAM;AACpB,aAAK,eAAe;AACpB,aAAK,UAAU;AAAA,MACjB;AACA,UAAI,MAAM,WAAW;AACnB,YAAI,KAAK,YAAY;AACnB,gBAAM,WAAW,MAAM,YAAY,KAAK,YAAY,KAAK,YAAY,SAAS,CAAC,EAAE;AACjF,cAAI,YAAY,KAAK,cAAc;AACjC,gBAAI,KAAK,YAAY,GAAG;AACtB,mBAAK,WAAW;AAChB,mBAAK,cAAc,YAAY,IAAI;AAAA,YACrC,OAAO;AACL,oBAAM,gBAAgB,MAAM,YAAY,KAAK;AAC7C,oBAAM,WAAW,KAAK,0BAA0B,KAAK,YAAY,CAAC,GAAG,KAAK,YAAY,CAAC,CAAC,IAAI,KAAK;AACjG,kBAAI,iBAAiB,KAAK,gBAAgB,YAAY,KAAK,eAAe;AACxE,qBAAK,WAAW;AAChB,qBAAK,YAAY,OAAO,GAAG,KAAK,YAAY,MAAM;AAClD,qBAAK,YAAY,KAAK;AAAA,cACxB,OAAO;AACL,qBAAK,WAAW;AAChB,qBAAK,YAAY,MAAM;AACvB,qBAAK,cAAc,YAAY,IAAI;AAAA,cACrC;AAAA,YACF;AAAA,UACF,OAAO;AACL,iBAAK,aAAa;AAClB,iBAAK,WAAW;AAChB,iBAAK,YAAY,OAAO,GAAG,KAAK,YAAY,MAAM;AAAA,UACpD;AAAA,QACF,OAAO;AACL,eAAK,WAAW;AAChB,eAAK,YAAY,OAAO,GAAG,KAAK,YAAY,MAAM;AAAA,QACpD;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAJ,gBAAc,MAAM,WAAW,CAAC,UAAU;AACxC,UAAIK,KAAIC;AACR,UAAI,KAAK,WAAW,KAAK,cAAc,KAAK,YAAY;AACtD,YAAI,WAAW;AACf,YAAI,MAAM,WAAW,MAAM,SAAS;AAClC,qBAAW;AAAA,QACb,WAAW,MAAM,UAAU;AACzB,qBAAW;AAAA,QACb;AACA,cAAM,UAAU,KAAK,gBAAgB,SAAS,QAAQ;AACtD,YAAI,SAAS;AACX,gBAAM,eAAe;AACrB,eAAK,cAAc,WAAW;AAC9B,gBAAM,cAAc;AACpB,cAAI,MAAM,MAAM,SAAS;AACzB,cAAIC,QAAO;AACX,cAAI,MAAM,GAAG;AACX,YAAAA,QAAO,IAAI,KAAK;AAAA,UAClB,WAAW,MAAM,GAAG;AAClB,YAAAA,QAAO,KAAK;AAAA,UACd;AACA,kBAAQ,SAAS;AAAA,YACf,KAAK;AACH,mBAAK,cAAcN,OAAM,OAAO,IAAI;AACpC,kBAAI,MAAM,GAAG;AACX,gBAAAM,QAAO,IAAI,KAAK,IAAI,KAAK,aAAa,GAAG;AAAA,cAC3C,WAAW,MAAM,GAAG;AAClB,gBAAAA,QAAO,KAAK,IAAI,KAAK,aAAa,CAAC,GAAG;AAAA,cACxC;AACA,kBAAI,KAAK,cAAc,KAAK,WAAW;AACrC,oBAAI;AACJ,oBAAI,KAAK,kBAAkB,oBAAoB;AAC7C,gCAAcF,MAAK,KAAK,mBAAmB,KAAK,QAAQ,MAAM,SAAS,MAAM,SAAS,KAAK,UAAU,MAAM,OAAO,SAASA,IAAG,gBAAgB,KAAK,OAAO,UAAU,EAAE,eAAe,IAAI,KAAK,OAAO,IAAI,EAAE,IAAI,KAAK,QAAQ,QAAQ;AAAA,gBACtO;AACA,oBAAI,KAAK,kBAAkB,mBAAmB;AAC5C,gCAAcC,MAAK,KAAK,mBAAmB,KAAK,QAAQ,MAAM,SAAS,MAAM,SAAS,KAAK,UAAU,MAAM,OAAO,SAASA,IAAG,gBAAgB,KAAK,OAAO,UAAU,EAAE,IAAI,KAAK,QAAQ,QAAQ;AAAA,gBACjM;AACA,oBAAI,eAAe;AACjB,uBAAK,qBAAqB,KAAK,WAAWC,OAAM,UAAU,CAAC;AAAA,cAC/D,OAAO;AACL,qBAAK,qBAAqB,KAAK,WAAWA,OAAM,KAAK,QAAQ,QAAQ,CAAC;AAAA,cACxE;AACA,kBAAI,KAAK,OAAO;AACd,qBAAK,YAAY;AACjB,qBAAK,SAAS;AAAA,cAChB;AACA,mBAAK,cAAcN,OAAM,MAAM,KAAK;AACpC,mBAAK,cAAcC,aAAY;AAC/B,mBAAK,cAAc,SAAS;AAC5B;AAAA,YACF,KAAK;AACH,kBAAI,KAAK,kBAAkB,mBAAmB;AAC5C,qBAAK,cAAcD,OAAM,KAAK,IAAI;AAClC,oBAAI,MAAM,UAAU,GAAG;AACrB,wBAAM,MAAM,SAAS;AACrB,kBAAAM,QAAO;AACP,sBAAI,MAAM,GAAG;AACX,oBAAAA,QAAO,IAAI,KAAK,IAAI,KAAK,aAAa,GAAG;AAAA,kBAC3C,WAAW,MAAM,GAAG;AAClB,oBAAAA,QAAO,KAAK,IAAI,KAAK,aAAa,CAAC,GAAG;AAAA,kBACxC;AAAA,gBACF;AACA,qBAAK,MAAM,sBAAsB,KAAK,kBAAkB;AACxD,sBAAM,IAAI,KAAK,MAAM,WAAW,KAAK,QAAQ,QAAQ;AACrD,oBAAI,OAAO,IAAIA;AACf,uBAAO,UAAU,MAAM,MAAM,KAAK,aAAa,KAAK,WAAW;AAC/D,sBAAM,IAAI,IAAI,KAAK,IAAI,UAAU,UAAU,KAAK,OAAO,MAAM,GAAG;AAChE,oBAAI,SAAS,UAAU,WAAW,KAAK,KAAK,IAAI,IAAI,IAAI;AACxD,oBAAI,SAAS,KAAK,QAAQ;AACxB,2BAAS,KAAK;AAAA,gBAChB,WAAW,SAAS,KAAK,QAAQ;AAC/B,2BAAS,KAAK;AAAA,gBAChB;AACA,sBAAM,cAAc,IAAI,KAAK,IAAI,UAAU,WAAW,SAAS,EAAE;AACjE,gBAAAA,QAAO,IAAI;AACX,qBAAK,OAAO,MAAM;AAClB,qBAAK,qBAAqB,KAAK,WAAWA,OAAM,KAAK,QAAQ,UAAU,KAAK,CAAC;AAAA,cAC/E;AACA,kBAAI,KAAK,OAAO;AACd,qBAAK,YAAY;AACjB,qBAAK,SAAS;AAAA,cAChB;AACA,mBAAK,cAAcN,OAAM,MAAM,KAAK;AACpC,mBAAK,cAAcC,aAAY;AAC/B,mBAAK,cAAc,SAAS;AAC5B;AAAA,UACJ;AAAA,QACF;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAF,gBAAc,MAAM,oBAAoB,CAAC,OAAO,cAAc;AAC5D,UAAI,KAAK,WAAW,KAAK,YAAY;AACnC,aAAK,cAAc,WAAW;AAC9B,aAAK,UAAU,MAAM,SAAS,MAAM,OAAO;AAC3C,gBAAQ,WAAW;AAAA,UACjB,KAAK;AACH,gBAAI,CAAC,KAAK;AACR;AACF,gBAAI,KAAK,gBAAgB,IAAI;AAC3B,mCAAqB,KAAK,YAAY;AACtC,mBAAK,eAAe;AACpB,mBAAK,aAAa;AAClB,mBAAK,eAAe,KAAK;AACzB,mBAAK,cAAcE,aAAY;AAAA,YACjC;AACA,gBAAI,KAAK,QAAQ;AACf,mBAAK,cAAcD,OAAM,KAAK,IAAI;AAClC,oBAAM,SAAS,KAAK,mBAAmB,KAAK,QAAQ,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU;AACzF,kBAAI,WAAW,QAAQ;AACrB,qBAAK,qBAAqB,KAAK,MAAM;AAAA,cACvC;AACA,kBAAI,KAAK,YAAY;AACnB,qBAAK,SAAS;AACd,qBAAK,cAAcC,aAAY;AAAA,cACjC;AAAA,YACF;AACA;AAAA,UACF,KAAK;AACH,gBAAI,CAAC,KAAK;AACR;AACF,gBAAI,KAAK,gBAAgB,IAAI;AAC3B,mCAAqB,KAAK,YAAY;AACtC,mBAAK,eAAe;AACpB,mBAAK,aAAa;AAAA,YACpB;AACA,gBAAI,KAAK,QAAQ;AACf,mBAAK,cAAcD,OAAM,QAAQ,IAAI;AACrC,oBAAM,SAAS,KAAK,qBAAqB,KAAK,QAAQ,QAAQ,GAAG,QAAQ,GAAG,KAAK,YAAY,KAAK,SAAS;AAC3G,kBAAI,WAAW,QAAQ;AACrB,qBAAK,qBAAqB,KAAK,MAAM;AAAA,cACvC;AACA,mBAAK,eAAe,IAAI;AACxB,kBAAI,KAAK,kBAAkB;AACzB,qBAAK,YAAY,KAAK,eAAe,YAAY,IAAI;AACrD,qBAAK,gBAAgB,KAAK,aAAa;AACvC,qBAAK,eAAe,KAAK,KAAK,oBAAoB;AAClD,qBAAK,eAAe,KAAK,KAAK,cAAc;AAC5C,qBAAK,SAAS;AACd,qBAAK,SAAS,KAAK;AAAA,cACrB;AAAA,YACF;AACA,iBAAK,cAAcC,aAAY;AAC/B;AAAA,UACF,KAAK;AACH,gBAAI,CAAC,KAAK;AACR;AACF,gBAAI,KAAK,kBAAkB,mBAAmB;AAC5C,kBAAI,KAAK,gBAAgB,IAAI;AAC3B,qCAAqB,KAAK,YAAY;AACtC,qBAAK,eAAe;AACpB,qBAAK,aAAa;AAClB,qBAAK,eAAe,KAAK;AACzB,qBAAK,cAAcA,aAAY;AAAA,cACjC;AACA,mBAAK,cAAcD,OAAM,KAAK,IAAI;AAClC,mBAAK,qBAAqB,KAAK,KAAK,aAAa,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU,EAAE,IAAI,GAAG;AAC/F,mBAAK,uBAAuB,KAAK,KAAK,oBAAoB;AAAA,YAC5D;AACA;AAAA,UACF,KAAK;AACH,gBAAI,CAAC,KAAK;AACR;AACF,gBAAI,KAAK,gBAAgB,IAAI;AAC3B,mCAAqB,KAAK,YAAY;AACtC,mBAAK,eAAe;AACpB,mBAAK,aAAa;AAClB,mBAAK,eAAe,KAAK;AACzB,mBAAK,cAAcC,aAAY;AAAA,YACjC;AACA,iBAAK,cAAcD,OAAM,OAAO,IAAI;AACpC,iBAAK,qBAAqB,KAAK,KAAK,aAAa,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU,EAAE,IAAI,GAAG;AAC/F,iBAAK,uBAAuB,KAAK,KAAK,oBAAoB;AAC1D;AAAA,QACJ;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAD,gBAAc,MAAM,mBAAmB,CAAC,OAAO,YAAY;AACzD,UAAI,KAAK,WAAW,KAAK,YAAY;AACnC,cAAM,UAAU,WAAW,KAAK;AAChC,aAAK,UAAU,MAAM,SAAS,MAAM,OAAO;AAC3C,gBAAQ,SAAS;AAAA,UACf,KAAKC,OAAM;AACT,gBAAI,KAAK,aAAa,KAAK,QAAQ;AACjC,kBAAI,SAAS;AACX,qBAAK,cAAc,SAAS;AAC5B,qBAAK,cAAc,WAAW;AAC9B,qBAAK,cAAc,SAAS,IAAI;AAChC,sBAAM,SAAS,KAAK,mBAAmB,KAAK,QAAQ,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU;AACzF,oBAAI,WAAW,QAAQ;AACrB,uBAAK,qBAAqB,KAAK,MAAM;AAAA,gBACvC;AACA,oBAAI,KAAK,YAAY;AACnB,uBAAK,SAAS;AAAA,gBAChB;AACA,qBAAK,eAAe,KAAK;AAAA,cAC3B,OAAO;AACL,sBAAM,SAAS,KAAK,mBAAmB,KAAK,QAAQ,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU;AACzF,oBAAI,WAAW,QAAQ;AACrB,uBAAK,uBAAuB,KAAK,MAAM;AAAA,gBACzC;AACA,qBAAK,qBAAqB,KAAK,IAAI,KAAK,sBAAsB,KAAK,sBAAsB,CAAC;AAAA,cAC5F;AAAA,YACF;AACA;AAAA,UACF,KAAKA,OAAM;AACT,gBAAI,KAAK,gBAAgB,KAAK,QAAQ;AACpC,kBAAI,SAAS;AACX,qBAAK,cAAc,SAAS;AAC5B,qBAAK,cAAc,WAAW;AAC9B,qBAAK,cAAc,SAAS,IAAI;AAChC,sBAAM,SAAS,KAAK;AAAA,kBAClB,KAAK;AAAA,kBACL,QAAQ;AAAA,kBACR,QAAQ;AAAA,kBACR,KAAK;AAAA,kBACL,KAAK;AAAA,gBACP;AACA,oBAAI,WAAW,QAAQ;AACrB,uBAAK,qBAAqB,KAAK,MAAM;AAAA,gBACvC;AACA,oBAAI,KAAK,YAAY;AACnB,uBAAK,YAAY;AAAA,gBACnB;AACA,qBAAK,eAAe,IAAI;AAAA,cAC1B,OAAO;AACL,sBAAM,SAAS,KAAK;AAAA,kBAClB,KAAK;AAAA,kBACL,QAAQ;AAAA,kBACR,QAAQ;AAAA,kBACR,KAAK;AAAA,kBACL,KAAK;AAAA,gBACP;AACA,oBAAI,WAAW,QAAQ;AACrB,uBAAK,uBAAuB,KAAK,MAAM;AAAA,gBACzC;AACA,sBAAMO,YAAW,KAAK,qBAAqB,WAAW,KAAK,sBAAsB;AACjF,sBAAM,QAAQ,KAAK,qBAAqB,QAAQ,KAAK,sBAAsB;AAC3E,sBAAM,SAAS,KAAK,IAAIA,YAAW,KAAK,WAAW,KAAK;AACxD,qBAAK;AAAA,kBACH,KAAK,OAAO,KAAK,sBAAsB,KAAK,sBAAsB,KAAK,sBAAsB,GAAG,MAAM;AAAA,gBACxG;AACA,oBAAI,KAAK,kBAAkB;AACzB,uBAAK,YAAY,KAAK;AACtB,uBAAK,eAAe,YAAY,IAAI;AACpC,uBAAK,aAAa,KAAK;AACvB,uBAAK,gBAAgB;AACrB,uBAAK,eAAe,KAAK,KAAK,cAAc;AAC5C,uBAAK,eAAe,KAAK,KAAK,sBAAsB;AACpD,uBAAK,SAAS,KAAK;AACnB,uBAAK,SAAS,KAAK;AAAA,oBACjB,KAAK;AAAA,oBACL,KAAK;AAAA,oBACL,KAAK;AAAA,oBACL,KAAK;AAAA,kBACP;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AACA;AAAA,UACF,KAAKP,OAAM;AACT,gBAAI,KAAK,YAAY;AACnB,kBAAI,SAAS;AACX,qBAAK,cAAc,SAAS;AAC5B,qBAAK,cAAc,WAAW;AAC9B,qBAAK,cAAc,SAAS,IAAI;AAChC,qBAAK,qBAAqB,KAAK,KAAK,aAAa,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU,EAAE,IAAI,GAAG;AAC/F,qBAAK,uBAAuB,KAAK,KAAK,oBAAoB;AAC1D,oBAAI,KAAK,YAAY;AACnB,uBAAK,YAAY;AAAA,gBACnB;AACA,qBAAK,eAAe,KAAK;AAAA,cAC3B,OAAO;AACL,sBAAM,gBAAgB;AACtB,qBAAK,uBAAuB,KAAK,KAAK,aAAa,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU,EAAE,IAAI,GAAG;AACjG,sBAAM,WAAW,KAAK,uBAAuB,IAAI,KAAK,qBAAqB;AAC3E,oBAAIM,QAAO;AACX,oBAAI,WAAW,GAAG;AAChB,kBAAAA,QAAO,IAAI,KAAK,IAAI,KAAK,aAAa,CAAC,WAAW,aAAa;AAAA,gBACjE,WAAW,WAAW,GAAG;AACvB,kBAAAA,QAAO,KAAK,IAAI,KAAK,aAAa,WAAW,aAAa;AAAA,gBAC5D;AACA,qBAAK,qBAAqB,KAAK,WAAWA,OAAM,KAAK,QAAQ,QAAQ,CAAC;AAAA,cACxE;AAAA,YACF;AACA;AAAA,UACF,KAAKN,OAAM;AACT,gBAAI,KAAK,cAAc,KAAK,kBAAkB,mBAAmB;AAC/D,kBAAI,SAAS;AACX,qBAAK,cAAc,SAAS;AAC5B,qBAAK,cAAc,WAAW;AAC9B,qBAAK,cAAc,SAAS,IAAI;AAChC,qBAAK,qBAAqB,KAAK,KAAK,aAAa,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU,EAAE,IAAI,GAAG;AAC/F,qBAAK,uBAAuB,KAAK,KAAK,oBAAoB;AAC1D,oBAAI,KAAK,YAAY;AACnB,uBAAK,YAAY;AAAA,gBACnB;AACA,qBAAK,eAAe,KAAK;AAAA,cAC3B,OAAO;AACL,sBAAM,gBAAgB;AACtB,qBAAK,uBAAuB,KAAK,KAAK,aAAa,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU,EAAE,IAAI,GAAG;AACjG,sBAAM,WAAW,KAAK,uBAAuB,IAAI,KAAK,qBAAqB;AAC3E,oBAAIM,QAAO;AACX,oBAAI,WAAW,GAAG;AAChB,kBAAAA,QAAO,IAAI,KAAK,IAAI,KAAK,aAAa,CAAC,WAAW,aAAa;AAAA,gBACjE,WAAW,WAAW,GAAG;AACvB,kBAAAA,QAAO,KAAK,IAAI,KAAK,aAAa,WAAW,aAAa;AAAA,gBAC5D;AACA,qBAAK,MAAM,sBAAsB,KAAK,kBAAkB;AACxD,sBAAM,IAAI,KAAK,MAAM,WAAW,KAAK,QAAQ,QAAQ;AACrD,oBAAI,OAAO,IAAIA;AACf,uBAAO,UAAU,MAAM,MAAM,KAAK,aAAa,KAAK,WAAW;AAC/D,sBAAM,IAAI,IAAI,KAAK,IAAI,UAAU,UAAU,KAAK,YAAY,GAAG;AAC/D,oBAAI,SAAS,UAAU,WAAW,KAAK,KAAK,IAAI,IAAI,IAAI;AACxD,yBAAS,UAAU,MAAM,QAAQ,KAAK,QAAQ,KAAK,MAAM;AACzD,sBAAM,cAAc,IAAI,KAAK,IAAI,UAAU,WAAW,SAAS,EAAE;AACjE,gBAAAA,QAAO,IAAI;AACX,qBAAK,MAAM,sBAAsB,KAAK,iBAAiB;AACvD,qBAAK,OAAO,MAAM;AAClB,qBAAK,qBAAqB,KAAK,WAAWA,OAAM,KAAK,OAAO,KAAK,CAAC;AAClE,sBAAM,YAAY,KAAK,QAAQ,SAAS,MAAM,EAAE,IAAI,KAAK,OAAO,QAAQ,EAAE,UAAU,EAAE,eAAe,cAAc,CAAC;AACpH,qBAAK,MAAM,gBAAgB,UAAU,GAAG,UAAU,GAAG,UAAU,CAAC;AAAA,cAClE;AAAA,YACF;AACA;AAAA,QACJ;AACA,aAAK,cAAcL,aAAY;AAAA,MACjC;AAAA,IACF,CAAC;AACD,IAAAF,gBAAc,MAAM,kBAAkB,MAAM;AAC1C,UAAI,KAAK,UAAUC,OAAM,QAAQ;AAC/B,YAAI,CAAC,KAAK,cAAc;AACtB;AAAA,QACF;AACA,YAAI,KAAK,kBAAkB;AACzB,gBAAM,YAAY,YAAY,IAAI,IAAI,KAAK;AAC3C,cAAI,YAAY,KAAK;AACnB,kBAAM,IAAI,KAAK,KAAK,KAAK,SAAS,KAAK,UAAU,CAAC;AAClD,kBAAMQ,QAAO;AACb,iBAAK,eAAe,OAAO,sBAAsB,SAASC,IAAG;AAC3D,cAAAD,MAAK,cAAcR,OAAM,kBAAkB,IAAI;AAC/C,oBAAM,eAAeQ,MAAK,sBAAsBA,MAAK,gBAAgBA,MAAK,cAAc;AACxF,cAAAA,MAAK,eAAeC,IAAG,cAAc,KAAK,IAAI,GAAGD,MAAK,IAAI,CAAC;AAAA,YAC7D,CAAC;AAAA,UACH,OAAO;AACL,iBAAK,cAAcR,OAAM,MAAM,KAAK;AACpC,iBAAK,eAAe,KAAK;AACzB,iBAAK,cAAcC,aAAY;AAAA,UACjC;AAAA,QACF,OAAO;AACL,eAAK,cAAcD,OAAM,MAAM,KAAK;AACpC,eAAK,eAAe,KAAK;AACzB,eAAK,cAAcC,aAAY;AAAA,QACjC;AAAA,MACF,WAAW,KAAK,UAAUD,OAAM,OAAO,KAAK,UAAUA,OAAM,MAAM;AAChE,aAAK,cAAcA,OAAM,MAAM,KAAK;AACpC,YAAI,KAAK,YAAY;AACnB,eAAK,YAAY;AAAA,QACnB;AACA,aAAK,eAAe,KAAK;AACzB,aAAK,cAAcC,aAAY;AAAA,MACjC;AACA,WAAK,cAAc,SAAS;AAAA,IAC9B,CAAC;AACD,IAAAF,gBAAc,MAAM,eAAe,CAAC,UAAU;AAC5C,UAAI,KAAK,WAAW,KAAK,aAAa,KAAK,SAAS,KAAK,UAAU,KAAK,YAAY;AAClF,aAAK,cAAc,WAAW;AAC9B,aAAK,UAAU,MAAM,SAAS,MAAM,OAAO;AAC3C,cAAM,OAAO,KAAK,eAAe,KAAK,aAAa,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU,GAAG,KAAK,MAAM;AACtG,YAAI,QAAQ,KAAK,kBAAkB;AACjC,gBAAMS,QAAO;AACb,cAAI,KAAK,gBAAgB,IAAI;AAC3B,mBAAO,qBAAqB,KAAK,YAAY;AAAA,UAC/C;AACA,eAAK,aAAa;AAClB,eAAK,eAAe,OAAO,sBAAsB,SAASC,IAAG;AAC3D,YAAAD,MAAK,cAAcR,OAAM,iBAAiB,IAAI;AAC9C,YAAAQ,MAAK,YAAYC,IAAG,MAAMD,MAAK,oBAAoBA,MAAK,iBAAiB;AAAA,UAC3E,CAAC;AAAA,QACH,WAAW,QAAQ,CAAC,KAAK,kBAAkB;AACzC,eAAK,cAAcR,OAAM,OAAO,IAAI;AACpC,eAAK,MAAM,MAAM,KAAK,WAAW;AACjC,eAAK,cAAcA,OAAM,MAAM,KAAK;AACpC,eAAK,cAAcC,aAAY;AAAA,QACjC;AAAA,MACF;AACA,WAAK,cAAc,SAAS;AAAA,IAC9B,CAAC;AACD,IAAAF,gBAAc,MAAM,oBAAoB,MAAM;AAC5C,UAAI,KAAK,WAAW,KAAK,aAAa,KAAK,UAAU,KAAK,YAAY;AACpE,aAAK,cAAc,WAAW;AAC9B,aAAK,cAAcC,OAAM,KAAK,IAAI;AAClC,aAAK;AAAA,WACF,KAAK,cAAc,CAAC,EAAE,UAAU,KAAK,cAAc,CAAC,EAAE,WAAW;AAAA,WACjE,KAAK,cAAc,CAAC,EAAE,UAAU,KAAK,cAAc,CAAC,EAAE,WAAW;AAAA,QACpE;AACA,cAAM,SAAS,KAAK,mBAAmB,KAAK,QAAQ,QAAQ,GAAG,QAAQ,GAAG,KAAK,YAAY,IAAI;AAC/F,YAAI,WAAW,QAAQ;AACrB,eAAK,qBAAqB,KAAK,MAAM;AAAA,QACvC;AACA,aAAK,uBAAuB,KAAK,KAAK,oBAAoB;AAC1D,aAAK,eAAe,KAAK;AAAA,MAC3B;AAAA,IACF,CAAC;AACD,IAAAD,gBAAc,MAAM,mBAAmB,MAAM;AAC3C,UAAI,KAAK,WAAW,KAAK,aAAa,KAAK,UAAU,KAAK,YAAY;AACpE,aAAK;AAAA,WACF,KAAK,cAAc,CAAC,EAAE,UAAU,KAAK,cAAc,CAAC,EAAE,WAAW;AAAA,WACjE,KAAK,cAAc,CAAC,EAAE,UAAU,KAAK,cAAc,CAAC,EAAE,WAAW;AAAA,QACpE;AACA,YAAI,KAAK,UAAUC,OAAM,KAAK;AAC5B,eAAK,cAAcA,OAAM,KAAK,IAAI;AAClC,eAAK,qBAAqB,KAAK,KAAK,sBAAsB;AAAA,QAC5D;AACA,cAAM,SAAS,KAAK,mBAAmB,KAAK,QAAQ,QAAQ,GAAG,QAAQ,GAAG,KAAK,YAAY,IAAI;AAC/F,YAAI,WAAW;AACb,eAAK,uBAAuB,KAAK,MAAM;AACzC,aAAK,qBAAqB,KAAK,IAAI,KAAK,sBAAsB,KAAK,wBAAwB,IAAI,CAAC;AAChG,aAAK,cAAcC,aAAY;AAAA,MACjC;AAAA,IACF,CAAC;AACD,IAAAF,gBAAc,MAAM,kBAAkB,MAAM;AAC1C,WAAK,cAAcC,OAAM,MAAM,KAAK;AACpC,WAAK,cAAc,SAAS;AAAA,IAC9B,CAAC;AACD,IAAAD,gBAAc,MAAM,iBAAiB,MAAM;AACzC,UAAIK;AACJ,UAAI,KAAK,WAAW,KAAK,cAAc;AACrC,aAAK,cAAc,WAAW;AAC9B,aAAK,cAAcJ,OAAM,SAAS,IAAI;AACtC,aAAK,uBAAuB,KAAK,SAAS,KAAK,cAAc,CAAC,GAAG,KAAK,cAAc,CAAC,CAAC,IAAI,KAAK,SAAS,KAAK,YAAY,CAAC,GAAG,KAAK,YAAY,CAAC,CAAC;AAChJ,aAAK,yBAAyB,KAAK;AACnC,SAACI,MAAK,KAAK,WAAW,OAAO,SAASA,IAAG,kBAAkB,KAAK,aAAa;AAC7E,YAAI,CAAC,KAAK,aAAa,CAAC,KAAK,YAAY;AACvC,eAAK,eAAe,IAAI;AAAA,QAC1B;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAL,gBAAc,MAAM,gBAAgB,MAAM;AACxC,UAAIK;AACJ,UAAI,KAAK,WAAW,KAAK,gBAAgB,KAAK,UAAU,KAAK,YAAY;AACvE,aAAK;AAAA,WACF,KAAK,cAAc,CAAC,EAAE,UAAU,KAAK,cAAc,CAAC,EAAE,WAAW;AAAA,WACjE,KAAK,cAAc,CAAC,EAAE,UAAU,KAAK,cAAc,CAAC,EAAE,WAAW;AAAA,QACpE;AACA,YAAI;AACJ,YAAI,KAAK,UAAUJ,OAAM,SAAS;AAChC,eAAK,cAAcA,OAAM,SAAS,IAAI;AACtC,eAAK,uBAAuB,KAAK;AAAA,QACnC;AACA,aAAK,yBAAyB,KAAK,SAAS,KAAK,cAAc,CAAC,GAAG,KAAK,cAAc,CAAC,CAAC,IAAI,KAAK,SAAS,KAAK,YAAY,CAAC,GAAG,KAAK,YAAY,CAAC,CAAC;AAClJ,YAAI,CAAC,KAAK,WAAW;AACnB,0BAAgB,IAAI,QAAQ,EAAE,sBAAsB,KAAK,iBAAiB;AAAA,QAC5E,WAAW,KAAK,QAAQ;AACtB,eAAK,MAAM,sBAAsB,KAAK,iBAAiB;AACvD,2BAAiBI,MAAK,KAAK,mBAAmB,KAAK,QAAQ,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU,MAAM,OAAO,SAASA,IAAG,gBAAgB,KAAK,OAAO,UAAU,EAAE,eAAe,IAAI,KAAK,OAAO,IAAI,EAAE,IAAI,KAAK,KAAK;AAAA,QACtN;AACA,cAAM,SAAS,UAAU,WAAW,KAAK,uBAAuB,KAAK;AACrE,YAAI,kBAAkB,QAAQ;AAC5B,eAAK,qBAAqB,KAAK,QAAQ,eAAe,MAAM,CAAC;AAAA,QAC/D;AACA,aAAK,cAAcH,aAAY;AAAA,MACjC;AAAA,IACF,CAAC;AACD,IAAAF,gBAAc,MAAM,eAAe,MAAM;AACvC,WAAK,cAAcC,OAAM,MAAM,KAAK;AACpC,WAAK,eAAe,KAAK;AACzB,WAAK,cAAc,SAAS;AAAA,IAC9B,CAAC;AACD,IAAAD,gBAAc,MAAM,gBAAgB,MAAM;AACxC,UAAI,KAAK,WAAW,KAAK,YAAY;AACnC,aAAK,cAAc,WAAW;AAC9B,aAAK,cAAcC,OAAM,OAAO,IAAI;AACpC,aAAK,uBAAuB,KAAK,0BAA0B,KAAK,cAAc,CAAC,GAAG,KAAK,cAAc,CAAC,CAAC;AACvG,aAAK,yBAAyB,KAAK;AACnC,aAAK,eAAe,KAAK;AAAA,MAC3B;AAAA,IACF,CAAC;AACD,IAAAD,gBAAc,MAAM,eAAe,MAAM;AACvC,UAAIK,KAAIC;AACR,UAAI,KAAK,WAAW,KAAK,cAAc,KAAK,YAAY;AACtD,aAAK;AAAA,WACF,KAAK,cAAc,CAAC,EAAE,UAAU,KAAK,cAAc,CAAC,EAAE,WAAW;AAAA,WACjE,KAAK,cAAc,CAAC,EAAE,UAAU,KAAK,cAAc,CAAC,EAAE,WAAW;AAAA,QACpE;AACA,cAAM,cAAc;AACpB,YAAI,KAAK,UAAUL,OAAM,OAAO;AAC9B,eAAK,uBAAuB,KAAK;AACjC,eAAK,cAAcA,OAAM,OAAO,IAAI;AAAA,QACtC;AACA,aAAK,yBAAyB,KAAK;AAAA,UACjC,KAAK,0BAA0B,KAAK,cAAc,CAAC,GAAG,KAAK,cAAc,CAAC,CAAC;AAAA,UAC3E,cAAc,KAAK;AAAA,QACrB;AACA,cAAM,SAAS,KAAK,yBAAyB,KAAK;AAClD,YAAI;AACJ,YAAI,CAAC,KAAK,WAAW;AACnB,uBAAa,KAAK,QAAQ;AAAA,QAC5B,OAAO;AACL,cAAI,KAAK,kBAAkB,oBAAoB;AAC7C,0BAAcI,MAAK,KAAK,mBAAmB,KAAK,QAAQ,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU,MAAM,OAAO,SAASA,IAAG,gBAAgB,KAAK,OAAO,UAAU,EAAE,eAAe,IAAI,KAAK,OAAO,IAAI,EAAE,IAAI,KAAK,QAAQ,QAAQ;AAAA,UAC9N,WAAW,KAAK,kBAAkB,mBAAmB;AACnD,0BAAcC,MAAK,KAAK,mBAAmB,KAAK,QAAQ,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU,MAAM,OAAO,SAASA,IAAG,gBAAgB,KAAK,OAAO,UAAU,EAAE,IAAI,KAAK,QAAQ,QAAQ;AAAA,UACzL;AAAA,QACF;AACA,YAAI,eAAe,QAAQ;AACzB,eAAK,qBAAqB,KAAK,WAAW,QAAQ,UAAU,CAAC;AAAA,QAC/D;AACA,aAAK,cAAcJ,aAAY;AAAA,MACjC;AAAA,IACF,CAAC;AACD,IAAAF,gBAAc,MAAM,cAAc,MAAM;AACtC,WAAK,cAAcC,OAAM,MAAM,KAAK;AACpC,WAAK,cAAc,SAAS;AAAA,IAC9B,CAAC;AACD,IAAAD,gBAAc,MAAM,oBAAoB,MAAM;AAC5C,UAAI,KAAK,WAAW,KAAK,cAAc,KAAK,YAAY;AACtD,aAAK,cAAc,WAAW;AAC9B,aAAK,cAAcC,OAAM,OAAO,IAAI;AACpC,YAAI,UAAU;AACd,YAAI,UAAU;AACd,cAAM,WAAW,KAAK,cAAc;AACpC,iBAASG,KAAI,GAAGA,KAAI,UAAUA,MAAK;AACjC,qBAAW,KAAK,cAAcA,EAAC,EAAE;AACjC,qBAAW,KAAK,cAAcA,EAAC,EAAE;AAAA,QACnC;AACA,aAAK,UAAU,UAAU,UAAU,UAAU,QAAQ;AACrD,aAAK,qBAAqB,KAAK,KAAK,aAAa,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU,EAAE,IAAI,GAAG;AAC/F,aAAK,uBAAuB,KAAK,KAAK,oBAAoB;AAAA,MAC5D;AAAA,IACF,CAAC;AACD,IAAAJ,gBAAc,MAAM,mBAAmB,MAAM;AAC3C,UAAI,KAAK,WAAW,KAAK,cAAc,KAAK,UAAU,KAAK,YAAY;AACrE,YAAI,UAAU;AACd,YAAI,UAAU;AACd,cAAM,WAAW,KAAK,cAAc;AACpC,iBAASI,KAAI,GAAGA,KAAI,UAAUA,MAAK;AACjC,qBAAW,KAAK,cAAcA,EAAC,EAAE;AACjC,qBAAW,KAAK,cAAcA,EAAC,EAAE;AAAA,QACnC;AACA,aAAK,UAAU,UAAU,UAAU,UAAU,QAAQ;AACrD,cAAM,gBAAgB;AACtB,aAAK,uBAAuB,KAAK,KAAK,aAAa,QAAQ,GAAG,QAAQ,GAAG,KAAK,UAAU,EAAE,IAAI,GAAG;AACjG,cAAM,WAAW,KAAK,uBAAuB,IAAI,KAAK,qBAAqB;AAC3E,YAAIG,QAAO;AACX,YAAI,WAAW,GAAG;AAChB,UAAAA,QAAO,IAAI,KAAK,IAAI,KAAK,aAAa,CAAC,WAAW,aAAa;AAAA,QACjE,WAAW,WAAW,GAAG;AACvB,UAAAA,QAAO,KAAK,IAAI,KAAK,aAAa,WAAW,aAAa;AAAA,QAC5D;AACA,aAAK,MAAM,sBAAsB,KAAK,kBAAkB;AACxD,cAAM,IAAI,KAAK,MAAM,WAAW,KAAK,QAAQ,QAAQ;AACrD,YAAI,OAAO,IAAIA;AACf,eAAO,UAAU,MAAM,MAAM,KAAK,aAAa,KAAK,WAAW;AAC/D,cAAM,IAAI,IAAI,KAAK,IAAI,UAAU,UAAU,KAAK,YAAY,GAAG;AAC/D,YAAI,SAAS,UAAU,WAAW,KAAK,KAAK,IAAI,IAAI,IAAI;AACxD,iBAAS,UAAU,MAAM,QAAQ,KAAK,QAAQ,KAAK,MAAM;AACzD,cAAM,cAAc,IAAI,KAAK,IAAI,UAAU,WAAW,SAAS,EAAE;AACjE,QAAAA,QAAO,IAAI;AACX,aAAK,MAAM,sBAAsB,KAAK,iBAAiB;AACvD,aAAK,OAAO,MAAM;AAClB,aAAK,qBAAqB,KAAK,WAAWA,OAAM,KAAK,OAAO,KAAK,CAAC;AAClE,cAAM,YAAY,KAAK,QAAQ,SAAS,MAAM,EAAE,IAAI,KAAK,OAAO,QAAQ,EAAE,UAAU,EAAE,eAAe,cAAc,CAAC;AACpH,aAAK,MAAM,gBAAgB,UAAU,GAAG,UAAU,GAAG,UAAU,CAAC;AAChE,aAAK,cAAcL,aAAY;AAAA,MACjC;AAAA,IACF,CAAC;AACD,IAAAF,gBAAc,MAAM,kBAAkB,MAAM;AAC1C,WAAK,cAAcC,OAAM,MAAM,KAAK;AACpC,WAAK,cAAc,SAAS;AAAA,IAC9B,CAAC;AAMD,IAAAD,gBAAc,MAAM,aAAa,CAAC,SAAS,YAAY;AACrD,cAAQ,IAAI;AACZ,cAAQ,IAAI;AAAA,IACd,CAAC;AAID,IAAAA,gBAAc,MAAM,0BAA0B,MAAM;AAClD,WAAK,eAAe,OAAO,GAAG,MAAM;AACpC,WAAK,eAAe,OAAO,CAAC;AAC5B,WAAK,eAAe,UAAU,CAAC;AAC/B,WAAK,eAAe,QAAQ,OAAO;AACnC,WAAK,eAAe,QAAQ,CAAC;AAC7B,WAAK,eAAe,OAAO,SAAS,OAAO;AAC3C,WAAK,eAAe,OAAO,GAAG,OAAO;AAAA,IACvC,CAAC;AAQD,IAAAA,gBAAc,MAAM,kBAAkB,CAAC,WAAW,OAAO,MAAM,SAAS;AACtE,YAAM,iBAAiB,CAAC,OAAO,UAAU,QAAQ,KAAK;AACtD,YAAM,aAAa,CAAC,GAAG,GAAG,GAAG,OAAO;AACpC,YAAM,WAAW,CAAC,QAAQ,SAAS,IAAI;AACvC,UAAI;AACJ,UAAI,CAAC,eAAe,SAAS,SAAS,KAAK,CAAC,WAAW,SAAS,KAAK,KAAK,CAAC,SAAS,SAAS,GAAG,GAAG;AACjG,eAAO;AAAA,MACT;AACA,UAAI,SAAS,SAAS;AACpB,YAAI,aAAa,UAAU,aAAa,OAAO;AAC7C,iBAAO;AAAA,QACT;AAAA,MACF;AACA,cAAQ,WAAW;AAAA,QACjB,KAAK;AACH,kBAAQC,OAAM;AACd;AAAA,QACF,KAAK;AACH,kBAAQA,OAAM;AACd;AAAA,QACF,KAAK;AACH,kBAAQA,OAAM;AACd;AAAA,QACF,KAAK;AACH,kBAAQA,OAAM;AACd;AAAA,MACJ;AACA,YAAM,SAAS;AAAA,QACb;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AACA,eAASG,KAAI,GAAGA,KAAI,KAAK,aAAa,QAAQA,MAAK;AACjD,YAAI,KAAK,aAAaA,EAAC,EAAE,SAAS,OAAO,SAAS,KAAK,aAAaA,EAAC,EAAE,OAAO,OAAO,KAAK;AACxF,eAAK,aAAa,OAAOA,IAAG,GAAG,MAAM;AACrC,iBAAO;AAAA,QACT;AAAA,MACF;AACA,WAAK,aAAa,KAAK,MAAM;AAC7B,aAAO;AAAA,IACT,CAAC;AAOD,IAAAJ,gBAAc,MAAM,mBAAmB,CAAC,OAAO,QAAQ;AACrD,UAAI;AACJ,eAASI,KAAI,GAAGA,KAAI,KAAK,aAAa,QAAQA,MAAK;AACjD,iBAAS,KAAK,aAAaA,EAAC;AAC5B,YAAI,OAAO,SAAS,SAAS,OAAO,OAAO,KAAK;AAC9C,iBAAO,OAAO;AAAA,QAChB;AAAA,MACF;AACA,UAAI,KAAK;AACP,iBAASA,KAAI,GAAGA,KAAI,KAAK,aAAa,QAAQA,MAAK;AACjD,mBAAS,KAAK,aAAaA,EAAC;AAC5B,cAAI,OAAO,SAAS,SAAS,OAAO,OAAO,MAAM;AAC/C,mBAAO,OAAO;AAAA,UAChB;AAAA,QACF;AAAA,MACF;AACA,aAAO;AAAA,IACT,CAAC;AAOD,IAAAJ,gBAAc,MAAM,wBAAwB,CAAC,OAAO,QAAQ;AAC1D,UAAI;AACJ,eAASI,KAAI,GAAGA,KAAI,KAAK,aAAa,QAAQA,MAAK;AACjD,iBAAS,KAAK,aAAaA,EAAC;AAC5B,YAAI,OAAO,SAAS,SAAS,OAAO,OAAO,KAAK;AAC9C,iBAAO,OAAO;AAAA,QAChB;AAAA,MACF;AACA,UAAI,KAAK;AACP,iBAASA,KAAI,GAAGA,KAAI,KAAK,aAAa,QAAQA,MAAK;AACjD,mBAAS,KAAK,aAAaA,EAAC;AAC5B,cAAI,OAAO,SAAS,SAAS,OAAO,OAAO,MAAM;AAC/C,mBAAO,OAAO;AAAA,UAChB;AAAA,QACF;AAAA,MACF;AACA,aAAO;AAAA,IACT,CAAC;AAOD,IAAAJ,gBAAc,MAAM,YAAY,CAAC,IAAI,OAAO;AAC1C,aAAO,KAAK,MAAM,GAAG,UAAU,GAAG,SAAS,GAAG,UAAU,GAAG,OAAO,IAAI,MAAM,KAAK;AAAA,IACnF,CAAC;AAKD,IAAAA,gBAAc,MAAM,oBAAoB,CAAC,UAAU;AACjD,eAASI,KAAI,GAAGA,KAAI,KAAK,cAAc,QAAQA,MAAK;AAClD,YAAI,KAAK,cAAcA,EAAC,EAAE,aAAa,MAAM,WAAW;AACtD,eAAK,cAAc,OAAOA,IAAG,GAAG,KAAK;AACrC;AAAA,QACF;AAAA,MACF;AAAA,IACF,CAAC;AAQD,IAAAJ,gBAAc,MAAM,yBAAyB,CAAC,IAAI,IAAI,IAAI,OAAO;AAC/D,YAAM,IAAI,KAAK;AACf,YAAMU,MAAK,KAAK,MAAM;AACtB,UAAIA,MAAK,GAAG;AACV,eAAO;AAAA,MACT;AACA,aAAO,IAAIA;AAAA,IACb,CAAC;AAOD,IAAAV,gBAAc,MAAM,6BAA6B,CAAC,IAAI,OAAO;AAC3D,aAAO,KAAK,KAAK,KAAK,IAAI,GAAG,UAAU,GAAG,SAAS,CAAC,IAAI,KAAK,IAAI,GAAG,UAAU,GAAG,SAAS,CAAC,CAAC;AAAA,IAC9F,CAAC;AAOD,IAAAA,gBAAc,MAAM,yBAAyB,CAAC,MAAM,SAAS;AAC3D,WAAK,gBAAgB,gBAAgB,KAAK,kBAAkB;AAC5D,WAAK,MAAM,sBAAsB,KAAK,eAAe;AACrD,WAAK,cAAc,aAAa,MAAM,IAAI,EAAE,gBAAgB,KAAK,KAAK;AACtE,aAAO,KAAK,cAAc,UAAU,EAAE,MAAM;AAAA,IAC9C,CAAC;AAMD,IAAAA,gBAAc,MAAM,qBAAqB,CAACW,YAAW;AACnD,YAAM,SAAS;AACf,YAAMH,YAAWG,QAAO,SAAS,WAAW,KAAK,QAAQ,QAAQ;AACjE,UAAIA,mBAAkB,mBAAmB;AACvC,cAAM,WAAW,UAAU,UAAUA,QAAO,MAAM;AAClD,cAAM,WAAW,KAAK,KAAKA,QAAO,SAAS,KAAK,IAAI,QAAQ,CAAC;AAC7D,eAAO,KAAK,IAAI,KAAK,IAAI,UAAU,QAAQ,CAAC,IAAIH,YAAW;AAAA,MAC7D,WAAWG,mBAAkB,oBAAoB;AAC/C,eAAO,KAAK,IAAIA,QAAO,KAAKA,QAAO,KAAK,IAAI;AAAA,MAC9C;AAAA,IACF,CAAC;AAOD,IAAAX,gBAAc,MAAM,SAAS,CAAC,OAAOO,OAAM,SAAS,MAAM;AACxD,UAAI,KAAK,QAAQ;AACf,cAAM,aAAa,MAAM,MAAM;AAC/B,mBAAW,IAAI,KAAK,QAAQ,QAAQ,EAAE,eAAe,MAAM;AAC3D,aAAK,mBAAmB,gBAAgB,WAAW,GAAG,WAAW,GAAG,WAAW,CAAC;AAChF,cAAM,iBAAiB,KAAK,kBAAkB,MAAM;AACpD,aAAK,kBAAkB,YAAY,KAAK,kBAAkB;AAC1D,aAAK,kBAAkB,UAAU,KAAK,QAAQ,UAAU,KAAK,QAAQ,YAAY,KAAK,QAAQ,KAAK;AACnG,cAAM,kBAAkB,KAAK,mBAAmB,MAAM;AACtD,aAAK,mBAAmB,YAAY,KAAK,kBAAkB;AAC3D,aAAK,mBAAmB,UAAU,KAAK,OAAO,UAAU,KAAK,OAAO,YAAY,KAAK,OAAO,KAAK;AACjG,YAAI,KAAK,YAAY;AACnB,eAAK,qBAAqB,KAAK,WAAWA,OAAM,KAAK,QAAQ,QAAQ,CAAC;AAAA,QACxE;AACA,aAAK,kBAAkB,KAAK,cAAc;AAC1C,aAAK,mBAAmB,KAAK,eAAe;AAAA,MAC9C;AAAA,IACF,CAAC;AAID,IAAAP,gBAAc,MAAM,YAAY,MAAM;AACpC,UAAI,KAAK,OAAO;AACd,cAAM,QAAQ;AACd,cAAM,aAAa;AACnB,YAAIO,OAAM,WAAW,WAAW;AAChC,YAAI,KAAK,kBAAkB,oBAAoB;AAC7C,gBAAM,QAAQ,KAAK,OAAO,QAAQ,KAAK,OAAO;AAC9C,gBAAM,SAAS,KAAK,OAAO,SAAS,KAAK,OAAO;AAChD,sBAAY,KAAK,IAAI,OAAO,MAAM;AAClC,iBAAO,YAAY;AACnB,UAAAA,QAAO,YAAY,KAAK,OAAO,OAAO;AACtC,sBAAYA,QAAO,OAAO,KAAK,OAAO;AAAA,QACxC,WAAW,KAAK,kBAAkB,mBAAmB;AACnD,gBAAMC,YAAW,KAAK,OAAO,SAAS,WAAW,KAAK,QAAQ,QAAQ;AACtE,gBAAM,WAAW,UAAU,UAAU,KAAK,OAAO,MAAM;AACvD,gBAAM,WAAW,KAAK,KAAK,KAAK,OAAO,SAAS,KAAK,IAAI,QAAQ,CAAC;AAClE,sBAAY,KAAK,IAAI,KAAK,IAAI,UAAU,QAAQ,CAAC,IAAIA,YAAW;AAChE,iBAAO,YAAY;AACnB,UAAAD,QAAO,YAAY;AACnB,sBAAYA,QAAO;AAAA,QACrB;AACA,YAAI,KAAK,SAAS,QAAQ,KAAK,QAAQ;AACrC,eAAK,QAAQ,IAAI,WAAWA,OAAM,WAAW,OAAO,KAAK;AACzD,eAAK,MAAM,SAAS,KAAK,KAAK,QAAQ,QAAQ;AAC9C,eAAK,cAAc,KAAK,KAAK,MAAM,QAAQ;AAC3C,eAAK,MAAM,WAAW,KAAK,KAAK,OAAO,UAAU;AACjD,eAAK,MAAM,QAAQ,KAAK,KAAK,GAAG;AAChC,eAAK,MAAM,IAAI,KAAK,KAAK;AAAA,QAC3B;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAP,gBAAc,MAAM,WAAW,CAACY,gBAAe;AAC7C,UAAIA,gBAAe,UAAU;AAC3B,gBAAQ;AAAA,UACN;AAAA,QACF;AAAA,MACF;AACA,WAAK,aAAaA;AAClB,WAAK,WAAW,MAAM,cAAc;AACpC,WAAK,WAAW,iBAAiB,eAAe,KAAK,aAAa;AAClE,WAAK,WAAW,iBAAiB,eAAe,KAAK,aAAa;AAClE,WAAK,WAAW,iBAAiB,iBAAiB,KAAK,eAAe;AACtE,WAAK,WAAW,iBAAiB,SAAS,KAAK,OAAO;AAAA,IACxD,CAAC;AAID,IAAAZ,gBAAc,MAAM,WAAW,MAAM;AACnC,UAAIK,KAAIC,KAAI,IAAI,IAAI;AACpB,UAAI,KAAK,gBAAgB,IAAI;AAC3B,eAAO,qBAAqB,KAAK,YAAY;AAAA,MAC/C;AACA,OAACD,MAAK,KAAK,eAAe,OAAO,SAASA,IAAG,oBAAoB,eAAe,KAAK,aAAa;AAClG,OAACC,MAAK,KAAK,eAAe,OAAO,SAASA,IAAG,oBAAoB,iBAAiB,KAAK,eAAe;AACtG,OAAC,KAAK,KAAK,eAAe,OAAO,SAAS,GAAG,oBAAoB,SAAS,KAAK,OAAO;AACtF,OAAC,KAAK,KAAK,eAAe,OAAO,SAAS,GAAG,oBAAoB,eAAe,KAAK,aAAa;AAClG,aAAO,oBAAoB,eAAe,KAAK,aAAa;AAC5D,aAAO,oBAAoB,aAAa,KAAK,WAAW;AACxD,aAAO,oBAAoB,UAAU,KAAK,cAAc;AACxD,OAAC,KAAK,KAAK,UAAU,OAAO,SAAS,GAAG,OAAO,KAAK,OAAO;AAC3D,WAAK,YAAY;AAAA,IACnB,CAAC;AAID,IAAAN,gBAAc,MAAM,eAAe,MAAM;AACvC,UAAI,KAAK,SAAS,KAAK,OAAO;AAC5B,aAAK,MAAM,OAAO,KAAK,KAAK;AAC5B,aAAK,QAAQ;AAAA,MACf;AAAA,IACF,CAAC;AAMD,IAAAA,gBAAc,MAAM,gBAAgB,CAACU,OAAM;AACzC,aAAO,IAAI,KAAK,IAAI,IAAIA,IAAG,CAAC;AAAA,IAC9B,CAAC;AAKD,IAAAV,gBAAc,MAAM,kBAAkB,CAAC,aAAa;AAClD,iBAAW,SAAS,KAAK,QAAQ,UAAU;AACzC;AACA,cAAM,SAAS,UAAU,EAAE,SAAS,WAAW,IAAI,IAAI,CAAC;AAAA,MAC1D;AAAA,IACF,CAAC;AAQD,IAAAA,gBAAc,MAAM,gBAAgB,CAAC,SAAS,SAAS,WAAW;AAChE,YAAM,aAAa,OAAO,sBAAsB;AAChD,WAAK,MAAM,MAAM,UAAU,WAAW,QAAQ,WAAW,QAAQ,IAAI,CAAC;AACtE,WAAK,MAAM,MAAM,WAAW,SAAS,WAAW,WAAW,SAAS,IAAI,CAAC;AACzE,aAAO,KAAK,MAAM,MAAM;AAAA,IAC1B,CAAC;AAQD,IAAAA,gBAAc,MAAM,qBAAqB,CAAC,SAAS,SAAS,WAAW;AACrE,WAAK,MAAM,KAAK,KAAK,aAAa,SAAS,SAAS,MAAM,CAAC;AAC3D,UAAI,KAAK,kBAAkB,oBAAoB;AAC7C,aAAK,MAAM,MAAM,KAAK,OAAO,QAAQ,KAAK,OAAO,QAAQ;AACzD,aAAK,MAAM,MAAM,KAAK,OAAO,MAAM,KAAK,OAAO,UAAU;AAAA,MAC3D;AACA,aAAO,KAAK,MAAM,MAAM;AAAA,IAC1B,CAAC;AAKD,IAAAA,gBAAc,MAAM,aAAa,CAACW,YAAW;AAC3C,UAAIA,SAAQ;AACV,QAAAA,QAAO,OAAO,KAAK,MAAM;AACzB,QAAAA,QAAO,aAAa;AACpB,YAAIA,mBAAkB,mBAAmB;AACvC,eAAK,QAAQA,QAAO;AACpB,eAAK,YAAYA,QAAO;AAAA,QAC1B;AACA,aAAK,oBAAoB,KAAKA,QAAO,MAAM;AAC3C,aAAK,mBAAmB,KAAK,KAAK,mBAAmB;AACrD,aAAK,uBAAuB,KAAKA,QAAO,gBAAgB;AACxD,aAAK,SAASA,QAAO;AACrB,aAAK,aAAa,KAAK;AACvB,aAAK,eAAeA,QAAO;AAC3B,aAAK,YAAYA,QAAO,SAAS,WAAW,KAAK,MAAM,IAAIA,QAAO;AAClE,aAAK,WAAW,KAAK;AACrB,aAAK,cAAcA,QAAO;AAC1B,aAAK,WAAWA,QAAO,SAAS,WAAW,KAAK,MAAM,IAAIA,QAAO;AACjE,aAAK,UAAU,KAAK;AACpB,aAAK,KAAK,KAAKA,QAAO,EAAE;AACxB,aAAK,SAAS,KAAKA,QAAO,EAAE;AAC5B,aAAK,SAASA;AACd,aAAK,OAAO,uBAAuB;AACnC,cAAM,WAAW,KAAK,kBAAkBA,OAAM;AAC9C,YAAI,aAAa,QAAQ;AACvB,eAAK,YAAY;AAAA,QACnB;AACA,aAAK,WAAW,KAAK,QAAQ,KAAK,SAAS;AAAA,MAC7C;AAAA,IACF,CAAC;AAMD,IAAAX,gBAAc,MAAM,cAAc,CAAC,UAAU,aAAa;AACxD,YAAM,QAAQ,IAAI,aAAa,GAAG,GAAG,UAAU,QAAQ;AACvD,YAAM,SAAS,MAAM,UAAU,KAAK,SAAS;AAC7C,YAAM,gBAAgB,IAAI,eAAe,EAAE,cAAc,MAAM;AAC/D,YAAM,iBAAiB,IAAI,kBAAkB,EAAE,OAAO,UAAU,KAAK,OAAO,aAAa,MAAM,SAAS,IAAI,CAAC;AAC7G,YAAM,iBAAiB,IAAI,kBAAkB,EAAE,OAAO,SAAS,KAAK,OAAO,aAAa,MAAM,SAAS,IAAI,CAAC;AAC5G,YAAM,iBAAiB,IAAI,kBAAkB,EAAE,OAAO,SAAS,KAAK,OAAO,aAAa,MAAM,SAAS,IAAI,CAAC;AAC5G,YAAM,SAAS,IAAI,KAAK,eAAe,cAAc;AACrD,YAAM,SAAS,IAAI,KAAK,eAAe,cAAc;AACrD,YAAM,SAAS,IAAI,KAAK,eAAe,cAAc;AACrD,YAAM,WAAW,KAAK,KAAK;AAC3B,aAAO,SAAS,IAAI;AACpB,aAAO,SAAS,IAAI;AACpB,WAAK,mBAAmB,SAAS,EAAE,YAAY,QAAQ;AACvD,WAAK,kBAAkB,KAAK,KAAK,kBAAkB;AACnD,UAAI,KAAK,UAAU,KAAK,OAAO,QAAQ,GAAG;AACxC,cAAMO,QAAO,IAAI,KAAK,OAAO;AAC7B,aAAK,aAAa,UAAUA,OAAMA,OAAMA,KAAI;AAC5C,aAAK,mBAAmB,gBAAgB,CAAC,SAAS,GAAG,CAAC,SAAS,GAAG,CAAC,SAAS,CAAC;AAC7E,aAAK,kBAAkB,YAAY,KAAK,kBAAkB,EAAE,YAAY,KAAK,YAAY;AACzF,aAAK,mBAAmB,gBAAgB,SAAS,GAAG,SAAS,GAAG,SAAS,CAAC;AAC1E,aAAK,kBAAkB,YAAY,KAAK,kBAAkB;AAAA,MAC5D;AACA,WAAK,kBAAkB,UAAU,KAAK,QAAQ,UAAU,KAAK,QAAQ,YAAY,KAAK,QAAQ,KAAK;AACnG,WAAK,QAAQ,MAAM;AACnB,WAAK,QAAQ,IAAI,MAAM;AACvB,WAAK,QAAQ,IAAI,MAAM;AACvB,WAAK,QAAQ,IAAI,MAAM;AAAA,IACzB,CAAC;AAQD,IAAAP,gBAAc,MAAM,eAAe,CAAC,MAAM,OAAO,cAAc,gBAAgB;AAC7E,UAAI,KAAK,cAAc,IAAI;AACzB,aAAK,aAAa;AAAA,MACpB;AACA,UAAI,KAAK,UAAUC,OAAM,iBAAiB;AACxC,cAAM,YAAY,OAAO,KAAK;AAC9B,cAAM,WAAW,YAAY,KAAK;AAClC,aAAK,kBAAkB,KAAK,WAAW;AACvC,YAAI,YAAY,GAAG;AACjB,eAAK,kBAAkB,UAAU,KAAK,QAAQ,UAAU,KAAK,QAAQ,YAAY,KAAK,QAAQ,KAAK;AACnG,eAAK,MAAM,OAAO,KAAK,WAAW;AAClC,eAAK,aAAa;AAClB,eAAK,cAAcA,OAAM,MAAM,KAAK;AACpC,eAAK,eAAe,KAAK;AACzB,eAAK,cAAcC,aAAY;AAAA,QACjC,OAAO;AACL,gBAAM,SAAS,KAAK,aAAa,QAAQ;AACzC,gBAAMK,QAAO,IAAI,SAAS,KAAK,cAAc;AAC7C,eAAK,kBAAkB,UAAU,KAAK,QAAQ,UAAU,KAAK,QAAQ,YAAY,KAAK,QAAQ,KAAK;AACnG,eAAK,MAAM,OAAOA,OAAM,MAAM;AAC9B,eAAK,cAAcL,aAAY;AAC/B,gBAAMO,QAAO;AACb,eAAK,eAAe,OAAO,sBAAsB,SAASC,IAAG;AAC3D,YAAAD,MAAK,YAAYC,IAAG,OAAO,cAAc,YAAY,MAAM,CAAC;AAAA,UAC9D,CAAC;AAAA,QACH;AAAA,MACF,OAAO;AACL,aAAK,eAAe;AACpB,aAAK,aAAa;AAAA,MACpB;AAAA,IACF,CAAC;AAOD,IAAAV,gBAAc,MAAM,kBAAkB,CAAC,MAAM,cAAc,OAAO;AAChE,UAAI,KAAK,cAAc,IAAI;AACzB,aAAK,aAAa;AAClB,aAAK,gBAAgB;AACrB,aAAK,aAAa;AAAA,MACpB;AACA,UAAI,KAAK,UAAUC,OAAM,kBAAkB;AACzC,cAAM,aAAa,OAAO,KAAK,cAAc;AAC7C,cAAM,IAAI,KAAK,CAAC,KAAK,gBAAgB;AACrC,YAAI,IAAI,GAAG;AACT,eAAK,gBAAgB,MAAM,CAAC,KAAK,gBAAgB,KAAK,IAAI,WAAW,CAAC,IAAI,KAAK,YAAY;AAC3F,eAAK,qBAAqB,KAAK,OAAO,cAAc,KAAK,aAAa,CAAC;AACvE,eAAK,cAAcC,aAAY;AAC/B,gBAAMO,QAAO;AACb,eAAK,eAAe,OAAO,sBAAsB,SAASC,IAAG;AAC3D,YAAAD,MAAK,eAAeC,IAAG,cAAc,EAAE;AAAA,UACzC,CAAC;AAAA,QACH,OAAO;AACL,eAAK,eAAe;AACpB,eAAK,aAAa;AAClB,eAAK,cAAcT,OAAM,MAAM,KAAK;AACpC,eAAK,eAAe,KAAK;AACzB,eAAK,cAAcC,aAAY;AAAA,QACjC;AAAA,MACF,OAAO;AACL,aAAK,eAAe;AACpB,aAAK,aAAa;AAClB,YAAI,KAAK,UAAUD,OAAM,QAAQ;AAC/B,eAAK,eAAe,KAAK;AACzB,eAAK,cAAcC,aAAY;AAAA,QACjC;AAAA,MACF;AAAA,IACF,CAAC;AAOD,IAAAF,gBAAc,MAAM,OAAO,CAAC,IAAI,IAAI,SAAS,UAAU;AACrD,UAAI,KAAK,QAAQ;AACf,cAAM,WAAW,GAAG,MAAM,EAAE,IAAI,EAAE;AAClC,YAAI,KAAK,kBAAkB,oBAAoB;AAC7C,mBAAS,eAAe,IAAI,KAAK,OAAO,IAAI;AAAA,QAC9C;AACA,YAAI,KAAK,kBAAkB,qBAAqB,QAAQ;AACtD,eAAK,MAAM,sBAAsB,KAAK,mBAAmB;AACzD,eAAK,MAAM,sBAAsB,KAAK,kBAAkB;AACxD,gBAAM,iBAAiB,KAAK,MAAM,WAAW,KAAK,KAAK,IAAI,KAAK,OAAO,SAAS,WAAW,KAAK,QAAQ,QAAQ;AAChH,mBAAS,eAAe,IAAI,cAAc;AAAA,QAC5C;AACA,aAAK,MAAM,IAAI,SAAS,GAAG,SAAS,GAAG,CAAC,EAAE,gBAAgB,KAAK,OAAO,UAAU;AAChF,aAAK,MAAM,gBAAgB,KAAK,MAAM,GAAG,KAAK,MAAM,GAAG,KAAK,MAAM,CAAC;AACnE,aAAK,0BAA0B,KAAK,OAAO,KAAK,KAAK;AAAA,MACvD;AACA,aAAO;AAAA,IACT,CAAC;AAID,IAAAA,gBAAc,MAAM,SAAS,MAAM;AACjC,UAAI,KAAK,QAAQ;AACf,aAAK,OAAO,OAAO,KAAK;AACxB,YAAI,KAAK,kBAAkB,mBAAmB;AAC5C,eAAK,OAAO,MAAM,KAAK;AAAA,QACzB;AACA,aAAK,OAAO,OAAO,KAAK;AACxB,aAAK,OAAO,MAAM,KAAK;AACvB,aAAK,mBAAmB,KAAK,KAAK,mBAAmB;AACrD,aAAK,mBAAmB,UAAU,KAAK,OAAO,UAAU,KAAK,OAAO,YAAY,KAAK,OAAO,KAAK;AACjG,aAAK,OAAO,GAAG,KAAK,KAAK,IAAI;AAC7B,aAAK,OAAO,aAAa;AACzB,aAAK,OAAO,uBAAuB;AACnC,aAAK,kBAAkB,KAAK,KAAK,kBAAkB;AACnD,aAAK,mBAAmB,UAAU,KAAK,QAAQ,UAAU,KAAK,QAAQ,YAAY,KAAK,QAAQ,KAAK;AACpG,aAAK,QAAQ,aAAa;AAC1B,cAAM,WAAW,KAAK,kBAAkB,KAAK,MAAM;AACnD,YAAI,aAAa,QAAQ;AACvB,eAAK,YAAY;AAAA,QACnB;AACA,aAAK,WAAW,KAAK,QAAQ,UAAU,KAAK,SAAS;AACrD,aAAK,OAAO,OAAO,KAAK,QAAQ,QAAQ;AACxC,aAAK,cAAcC,OAAM,MAAM,KAAK;AACpC,aAAK,cAAcC,aAAY;AAAA,MACjC;AAAA,IACF,CAAC;AAOD,IAAAF,gBAAc,MAAM,UAAU,CAAC,MAAM,UAAU;AAC7C,YAAM,QAAQ,KAAK,QAAQ;AAC3B,WAAK,mBAAmB,gBAAgB,CAAC,MAAM,GAAG,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC;AACpE,WAAK,gBAAgB,iBAAiB,MAAM,CAAC,KAAK;AAClD,WAAK,MAAM,gBAAgB,MAAM,GAAG,MAAM,GAAG,MAAM,CAAC;AACpD,WAAK,MAAM,SAAS,KAAK,eAAe;AACxC,WAAK,MAAM,SAAS,KAAK,kBAAkB;AAC3C,WAAK,0BAA0B,KAAK,KAAK;AACzC,aAAO;AAAA,IACT,CAAC;AACD,IAAAA,gBAAc,MAAM,aAAa,MAAM;AACrC,UAAI,KAAK,QAAQ;AACf,cAAM,QAAQ,KAAK;AAAA,UACjB,KAAK,kBAAkB,qBAAqB;AAAA,YAC1C,cAAc;AAAA,cACZ,WAAW,KAAK,OAAO;AAAA,cACvB,cAAc,KAAK,OAAO;AAAA,cAC1B,YAAY,KAAK,OAAO;AAAA,cACxB,UAAU,KAAK,OAAO;AAAA,cACtB,YAAY,KAAK,OAAO;AAAA,cACxB,aAAa,KAAK,QAAQ;AAAA,YAC5B;AAAA,UACF,IAAI;AAAA,YACF,cAAc;AAAA,cACZ,WAAW,KAAK,OAAO;AAAA,cACvB,WAAW,KAAK,OAAO;AAAA,cACvB,cAAc,KAAK,OAAO;AAAA,cAC1B,YAAY,KAAK,OAAO;AAAA,cACxB,UAAU,KAAK,OAAO;AAAA,cACtB,YAAY,KAAK,OAAO;AAAA,cACxB,aAAa,KAAK,QAAQ;AAAA,YAC5B;AAAA,UACF;AAAA,QACF;AACA,kBAAU,UAAU,UAAU,KAAK;AAAA,MACrC;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,cAAc,MAAM;AACtC,YAAMS,QAAO;AACb,gBAAU,UAAU,SAAS,EAAE,KAAK,SAAS,SAAS,OAAO;AAC3D,QAAAA,MAAK,iBAAiB,KAAK;AAAA,MAC7B,CAAC;AAAA,IACH,CAAC;AAID,IAAAT,gBAAc,MAAM,aAAa,MAAM;AACrC,UAAI,CAAC,KAAK;AACR;AACF,WAAK,oBAAoB,KAAK,KAAK,OAAO,MAAM;AAChD,WAAK,mBAAmB,KAAK,KAAK,QAAQ,MAAM;AAChD,WAAK,WAAW,KAAK,OAAO;AAC5B,WAAK,UAAU,KAAK,OAAO;AAC3B,WAAK,SAAS,KAAK,OAAO;AAC1B,WAAK,KAAK,KAAK,KAAK,OAAO,EAAE;AAC7B,UAAI,KAAK,kBAAkB,mBAAmB;AAC5C,aAAK,QAAQ,KAAK,OAAO;AAAA,MAC3B;AAAA,IACF,CAAC;AAQD,IAAAA,gBAAc,MAAM,cAAc,CAACO,OAAM,OAAO,cAAc,SAAS;AACrE,UAAI,CAAC,KAAK;AACR;AACF,YAAM,aAAa,MAAM,MAAM;AAC/B,UAAI,cAAc,IAAIA;AACtB,UAAI,KAAK,kBAAkB,oBAAoB;AAC7C,aAAK,OAAO,OAAO,KAAK;AACxB,aAAK,OAAO,QAAQA;AACpB,YAAI,KAAK,OAAO,OAAO,KAAK,SAAS;AACnC,eAAK,OAAO,OAAO,KAAK;AACxB,wBAAc,KAAK,aAAa,KAAK;AAAA,QACvC,WAAW,KAAK,OAAO,OAAO,KAAK,SAAS;AAC1C,eAAK,OAAO,OAAO,KAAK;AACxB,wBAAc,KAAK,aAAa,KAAK;AAAA,QACvC;AACA,aAAK,OAAO,uBAAuB;AACnC,aAAK,MAAM,sBAAsB,KAAK,iBAAiB;AACvD,aAAK,aAAa,UAAU,aAAa,aAAa,WAAW;AACjE,aAAK,mBAAmB,gBAAgB,CAAC,KAAK,MAAM,GAAG,CAAC,KAAK,MAAM,GAAG,CAAC,KAAK,MAAM,CAAC;AACnF,aAAK,MAAM,gBAAgB,KAAK,MAAM,GAAG,KAAK,MAAM,GAAG,KAAK,MAAM,CAAC,EAAE,SAAS,KAAK,YAAY;AAC/F,aAAK,MAAM,SAAS,KAAK,kBAAkB;AAC3C,mBAAW,IAAI,KAAK,KAAK;AACzB,cAAM,SAAS,WAAW,MAAM,EAAE,eAAe,WAAW;AAC5D,mBAAW,IAAI,MAAM;AACrB,aAAK,MAAM,gBAAgB,WAAW,GAAG,WAAW,GAAG,WAAW,CAAC;AACnE,aAAK,MAAM,YAAY,KAAK,KAAK;AACjC,aAAK,0BAA0B,KAAK,OAAO,KAAK,KAAK;AACrD,eAAO;AAAA,MACT;AACA,UAAI,KAAK,kBAAkB,mBAAmB;AAC5C,aAAK,MAAM,sBAAsB,KAAK,kBAAkB;AACxD,aAAK,MAAM,sBAAsB,KAAK,iBAAiB;AACvD,YAAIC,YAAW,KAAK,MAAM,WAAW,UAAU;AAC/C,YAAI,SAASA,YAAWA,YAAW;AACnC,cAAM,cAAcA,YAAW;AAC/B,YAAI,cAAc,KAAK,aAAa;AAClC,wBAAc,KAAK,cAAcA;AACjC,mBAASA,YAAWA,YAAW;AAAA,QACjC,WAAW,cAAc,KAAK,aAAa;AACzC,wBAAc,KAAK,cAAcA;AACjC,mBAASA,YAAWA,YAAW;AAAA,QACjC;AACA,YAAI,YAAY,WAAW,MAAM,EAAE,IAAI,KAAK,KAAK,EAAE,UAAU,EAAE,eAAe,MAAM;AACpF,aAAK,MAAM,gBAAgB,UAAU,GAAG,UAAU,GAAG,UAAU,CAAC;AAChE,YAAI,aAAa;AACf,gBAAM,MAAM,KAAK;AACjB,UAAAA,YAAW,IAAI,WAAW,UAAU;AACpC,mBAASA,YAAWA,YAAW;AAC/B,sBAAY,WAAW,MAAM,EAAE,IAAI,KAAK,KAAK,EAAE,UAAU,EAAE,eAAe,MAAM;AAChF,eAAK,mBAAmB,gBAAgB,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;AAC3D,eAAK,aAAa,UAAU,aAAa,aAAa,WAAW;AACjE,eAAK,MAAM,gBAAgB,UAAU,GAAG,UAAU,GAAG,UAAU,CAAC,EAAE,SAAS,KAAK,kBAAkB;AAClG,eAAK,MAAM,SAAS,KAAK,YAAY;AACrC,eAAK,mBAAmB,gBAAgB,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC;AAC9D,eAAK,MAAM,SAAS,KAAK,kBAAkB;AAC3C,eAAK,0BAA0B,KAAK,OAAO,KAAK,KAAK;AAAA,QACvD,OAAO;AACL,eAAK,0BAA0B,KAAK,KAAK;AAAA,QAC3C;AACA,eAAO;AAAA,MACT;AAAA,IACF,CAAC;AAKD,IAAAR,gBAAc,MAAM,UAAU,CAAC,UAAU;AACvC,UAAI,KAAK,kBAAkB,mBAAmB;AAC5C,aAAK,OAAO,MAAM,UAAU,MAAM,OAAO,KAAK,QAAQ,KAAK,MAAM;AACjE,aAAK,OAAO,uBAAuB;AAAA,MACrC;AAAA,IACF,CAAC;AAOD,IAAAA,gBAAc,MAAM,aAAa,CAAC,GAAG,GAAG,MAAM;AAC5C,UAAI,KAAK,QAAQ;AACf,aAAK,OAAO,IAAI,GAAG,GAAG,CAAC;AACvB,aAAK,QAAQ,SAAS,IAAI,GAAG,GAAG,CAAC;AACjC,cAAM,WAAW,KAAK,kBAAkB,KAAK,MAAM;AACnD,YAAI,aAAa,QAAQ;AACvB,eAAK,YAAY;AAAA,QACnB;AACA,aAAK,WAAW,KAAK,QAAQ,KAAK,SAAS;AAC3C,aAAK,OAAO,OAAO,KAAK,MAAM;AAAA,MAChC;AAAA,IACF,CAAC;AAOD,IAAAA,gBAAc,MAAM,WAAW,CAAC,OAAO,UAAU;AAC/C,WAAK,gBAAgB,iBAAiB,KAAK,eAAe,KAAK;AAC/D,WAAK,mBAAmB,gBAAgB,CAAC,MAAM,GAAG,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC;AACpE,WAAK,MAAM,gBAAgB,MAAM,GAAG,MAAM,GAAG,MAAM,CAAC;AACpD,WAAK,MAAM,SAAS,KAAK,eAAe;AACxC,WAAK,MAAM,SAAS,KAAK,kBAAkB;AAC3C,WAAK,MAAM,sBAAsB,KAAK,iBAAiB,EAAE,IAAI,KAAK;AAClE,WAAK,MAAM,KAAK,KAAK,KAAK,EAAE,eAAe,KAAK,eAAe,KAAK;AACpE,WAAK,MAAM,IAAI,KAAK,KAAK;AACzB,WAAK,MAAM,gBAAgB,KAAK,MAAM,GAAG,KAAK,MAAM,GAAG,KAAK,MAAM,CAAC;AACnE,WAAK,0BAA0B,KAAK,OAAO,KAAK,KAAK;AACrD,aAAO;AAAA,IACT,CAAC;AAOD,IAAAA,gBAAc,MAAM,kBAAkB,CAAC,QAAQW,YAAW;AACxD,UAAI,CAAC,KAAK;AACR,eAAO;AACT,YAAM,YAAY,IAAI,UAAU;AAChC,gBAAU,OAAOA,QAAO;AACxB,gBAAU,MAAMA,QAAO;AACvB,gBAAU,cAAc,QAAQA,OAAM;AACtC,YAAM,YAAY,UAAU,iBAAiB,KAAK,MAAM,UAAU,IAAI;AACtE,eAASP,KAAI,GAAGA,KAAI,UAAU,QAAQA,MAAK;AACzC,YAAI,UAAUA,EAAC,EAAE,OAAO,QAAQ,KAAK,QAAQ,QAAQ,UAAUA,EAAC,EAAE,MAAM;AACtE,iBAAO,UAAUA,EAAC,EAAE,MAAM,MAAM;AAAA,QAClC;AAAA,MACF;AACA,aAAO;AAAA,IACT,CAAC;AAUD,IAAAJ,gBAAc,MAAM,wBAAwB,CAACW,SAAQ,SAAS,SAAS,QAAQ,aAAa;AAC1F,UAAIA,mBAAkB,oBAAoB;AACxC,aAAK,MAAM,KAAK,KAAK,kBAAkB,SAAS,SAAS,MAAM,CAAC;AAChE,aAAK,MAAM,IAAI,KAAK,MAAM,GAAG,KAAK,MAAM,GAAG,CAAC;AAC5C,cAAM,KAAK,KAAK,IAAI,KAAK,MAAM,GAAG,CAAC;AACnC,cAAM,KAAK,KAAK,IAAI,KAAK,MAAM,GAAG,CAAC;AACnC,cAAM,KAAK,KAAK,IAAI,KAAK,WAAW,CAAC;AACrC,YAAI,KAAK,MAAM,KAAK,KAAK;AACvB,eAAK,MAAM,KAAK,KAAK,KAAK,MAAM,KAAK,GAAG,CAAC;AAAA,QAC3C,OAAO;AACL,eAAK,MAAM,KAAK,KAAK,MAAM,KAAK,KAAK,KAAK,EAAE,CAAC;AAAA,QAC/C;AACA,eAAO,KAAK;AAAA,MACd;AACA,UAAIA,mBAAkB,mBAAmB;AACvC,aAAK,MAAM,KAAK,KAAK,aAAa,SAAS,SAAS,MAAM,CAAC;AAC3D,aAAK,MAAM,IAAI,KAAK,MAAM,GAAG,KAAK,MAAM,GAAG,EAAE;AAC7C,aAAK,MAAM,aAAaA,QAAO,uBAAuB;AACtD,cAAM,SAAS,KAAK,MAAM,MAAM,EAAE,UAAU;AAC5C,cAAM,sBAAsBA,QAAO,SAAS,WAAW,KAAK,QAAQ,QAAQ;AAC5E,cAAM,UAAU,KAAK,IAAI,UAAU,CAAC;AACpC,cAAM,IAAI,KAAK,MAAM;AACrB,cAAM,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,MAAM,GAAG,CAAC,IAAI,KAAK,IAAI,KAAK,MAAM,GAAG,CAAC,CAAC;AACzE,YAAI,KAAK,GAAG;AACV,iBAAO,IAAI,KAAK,MAAM,GAAG,KAAK,MAAM,GAAG,QAAQ;AAC/C,iBAAO;AAAA,QACT;AACA,cAAM,IAAI,IAAI;AACd,cAAM,IAAI;AACV,YAAIE,KAAI,KAAK,IAAI,GAAG,CAAC,IAAI;AACzB,YAAIC,KAAI,IAAI,IAAI;AAChB,YAAI,IAAI,KAAK,IAAI,GAAG,CAAC,IAAI;AACzB,YAAI,QAAQ,KAAK,IAAIA,IAAG,CAAC,IAAI,IAAID,KAAI;AACrC,YAAI,SAAS,GAAG;AACd,eAAK,MAAM,MAAM,CAACC,KAAI,KAAK,KAAK,KAAK,MAAM,IAAID,GAAE;AACjD,eAAK,MAAM,KAAK,IAAI,KAAK,MAAM,IAAI,CAAC;AACpC,gBAAM,QAAQ,UAAU,UAAU,KAAK,MAAM,MAAM;AACnD,cAAI,SAAS,IAAI;AACf,kBAAM,aAAa,KAAK,KAAK,KAAK,IAAI,KAAK,MAAM,GAAG,CAAC,IAAI,KAAK,IAAI,sBAAsB,KAAK,MAAM,GAAG,CAAC,CAAC;AACxG,mBAAO,eAAe,UAAU;AAChC,mBAAO,KAAK;AACZ,mBAAO;AAAA,UACT;AAAA,QACF;AACA,QAAAA,KAAI;AACJ,QAAAC,KAAI;AACJ,YAAI,CAAC,UAAU;AACf,gBAAQ,KAAK,IAAIA,IAAG,CAAC,IAAI,IAAID,KAAI;AACjC,aAAK,MAAM,MAAM,CAACC,KAAI,KAAK,KAAK,KAAK,MAAM,IAAID,GAAE;AACjD,aAAK,MAAM,KAAK,IAAI,KAAK,MAAM,IAAI,CAAC;AACpC,cAAM,YAAY,KAAK,KAAK,KAAK,IAAI,KAAK,MAAM,GAAG,CAAC,IAAI,KAAK,IAAI,sBAAsB,KAAK,MAAM,GAAG,CAAC,CAAC;AACvG,eAAO,eAAe,SAAS;AAC/B,eAAO,KAAK;AACZ,eAAO;AAAA,MACT;AAAA,IACF,CAAC;AAUD,IAAAb,gBAAc,MAAM,sBAAsB,CAACW,SAAQ,SAAS,SAAS,QAAQ,kBAAkB,UAAU;AACvG,UAAIA,mBAAkB,oBAAoB;AACxC,aAAK,MAAM,KAAK,KAAK,kBAAkB,SAAS,SAAS,MAAM,CAAC;AAChE,aAAK,MAAM,IAAI,KAAK,MAAM,GAAG,KAAK,MAAM,GAAG,CAAC;AAC5C,eAAO,KAAK,MAAM,MAAM;AAAA,MAC1B;AACA,UAAIA,mBAAkB,mBAAmB;AACvC,aAAK,MAAM,KAAK,KAAK,aAAa,SAAS,SAAS,MAAM,CAAC;AAC3D,aAAK,MAAM,IAAI,KAAK,MAAM,GAAG,KAAK,MAAM,GAAG,EAAE;AAC7C,aAAK,MAAM,aAAaA,QAAO,uBAAuB;AACtD,cAAM,SAAS,KAAK,MAAM,MAAM,EAAE,UAAU;AAC5C,cAAM,IAAI,KAAK,MAAM;AACrB,cAAM,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,MAAM,GAAG,CAAC,IAAI,KAAK,IAAI,KAAK,MAAM,GAAG,CAAC,CAAC;AACzE,YAAI;AACJ,YAAI,iBAAiB;AACnB,gCAAsB,KAAK,MAAM,sBAAsB,KAAK,mBAAmB,EAAE,WAAW,KAAK,MAAM,sBAAsB,KAAK,kBAAkB,CAAC;AAAA,QACvJ,OAAO;AACL,gCAAsBA,QAAO,SAAS,WAAW,KAAK,QAAQ,QAAQ;AAAA,QACxE;AACA,YAAI,KAAK,GAAG;AACV,iBAAO,IAAI,GAAG,GAAG,CAAC;AAClB,iBAAO;AAAA,QACT;AACA,cAAM,IAAI,IAAI;AACd,cAAM,IAAI;AACV,cAAM,IAAI,CAAC,IAAI;AACf,cAAM,YAAY,KAAK,KAAK,KAAK,IAAI,GAAG,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,CAAC;AAC3D,eAAO,eAAe,SAAS;AAC/B,eAAO,IAAI;AACX,eAAO;AAAA,MACT;AAAA,IACF,CAAC;AAID,IAAAX,gBAAc,MAAM,qBAAqB,MAAM;AAC7C,UAAI,CAAC,KAAK;AACR;AACF,WAAK,mBAAmB,KAAK,KAAK,OAAO,MAAM;AAC/C,WAAK,kBAAkB,KAAK,KAAK,QAAQ,MAAM;AAC/C,UAAI,KAAK,kBAAkB,oBAAoB;AAC7C,aAAK,uBAAuB,KAAK,KAAK,OAAO,gBAAgB;AAC7D,aAAK,OAAO,uBAAuB;AACnC,aAAK,aAAa,KAAK,OAAO;AAAA,MAChC;AACA,UAAI,KAAK,kBAAkB,mBAAmB;AAC5C,aAAK,YAAY,KAAK,OAAO;AAAA,MAC/B;AAAA,IACF,CAAC;AAMD,IAAAA,gBAAc,MAAM,iBAAiB,CAAC,UAAU,mBAAmB;AACjE,WAAK,SAAS;AACd,UAAI,gBAAgB;AAClB,aAAK,kBAAkB;AAAA,MACzB;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,UAAU,MAAM;AAClC,YAAMe,OAAM;AACZ,UAAI,CAAC,KAAK,OAAO,OAAO,KAAK,cAAc,KAAK,KAAK,QAAQ;AAC3D,aAAK,QAAQ,SAAS,IAAI,KAAK,OAAO,GAAG,KAAK,OAAO,GAAG,KAAK,OAAO,CAAC;AACrE,cAAM,WAAW,KAAK,kBAAkB,KAAK,MAAM;AACnD,YAAI,aAAa,QAAQ;AACvB,eAAK,YAAY;AAAA,QACnB;AACA,aAAK,WAAW,KAAK,QAAQ,KAAK,SAAS;AAC3C,aAAK,eAAe,KAAK,KAAK,MAAM;AAAA,MACtC;AACA,UAAI,CAAC,KAAK;AACR;AACF,UAAI,KAAK,kBAAkB,oBAAoB;AAC7C,YAAI,KAAK,OAAO,OAAO,KAAK,WAAW,KAAK,OAAO,OAAO,KAAK,SAAS;AACtE,gBAAM,UAAU,UAAU,MAAM,KAAK,OAAO,MAAM,KAAK,SAAS,KAAK,OAAO;AAC5E,eAAK,qBAAqB,KAAK,WAAW,UAAU,KAAK,OAAO,MAAM,KAAK,QAAQ,UAAU,IAAI,CAAC;AAAA,QACpG;AAAA,MACF;AACA,UAAI,KAAK,kBAAkB,mBAAmB;AAC5C,cAAMP,YAAW,KAAK,OAAO,SAAS,WAAW,KAAK,QAAQ,QAAQ;AACtE,YAAIA,YAAW,KAAK,cAAcO,QAAOP,YAAW,KAAK,cAAcO,MAAK;AAC1E,gBAAM,cAAc,UAAU,MAAMP,WAAU,KAAK,aAAa,KAAK,WAAW;AAChF,eAAK,qBAAqB,KAAK,WAAW,cAAcA,WAAU,KAAK,QAAQ,QAAQ,CAAC;AACxF,eAAK,kBAAkB;AAAA,QACzB;AACA,YAAI,KAAK,OAAO,MAAM,KAAK,UAAU,KAAK,OAAO,MAAM,KAAK,QAAQ;AAClE,eAAK,OAAO,MAAM,UAAU,MAAM,KAAK,OAAO,KAAK,KAAK,QAAQ,KAAK,MAAM;AAC3E,eAAK,OAAO,uBAAuB;AAAA,QACrC;AACA,cAAM,YAAY,KAAK;AACvB,cAAM,WAAW,KAAK,kBAAkB,KAAK,MAAM;AACnD,YAAI,aAAa,QAAQ;AACvB,eAAK,YAAY;AAAA,QACnB;AACA,YAAI,YAAY,KAAK,YAAYO,QAAO,YAAY,KAAK,YAAYA,MAAK;AACxE,gBAAMZ,UAAS,KAAK,QAAQ,MAAM,IAAI,KAAK,QAAQ,MAAM,IAAI,KAAK,QAAQ,MAAM,KAAK;AACrF,gBAAM,YAAY,KAAK,YAAYA;AACnC,gBAAM,QAAQ,IAAI,aAAa,GAAG,GAAG,WAAW,SAAS;AACzD,gBAAM,SAAS,MAAM,UAAU,KAAK,SAAS;AAC7C,gBAAM,gBAAgB,IAAI,eAAe,EAAE,cAAc,MAAM;AAC/D,qBAAW,SAAS,KAAK,QAAQ,UAAU;AACzC,kBAAM,QAAQ,KAAK,QAAQ,SAAS,KAAK;AACzC,kBAAM,WAAW;AAAA,UACnB;AAAA,QACF;AAAA,MACF;AACA,WAAK,OAAO,OAAO,KAAK,QAAQ,QAAQ;AAAA,IAC1C,CAAC;AACD,IAAAH,gBAAc,MAAM,oBAAoB,CAAC,SAAS;AAChD,YAAM,QAAQ,KAAK,MAAM,IAAI;AAC7B,UAAI,MAAM,gBAAgB,KAAK,QAAQ;AACrC,aAAK,mBAAmB,UAAU,MAAM,aAAa,aAAa,QAAQ;AAC1E,aAAK,mBAAmB,UAAU,KAAK,OAAO,UAAU,KAAK,OAAO,YAAY,KAAK,OAAO,KAAK;AACjG,aAAK,OAAO,GAAG,KAAK,MAAM,aAAa,QAAQ;AAC/C,aAAK,OAAO,OAAO,MAAM,aAAa;AACtC,aAAK,OAAO,MAAM,MAAM,aAAa;AACrC,aAAK,OAAO,OAAO,MAAM,aAAa;AACtC,YAAI,KAAK,kBAAkB,mBAAmB;AAC5C,eAAK,OAAO,MAAM,MAAM,aAAa;AAAA,QACvC;AACA,aAAK,kBAAkB,UAAU,MAAM,aAAa,YAAY,QAAQ;AACxE,aAAK,kBAAkB,UAAU,KAAK,QAAQ,UAAU,KAAK,QAAQ,YAAY,KAAK,QAAQ,KAAK;AACnG,aAAK,OAAO,aAAa;AACzB,aAAK,OAAO,uBAAuB;AACnC,aAAK,QAAQ,aAAa;AAC1B,cAAM,WAAW,KAAK,kBAAkB,KAAK,MAAM;AACnD,YAAI,aAAa,QAAQ;AACvB,eAAK,YAAY;AAAA,QACnB;AACA,cAAM,WAAW,IAAI,QAAQ,EAAE,KAAK,KAAK,kBAAkB;AAC3D,aAAK,WAAW,KAAK,QAAQ,UAAU,KAAK,SAAS;AACrD,aAAK,mBAAmB,KAAK,QAAQ;AACrC,aAAK,OAAO,OAAO,KAAK,QAAQ,QAAQ;AACxC,aAAK,cAAcC,OAAM,MAAM,KAAK;AACpC,aAAK,cAAcC,aAAY;AAAA,MACjC;AAAA,IACF,CAAC;AACD,SAAK,SAAS;AACd,SAAK,aAAa;AAClB,SAAK,QAAQ;AACb,SAAK,eAAe,CAAC;AACrB,SAAK,WAAW;AAChB,SAAK,QAAQ,IAAI,QAAQ;AACzB,SAAK,QAAQ,IAAI,QAAQ;AACzB,SAAK,QAAQ,IAAI,QAAQ;AACzB,SAAK,QAAQ,IAAI,QAAQ;AACzB,SAAK,QAAQ,IAAI,QAAQ;AACzB,SAAK,QAAQ,IAAI,WAAW;AAC5B,SAAK,qBAAqB,IAAI,QAAQ;AACtC,SAAK,kBAAkB,IAAI,QAAQ;AACnC,SAAK,eAAe,IAAI,QAAQ;AAChC,SAAK,gBAAgB,IAAI,QAAQ;AACjC,SAAK,qBAAqB,IAAI,QAAQ;AACtC,SAAK,yBAAyB,IAAI,QAAQ;AAC1C,SAAK,YAAY;AACjB,SAAK,WAAW,IAAI,QAAQ;AAC5B,SAAK,aAAa;AAClB,SAAK,WAAW;AAChB,SAAK,UAAU;AACf,SAAK,oBAAoB,IAAI,QAAQ;AACrC,SAAK,OAAO,IAAI,QAAQ;AACxB,SAAK,SAAS;AACd,SAAK,QAAQ;AACb,SAAK,eAAe;AACpB,SAAK,YAAY;AACjB,SAAK,cAAc;AACnB,SAAK,WAAW;AAChB,SAAK,sBAAsB,IAAI,QAAQ;AACvC,SAAK,qBAAqB,IAAI,QAAQ;AACtC,SAAK,UAAU;AACf,SAAK,cAAc,CAAC;AACpB,SAAK,gBAAgB,CAAC;AACtB,SAAK,SAAS,MAAM;AACpB,SAAK,qBAAqB;AAC1B,SAAK,uBAAuB;AAC5B,SAAK,yBAAyB;AAC9B,SAAK,uBAAuB;AAC5B,SAAK,yBAAyB;AAC9B,SAAK,cAAc;AACnB,SAAK,aAAa;AAClB,SAAK,WAAW;AAChB,SAAK,cAAc,CAAC;AACpB,SAAK,cAAc;AACnB,SAAK,eAAe;AACpB,SAAK,eAAe;AACpB,SAAK,gBAAgB;AACrB,SAAK,qBAAqB;AAC1B,SAAK,yBAAyB,IAAI,QAAQ;AAC1C,SAAK,uBAAuB,IAAI,QAAQ;AACxC,SAAK,QAAQ;AACb,SAAK,gBAAgB,IAAI,QAAQ;AACjC,SAAK,UAAU,IAAI,MAAM;AACzB,SAAK,YAAY;AACjB,SAAK,aAAa;AAClB,SAAK,eAAe;AACpB,SAAK,qBAAqB;AAC1B,SAAK,YAAY;AACjB,SAAK,eAAe;AACpB,SAAK,aAAa;AAClB,SAAK,gBAAgB;AACrB,SAAK,iBAAiB,IAAI,QAAQ;AAClC,SAAK,iBAAiB,IAAI,QAAQ;AAClC,SAAK,SAAS;AACd,SAAK,SAAS;AACd,SAAK,gBAAgB;AACrB,SAAK,cAAc;AACnB,SAAK,gBAAgB;AACrB,SAAK,OAAO;AACZ,SAAK,mBAAmB;AACxB,SAAK,aAAa;AAClB,SAAK,aAAa;AAClB,SAAK,SAAS;AACd,SAAK,SAAS;AACd,SAAK,UAAU;AACf,SAAK,YAAY;AACjB,SAAK,eAAe;AACpB,SAAK,aAAa;AAClB,SAAK,cAAc;AACnB,SAAK,cAAc;AACnB,SAAK,UAAU;AACf,SAAK,UAAU;AACf,SAAK,SAAS,IAAI,QAAQ,GAAG,GAAG,CAAC;AACjC,SAAK,iBAAiB,IAAI,QAAQ,GAAG,GAAG,CAAC;AACzC,SAAK,YAAY;AACjB,SAAK,SAASD,OAAM;AACpB,SAAK,UAAU,MAAM;AACrB,QAAI,KAAK,OAAO;AACd,WAAK,MAAM,IAAI,KAAK,OAAO;AAAA,IAC7B;AACA,SAAK,cAAc,OAAO;AAC1B,SAAK,uBAAuB;AAC5B,QAAI,KAAK;AACP,WAAK,QAAQ,KAAK,UAAU;AAC9B,WAAO,iBAAiB,UAAU,KAAK,cAAc;AAAA,EACvD;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,qBAAqB,gBAAgB;AACnC,SAAK,kBAAkB,OAAO,SAAS,eAAe,WAAW,KAAK,QAAQ;AAC5E,WAAK,MAAM,KAAK,KAAK,kBAAkB,EAAE,YAAY,eAAe,MAAM;AAC1E,WAAK,MAAM,UAAU,KAAK,OAAO,UAAU,KAAK,OAAO,YAAY,KAAK,OAAO,KAAK;AACpF,WAAK,OAAO,aAAa;AACzB,UAAI,KAAK,UAAUA,OAAM,UAAU,KAAK,UAAUA,OAAM,WAAW,KAAK,UAAUA,OAAM,kBAAkB;AACxG,aAAK,OAAO,GAAG,KAAK,KAAK,QAAQ,EAAE,gBAAgB,KAAK,OAAO,UAAU;AAAA,MAC3E;AAAA,IACF;AACA,QAAI,kBAAkB,OAAO,SAAS,eAAe,QAAQ;AAC3D,WAAK,MAAM,KAAK,KAAK,iBAAiB,EAAE,YAAY,eAAe,MAAM;AACzE,WAAK,MAAM,UAAU,KAAK,QAAQ,UAAU,KAAK,QAAQ,YAAY,KAAK,QAAQ,KAAK;AACvF,WAAK,QAAQ,aAAa;AAAA,IAC5B;AACA,SAAK,KAAK,UAAUA,OAAM,SAAS,KAAK,UAAUA,OAAM,SAAS,KAAK,UAAUA,OAAM,oBAAoB,KAAK,QAAQ;AACrH,YAAM,WAAW,KAAK,kBAAkB,KAAK,MAAM;AACnD,UAAI,aAAa,QAAQ;AACvB,aAAK,YAAY;AAAA,MACnB;AACA,UAAI,KAAK,eAAe;AACtB,cAAM,iBAAiB,KAAK,OAAO,SAAS,WAAW,KAAK,QAAQ,QAAQ;AAC5E,cAAM,KAAK,IAAI,KAAK;AACpB,WAAG,cAAc,KAAK,OAAO;AAC7B,cAAM,SAAS,IAAI,OAAO;AAC1B,WAAG,kBAAkB,MAAM;AAC3B,cAAM,uBAAuB,KAAK,IAAI,KAAK,WAAW,OAAO,SAAS,OAAO,OAAO,OAAO,CAAC;AAC5F,cAAM,sBAAsB,iBAAiB,KAAK;AAClD,cAAM,aAAa,KAAK,IAAI,sBAAsB,mBAAmB;AACrE,aAAK,OAAO,OAAO,iBAAiB;AACpC,cAAM,sBAAsB,KAAK,IAAI,KAAK,UAAU,CAAC,OAAO,SAAS,OAAO,OAAO,OAAO,CAAC;AAC3F,cAAM,qBAAqB,iBAAiB,KAAK;AACjD,cAAM,YAAY,KAAK,IAAI,qBAAqB,kBAAkB;AAClE,aAAK,OAAO,MAAM,iBAAiB;AACnC,aAAK,OAAO,uBAAuB;AAAA,MACrC,OAAO;AACL,YAAI,SAAS;AACb,YAAI,KAAK,OAAO,QAAQ,KAAK,cAAc;AACzC,eAAK,OAAO,OAAO,KAAK;AACxB,mBAAS;AAAA,QACX;AACA,YAAI,KAAK,OAAO,OAAO,KAAK,aAAa;AACvC,eAAK,OAAO,MAAM,KAAK;AACvB,mBAAS;AAAA,QACX;AACA,YAAI,QAAQ;AACV,eAAK,OAAO,uBAAuB;AAAA,QACrC;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,iBAAiB,OAAO;AACtB,SAAK,QAAQ,UAAU;AACvB,SAAK,cAAcC,aAAY;AAAA,EACjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,0BAA0B,SAAS,MAAM,SAAS,MAAM;AACtD,QAAI,QAAQ;AACV,UAAI,gBAAgB,QAAQ;AAC1B,wBAAgB,OAAO,KAAK,MAAM;AAAA,MACpC,OAAO;AACL,wBAAgB,SAAS,OAAO,MAAM;AAAA,MACxC;AAAA,IACF,OAAO;AACL,sBAAgB,SAAS;AAAA,IAC3B;AACA,QAAI,QAAQ;AACV,UAAI,gBAAgB,QAAQ;AAC1B,wBAAgB,OAAO,KAAK,MAAM;AAAA,MACpC,OAAO;AACL,wBAAgB,SAAS,OAAO,MAAM;AAAA,MACxC;AAAA,IACF,OAAO;AACL,sBAAgB,SAAS;AAAA,IAC3B;AAAA,EACF;AACF;;;AC7+DA,IAAIc,cAAY,OAAO;AACvB,IAAIC,oBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAMD,YAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,MAAM,CAAC,IAAI,IAAI,GAAG,IAAI;AAC1J,IAAIE,kBAAgB,CAAC,KAAK,KAAK,UAAU;AACvC,EAAAD,kBAAgB,KAAK,OAAO,QAAQ,WAAW,MAAM,KAAK,KAAK,KAAK;AACpE,SAAO;AACT;AAEA,SAAS,YAAY,OAAO;AAC1B,QAAM,eAAe;AACvB;AACA,IAAM,cAAN,cAA0B,gBAAgB;AAAA,EACxC,YAAY,QAAQ,YAAY;AAC9B,UAAM;AACN,IAAAC,gBAAc,MAAM,QAAQ;AAC5B,IAAAA,gBAAc,MAAM,cAAc,IAAI;AACtC,IAAAA,gBAAc,MAAM,iBAAiB,CAAC;AACtC,IAAAA,gBAAc,MAAM,aAAa,IAAI;AACrC,IAAAA,gBAAc,MAAM,cAAc,KAAK;AACvC,IAAAA,gBAAc,MAAM,eAAe,KAAK;AACxC,IAAAA,gBAAc,MAAM,eAAe,EAAE,MAAM,SAAS,CAAC;AACrD,IAAAA,gBAAc,MAAM,OAAO,IAAI;AAC/B,IAAAA,gBAAc,MAAM,iBAAiB,IAAI,WAAW,CAAC;AACrD,IAAAA,gBAAc,MAAM,eAAe,CAAC;AACpC,IAAAA,gBAAc,MAAM,2BAA2B,CAAC;AAChD,IAAAA,gBAAc,MAAM,aAAa;AAAA,MAC/B,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,MAAM;AAAA,MACN,OAAO;AAAA,MACP,SAAS;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,MACT,WAAW;AAAA,MACX,SAAS;AAAA,MACT,UAAU;AAAA,MACV,UAAU;AAAA,MACV,WAAW;AAAA,IACb,CAAC;AACD,IAAAA,gBAAc,MAAM,cAAc,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC;AACtD,IAAAA,gBAAc,MAAM,kBAAkB,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC;AAC1D,IAAAA,gBAAc,MAAM,WAAW,CAAC,UAAU;AACxC,UAAI,MAAM,QAAQ;AAChB;AAAA,MACF;AACA,cAAQ,MAAM,MAAM;AAAA,QAClB,KAAK;AAAA,QACL,KAAK;AACH,eAAK,0BAA0B;AAC/B;AAAA,QACF,KAAK;AACH,eAAK,UAAU,UAAU;AACzB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,OAAO;AACtB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,OAAO;AACtB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,QAAQ;AACvB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,KAAK;AACpB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,OAAO;AACtB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,UAAU;AACzB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,YAAY;AAC3B;AAAA,QACF,KAAK;AACH,eAAK,UAAU,UAAU;AACzB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,WAAW;AAC1B;AAAA,QACF,KAAK;AACH,eAAK,UAAU,WAAW;AAC1B;AAAA,QACF,KAAK;AACH,eAAK,UAAU,YAAY;AAC3B;AAAA,MACJ;AACA,WAAK,qBAAqB;AAC1B,WAAK,qBAAqB;AAAA,IAC5B,CAAC;AACD,IAAAA,gBAAc,MAAM,SAAS,CAAC,UAAU;AACtC,cAAQ,MAAM,MAAM;AAAA,QAClB,KAAK;AAAA,QACL,KAAK;AACH,eAAK,0BAA0B;AAC/B;AAAA,QACF,KAAK;AACH,eAAK,UAAU,UAAU;AACzB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,OAAO;AACtB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,OAAO;AACtB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,QAAQ;AACvB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,KAAK;AACpB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,OAAO;AACtB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,UAAU;AACzB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,YAAY;AAC3B;AAAA,QACF,KAAK;AACH,eAAK,UAAU,UAAU;AACzB;AAAA,QACF,KAAK;AACH,eAAK,UAAU,WAAW;AAC1B;AAAA,QACF,KAAK;AACH,eAAK,UAAU,WAAW;AAC1B;AAAA,QACF,KAAK;AACH,eAAK,UAAU,YAAY;AAC3B;AAAA,MACJ;AACA,WAAK,qBAAqB;AAC1B,WAAK,qBAAqB;AAAA,IAC5B,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,CAAC,UAAU;AAC5C,UAAI,KAAK,YAAY;AACnB,aAAK;AAAA,MACP,OAAO;AACL,gBAAQ,MAAM,QAAQ;AAAA,UACpB,KAAK;AACH,iBAAK,UAAU,UAAU;AACzB;AAAA,UACF,KAAK;AACH,iBAAK,UAAU,OAAO;AACtB;AAAA,QACJ;AACA,aAAK,qBAAqB;AAAA,MAC5B;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,eAAe,CAAC,UAAU;AAC5C,UAAI,CAAC,KAAK,cAAc,KAAK,cAAc,GAAG;AAC5C,cAAM,YAAY,KAAK,uBAAuB;AAC9C,cAAM,YAAY,UAAU,KAAK,CAAC,IAAI;AACtC,cAAM,aAAa,UAAU,KAAK,CAAC,IAAI;AACvC,aAAK,UAAU,UAAU,EAAE,MAAM,QAAQ,UAAU,OAAO,CAAC,IAAI,aAAa;AAC5E,aAAK,UAAU,aAAa,MAAM,QAAQ,UAAU,OAAO,CAAC,IAAI,cAAc;AAC9E,aAAK,qBAAqB;AAAA,MAC5B;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,aAAa,CAAC,UAAU;AAC1C,UAAI,KAAK,YAAY;AACnB,aAAK;AACL,aAAK,UAAU,UAAU,KAAK,UAAU,YAAY;AAAA,MACtD,OAAO;AACL,gBAAQ,MAAM,QAAQ;AAAA,UACpB,KAAK;AACH,iBAAK,UAAU,UAAU;AACzB;AAAA,UACF,KAAK;AACH,iBAAK,UAAU,OAAO;AACtB;AAAA,QACJ;AACA,aAAK,qBAAqB;AAAA,MAC5B;AACA,WAAK,qBAAqB;AAAA,IAC5B,CAAC;AACD,IAAAA,gBAAc,MAAM,kBAAkB,IAAI,WAAW,CAAC;AACtD,IAAAA,gBAAc,MAAM,gBAAgB,IAAI,QAAQ,CAAC;AACjD,IAAAA,gBAAc,MAAM,UAAU,CAAC,UAAU;AACvC,YAAM,WAAW,QAAQ,KAAK;AAC9B,YAAM,UAAU,QAAQ,KAAK;AAC7B,WAAK,OAAO,WAAW,KAAK,WAAW,IAAI,QAAQ;AACnD,WAAK,OAAO,WAAW,KAAK,WAAW,IAAI,QAAQ;AACnD,WAAK,OAAO,WAAW,KAAK,WAAW,IAAI,QAAQ;AACnD,WAAK,cAAc,IAAI,KAAK,eAAe,IAAI,SAAS,KAAK,eAAe,IAAI,SAAS,KAAK,eAAe,IAAI,SAAS,CAAC,EAAE,UAAU;AACvI,WAAK,OAAO,WAAW,SAAS,KAAK,aAAa;AAClD,UAAI,KAAK,aAAa,kBAAkB,KAAK,OAAO,QAAQ,IAAI,KAAK,OAAO,KAAK,IAAI,KAAK,eAAe,IAAI,KAAK,OAAO,UAAU,KAAK,KAAK,KAAK;AAChJ,aAAK,cAAc,KAAK,WAAW;AACnC,aAAK,eAAe,KAAK,KAAK,OAAO,UAAU;AAC/C,aAAK,aAAa,KAAK,KAAK,OAAO,QAAQ;AAAA,MAC7C;AAAA,IACF,CAAC;AACD,IAAAA,gBAAc,MAAM,wBAAwB,MAAM;AAChD,YAAM,UAAU,KAAK,UAAU,WAAW,KAAK,eAAe,CAAC,KAAK,UAAU,OAAO,IAAI;AACzF,WAAK,WAAW,IAAI,CAAC,KAAK,UAAU,OAAO,KAAK,UAAU;AAC1D,WAAK,WAAW,IAAI,CAAC,KAAK,UAAU,OAAO,KAAK,UAAU;AAC1D,WAAK,WAAW,IAAI,CAAC,UAAU,KAAK,UAAU;AAAA,IAChD,CAAC;AACD,IAAAA,gBAAc,MAAM,wBAAwB,MAAM;AAChD,WAAK,eAAe,IAAI,CAAC,KAAK,UAAU,YAAY,KAAK,UAAU;AACnE,WAAK,eAAe,IAAI,CAAC,KAAK,UAAU,WAAW,KAAK,UAAU;AAClE,WAAK,eAAe,IAAI,CAAC,KAAK,UAAU,YAAY,KAAK,UAAU;AAAA,IACrE,CAAC;AACD,IAAAA,gBAAc,MAAM,0BAA0B,MAAM;AAClD,UAAI,KAAK,cAAc,YAAY,EAAE,KAAK,sBAAsB,WAAW;AACzE,eAAO;AAAA,UACL,MAAM,CAAC,KAAK,WAAW,aAAa,KAAK,WAAW,YAAY;AAAA,UAChE,QAAQ,CAAC,KAAK,WAAW,YAAY,KAAK,WAAW,SAAS;AAAA,QAChE;AAAA,MACF,OAAO;AACL,eAAO;AAAA,UACL,MAAM,CAAC,OAAO,YAAY,OAAO,WAAW;AAAA,UAC5C,QAAQ,CAAC,GAAG,CAAC;AAAA,QACf;AAAA,MACF;AAAA,IACF,CAAC;AAED,IAAAA,gBAAc,MAAM,WAAW,CAACC,gBAAe;AAC7C,WAAK,aAAaA;AAClB,UAAIA,eAAc,EAAEA,uBAAsB,WAAW;AACnD,QAAAA,YAAW,aAAa,YAAY,EAAE;AAAA,MACxC;AACA,WAAK,WAAW,iBAAiB,eAAe,WAAW;AAC3D,WAAK,WAAW,iBAAiB,eAAe,KAAK,WAAW;AAChE,WAAK,WAAW,iBAAiB,eAAe,KAAK,WAAW;AAChE,WAAK,WAAW,iBAAiB,aAAa,KAAK,SAAS;AAC5D,aAAO,iBAAiB,WAAW,KAAK,OAAO;AAC/C,aAAO,iBAAiB,SAAS,KAAK,KAAK;AAAA,IAC7C,CAAC;AACD,IAAAD,gBAAc,MAAM,WAAW,MAAM;AACnC,WAAK,WAAW,oBAAoB,eAAe,WAAW;AAC9D,WAAK,WAAW,oBAAoB,eAAe,KAAK,WAAW;AACnE,WAAK,WAAW,oBAAoB,eAAe,KAAK,WAAW;AACnE,WAAK,WAAW,oBAAoB,aAAa,KAAK,SAAS;AAC/D,aAAO,oBAAoB,WAAW,KAAK,OAAO;AAClD,aAAO,oBAAoB,SAAS,KAAK,KAAK;AAAA,IAChD,CAAC;AACD,SAAK,SAAS;AACd,QAAI,eAAe;AACjB,WAAK,QAAQ,UAAU;AACzB,SAAK,qBAAqB;AAC1B,SAAK,qBAAqB;AAAA,EAC5B;AACF;;;ACpPA,IAAIE,cAAY,OAAO;AACvB,IAAIC,oBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAMD,YAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,MAAM,CAAC,IAAI,IAAI,GAAG,IAAI;AAC1J,IAAIE,kBAAgB,CAAC,KAAK,KAAK,UAAU;AACvC,EAAAD,kBAAgB,KAAK,OAAO,QAAQ,WAAW,MAAM,KAAK,KAAK,KAAK;AACpE,SAAO;AACT;AAEA,IAAM,OAAN,MAAW;AAAA,EACT,cAAc;AAEZ,IAAAC,gBAAc,MAAM,WAAW,IAAI;AAEnC,IAAAA,gBAAc,MAAM,aAAa,IAAI;AAErC,IAAAA,gBAAc,MAAM,SAAS,KAAK;AAElC,IAAAA,gBAAc,MAAM,kBAAkB,KAAK;AAAA,EAC7C;AAAA,EACA,QAAQ,OAAO,QAAQ;AAAA,EACvB;AAAA,EACA,OAAO,UAAU,aAAa,YAAY,WAAW,YAAY;AAC/D,YAAQ,MAAM,4DAA4D;AAAA,EAC5E;AACF;AACA,IAAM,iBAAN,MAAqB;AAAA,EACnB,YAAYC,WAAU;AACpB,IAAAD,gBAAc,MAAM,UAAU,IAAI,mBAAmB,IAAI,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC;AACxE,IAAAA,gBAAc,MAAM,YAAY,IAAI,cAAc,GAAG,CAAC,CAAC;AACvD,IAAAA,gBAAc,MAAM,MAAM;AAC1B,SAAK,OAAO,IAAI,KAAK,KAAK,UAAUC,SAAQ;AAAA,EAC9C;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,SAAS,OAAO;AAClB,SAAK,KAAK,WAAW;AAAA,EACvB;AAAA,EACA,UAAU;AACR,SAAK,KAAK,SAAS,QAAQ;AAAA,EAC7B;AAAA,EACA,OAAO,UAAU;AACf,aAAS,OAAO,KAAK,MAAM,KAAK,MAAM;AAAA,EACxC;AACF;;;AC3CA,IAAIC,cAAY,OAAO;AACvB,IAAIC,oBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAMD,YAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,MAAM,CAAC,IAAI,IAAI,GAAG,IAAI;AAC1J,IAAIE,kBAAgB,CAAC,KAAK,KAAK,UAAU;AACvC,EAAAD,kBAAgB,KAAK,OAAO,QAAQ,WAAW,MAAM,KAAK,KAAK,KAAK;AACpE,SAAO;AACT;AAGA,IAAM,aAAN,cAAyB,KAAK;AAAA,EAC5B,YAAY,QAAQ,YAAY,YAAY;AAC1C,UAAM;AACN,IAAAC,gBAAc,MAAM,WAAW;AAC/B,IAAAA,gBAAc,MAAM,UAAU;AAC9B,IAAAA,gBAAc,MAAM,UAAU;AAC9B,IAAAA,gBAAc,MAAM,QAAQ;AAC5B,SAAK,YAAY;AACjB,QAAI,kBAAkB,gBAAgB;AACpC,WAAK,WAAW,OAAO;AACvB,WAAK,WAAW;AAAA,IAClB,OAAO;AACL,WAAK,WAAW,cAAc,MAAM,OAAO,QAAQ;AACnD,WAAK,WAAW,IAAI,eAAe;AAAA,QACjC,SAAS,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO;AAAA,QACzC,UAAU,KAAK;AAAA,QACf,cAAc,OAAO;AAAA,QACrB,gBAAgB,OAAO;AAAA,MACzB,CAAC;AAAA,IACH;AACA,SAAK,SAAS,IAAI,eAAe,KAAK,QAAQ;AAAA,EAChD;AAAA,EACA,OAAO,UAAU,aAAa,YAAY;AACxC,QAAI,KAAK,SAAS,KAAK,SAAS,GAAG;AACjC,WAAK,SAAS,KAAK,SAAS,EAAE,QAAQ,WAAW;AAAA,IACnD;AACA,SAAK,OAAO,WAAW,KAAK;AAC5B,QAAI,KAAK,gBAAgB;AACvB,eAAS,gBAAgB,IAAI;AAC7B,WAAK,OAAO,OAAO,QAAQ;AAAA,IAC7B,OAAO;AACL,eAAS,gBAAgB,WAAW;AACpC,UAAI,KAAK;AACP,iBAAS,MAAM,SAAS,gBAAgB,SAAS,gBAAgB,SAAS,gBAAgB;AAC5F,WAAK,OAAO,OAAO,QAAQ;AAAA,IAC7B;AAAA,EACF;AACF;;;AC7CA,IAAM,iBAAiB;AAAA,EACrB,UAAU;AAAA,IACR,UAAU,EAAE,OAAO,KAAK;AAAA,IACxB,OAAO,EAAE,OAAO,EAAE;AAAA,IAClB,QAAQ,EAAE,OAAO,EAAE;AAAA,IACnB,SAAS,EAAE,OAAO,KAAK,KAAK,KAAK,EAAE;AAAA,IACnC,SAAS,EAAE,OAAO,KAAK,KAAK,KAAK,EAAE;AAAA,IACnC,SAAS,EAAE,OAAO,KAAK,KAAK,KAAK,EAAE;AAAA,IACnC,SAAS,EAAE,OAAO,EAAE;AAAA,IACpB,OAAO,EAAE,OAAO,EAAE;AAAA,IAClB,QAAQ,EAAE,OAAO,EAAE;AAAA,IACnB,UAAU,EAAE,OAAO,EAAE;AAAA,IACrB,cAAc,EAAE,OAAO,EAAE;AAAA,IACzB,WAAW,EAAE,OAAO,MAAM;AAAA,IAC1B,SAAS,EAAE,OAAO,MAAM;AAAA,EAC1B;AAAA,EACA,cAAc;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,EAAE,KAAK,IAAI;AAAA,EACX,gBAAgB;AAAA,IACd;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,EAAE,KAAK,IAAI;AACb;;;AC/NA,IAAM,kBAAkB;AAAA,EACtB,SAAS;AAAA,IACP,gBAAgB;AAAA,EAClB;AAAA,EACA,UAAU;AAAA,IACR,UAAU,EAAE,OAAO,KAAK;AAAA,IACxB,YAAY,EAAE,OAAuB,IAAI,QAAQ,IAAI,MAAM,IAAI,GAAG,EAAE;AAAA,EACtE;AAAA,EACA,cAAc;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,EAAE,KAAK,IAAI;AAAA,EACX,gBAAgB;AAAA,IACd;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,EAAE,KAAK,IAAI;AACb;AACA,IAAM,oBAAoB;AAAA,EACxB,SAAS;AAAA,IACP,uBAAuB;AAAA,IACvB,2BAA2B;AAAA,IAC3B,yBAAyB;AAAA,IACzB,0BAA0B;AAAA,EAC5B;AAAA,EACA,UAAU;AAAA,IACR,UAAU,EAAE,OAAO,KAAK;AAAA,IACxB,OAAO,EAAE,OAAO,KAAK;AAAA,IACrB,SAAS,EAAE,OAAO,KAAK;AAAA,IACvB,YAAY,EAAE,OAAuB,IAAI,QAAQ,IAAI,MAAM,IAAI,GAAG,EAAE;AAAA,EACtE;AAAA,EACA,cAAc;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA;AAAA;AAAA,IAGA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,EAAE,KAAK,IAAI;AAAA,EACX,gBAAgB;AAAA,IACd;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA;AAAA;AAAA;AAAA,IAKA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA;AAAA;AAAA,IAIA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA;AAAA;AAAA,IAGA;AAAA;AAAA;AAAA,IAGA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA;AAAA;AAAA,IAGA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA;AAAA;AAAA,IAGA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IA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ACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,I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,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,CAAC,CAAC;AAC9B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;AAC/B,UAAI,EAAE,IAAI,cAAc,IAAI,EAAE,CAAC;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A;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAsOF;AAAA;AAAA,QAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA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A,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AACD,QAAM,WAAW,IAAI,WAAW;AAAA,IAC9B;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AACD,MAAI,OAAO,gBAAgB,UAAU;AACnC,WAAO;AAAA,MACL,WAAW;AAAA,IACb;AAAA,EACF;AACA,MAAI,OAAO;AACX,MAAI,YAAY,SAAS,QAAQ,GAAG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",
  "names": ["p", "_setPrototypeOf", "o", "a", "b", "i", "matrix", "col", "i", "_construct", "Parent", "args", "Class", "a", "triangle", "matrix", "p", "cross", "t", "length", "buffer", "i", "distance", "a", "b", "v1", "matrix", "p", "index", "size", "rsqw", "t", "a", "exp", "easing", "i", "a", "b", "zero", "one", "add", "a", "b", "addValue", "sub", "subValue", "scale", "dot", "lengthSqr", "length", "distance", "buffer", "swizzle", "size", "lerp", "t", "center", "b", "distance", "add", "i", "a", "Grad", "x", "y", "z", "seed", "i", "simplex2", "t", "t2", "simplex3", "i2", "perlin2", "perlin3", "Generator", "buffer", "center", "_getPrototypeOf", "o", "self", "RoundedPlaneGeometry", "i", "makeUVs", "v0", "v1", "v2", "_v2", "_v3", "buffer", "p", "i", "_a", "_v1", "dataArray", "i", "index", "material", "matrix", "geometry", "i", "index", "buffer", "buffer2", "geometry", "i", "a", "b", "i", "index", "matrix", "a", "map", "buffer", "geometry", "material", "scale", "__defProp", "__defNormalProp", "__publicField", "geometry", "i", "length", "_vector", "_matrix", "_position", "_quaternion", "_scale", "_q", "__defProp", "__defNormalProp", "__publicField", "geometry", "rotationMatrix", "material", "__defProp", "__defNormalProp", "__publicField", "geometry", "rotationMatrix", "scale", "__defProp", "__defNormalProp", "__publicField", "geometry", "geometry2", "scale", "size", "i", "distance", "material", "geometry", "lerp", "a", "b", "t", "i", "size", "index", "size2", "index2", "__defProp", "__defNormalProp", "__publicField", "F2", "i", "G2", "t", "t2", "F3", "G3", "i2", "perm", "c3", "c4", "__defProp", "__defNormalProp", "__publicField", "i", "seed", "p", "length", "__defProp", "__defNormalProp", "__publicField", "geometry", "yAxis", "rotationMatrix", "material", "__defProp", "__defNormalProp", "__publicField", "__defProp", "__defNormalProp", "__publicField", "geometry", "scale", "_a", "_b", "geometry", "material", "scale", "i", "a", "b", "geometry", "i", "targetPosition", "index", "matrix", "center", "i", "matrix2", "_v1", "a", "b", "i", "_v1", "_v2", "_plane", "STATE2", "__defProp", "__defNormalProp", "__publicField", "domElement", "_a", "_b", "__defProp", "__defNormalProp", "__publicField", "i", "_a", "_b", "size", "domElement", "a", "geometry", "scale", "__defProp", "__defNormalProp", "__publicField", "_vector", "domElement", "distance", "__defProp", "__defNormalProp", "__publicField", "__defProp", "__defNormalProp", "__publicField", "domElement", "__defProp", "__defNormalProp", "__publicField", "spherical", "STATE", "scale", "EPS", "_a", "_b", "distance", "i", "__defProp", "__defNormalProp", "__publicField", "STATE", "_changeEvent", "scale", "i", "_a", "_b", "size", "distance", "self", "t", "camera", "domElement", "a", "b", "EPS", "__defProp", "__defNormalProp", "__publicField", "domElement", "__defProp", "__defNormalProp", "__publicField", "material", "__defProp", "__defNormalProp", "__publicField", "__defProp", "__defNormalProp", "__publicField", "i", "scale", "size", "__defProp", "__defNormalProp", "__publicField", "i", "i", "__defProp", "__defNormalProp", "__publicField", "__defProp", "__defNormalProp", "__publicField", "__defProp", "__defNormalProp", "__publicField", "size", "index", "i", "__defProp", "__defNormalProp", "__publicField", "__defProp", "__defNormalProp", "__publicField", "i", "GLTFMaterialsClearcoatExtension", "GLTFMaterialsSheenExtension", "GLTFMaterialsTransmissionExtension", "GLTFMaterialsVolumeExtension", "GLTFMaterialsIorExtension", "GLTFMaterialsEmissiveStrengthExtension", "GLTFMaterialsSpecularExtension", "GLTFMaterialsIridescenceExtension", "GLTFMaterialsAnisotropyExtension", "i", "GLTFMaterialsUnlitExtension", "index", "scale", "buffer", "WEBGL_CONSTANTS", "p", "geometry", "t", "_q", "PATH_PROPERTIES", "clone", "URL", "material", "mat", "matrix", "__defProp", "__defNormalProp", "__publicField", "_a", "_matrix", "_vector", "size", "i", "geometry", "index", "v1", "p", "size", "i", "_center", "center", "p", "i", "a", "i", "t", "buffer", "material", "i", "distance", "geometry", "material2", "b", "index", "length", "a", "size", "read", "a2", "__defProp", "__defNormalProp", "__publicField", "size", "p", "scale", "i", "clone", "_start", "index", "_end", "_obj", "b", "i", "__defProp", "__defNormalProp", "__publicField", "buffer", "init", "i", "a", "b", "buffer", "buffer2", "p", "i", "scale", "buffer", "i", "p", "buffer2", "p2", "index", "t", "size", "a", "b", "cb", "length", "__defProp", "__defNormalProp", "__publicField", "_taskCache", "buffer", "i", "a", "b", "init", "i", "i2", "dot", "a", "b", "index", "clamp", "length", "scale", "p", "t", "index2", "center", "p2", "geometry", "_taskCache", "buffer", "geometry", "i", "a", "b", "index", "_vector", "index", "matrix", "geometry", "center", "i", "length", "i", "geometry", "_start", "_end", "_closestPoint", "_box", "_sphere", "_ray", "distance", "i", "material", "geometry", "t", "geometry", "material", "_v1", "_v2", "_v1", "_v2", "i", "size"]
}
